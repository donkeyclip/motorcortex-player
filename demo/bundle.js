/******/ (function(modules) { // webpackBootstrap
/******/ 	function hotDisposeChunk(chunkId) {
/******/ 		delete installedChunks[chunkId];
/******/ 	}
/******/ 	var parentHotUpdateCallback = window["webpackHotUpdate"];
/******/ 	window["webpackHotUpdate"] = // eslint-disable-next-line no-unused-vars
/******/ 	function webpackHotUpdateCallback(chunkId, moreModules) {
/******/ 		hotAddUpdateChunk(chunkId, moreModules);
/******/ 		if (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);
/******/ 	} ;
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadUpdateChunk(chunkId) {
/******/ 		var script = document.createElement("script");
/******/ 		script.charset = "utf-8";
/******/ 		script.src = __webpack_require__.p + "" + chunkId + "." + hotCurrentHash + ".hot-update.js";
/******/ 		if (null) script.crossOrigin = null;
/******/ 		document.head.appendChild(script);
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadManifest(requestTimeout) {
/******/ 		requestTimeout = requestTimeout || 10000;
/******/ 		return new Promise(function(resolve, reject) {
/******/ 			if (typeof XMLHttpRequest === "undefined") {
/******/ 				return reject(new Error("No browser support"));
/******/ 			}
/******/ 			try {
/******/ 				var request = new XMLHttpRequest();
/******/ 				var requestPath = __webpack_require__.p + "" + hotCurrentHash + ".hot-update.json";
/******/ 				request.open("GET", requestPath, true);
/******/ 				request.timeout = requestTimeout;
/******/ 				request.send(null);
/******/ 			} catch (err) {
/******/ 				return reject(err);
/******/ 			}
/******/ 			request.onreadystatechange = function() {
/******/ 				if (request.readyState !== 4) return;
/******/ 				if (request.status === 0) {
/******/ 					// timeout
/******/ 					reject(
/******/ 						new Error("Manifest request to " + requestPath + " timed out.")
/******/ 					);
/******/ 				} else if (request.status === 404) {
/******/ 					// no update available
/******/ 					resolve();
/******/ 				} else if (request.status !== 200 && request.status !== 304) {
/******/ 					// other failure
/******/ 					reject(new Error("Manifest request to " + requestPath + " failed."));
/******/ 				} else {
/******/ 					// success
/******/ 					try {
/******/ 						var update = JSON.parse(request.responseText);
/******/ 					} catch (e) {
/******/ 						reject(e);
/******/ 						return;
/******/ 					}
/******/ 					resolve(update);
/******/ 				}
/******/ 			};
/******/ 		});
/******/ 	}
/******/
/******/ 	var hotApplyOnUpdate = true;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentHash = "220b2d2354d820ddbda3";
/******/ 	var hotRequestTimeout = 10000;
/******/ 	var hotCurrentModuleData = {};
/******/ 	var hotCurrentChildModule;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParents = [];
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParentsTemp = [];
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateRequire(moduleId) {
/******/ 		var me = installedModules[moduleId];
/******/ 		if (!me) return __webpack_require__;
/******/ 		var fn = function(request) {
/******/ 			if (me.hot.active) {
/******/ 				if (installedModules[request]) {
/******/ 					if (installedModules[request].parents.indexOf(moduleId) === -1) {
/******/ 						installedModules[request].parents.push(moduleId);
/******/ 					}
/******/ 				} else {
/******/ 					hotCurrentParents = [moduleId];
/******/ 					hotCurrentChildModule = request;
/******/ 				}
/******/ 				if (me.children.indexOf(request) === -1) {
/******/ 					me.children.push(request);
/******/ 				}
/******/ 			} else {
/******/ 				console.warn(
/******/ 					"[HMR] unexpected require(" +
/******/ 						request +
/******/ 						") from disposed module " +
/******/ 						moduleId
/******/ 				);
/******/ 				hotCurrentParents = [];
/******/ 			}
/******/ 			return __webpack_require__(request);
/******/ 		};
/******/ 		var ObjectFactory = function ObjectFactory(name) {
/******/ 			return {
/******/ 				configurable: true,
/******/ 				enumerable: true,
/******/ 				get: function() {
/******/ 					return __webpack_require__[name];
/******/ 				},
/******/ 				set: function(value) {
/******/ 					__webpack_require__[name] = value;
/******/ 				}
/******/ 			};
/******/ 		};
/******/ 		for (var name in __webpack_require__) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(__webpack_require__, name) &&
/******/ 				name !== "e" &&
/******/ 				name !== "t"
/******/ 			) {
/******/ 				Object.defineProperty(fn, name, ObjectFactory(name));
/******/ 			}
/******/ 		}
/******/ 		fn.e = function(chunkId) {
/******/ 			if (hotStatus === "ready") hotSetStatus("prepare");
/******/ 			hotChunksLoading++;
/******/ 			return __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {
/******/ 				finishChunkLoading();
/******/ 				throw err;
/******/ 			});
/******/
/******/ 			function finishChunkLoading() {
/******/ 				hotChunksLoading--;
/******/ 				if (hotStatus === "prepare") {
/******/ 					if (!hotWaitingFilesMap[chunkId]) {
/******/ 						hotEnsureUpdateChunk(chunkId);
/******/ 					}
/******/ 					if (hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 						hotUpdateDownloaded();
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 		fn.t = function(value, mode) {
/******/ 			if (mode & 1) value = fn(value);
/******/ 			return __webpack_require__.t(value, mode & ~1);
/******/ 		};
/******/ 		return fn;
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateModule(moduleId) {
/******/ 		var hot = {
/******/ 			// private stuff
/******/ 			_acceptedDependencies: {},
/******/ 			_declinedDependencies: {},
/******/ 			_selfAccepted: false,
/******/ 			_selfDeclined: false,
/******/ 			_disposeHandlers: [],
/******/ 			_main: hotCurrentChildModule !== moduleId,
/******/
/******/ 			// Module API
/******/ 			active: true,
/******/ 			accept: function(dep, callback) {
/******/ 				if (dep === undefined) hot._selfAccepted = true;
/******/ 				else if (typeof dep === "function") hot._selfAccepted = dep;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._acceptedDependencies[dep[i]] = callback || function() {};
/******/ 				else hot._acceptedDependencies[dep] = callback || function() {};
/******/ 			},
/******/ 			decline: function(dep) {
/******/ 				if (dep === undefined) hot._selfDeclined = true;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._declinedDependencies[dep[i]] = true;
/******/ 				else hot._declinedDependencies[dep] = true;
/******/ 			},
/******/ 			dispose: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			addDisposeHandler: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			removeDisposeHandler: function(callback) {
/******/ 				var idx = hot._disposeHandlers.indexOf(callback);
/******/ 				if (idx >= 0) hot._disposeHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			// Management API
/******/ 			check: hotCheck,
/******/ 			apply: hotApply,
/******/ 			status: function(l) {
/******/ 				if (!l) return hotStatus;
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			addStatusHandler: function(l) {
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			removeStatusHandler: function(l) {
/******/ 				var idx = hotStatusHandlers.indexOf(l);
/******/ 				if (idx >= 0) hotStatusHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			//inherit from previous dispose call
/******/ 			data: hotCurrentModuleData[moduleId]
/******/ 		};
/******/ 		hotCurrentChildModule = undefined;
/******/ 		return hot;
/******/ 	}
/******/
/******/ 	var hotStatusHandlers = [];
/******/ 	var hotStatus = "idle";
/******/
/******/ 	function hotSetStatus(newStatus) {
/******/ 		hotStatus = newStatus;
/******/ 		for (var i = 0; i < hotStatusHandlers.length; i++)
/******/ 			hotStatusHandlers[i].call(null, newStatus);
/******/ 	}
/******/
/******/ 	// while downloading
/******/ 	var hotWaitingFiles = 0;
/******/ 	var hotChunksLoading = 0;
/******/ 	var hotWaitingFilesMap = {};
/******/ 	var hotRequestedFilesMap = {};
/******/ 	var hotAvailableFilesMap = {};
/******/ 	var hotDeferred;
/******/
/******/ 	// The update info
/******/ 	var hotUpdate, hotUpdateNewHash;
/******/
/******/ 	function toModuleId(id) {
/******/ 		var isNumber = +id + "" === id;
/******/ 		return isNumber ? +id : id;
/******/ 	}
/******/
/******/ 	function hotCheck(apply) {
/******/ 		if (hotStatus !== "idle") {
/******/ 			throw new Error("check() is only allowed in idle status");
/******/ 		}
/******/ 		hotApplyOnUpdate = apply;
/******/ 		hotSetStatus("check");
/******/ 		return hotDownloadManifest(hotRequestTimeout).then(function(update) {
/******/ 			if (!update) {
/******/ 				hotSetStatus("idle");
/******/ 				return null;
/******/ 			}
/******/ 			hotRequestedFilesMap = {};
/******/ 			hotWaitingFilesMap = {};
/******/ 			hotAvailableFilesMap = update.c;
/******/ 			hotUpdateNewHash = update.h;
/******/
/******/ 			hotSetStatus("prepare");
/******/ 			var promise = new Promise(function(resolve, reject) {
/******/ 				hotDeferred = {
/******/ 					resolve: resolve,
/******/ 					reject: reject
/******/ 				};
/******/ 			});
/******/ 			hotUpdate = {};
/******/ 			var chunkId = "main";
/******/ 			// eslint-disable-next-line no-lone-blocks
/******/ 			{
/******/ 				/*globals chunkId */
/******/ 				hotEnsureUpdateChunk(chunkId);
/******/ 			}
/******/ 			if (
/******/ 				hotStatus === "prepare" &&
/******/ 				hotChunksLoading === 0 &&
/******/ 				hotWaitingFiles === 0
/******/ 			) {
/******/ 				hotUpdateDownloaded();
/******/ 			}
/******/ 			return promise;
/******/ 		});
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotAddUpdateChunk(chunkId, moreModules) {
/******/ 		if (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])
/******/ 			return;
/******/ 		hotRequestedFilesMap[chunkId] = false;
/******/ 		for (var moduleId in moreModules) {
/******/ 			if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				hotUpdate[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if (--hotWaitingFiles === 0 && hotChunksLoading === 0) {
/******/ 			hotUpdateDownloaded();
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotEnsureUpdateChunk(chunkId) {
/******/ 		if (!hotAvailableFilesMap[chunkId]) {
/******/ 			hotWaitingFilesMap[chunkId] = true;
/******/ 		} else {
/******/ 			hotRequestedFilesMap[chunkId] = true;
/******/ 			hotWaitingFiles++;
/******/ 			hotDownloadUpdateChunk(chunkId);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotUpdateDownloaded() {
/******/ 		hotSetStatus("ready");
/******/ 		var deferred = hotDeferred;
/******/ 		hotDeferred = null;
/******/ 		if (!deferred) return;
/******/ 		if (hotApplyOnUpdate) {
/******/ 			// Wrap deferred object in Promise to mark it as a well-handled Promise to
/******/ 			// avoid triggering uncaught exception warning in Chrome.
/******/ 			// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666
/******/ 			Promise.resolve()
/******/ 				.then(function() {
/******/ 					return hotApply(hotApplyOnUpdate);
/******/ 				})
/******/ 				.then(
/******/ 					function(result) {
/******/ 						deferred.resolve(result);
/******/ 					},
/******/ 					function(err) {
/******/ 						deferred.reject(err);
/******/ 					}
/******/ 				);
/******/ 		} else {
/******/ 			var outdatedModules = [];
/******/ 			for (var id in hotUpdate) {
/******/ 				if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 					outdatedModules.push(toModuleId(id));
/******/ 				}
/******/ 			}
/******/ 			deferred.resolve(outdatedModules);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotApply(options) {
/******/ 		if (hotStatus !== "ready")
/******/ 			throw new Error("apply() is only allowed in ready status");
/******/ 		options = options || {};
/******/
/******/ 		var cb;
/******/ 		var i;
/******/ 		var j;
/******/ 		var module;
/******/ 		var moduleId;
/******/
/******/ 		function getAffectedStuff(updateModuleId) {
/******/ 			var outdatedModules = [updateModuleId];
/******/ 			var outdatedDependencies = {};
/******/
/******/ 			var queue = outdatedModules.slice().map(function(id) {
/******/ 				return {
/******/ 					chain: [id],
/******/ 					id: id
/******/ 				};
/******/ 			});
/******/ 			while (queue.length > 0) {
/******/ 				var queueItem = queue.pop();
/******/ 				var moduleId = queueItem.id;
/******/ 				var chain = queueItem.chain;
/******/ 				module = installedModules[moduleId];
/******/ 				if (!module || module.hot._selfAccepted) continue;
/******/ 				if (module.hot._selfDeclined) {
/******/ 					return {
/******/ 						type: "self-declined",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				if (module.hot._main) {
/******/ 					return {
/******/ 						type: "unaccepted",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				for (var i = 0; i < module.parents.length; i++) {
/******/ 					var parentId = module.parents[i];
/******/ 					var parent = installedModules[parentId];
/******/ 					if (!parent) continue;
/******/ 					if (parent.hot._declinedDependencies[moduleId]) {
/******/ 						return {
/******/ 							type: "declined",
/******/ 							chain: chain.concat([parentId]),
/******/ 							moduleId: moduleId,
/******/ 							parentId: parentId
/******/ 						};
/******/ 					}
/******/ 					if (outdatedModules.indexOf(parentId) !== -1) continue;
/******/ 					if (parent.hot._acceptedDependencies[moduleId]) {
/******/ 						if (!outdatedDependencies[parentId])
/******/ 							outdatedDependencies[parentId] = [];
/******/ 						addAllToSet(outdatedDependencies[parentId], [moduleId]);
/******/ 						continue;
/******/ 					}
/******/ 					delete outdatedDependencies[parentId];
/******/ 					outdatedModules.push(parentId);
/******/ 					queue.push({
/******/ 						chain: chain.concat([parentId]),
/******/ 						id: parentId
/******/ 					});
/******/ 				}
/******/ 			}
/******/
/******/ 			return {
/******/ 				type: "accepted",
/******/ 				moduleId: updateModuleId,
/******/ 				outdatedModules: outdatedModules,
/******/ 				outdatedDependencies: outdatedDependencies
/******/ 			};
/******/ 		}
/******/
/******/ 		function addAllToSet(a, b) {
/******/ 			for (var i = 0; i < b.length; i++) {
/******/ 				var item = b[i];
/******/ 				if (a.indexOf(item) === -1) a.push(item);
/******/ 			}
/******/ 		}
/******/
/******/ 		// at begin all updates modules are outdated
/******/ 		// the "outdated" status can propagate to parents if they don't accept the children
/******/ 		var outdatedDependencies = {};
/******/ 		var outdatedModules = [];
/******/ 		var appliedUpdate = {};
/******/
/******/ 		var warnUnexpectedRequire = function warnUnexpectedRequire() {
/******/ 			console.warn(
/******/ 				"[HMR] unexpected require(" + result.moduleId + ") to disposed module"
/******/ 			);
/******/ 		};
/******/
/******/ 		for (var id in hotUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 				moduleId = toModuleId(id);
/******/ 				/** @type {TODO} */
/******/ 				var result;
/******/ 				if (hotUpdate[id]) {
/******/ 					result = getAffectedStuff(moduleId);
/******/ 				} else {
/******/ 					result = {
/******/ 						type: "disposed",
/******/ 						moduleId: id
/******/ 					};
/******/ 				}
/******/ 				/** @type {Error|false} */
/******/ 				var abortError = false;
/******/ 				var doApply = false;
/******/ 				var doDispose = false;
/******/ 				var chainInfo = "";
/******/ 				if (result.chain) {
/******/ 					chainInfo = "\nUpdate propagation: " + result.chain.join(" -> ");
/******/ 				}
/******/ 				switch (result.type) {
/******/ 					case "self-declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of self decline: " +
/******/ 									result.moduleId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of declined dependency: " +
/******/ 									result.moduleId +
/******/ 									" in " +
/******/ 									result.parentId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "unaccepted":
/******/ 						if (options.onUnaccepted) options.onUnaccepted(result);
/******/ 						if (!options.ignoreUnaccepted)
/******/ 							abortError = new Error(
/******/ 								"Aborted because " + moduleId + " is not accepted" + chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "accepted":
/******/ 						if (options.onAccepted) options.onAccepted(result);
/******/ 						doApply = true;
/******/ 						break;
/******/ 					case "disposed":
/******/ 						if (options.onDisposed) options.onDisposed(result);
/******/ 						doDispose = true;
/******/ 						break;
/******/ 					default:
/******/ 						throw new Error("Unexception type " + result.type);
/******/ 				}
/******/ 				if (abortError) {
/******/ 					hotSetStatus("abort");
/******/ 					return Promise.reject(abortError);
/******/ 				}
/******/ 				if (doApply) {
/******/ 					appliedUpdate[moduleId] = hotUpdate[moduleId];
/******/ 					addAllToSet(outdatedModules, result.outdatedModules);
/******/ 					for (moduleId in result.outdatedDependencies) {
/******/ 						if (
/******/ 							Object.prototype.hasOwnProperty.call(
/******/ 								result.outdatedDependencies,
/******/ 								moduleId
/******/ 							)
/******/ 						) {
/******/ 							if (!outdatedDependencies[moduleId])
/******/ 								outdatedDependencies[moduleId] = [];
/******/ 							addAllToSet(
/******/ 								outdatedDependencies[moduleId],
/******/ 								result.outdatedDependencies[moduleId]
/******/ 							);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 				if (doDispose) {
/******/ 					addAllToSet(outdatedModules, [result.moduleId]);
/******/ 					appliedUpdate[moduleId] = warnUnexpectedRequire;
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Store self accepted outdated modules to require them later by the module system
/******/ 		var outdatedSelfAcceptedModules = [];
/******/ 		for (i = 0; i < outdatedModules.length; i++) {
/******/ 			moduleId = outdatedModules[i];
/******/ 			if (
/******/ 				installedModules[moduleId] &&
/******/ 				installedModules[moduleId].hot._selfAccepted
/******/ 			)
/******/ 				outdatedSelfAcceptedModules.push({
/******/ 					module: moduleId,
/******/ 					errorHandler: installedModules[moduleId].hot._selfAccepted
/******/ 				});
/******/ 		}
/******/
/******/ 		// Now in "dispose" phase
/******/ 		hotSetStatus("dispose");
/******/ 		Object.keys(hotAvailableFilesMap).forEach(function(chunkId) {
/******/ 			if (hotAvailableFilesMap[chunkId] === false) {
/******/ 				hotDisposeChunk(chunkId);
/******/ 			}
/******/ 		});
/******/
/******/ 		var idx;
/******/ 		var queue = outdatedModules.slice();
/******/ 		while (queue.length > 0) {
/******/ 			moduleId = queue.pop();
/******/ 			module = installedModules[moduleId];
/******/ 			if (!module) continue;
/******/
/******/ 			var data = {};
/******/
/******/ 			// Call dispose handlers
/******/ 			var disposeHandlers = module.hot._disposeHandlers;
/******/ 			for (j = 0; j < disposeHandlers.length; j++) {
/******/ 				cb = disposeHandlers[j];
/******/ 				cb(data);
/******/ 			}
/******/ 			hotCurrentModuleData[moduleId] = data;
/******/
/******/ 			// disable module (this disables requires from this module)
/******/ 			module.hot.active = false;
/******/
/******/ 			// remove module from cache
/******/ 			delete installedModules[moduleId];
/******/
/******/ 			// when disposing there is no need to call dispose handler
/******/ 			delete outdatedDependencies[moduleId];
/******/
/******/ 			// remove "parents" references from all children
/******/ 			for (j = 0; j < module.children.length; j++) {
/******/ 				var child = installedModules[module.children[j]];
/******/ 				if (!child) continue;
/******/ 				idx = child.parents.indexOf(moduleId);
/******/ 				if (idx >= 0) {
/******/ 					child.parents.splice(idx, 1);
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// remove outdated dependency from module children
/******/ 		var dependency;
/******/ 		var moduleOutdatedDependencies;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					for (j = 0; j < moduleOutdatedDependencies.length; j++) {
/******/ 						dependency = moduleOutdatedDependencies[j];
/******/ 						idx = module.children.indexOf(dependency);
/******/ 						if (idx >= 0) module.children.splice(idx, 1);
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Not in "apply" phase
/******/ 		hotSetStatus("apply");
/******/
/******/ 		hotCurrentHash = hotUpdateNewHash;
/******/
/******/ 		// insert new code
/******/ 		for (moduleId in appliedUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {
/******/ 				modules[moduleId] = appliedUpdate[moduleId];
/******/ 			}
/******/ 		}
/******/
/******/ 		// call accept handlers
/******/ 		var error = null;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					var callbacks = [];
/******/ 					for (i = 0; i < moduleOutdatedDependencies.length; i++) {
/******/ 						dependency = moduleOutdatedDependencies[i];
/******/ 						cb = module.hot._acceptedDependencies[dependency];
/******/ 						if (cb) {
/******/ 							if (callbacks.indexOf(cb) !== -1) continue;
/******/ 							callbacks.push(cb);
/******/ 						}
/******/ 					}
/******/ 					for (i = 0; i < callbacks.length; i++) {
/******/ 						cb = callbacks[i];
/******/ 						try {
/******/ 							cb(moduleOutdatedDependencies);
/******/ 						} catch (err) {
/******/ 							if (options.onErrored) {
/******/ 								options.onErrored({
/******/ 									type: "accept-errored",
/******/ 									moduleId: moduleId,
/******/ 									dependencyId: moduleOutdatedDependencies[i],
/******/ 									error: err
/******/ 								});
/******/ 							}
/******/ 							if (!options.ignoreErrored) {
/******/ 								if (!error) error = err;
/******/ 							}
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Load self accepted modules
/******/ 		for (i = 0; i < outdatedSelfAcceptedModules.length; i++) {
/******/ 			var item = outdatedSelfAcceptedModules[i];
/******/ 			moduleId = item.module;
/******/ 			hotCurrentParents = [moduleId];
/******/ 			try {
/******/ 				__webpack_require__(moduleId);
/******/ 			} catch (err) {
/******/ 				if (typeof item.errorHandler === "function") {
/******/ 					try {
/******/ 						item.errorHandler(err);
/******/ 					} catch (err2) {
/******/ 						if (options.onErrored) {
/******/ 							options.onErrored({
/******/ 								type: "self-accept-error-handler-errored",
/******/ 								moduleId: moduleId,
/******/ 								error: err2,
/******/ 								originalError: err
/******/ 							});
/******/ 						}
/******/ 						if (!options.ignoreErrored) {
/******/ 							if (!error) error = err2;
/******/ 						}
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				} else {
/******/ 					if (options.onErrored) {
/******/ 						options.onErrored({
/******/ 							type: "self-accept-errored",
/******/ 							moduleId: moduleId,
/******/ 							error: err
/******/ 						});
/******/ 					}
/******/ 					if (!options.ignoreErrored) {
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// handle errors in accept handlers and self accepted module load
/******/ 		if (error) {
/******/ 			hotSetStatus("fail");
/******/ 			return Promise.reject(error);
/******/ 		}
/******/
/******/ 		hotSetStatus("idle");
/******/ 		return new Promise(function(resolve) {
/******/ 			resolve(outdatedModules);
/******/ 		});
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {},
/******/ 			hot: hotCreateModule(moduleId),
/******/ 			parents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),
/******/ 			children: []
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// __webpack_hash__
/******/ 	__webpack_require__.h = function() { return hotCurrentHash; };
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return hotCreateRequire("./index.js")(__webpack_require__.s = "./index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Audio/AudioClip.js":
/*!*************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Audio/AudioClip.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar ExtendableClip = __webpack_require__(/*! ../Clip/ExtendableClip */ \"../node_modules/@kissmybutton/motorcortex/dist/Clip/ExtendableClip.js\");\n\nvar AudioContextHandler = __webpack_require__(/*! ./AudioContextHandler */ \"../node_modules/@kissmybutton/motorcortex/dist/Audio/AudioContextHandler.js\");\n\nvar AudioNode = __webpack_require__(/*! ./helpers/AudioNode */ \"../node_modules/@kissmybutton/motorcortex/dist/Audio/helpers/AudioNode.js\");\n\nvar Helper = __webpack_require__(/*! ../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar AudioClip =\n/*#__PURE__*/\nfunction (_ExtendableClip) {\n  _inherits(AudioClip, _ExtendableClip);\n\n  function AudioClip(attrs, props) {\n    var _this;\n\n    _classCallCheck(this, AudioClip);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AudioClip).call(this, attrs, props));\n    _this.audioNode = new AudioNode();\n\n    _this.audioNode.output.connect(helper.getAudioContext().destination);\n\n    var contextHanlder = new AudioContextHandler(_this.props.audioSources, _this.audioNode);\n    _this.ownContext = _objectSpread({}, contextHanlder.context, {\n      isHostedClip: true\n    });\n    _this.audioClip = true;\n    return _this;\n  }\n\n  _createClass(AudioClip, [{\n    key: \"onProgress\",\n    value: function onProgress(fraction, ms, contextId) {\n      var forceReset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      _get(_getPrototypeOf(AudioClip.prototype), \"onProgress\", this).call(this, fraction, ms, this.id, forceReset);\n    }\n  }, {\n    key: \"_onGetContextOnce\",\n    value: function _onGetContextOnce(parentClipContext) {\n      /*\n      context.master {gain, pan, highpass, lowpass}\n      */\n      // as highpass is the first node of master in row\n      this.parentClipContext = parentClipContext;\n      this.audioNode.connect(parentClipContext.masterNode);\n    }\n  }, {\n    key: \"lastWish\",\n    value: function lastWish() {\n      this.audioNode.output.disconnect(this.parentClipContext.masterNode);\n      this.audioNode.output.connect(helper.getAudioContext().destination);\n    }\n  }]);\n\n  return AudioClip;\n}(ExtendableClip);\n\nmodule.exports = AudioClip;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9BdWRpby9BdWRpb0NsaXAuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9BdWRpby9BdWRpb0NsaXAuanM/ZmM0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ICE9PSBcInVuZGVmaW5lZFwiICYmIFJlZmxlY3QuZ2V0KSB7IF9nZXQgPSBSZWZsZWN0LmdldDsgfSBlbHNlIHsgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTsgaWYgKCFiYXNlKSByZXR1cm47IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7IGlmIChkZXNjLmdldCkgeyByZXR1cm4gZGVzYy5nZXQuY2FsbChyZWNlaXZlcik7IH0gcmV0dXJuIGRlc2MudmFsdWU7IH07IH0gcmV0dXJuIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIgfHwgdGFyZ2V0KTsgfVxuXG5mdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShvYmplY3QsIHByb3BlcnR5KSB7IHdoaWxlICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpKSB7IG9iamVjdCA9IF9nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhazsgfSByZXR1cm4gb2JqZWN0OyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxudmFyIEV4dGVuZGFibGVDbGlwID0gcmVxdWlyZSgnLi4vQ2xpcC9FeHRlbmRhYmxlQ2xpcCcpO1xuXG52YXIgQXVkaW9Db250ZXh0SGFuZGxlciA9IHJlcXVpcmUoJy4vQXVkaW9Db250ZXh0SGFuZGxlcicpO1xuXG52YXIgQXVkaW9Ob2RlID0gcmVxdWlyZSgnLi9oZWxwZXJzL0F1ZGlvTm9kZScpO1xuXG52YXIgSGVscGVyID0gcmVxdWlyZSgnLi4vX2NvcmVVdGlscy9IZWxwZXInKTtcblxudmFyIGhlbHBlciA9IG5ldyBIZWxwZXIoKTtcblxudmFyIEF1ZGlvQ2xpcCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0V4dGVuZGFibGVDbGlwKSB7XG4gIF9pbmhlcml0cyhBdWRpb0NsaXAsIF9FeHRlbmRhYmxlQ2xpcCk7XG5cbiAgZnVuY3Rpb24gQXVkaW9DbGlwKGF0dHJzLCBwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdWRpb0NsaXApO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoQXVkaW9DbGlwKS5jYWxsKHRoaXMsIGF0dHJzLCBwcm9wcykpO1xuICAgIF90aGlzLmF1ZGlvTm9kZSA9IG5ldyBBdWRpb05vZGUoKTtcblxuICAgIF90aGlzLmF1ZGlvTm9kZS5vdXRwdXQuY29ubmVjdChoZWxwZXIuZ2V0QXVkaW9Db250ZXh0KCkuZGVzdGluYXRpb24pO1xuXG4gICAgdmFyIGNvbnRleHRIYW5sZGVyID0gbmV3IEF1ZGlvQ29udGV4dEhhbmRsZXIoX3RoaXMucHJvcHMuYXVkaW9Tb3VyY2VzLCBfdGhpcy5hdWRpb05vZGUpO1xuICAgIF90aGlzLm93bkNvbnRleHQgPSBfb2JqZWN0U3ByZWFkKHt9LCBjb250ZXh0SGFubGRlci5jb250ZXh0LCB7XG4gICAgICBpc0hvc3RlZENsaXA6IHRydWVcbiAgICB9KTtcbiAgICBfdGhpcy5hdWRpb0NsaXAgPSB0cnVlO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBdWRpb0NsaXAsIFt7XG4gICAga2V5OiBcIm9uUHJvZ3Jlc3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzcyhmcmFjdGlvbiwgbXMsIGNvbnRleHRJZCkge1xuICAgICAgdmFyIGZvcmNlUmVzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xuXG4gICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihBdWRpb0NsaXAucHJvdG90eXBlKSwgXCJvblByb2dyZXNzXCIsIHRoaXMpLmNhbGwodGhpcywgZnJhY3Rpb24sIG1zLCB0aGlzLmlkLCBmb3JjZVJlc2V0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX29uR2V0Q29udGV4dE9uY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29uR2V0Q29udGV4dE9uY2UocGFyZW50Q2xpcENvbnRleHQpIHtcbiAgICAgIC8qXG4gICAgICBjb250ZXh0Lm1hc3RlciB7Z2FpbiwgcGFuLCBoaWdocGFzcywgbG93cGFzc31cbiAgICAgICovXG4gICAgICAvLyBhcyBoaWdocGFzcyBpcyB0aGUgZmlyc3Qgbm9kZSBvZiBtYXN0ZXIgaW4gcm93XG4gICAgICB0aGlzLnBhcmVudENsaXBDb250ZXh0ID0gcGFyZW50Q2xpcENvbnRleHQ7XG4gICAgICB0aGlzLmF1ZGlvTm9kZS5jb25uZWN0KHBhcmVudENsaXBDb250ZXh0Lm1hc3Rlck5vZGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsYXN0V2lzaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsYXN0V2lzaCgpIHtcbiAgICAgIHRoaXMuYXVkaW9Ob2RlLm91dHB1dC5kaXNjb25uZWN0KHRoaXMucGFyZW50Q2xpcENvbnRleHQubWFzdGVyTm9kZSk7XG4gICAgICB0aGlzLmF1ZGlvTm9kZS5vdXRwdXQuY29ubmVjdChoZWxwZXIuZ2V0QXVkaW9Db250ZXh0KCkuZGVzdGluYXRpb24pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBdWRpb0NsaXA7XG59KEV4dGVuZGFibGVDbGlwKTtcblxubW9kdWxlLmV4cG9ydHMgPSBBdWRpb0NsaXA7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Audio/AudioClip.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Audio/AudioContextHandler.js":
/*!***********************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Audio/AudioContextHandler.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _base64ToArrayBuffer(base64) {\n  var binary_string = window.atob(base64);\n  var len = binary_string.length;\n  var bytes = new Uint8Array(len);\n\n  for (var i = 0; i < len; i++) {\n    bytes[i] = binary_string.charCodeAt(i);\n  }\n\n  return bytes.buffer;\n}\n\nvar datamcidRegex = /\\[data(-mcid=\"+\\w+\")+\\]/g;\n\nvar Helper = __webpack_require__(/*! ../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar AudioNode = __webpack_require__(/*! ./helpers/AudioNode */ \"../node_modules/@kissmybutton/motorcortex/dist/Audio/helpers/AudioNode.js\");\n\nvar PubSub =\n/*#__PURE__*/\nfunction () {\n  function PubSub() {\n    _classCallCheck(this, PubSub);\n\n    this.subscribers = [];\n  }\n\n  _createClass(PubSub, [{\n    key: \"sub\",\n    value: function sub(id, method) {\n      this.subscribers.push(method);\n    }\n  }, {\n    key: \"pub\",\n    value: function pub(argument) {\n      for (var i = 0; i < this.subscribers.length; i++) {\n        this.subscribers[i](argument);\n      }\n    }\n  }]);\n\n  return PubSub;\n}();\n/**\n * Specs:\n * AudioContext Handler keeps all the audio sources.\n * The audio sources are passed in the following format:\n * - src (the source of the sound)\n * - base64 (boolean, defaults to false. If the sound is base64 it's been treated\n *      in a different way)\n * - id (must be unique)\n * - classes (an array of belonging classes)\n *\n * The SoundContextHanlder creates a media element of the following format:\n * media: {\n *  src\n *  id\n *  classes\n *  base64\n *  buffer\n *  nodes: {\n *      stereo\n *      highpass\n *      lowpass\n *      gain\n *      audioNode\n *  }\n * }\n *\n * Finally the SoundContextHandler has its own nodes (the master) which look like this:\n * master: {\n *      stereo\n *      highpass\n *      lowpass\n *      gain\n * }\n **/\n\n\nvar AudioContextHandler =\n/*#__PURE__*/\nfunction () {\n  function AudioContextHandler() {\n    var _this = this;\n\n    var audioSources = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var masterNode = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, AudioContextHandler);\n\n    // variables to be used for checking context rediness\n    this.totalSources = audioSources.length; // initialisation of the final audio resources colleciton\n\n    this.audioSources = {};\n    this.elementsByMCID = {}; // iterate on audioSource to create the audioSources collection\n\n    var _loop = function _loop(i) {\n      var audioSource = audioSources[i];\n      var audioResource = {\n        mcid: audioSource.mcid || helper.getAnId(),\n        id: audioSource.id,\n        src: audioSource.src,\n        classes: audioSource.classes || [],\n        base64: audioSource.base64 || false,\n        pubSub: new PubSub(),\n        soundLoaded: false\n      };\n      _this.audioSources[audioResource.id] = audioResource;\n      _this.elementsByMCID[audioResource.mcid] = audioResource;\n\n      if (audioSource.base64 === true) {\n        helper.getAudioContext().decodeAudioData(_base64ToArrayBuffer(audioSource.src), function (buffer) {\n          _this._setBuffer(audioResource, buffer, masterNode);\n        });\n      } else {\n        var request = new XMLHttpRequest();\n        request.open('GET', audioResource.src, true);\n        request.responseType = 'arraybuffer'; // Decode asynchronously\n\n        _this.soundLoaded = false;\n\n        request.onload = function () {\n          helper.getAudioContext().decodeAudioData(request.response, function (buffer) {\n            _this._setBuffer(audioResource, buffer, masterNode);\n          }, _this.onError);\n        };\n\n        request.send();\n      }\n    };\n\n    for (var i = 0; i < audioSources.length; i++) {\n      _loop(i);\n    }\n\n    this.context = {\n      document: document,\n      window: window,\n      rootElement: document.body,\n      unmount: function unmount() {},\n      masterNode: masterNode,\n      audioContext: helper.getAudioContext(),\n      getElements: this.getElements.bind(this),\n      getMCID: this.getMCID.bind(this),\n      setMCID: this.setMCID.bind(this),\n      getElementSelectorByMCID: this.getElementSelectorByMCID.bind(this),\n      getElementByMCID: this.getElementByMCID.bind(this)\n    };\n  }\n\n  _createClass(AudioContextHandler, [{\n    key: \"_setBuffer\",\n    value: function _setBuffer(audioResource, buffer, masterNode) {\n      audioResource.soundLoaded = true;\n      audioResource.buffer = buffer;\n      audioResource.effectsAudioNode = new AudioNode();\n      audioResource.effectsAudioNode.connect(masterNode);\n      audioResource.pubSub.pub();\n    }\n  }, {\n    key: \"getElementByMCID\",\n    value: function getElementByMCID(mcid) {\n      if (Object.prototype.hasOwnProperty.call(this.elementsByMCID, mcid)) {\n        return this.elementsByMCID[mcid];\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"getElements\",\n    value: function getElements(selector) {\n      if (selector.charAt(0) === \"~\") {\n        selector = selector.substr(1);\n\n        if (selector.charAt(0) === \"#\") {\n          if (Object.prototype.hasOwnProperty.call(this.audioSources, selector.substr(1))) {\n            return [this.audioSources[selector.substr(1)]];\n          } else {\n            return [];\n          }\n        } else if (selector.charAt(0) === \".\") {\n          var className = selector.substr(1);\n          var toReturn = [];\n\n          for (var source in this.audioSources) {\n            if (source.classes.indexOf(className) >= 0) {\n              toReturn.push(source);\n            }\n          }\n\n          return toReturn;\n        }\n      } else if (datamcidRegex.exec(selector)) {\n        var mcid = selector.split('\"')[1];\n        return this.elementsByMCID[mcid];\n      } else {\n        return [];\n      }\n    }\n  }, {\n    key: \"getMCID\",\n    value: function getMCID(element) {\n      return element.mcid;\n    }\n  }, {\n    key: \"setMCID\",\n    value: function setMCID(element, mcid) {\n      element.mcid = mcid;\n    }\n  }, {\n    key: \"getElementSelectorByMCID\",\n    value: function getElementSelectorByMCID(mcid) {\n      return \"[data-mcid=\\\"\".concat(mcid, \"\\\"]\");\n    }\n  }]);\n\n  return AudioContextHandler;\n}();\n\nmodule.exports = AudioContextHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9BdWRpby9BdWRpb0NvbnRleHRIYW5kbGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvQXVkaW8vQXVkaW9Db250ZXh0SGFuZGxlci5qcz82MGUyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9iYXNlNjRUb0FycmF5QnVmZmVyKGJhc2U2NCkge1xuICB2YXIgYmluYXJ5X3N0cmluZyA9IHdpbmRvdy5hdG9iKGJhc2U2NCk7XG4gIHZhciBsZW4gPSBiaW5hcnlfc3RyaW5nLmxlbmd0aDtcbiAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYnl0ZXNbaV0gPSBiaW5hcnlfc3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gIH1cblxuICByZXR1cm4gYnl0ZXMuYnVmZmVyO1xufVxuXG52YXIgZGF0YW1jaWRSZWdleCA9IC9cXFtkYXRhKC1tY2lkPVwiK1xcdytcIikrXFxdL2c7XG5cbnZhciBIZWxwZXIgPSByZXF1aXJlKCcuLi9fY29yZVV0aWxzL0hlbHBlcicpO1xuXG52YXIgaGVscGVyID0gbmV3IEhlbHBlcigpO1xuXG52YXIgQXVkaW9Ob2RlID0gcmVxdWlyZSgnLi9oZWxwZXJzL0F1ZGlvTm9kZScpO1xuXG52YXIgUHViU3ViID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUHViU3ViKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQdWJTdWIpO1xuXG4gICAgdGhpcy5zdWJzY3JpYmVycyA9IFtdO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFB1YlN1YiwgW3tcbiAgICBrZXk6IFwic3ViXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1YihpZCwgbWV0aG9kKSB7XG4gICAgICB0aGlzLnN1YnNjcmliZXJzLnB1c2gobWV0aG9kKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicHViXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHB1Yihhcmd1bWVudCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnNjcmliZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnNbaV0oYXJndW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQdWJTdWI7XG59KCk7XG4vKipcbiAqIFNwZWNzOlxuICogQXVkaW9Db250ZXh0IEhhbmRsZXIga2VlcHMgYWxsIHRoZSBhdWRpbyBzb3VyY2VzLlxuICogVGhlIGF1ZGlvIHNvdXJjZXMgYXJlIHBhc3NlZCBpbiB0aGUgZm9sbG93aW5nIGZvcm1hdDpcbiAqIC0gc3JjICh0aGUgc291cmNlIG9mIHRoZSBzb3VuZClcbiAqIC0gYmFzZTY0IChib29sZWFuLCBkZWZhdWx0cyB0byBmYWxzZS4gSWYgdGhlIHNvdW5kIGlzIGJhc2U2NCBpdCdzIGJlZW4gdHJlYXRlZFxuICogICAgICBpbiBhIGRpZmZlcmVudCB3YXkpXG4gKiAtIGlkIChtdXN0IGJlIHVuaXF1ZSlcbiAqIC0gY2xhc3NlcyAoYW4gYXJyYXkgb2YgYmVsb25naW5nIGNsYXNzZXMpXG4gKlxuICogVGhlIFNvdW5kQ29udGV4dEhhbmxkZXIgY3JlYXRlcyBhIG1lZGlhIGVsZW1lbnQgb2YgdGhlIGZvbGxvd2luZyBmb3JtYXQ6XG4gKiBtZWRpYToge1xuICogIHNyY1xuICogIGlkXG4gKiAgY2xhc3Nlc1xuICogIGJhc2U2NFxuICogIGJ1ZmZlclxuICogIG5vZGVzOiB7XG4gKiAgICAgIHN0ZXJlb1xuICogICAgICBoaWdocGFzc1xuICogICAgICBsb3dwYXNzXG4gKiAgICAgIGdhaW5cbiAqICAgICAgYXVkaW9Ob2RlXG4gKiAgfVxuICogfVxuICpcbiAqIEZpbmFsbHkgdGhlIFNvdW5kQ29udGV4dEhhbmRsZXIgaGFzIGl0cyBvd24gbm9kZXMgKHRoZSBtYXN0ZXIpIHdoaWNoIGxvb2sgbGlrZSB0aGlzOlxuICogbWFzdGVyOiB7XG4gKiAgICAgIHN0ZXJlb1xuICogICAgICBoaWdocGFzc1xuICogICAgICBsb3dwYXNzXG4gKiAgICAgIGdhaW5cbiAqIH1cbiAqKi9cblxuXG52YXIgQXVkaW9Db250ZXh0SGFuZGxlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEF1ZGlvQ29udGV4dEhhbmRsZXIoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBhdWRpb1NvdXJjZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHZhciBtYXN0ZXJOb2RlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXVkaW9Db250ZXh0SGFuZGxlcik7XG5cbiAgICAvLyB2YXJpYWJsZXMgdG8gYmUgdXNlZCBmb3IgY2hlY2tpbmcgY29udGV4dCByZWRpbmVzc1xuICAgIHRoaXMudG90YWxTb3VyY2VzID0gYXVkaW9Tb3VyY2VzLmxlbmd0aDsgLy8gaW5pdGlhbGlzYXRpb24gb2YgdGhlIGZpbmFsIGF1ZGlvIHJlc291cmNlcyBjb2xsZWNpdG9uXG5cbiAgICB0aGlzLmF1ZGlvU291cmNlcyA9IHt9O1xuICAgIHRoaXMuZWxlbWVudHNCeU1DSUQgPSB7fTsgLy8gaXRlcmF0ZSBvbiBhdWRpb1NvdXJjZSB0byBjcmVhdGUgdGhlIGF1ZGlvU291cmNlcyBjb2xsZWN0aW9uXG5cbiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpKSB7XG4gICAgICB2YXIgYXVkaW9Tb3VyY2UgPSBhdWRpb1NvdXJjZXNbaV07XG4gICAgICB2YXIgYXVkaW9SZXNvdXJjZSA9IHtcbiAgICAgICAgbWNpZDogYXVkaW9Tb3VyY2UubWNpZCB8fCBoZWxwZXIuZ2V0QW5JZCgpLFxuICAgICAgICBpZDogYXVkaW9Tb3VyY2UuaWQsXG4gICAgICAgIHNyYzogYXVkaW9Tb3VyY2Uuc3JjLFxuICAgICAgICBjbGFzc2VzOiBhdWRpb1NvdXJjZS5jbGFzc2VzIHx8IFtdLFxuICAgICAgICBiYXNlNjQ6IGF1ZGlvU291cmNlLmJhc2U2NCB8fCBmYWxzZSxcbiAgICAgICAgcHViU3ViOiBuZXcgUHViU3ViKCksXG4gICAgICAgIHNvdW5kTG9hZGVkOiBmYWxzZVxuICAgICAgfTtcbiAgICAgIF90aGlzLmF1ZGlvU291cmNlc1thdWRpb1Jlc291cmNlLmlkXSA9IGF1ZGlvUmVzb3VyY2U7XG4gICAgICBfdGhpcy5lbGVtZW50c0J5TUNJRFthdWRpb1Jlc291cmNlLm1jaWRdID0gYXVkaW9SZXNvdXJjZTtcblxuICAgICAgaWYgKGF1ZGlvU291cmNlLmJhc2U2NCA9PT0gdHJ1ZSkge1xuICAgICAgICBoZWxwZXIuZ2V0QXVkaW9Db250ZXh0KCkuZGVjb2RlQXVkaW9EYXRhKF9iYXNlNjRUb0FycmF5QnVmZmVyKGF1ZGlvU291cmNlLnNyYyksIGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgICBfdGhpcy5fc2V0QnVmZmVyKGF1ZGlvUmVzb3VyY2UsIGJ1ZmZlciwgbWFzdGVyTm9kZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCBhdWRpb1Jlc291cmNlLnNyYywgdHJ1ZSk7XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJzsgLy8gRGVjb2RlIGFzeW5jaHJvbm91c2x5XG5cbiAgICAgICAgX3RoaXMuc291bmRMb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBoZWxwZXIuZ2V0QXVkaW9Db250ZXh0KCkuZGVjb2RlQXVkaW9EYXRhKHJlcXVlc3QucmVzcG9uc2UsIGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgICAgIF90aGlzLl9zZXRCdWZmZXIoYXVkaW9SZXNvdXJjZSwgYnVmZmVyLCBtYXN0ZXJOb2RlKTtcbiAgICAgICAgICB9LCBfdGhpcy5vbkVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXF1ZXN0LnNlbmQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdWRpb1NvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIF9sb29wKGkpO1xuICAgIH1cblxuICAgIHRoaXMuY29udGV4dCA9IHtcbiAgICAgIGRvY3VtZW50OiBkb2N1bWVudCxcbiAgICAgIHdpbmRvdzogd2luZG93LFxuICAgICAgcm9vdEVsZW1lbnQ6IGRvY3VtZW50LmJvZHksXG4gICAgICB1bm1vdW50OiBmdW5jdGlvbiB1bm1vdW50KCkge30sXG4gICAgICBtYXN0ZXJOb2RlOiBtYXN0ZXJOb2RlLFxuICAgICAgYXVkaW9Db250ZXh0OiBoZWxwZXIuZ2V0QXVkaW9Db250ZXh0KCksXG4gICAgICBnZXRFbGVtZW50czogdGhpcy5nZXRFbGVtZW50cy5iaW5kKHRoaXMpLFxuICAgICAgZ2V0TUNJRDogdGhpcy5nZXRNQ0lELmJpbmQodGhpcyksXG4gICAgICBzZXRNQ0lEOiB0aGlzLnNldE1DSUQuYmluZCh0aGlzKSxcbiAgICAgIGdldEVsZW1lbnRTZWxlY3RvckJ5TUNJRDogdGhpcy5nZXRFbGVtZW50U2VsZWN0b3JCeU1DSUQuYmluZCh0aGlzKSxcbiAgICAgIGdldEVsZW1lbnRCeU1DSUQ6IHRoaXMuZ2V0RWxlbWVudEJ5TUNJRC5iaW5kKHRoaXMpXG4gICAgfTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBdWRpb0NvbnRleHRIYW5kbGVyLCBbe1xuICAgIGtleTogXCJfc2V0QnVmZmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRCdWZmZXIoYXVkaW9SZXNvdXJjZSwgYnVmZmVyLCBtYXN0ZXJOb2RlKSB7XG4gICAgICBhdWRpb1Jlc291cmNlLnNvdW5kTG9hZGVkID0gdHJ1ZTtcbiAgICAgIGF1ZGlvUmVzb3VyY2UuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgYXVkaW9SZXNvdXJjZS5lZmZlY3RzQXVkaW9Ob2RlID0gbmV3IEF1ZGlvTm9kZSgpO1xuICAgICAgYXVkaW9SZXNvdXJjZS5lZmZlY3RzQXVkaW9Ob2RlLmNvbm5lY3QobWFzdGVyTm9kZSk7XG4gICAgICBhdWRpb1Jlc291cmNlLnB1YlN1Yi5wdWIoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RWxlbWVudEJ5TUNJRFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFbGVtZW50QnlNQ0lEKG1jaWQpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5lbGVtZW50c0J5TUNJRCwgbWNpZCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNCeU1DSURbbWNpZF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RWxlbWVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RWxlbWVudHMoc2VsZWN0b3IpIHtcbiAgICAgIGlmIChzZWxlY3Rvci5jaGFyQXQoMCkgPT09IFwiflwiKSB7XG4gICAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3Iuc3Vic3RyKDEpO1xuXG4gICAgICAgIGlmIChzZWxlY3Rvci5jaGFyQXQoMCkgPT09IFwiI1wiKSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmF1ZGlvU291cmNlcywgc2VsZWN0b3Iuc3Vic3RyKDEpKSkge1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLmF1ZGlvU291cmNlc1tzZWxlY3Rvci5zdWJzdHIoMSldXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3Rvci5jaGFyQXQoMCkgPT09IFwiLlwiKSB7XG4gICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHNlbGVjdG9yLnN1YnN0cigxKTtcbiAgICAgICAgICB2YXIgdG9SZXR1cm4gPSBbXTtcblxuICAgICAgICAgIGZvciAodmFyIHNvdXJjZSBpbiB0aGlzLmF1ZGlvU291cmNlcykge1xuICAgICAgICAgICAgaWYgKHNvdXJjZS5jbGFzc2VzLmluZGV4T2YoY2xhc3NOYW1lKSA+PSAwKSB7XG4gICAgICAgICAgICAgIHRvUmV0dXJuLnB1c2goc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdG9SZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZGF0YW1jaWRSZWdleC5leGVjKHNlbGVjdG9yKSkge1xuICAgICAgICB2YXIgbWNpZCA9IHNlbGVjdG9yLnNwbGl0KCdcIicpWzFdO1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c0J5TUNJRFttY2lkXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TUNJRFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNQ0lEKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50Lm1jaWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldE1DSURcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TUNJRChlbGVtZW50LCBtY2lkKSB7XG4gICAgICBlbGVtZW50Lm1jaWQgPSBtY2lkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRFbGVtZW50U2VsZWN0b3JCeU1DSURcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RWxlbWVudFNlbGVjdG9yQnlNQ0lEKG1jaWQpIHtcbiAgICAgIHJldHVybiBcIltkYXRhLW1jaWQ9XFxcIlwiLmNvbmNhdChtY2lkLCBcIlxcXCJdXCIpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBdWRpb0NvbnRleHRIYW5kbGVyO1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF1ZGlvQ29udGV4dEhhbmRsZXI7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Audio/AudioContextHandler.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Audio/Incidents/Playback.js":
/*!**********************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Audio/Incidents/Playback.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar MediaPlayIncident = __webpack_require__(/*! ../../BaseClasses/MediaPlayIncident */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/MediaPlayIncident.js\");\n\nvar Helper = __webpack_require__(/*! ../../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n/**\n * expects on its props:\n * - selector\n * - duration\n * - startFrom (optional)\n **/\n\nvar AudioPlayback =\n/*#__PURE__*/\nfunction (_MediaPlayIncident) {\n  _inherits(AudioPlayback, _MediaPlayIncident);\n\n  function AudioPlayback() {\n    _classCallCheck(this, AudioPlayback);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AudioPlayback).apply(this, arguments));\n  }\n\n  _createClass(AudioPlayback, [{\n    key: \"play\",\n    value: function play(millisecond) {\n      var _this = this;\n\n      if (this.element.soundLoaded === false) {\n        this.setBlock('loading sound');\n        this.element.pubSub.sub(this.id, function () {\n          _this.unblock();\n        });\n        return false;\n      }\n\n      var startFrom = 0;\n\n      if (Object.prototype.hasOwnProperty.call(this.props, 'startFrom')) {\n        startFrom = this.props.startFrom;\n      }\n\n      this.audioNode = helper.getAudioContext().createBufferSource();\n      this.audioNode.buffer = this.element.buffer;\n      this.audioNode.connect(this.element.effectsAudioNode.input);\n      this.audioNode.start(0, (millisecond + startFrom) / 1000);\n      return true;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.audioNode.stop();\n    }\n  }]);\n\n  return AudioPlayback;\n}(MediaPlayIncident);\n\nmodule.exports = AudioPlayback;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9BdWRpby9JbmNpZGVudHMvUGxheWJhY2suanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9BdWRpby9JbmNpZGVudHMvUGxheWJhY2suanM/NDQ2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbnZhciBNZWRpYVBsYXlJbmNpZGVudCA9IHJlcXVpcmUoJy4uLy4uL0Jhc2VDbGFzc2VzL01lZGlhUGxheUluY2lkZW50Jyk7XG5cbnZhciBIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9fY29yZVV0aWxzL0hlbHBlcicpO1xuXG52YXIgaGVscGVyID0gbmV3IEhlbHBlcigpO1xuLyoqXG4gKiBleHBlY3RzIG9uIGl0cyBwcm9wczpcbiAqIC0gc2VsZWN0b3JcbiAqIC0gZHVyYXRpb25cbiAqIC0gc3RhcnRGcm9tIChvcHRpb25hbClcbiAqKi9cblxudmFyIEF1ZGlvUGxheWJhY2sgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9NZWRpYVBsYXlJbmNpZGVudCkge1xuICBfaW5oZXJpdHMoQXVkaW9QbGF5YmFjaywgX01lZGlhUGxheUluY2lkZW50KTtcblxuICBmdW5jdGlvbiBBdWRpb1BsYXliYWNrKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdWRpb1BsYXliYWNrKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoQXVkaW9QbGF5YmFjaykuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQXVkaW9QbGF5YmFjaywgW3tcbiAgICBrZXk6IFwicGxheVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwbGF5KG1pbGxpc2Vjb25kKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5lbGVtZW50LnNvdW5kTG9hZGVkID09PSBmYWxzZSkge1xuICAgICAgICB0aGlzLnNldEJsb2NrKCdsb2FkaW5nIHNvdW5kJyk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5wdWJTdWIuc3ViKHRoaXMuaWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy51bmJsb2NrKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGFydEZyb20gPSAwO1xuXG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMucHJvcHMsICdzdGFydEZyb20nKSkge1xuICAgICAgICBzdGFydEZyb20gPSB0aGlzLnByb3BzLnN0YXJ0RnJvbTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hdWRpb05vZGUgPSBoZWxwZXIuZ2V0QXVkaW9Db250ZXh0KCkuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICB0aGlzLmF1ZGlvTm9kZS5idWZmZXIgPSB0aGlzLmVsZW1lbnQuYnVmZmVyO1xuICAgICAgdGhpcy5hdWRpb05vZGUuY29ubmVjdCh0aGlzLmVsZW1lbnQuZWZmZWN0c0F1ZGlvTm9kZS5pbnB1dCk7XG4gICAgICB0aGlzLmF1ZGlvTm9kZS5zdGFydCgwLCAobWlsbGlzZWNvbmQgKyBzdGFydEZyb20pIC8gMTAwMCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3RvcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgdGhpcy5hdWRpb05vZGUuc3RvcCgpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBdWRpb1BsYXliYWNrO1xufShNZWRpYVBsYXlJbmNpZGVudCk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXVkaW9QbGF5YmFjazsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Audio/Incidents/Playback.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Audio/helpers/AudioNode.js":
/*!*********************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Audio/helpers/AudioNode.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Helper = __webpack_require__(/*! ../../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar AudioNode =\n/*#__PURE__*/\nfunction () {\n  function AudioNode() {\n    _classCallCheck(this, AudioNode);\n\n    // audio context initialisation\n    var audioContext = helper.getAudioContext();\n    this.output = audioContext.createGain();\n    this.gainNode = audioContext.createGain();\n    this.pannerNode = audioContext.createStereoPanner();\n    this.highpassNode = audioContext.createBiquadFilter();\n    this.lowpassNode = audioContext.createBiquadFilter();\n    this.lowpassNode.connect(this.highpassNode);\n    this.highpassNode.connect(this.pannerNode);\n    this.pannerNode.connect(this.gainNode);\n    this.gainNode.connect(this.output);\n    this.input = this.lowpassNode;\n  }\n\n  _createClass(AudioNode, [{\n    key: \"connect\",\n    value: function connect(master) {\n      this.output.connect(master.input);\n    }\n  }, {\n    key: \"disconnect\",\n    value: function disconnect(master) {\n      this.output.disconnect(master.input);\n    }\n  }]);\n\n  return AudioNode;\n}();\n\nmodule.exports = AudioNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9BdWRpby9oZWxwZXJzL0F1ZGlvTm9kZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L0F1ZGlvL2hlbHBlcnMvQXVkaW9Ob2RlLmpzP2YyM2YiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL19jb3JlVXRpbHMvSGVscGVyJyk7XG5cbnZhciBoZWxwZXIgPSBuZXcgSGVscGVyKCk7XG5cbnZhciBBdWRpb05vZGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBdWRpb05vZGUoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1ZGlvTm9kZSk7XG5cbiAgICAvLyBhdWRpbyBjb250ZXh0IGluaXRpYWxpc2F0aW9uXG4gICAgdmFyIGF1ZGlvQ29udGV4dCA9IGhlbHBlci5nZXRBdWRpb0NvbnRleHQoKTtcbiAgICB0aGlzLm91dHB1dCA9IGF1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgdGhpcy5nYWluTm9kZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgdGhpcy5wYW5uZXJOb2RlID0gYXVkaW9Db250ZXh0LmNyZWF0ZVN0ZXJlb1Bhbm5lcigpO1xuICAgIHRoaXMuaGlnaHBhc3NOb2RlID0gYXVkaW9Db250ZXh0LmNyZWF0ZUJpcXVhZEZpbHRlcigpO1xuICAgIHRoaXMubG93cGFzc05vZGUgPSBhdWRpb0NvbnRleHQuY3JlYXRlQmlxdWFkRmlsdGVyKCk7XG4gICAgdGhpcy5sb3dwYXNzTm9kZS5jb25uZWN0KHRoaXMuaGlnaHBhc3NOb2RlKTtcbiAgICB0aGlzLmhpZ2hwYXNzTm9kZS5jb25uZWN0KHRoaXMucGFubmVyTm9kZSk7XG4gICAgdGhpcy5wYW5uZXJOb2RlLmNvbm5lY3QodGhpcy5nYWluTm9kZSk7XG4gICAgdGhpcy5nYWluTm9kZS5jb25uZWN0KHRoaXMub3V0cHV0KTtcbiAgICB0aGlzLmlucHV0ID0gdGhpcy5sb3dwYXNzTm9kZTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBdWRpb05vZGUsIFt7XG4gICAga2V5OiBcImNvbm5lY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29ubmVjdChtYXN0ZXIpIHtcbiAgICAgIHRoaXMub3V0cHV0LmNvbm5lY3QobWFzdGVyLmlucHV0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGlzY29ubmVjdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb25uZWN0KG1hc3Rlcikge1xuICAgICAgdGhpcy5vdXRwdXQuZGlzY29ubmVjdChtYXN0ZXIuaW5wdXQpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBdWRpb05vZGU7XG59KCk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXVkaW9Ob2RlOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Audio/helpers/AudioNode.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Audio/main.js":
/*!********************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Audio/main.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar AudioClip = __webpack_require__(/*! ./AudioClip */ \"../node_modules/@kissmybutton/motorcortex/dist/Audio/AudioClip.js\");\n\nvar AudioPlayback = __webpack_require__(/*! ./Incidents/Playback */ \"../node_modules/@kissmybutton/motorcortex/dist/Audio/Incidents/Playback.js\");\n\nmodule.exports = {\n  npm_name: \"@kissmybutton/motorcortex-soundsystem\",\n  incidents: [{\n    exportable: AudioPlayback,\n    name: \"AudioPlayback\"\n  }],\n  Clip: AudioClip,\n  audio: true\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9BdWRpby9tYWluLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvQXVkaW8vbWFpbi5qcz8xZjcxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgQXVkaW9DbGlwID0gcmVxdWlyZSgnLi9BdWRpb0NsaXAnKTtcblxudmFyIEF1ZGlvUGxheWJhY2sgPSByZXF1aXJlKFwiLi9JbmNpZGVudHMvUGxheWJhY2tcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBucG1fbmFtZTogXCJAa2lzc215YnV0dG9uL21vdG9yY29ydGV4LXNvdW5kc3lzdGVtXCIsXG4gIGluY2lkZW50czogW3tcbiAgICBleHBvcnRhYmxlOiBBdWRpb1BsYXliYWNrLFxuICAgIG5hbWU6IFwiQXVkaW9QbGF5YmFja1wiXG4gIH1dLFxuICBDbGlwOiBBdWRpb0NsaXAsXG4gIGF1ZGlvOiB0cnVlXG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Audio/main.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/Group.js":
/*!***************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/Group.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar Node = __webpack_require__(/*! ../Tree/Node */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/Node.js\");\n\nvar Channel = __webpack_require__(/*! ../Channels/Channel */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Channel.js\");\n\nvar handleResize = __webpack_require__(/*! ./decorators/handleResize */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/handleResize.js\");\n\nvar setBlock = __webpack_require__(/*! ./decorators/block */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/block.js\");\n\nvar unblock = __webpack_require__(/*! ./decorators/unblock */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/unblock.js\");\n\nvar Group = _decorate(null, function (_initialize, _Node) {\n  var Group =\n  /*#__PURE__*/\n  function (_Node2) {\n    _inherits(Group, _Node2);\n\n    function Group(attrs, props) {\n      var _this;\n\n      _classCallCheck(this, Group);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(Group).call(this, props));\n\n      _initialize(_assertThisInitialized(_this));\n\n      _this.mc_plugin_npm_name = 'motor-cortex-js';\n      _this.plugin_channel_class = Channel;\n      _this.hasIncidents = true;\n\n      _this.onGroupInitialise();\n\n      _this.calculatedDuration = 0;\n      return _this;\n    }\n\n    return Group;\n  }(_Node);\n\n  return {\n    F: Group,\n    d: [{\n      kind: \"method\",\n      key: \"onGroupInitialise\",\n      value: function onGroupInitialise() {// called when group gets initialised\n      }\n    }, {\n      kind: \"method\",\n      key: \"handleAddIncident\",\n      value: function handleAddIncident(target, payload) {\n        if (this.id === target) {\n          var incidentFromDescription = __webpack_require__(/*! ../IncidentFromDefinition/incidentFromDescription */ \"../node_modules/@kissmybutton/motorcortex/dist/IncidentFromDefinition/incidentFromDescription.js\");\n\n          var theIncident = incidentFromDescription(payload.incident, payload.contextData, payload.audio); // in the case that an audio clip tries to process an non-audio incident or\n          // a non-audio incident tries to process an audio incident the result from incidentFromDescription is null\n          // in such a case there should be no candidate return, so this.bypass()\n\n          if (theIncident === null) {\n            return this.bypass();\n          } else {\n            return theIncident;\n          }\n        } else {\n          return this.bypass();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"handleMoveIncident\",\n      value: function handleMoveIncident(target, payload) {\n        if (this.id === target) {\n          var res = this.getLeafById(payload.incidentId, true);\n\n          if (res === null) {\n            return this.bypass();\n          }\n\n          return res;\n        } else {\n          return this.bypass();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"handleRemoveIncident\",\n      value: function handleRemoveIncident(target, payload) {\n        if (this.id === target) {\n          var res = this.getLeafById(payload.incidentId, true);\n\n          if (res === null) {\n            return this.bypass();\n          }\n\n          return res;\n        } else {\n          return this.bypass();\n        }\n      }\n    }, {\n      kind: \"method\",\n      decorators: [handleResize],\n      key: \"handleResize\",\n      value: function handleResize() {}\n    }, {\n      kind: \"method\",\n      key: \"removeChild\",\n      value: function removeChild(id) {\n        this.children[id].leaf.lastWish();\n\n        _get(_getPrototypeOf(Group.prototype), \"removeChild\", this).call(this, id);\n      }\n      /**\n       * Returns an object that has the key of the npm plugin name the Channel of which manages the specific Incident\n       * With the same logic all Incidents that belong to this Group as categorised by plugin / channel on the same object\n       */\n\n    }, {\n      kind: \"method\",\n      key: \"getIncidentsByChannel\",\n      value: function getIncidentsByChannel() {\n        var adjustMillisecond = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var parentMillisecond = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        // initially it only puts itself onthe incidentsByPlugin array, exactly as the plain Incidents do\n        var incidentsByPlugin = {};\n        incidentsByPlugin['motor-cortex-js'] = [{\n          millisecond: adjustMillisecond,\n          parentMillisecond: parentMillisecond,\n          incident: this,\n          id: this.id\n        }]; // proceed to gather the contained incidents as well\n\n        for (var childId in this.children) {\n          var child = this.children[childId];\n          var incidentsToAdd = child.leaf.getIncidentsByChannel(adjustMillisecond + child.position, adjustMillisecond);\n\n          for (var key in incidentsToAdd) {\n            if (Object.prototype.hasOwnProperty.call(incidentsByPlugin, key)) {\n              incidentsByPlugin[key] = incidentsByPlugin[key].concat(incidentsToAdd[key]);\n            } else {\n              incidentsByPlugin[key] = incidentsToAdd[key];\n            }\n          }\n        }\n\n        return incidentsByPlugin;\n      }\n    }, {\n      kind: \"method\",\n      key: \"lastWish\",\n      value: function lastWish() {\n        for (var childId in this.children) {\n          this.children[childId].leaf.lastWish();\n        }\n      }\n    }, {\n      kind: \"method\",\n      decorators: [setBlock],\n      key: \"setBlock\",\n      value: function setBlock() {}\n    }, {\n      kind: \"method\",\n      decorators: [unblock],\n      key: \"unblock\",\n      value: function unblock() {}\n    }]\n  };\n}, Node);\n\nmodule.exports = Group;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9CYXNlQ2xhc3Nlcy9Hcm91cC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L0Jhc2VDbGFzc2VzL0dyb3VwLmpzP2I1NzQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9kZWNvcmF0ZShkZWNvcmF0b3JzLCBmYWN0b3J5LCBzdXBlckNsYXNzLCBtaXhpbnMpIHsgdmFyIGFwaSA9IF9nZXREZWNvcmF0b3JzQXBpKCk7IGlmIChtaXhpbnMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBtaXhpbnMubGVuZ3RoOyBpKyspIHsgYXBpID0gbWl4aW5zW2ldKGFwaSk7IH0gfSB2YXIgciA9IGZhY3RvcnkoZnVuY3Rpb24gaW5pdGlhbGl6ZShPKSB7IGFwaS5pbml0aWFsaXplSW5zdGFuY2VFbGVtZW50cyhPLCBkZWNvcmF0ZWQuZWxlbWVudHMpOyB9LCBzdXBlckNsYXNzKTsgdmFyIGRlY29yYXRlZCA9IGFwaS5kZWNvcmF0ZUNsYXNzKF9jb2FsZXNjZUNsYXNzRWxlbWVudHMoci5kLm1hcChfY3JlYXRlRWxlbWVudERlc2NyaXB0b3IpKSwgZGVjb3JhdG9ycyk7IGFwaS5pbml0aWFsaXplQ2xhc3NFbGVtZW50cyhyLkYsIGRlY29yYXRlZC5lbGVtZW50cyk7IHJldHVybiBhcGkucnVuQ2xhc3NGaW5pc2hlcnMoci5GLCBkZWNvcmF0ZWQuZmluaXNoZXJzKTsgfVxuXG5mdW5jdGlvbiBfZ2V0RGVjb3JhdG9yc0FwaSgpIHsgX2dldERlY29yYXRvcnNBcGkgPSBmdW5jdGlvbiBfZ2V0RGVjb3JhdG9yc0FwaSgpIHsgcmV0dXJuIGFwaTsgfTsgdmFyIGFwaSA9IHsgZWxlbWVudHNEZWZpbml0aW9uT3JkZXI6IFtbXCJtZXRob2RcIl0sIFtcImZpZWxkXCJdXSwgaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHM6IGZ1bmN0aW9uIGluaXRpYWxpemVJbnN0YW5jZUVsZW1lbnRzKE8sIGVsZW1lbnRzKSB7IFtcIm1ldGhvZFwiLCBcImZpZWxkXCJdLmZvckVhY2goZnVuY3Rpb24gKGtpbmQpIHsgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgeyBpZiAoZWxlbWVudC5raW5kID09PSBraW5kICYmIGVsZW1lbnQucGxhY2VtZW50ID09PSBcIm93blwiKSB7IHRoaXMuZGVmaW5lQ2xhc3NFbGVtZW50KE8sIGVsZW1lbnQpOyB9IH0sIHRoaXMpOyB9LCB0aGlzKTsgfSwgaW5pdGlhbGl6ZUNsYXNzRWxlbWVudHM6IGZ1bmN0aW9uIGluaXRpYWxpemVDbGFzc0VsZW1lbnRzKEYsIGVsZW1lbnRzKSB7IHZhciBwcm90byA9IEYucHJvdG90eXBlOyBbXCJtZXRob2RcIiwgXCJmaWVsZFwiXS5mb3JFYWNoKGZ1bmN0aW9uIChraW5kKSB7IGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgdmFyIHBsYWNlbWVudCA9IGVsZW1lbnQucGxhY2VtZW50OyBpZiAoZWxlbWVudC5raW5kID09PSBraW5kICYmIChwbGFjZW1lbnQgPT09IFwic3RhdGljXCIgfHwgcGxhY2VtZW50ID09PSBcInByb3RvdHlwZVwiKSkgeyB2YXIgcmVjZWl2ZXIgPSBwbGFjZW1lbnQgPT09IFwic3RhdGljXCIgPyBGIDogcHJvdG87IHRoaXMuZGVmaW5lQ2xhc3NFbGVtZW50KHJlY2VpdmVyLCBlbGVtZW50KTsgfSB9LCB0aGlzKTsgfSwgdGhpcyk7IH0sIGRlZmluZUNsYXNzRWxlbWVudDogZnVuY3Rpb24gZGVmaW5lQ2xhc3NFbGVtZW50KHJlY2VpdmVyLCBlbGVtZW50KSB7IHZhciBkZXNjcmlwdG9yID0gZWxlbWVudC5kZXNjcmlwdG9yOyBpZiAoZWxlbWVudC5raW5kID09PSBcImZpZWxkXCIpIHsgdmFyIGluaXRpYWxpemVyID0gZWxlbWVudC5pbml0aWFsaXplcjsgZGVzY3JpcHRvciA9IHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgdmFsdWU6IGluaXRpYWxpemVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbml0aWFsaXplci5jYWxsKHJlY2VpdmVyKSB9OyB9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWNlaXZlciwgZWxlbWVudC5rZXksIGRlc2NyaXB0b3IpOyB9LCBkZWNvcmF0ZUNsYXNzOiBmdW5jdGlvbiBkZWNvcmF0ZUNsYXNzKGVsZW1lbnRzLCBkZWNvcmF0b3JzKSB7IHZhciBuZXdFbGVtZW50cyA9IFtdOyB2YXIgZmluaXNoZXJzID0gW107IHZhciBwbGFjZW1lbnRzID0geyBcInN0YXRpY1wiOiBbXSwgcHJvdG90eXBlOiBbXSwgb3duOiBbXSB9OyBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IHRoaXMuYWRkRWxlbWVudFBsYWNlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzKTsgfSwgdGhpcyk7IGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgaWYgKCFfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSkgcmV0dXJuIG5ld0VsZW1lbnRzLnB1c2goZWxlbWVudCk7IHZhciBlbGVtZW50RmluaXNoZXJzRXh0cmFzID0gdGhpcy5kZWNvcmF0ZUVsZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7IG5ld0VsZW1lbnRzLnB1c2goZWxlbWVudEZpbmlzaGVyc0V4dHJhcy5lbGVtZW50KTsgbmV3RWxlbWVudHMucHVzaC5hcHBseShuZXdFbGVtZW50cywgZWxlbWVudEZpbmlzaGVyc0V4dHJhcy5leHRyYXMpOyBmaW5pc2hlcnMucHVzaC5hcHBseShmaW5pc2hlcnMsIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZmluaXNoZXJzKTsgfSwgdGhpcyk7IGlmICghZGVjb3JhdG9ycykgeyByZXR1cm4geyBlbGVtZW50czogbmV3RWxlbWVudHMsIGZpbmlzaGVyczogZmluaXNoZXJzIH07IH0gdmFyIHJlc3VsdCA9IHRoaXMuZGVjb3JhdGVDb25zdHJ1Y3RvcihuZXdFbGVtZW50cywgZGVjb3JhdG9ycyk7IGZpbmlzaGVycy5wdXNoLmFwcGx5KGZpbmlzaGVycywgcmVzdWx0LmZpbmlzaGVycyk7IHJlc3VsdC5maW5pc2hlcnMgPSBmaW5pc2hlcnM7IHJldHVybiByZXN1bHQ7IH0sIGFkZEVsZW1lbnRQbGFjZW1lbnQ6IGZ1bmN0aW9uIGFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cywgc2lsZW50KSB7IHZhciBrZXlzID0gcGxhY2VtZW50c1tlbGVtZW50LnBsYWNlbWVudF07IGlmICghc2lsZW50ICYmIGtleXMuaW5kZXhPZihlbGVtZW50LmtleSkgIT09IC0xKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEdXBsaWNhdGVkIGVsZW1lbnQgKFwiICsgZWxlbWVudC5rZXkgKyBcIilcIik7IH0ga2V5cy5wdXNoKGVsZW1lbnQua2V5KTsgfSwgZGVjb3JhdGVFbGVtZW50OiBmdW5jdGlvbiBkZWNvcmF0ZUVsZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cykgeyB2YXIgZXh0cmFzID0gW107IHZhciBmaW5pc2hlcnMgPSBbXTsgZm9yICh2YXIgZGVjb3JhdG9ycyA9IGVsZW1lbnQuZGVjb3JhdG9ycywgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsgdmFyIGtleXMgPSBwbGFjZW1lbnRzW2VsZW1lbnQucGxhY2VtZW50XTsga2V5cy5zcGxpY2Uoa2V5cy5pbmRleE9mKGVsZW1lbnQua2V5KSwgMSk7IHZhciBlbGVtZW50T2JqZWN0ID0gdGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudCk7IHZhciBlbGVtZW50RmluaXNoZXJFeHRyYXMgPSB0aGlzLnRvRWxlbWVudEZpbmlzaGVyRXh0cmFzKCgwLCBkZWNvcmF0b3JzW2ldKShlbGVtZW50T2JqZWN0KSB8fCBlbGVtZW50T2JqZWN0KTsgZWxlbWVudCA9IGVsZW1lbnRGaW5pc2hlckV4dHJhcy5lbGVtZW50OyB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7IGlmIChlbGVtZW50RmluaXNoZXJFeHRyYXMuZmluaXNoZXIpIHsgZmluaXNoZXJzLnB1c2goZWxlbWVudEZpbmlzaGVyRXh0cmFzLmZpbmlzaGVyKTsgfSB2YXIgbmV3RXh0cmFzID0gZWxlbWVudEZpbmlzaGVyRXh0cmFzLmV4dHJhczsgaWYgKG5ld0V4dHJhcykgeyBmb3IgKHZhciBqID0gMDsgaiA8IG5ld0V4dHJhcy5sZW5ndGg7IGorKykgeyB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQobmV3RXh0cmFzW2pdLCBwbGFjZW1lbnRzKTsgfSBleHRyYXMucHVzaC5hcHBseShleHRyYXMsIG5ld0V4dHJhcyk7IH0gfSByZXR1cm4geyBlbGVtZW50OiBlbGVtZW50LCBmaW5pc2hlcnM6IGZpbmlzaGVycywgZXh0cmFzOiBleHRyYXMgfTsgfSwgZGVjb3JhdGVDb25zdHJ1Y3RvcjogZnVuY3Rpb24gZGVjb3JhdGVDb25zdHJ1Y3RvcihlbGVtZW50cywgZGVjb3JhdG9ycykgeyB2YXIgZmluaXNoZXJzID0gW107IGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7IHZhciBvYmogPSB0aGlzLmZyb21DbGFzc0Rlc2NyaXB0b3IoZWxlbWVudHMpOyB2YXIgZWxlbWVudHNBbmRGaW5pc2hlciA9IHRoaXMudG9DbGFzc0Rlc2NyaXB0b3IoKDAsIGRlY29yYXRvcnNbaV0pKG9iaikgfHwgb2JqKTsgaWYgKGVsZW1lbnRzQW5kRmluaXNoZXIuZmluaXNoZXIgIT09IHVuZGVmaW5lZCkgeyBmaW5pc2hlcnMucHVzaChlbGVtZW50c0FuZEZpbmlzaGVyLmZpbmlzaGVyKTsgfSBpZiAoZWxlbWVudHNBbmRGaW5pc2hlci5lbGVtZW50cyAhPT0gdW5kZWZpbmVkKSB7IGVsZW1lbnRzID0gZWxlbWVudHNBbmRGaW5pc2hlci5lbGVtZW50czsgZm9yICh2YXIgaiA9IDA7IGogPCBlbGVtZW50cy5sZW5ndGggLSAxOyBqKyspIHsgZm9yICh2YXIgayA9IGogKyAxOyBrIDwgZWxlbWVudHMubGVuZ3RoOyBrKyspIHsgaWYgKGVsZW1lbnRzW2pdLmtleSA9PT0gZWxlbWVudHNba10ua2V5ICYmIGVsZW1lbnRzW2pdLnBsYWNlbWVudCA9PT0gZWxlbWVudHNba10ucGxhY2VtZW50KSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEdXBsaWNhdGVkIGVsZW1lbnQgKFwiICsgZWxlbWVudHNbal0ua2V5ICsgXCIpXCIpOyB9IH0gfSB9IH0gcmV0dXJuIHsgZWxlbWVudHM6IGVsZW1lbnRzLCBmaW5pc2hlcnM6IGZpbmlzaGVycyB9OyB9LCBmcm9tRWxlbWVudERlc2NyaXB0b3I6IGZ1bmN0aW9uIGZyb21FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50KSB7IHZhciBvYmogPSB7IGtpbmQ6IGVsZW1lbnQua2luZCwga2V5OiBlbGVtZW50LmtleSwgcGxhY2VtZW50OiBlbGVtZW50LnBsYWNlbWVudCwgZGVzY3JpcHRvcjogZWxlbWVudC5kZXNjcmlwdG9yIH07IHZhciBkZXNjID0geyB2YWx1ZTogXCJEZXNjcmlwdG9yXCIsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9OyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBTeW1ib2wudG9TdHJpbmdUYWcsIGRlc2MpOyBpZiAoZWxlbWVudC5raW5kID09PSBcImZpZWxkXCIpIG9iai5pbml0aWFsaXplciA9IGVsZW1lbnQuaW5pdGlhbGl6ZXI7IHJldHVybiBvYmo7IH0sIHRvRWxlbWVudERlc2NyaXB0b3JzOiBmdW5jdGlvbiB0b0VsZW1lbnREZXNjcmlwdG9ycyhlbGVtZW50T2JqZWN0cykgeyBpZiAoZWxlbWVudE9iamVjdHMgPT09IHVuZGVmaW5lZCkgcmV0dXJuOyByZXR1cm4gX3RvQXJyYXkoZWxlbWVudE9iamVjdHMpLm1hcChmdW5jdGlvbiAoZWxlbWVudE9iamVjdCkgeyB2YXIgZWxlbWVudCA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50T2JqZWN0KTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGVsZW1lbnRPYmplY3QsIFwiZmluaXNoZXJcIiwgXCJBbiBlbGVtZW50IGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImV4dHJhc1wiLCBcIkFuIGVsZW1lbnQgZGVzY3JpcHRvclwiKTsgcmV0dXJuIGVsZW1lbnQ7IH0sIHRoaXMpOyB9LCB0b0VsZW1lbnREZXNjcmlwdG9yOiBmdW5jdGlvbiB0b0VsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnRPYmplY3QpIHsgdmFyIGtpbmQgPSBTdHJpbmcoZWxlbWVudE9iamVjdC5raW5kKTsgaWYgKGtpbmQgIT09IFwibWV0aG9kXCIgJiYga2luZCAhPT0gXCJmaWVsZFwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0FuIGVsZW1lbnQgZGVzY3JpcHRvclxcJ3MgLmtpbmQgcHJvcGVydHkgbXVzdCBiZSBlaXRoZXIgXCJtZXRob2RcIiBvcicgKyAnIFwiZmllbGRcIiwgYnV0IGEgZGVjb3JhdG9yIGNyZWF0ZWQgYW4gZWxlbWVudCBkZXNjcmlwdG9yIHdpdGgnICsgJyAua2luZCBcIicgKyBraW5kICsgJ1wiJyk7IH0gdmFyIGtleSA9IF90b1Byb3BlcnR5S2V5KGVsZW1lbnRPYmplY3Qua2V5KTsgdmFyIHBsYWNlbWVudCA9IFN0cmluZyhlbGVtZW50T2JqZWN0LnBsYWNlbWVudCk7IGlmIChwbGFjZW1lbnQgIT09IFwic3RhdGljXCIgJiYgcGxhY2VtZW50ICE9PSBcInByb3RvdHlwZVwiICYmIHBsYWNlbWVudCAhPT0gXCJvd25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbiBlbGVtZW50IGRlc2NyaXB0b3JcXCdzIC5wbGFjZW1lbnQgcHJvcGVydHkgbXVzdCBiZSBvbmUgb2YgXCJzdGF0aWNcIiwnICsgJyBcInByb3RvdHlwZVwiIG9yIFwib3duXCIsIGJ1dCBhIGRlY29yYXRvciBjcmVhdGVkIGFuIGVsZW1lbnQgZGVzY3JpcHRvcicgKyAnIHdpdGggLnBsYWNlbWVudCBcIicgKyBwbGFjZW1lbnQgKyAnXCInKTsgfSB2YXIgZGVzY3JpcHRvciA9IGVsZW1lbnRPYmplY3QuZGVzY3JpcHRvcjsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGVsZW1lbnRPYmplY3QsIFwiZWxlbWVudHNcIiwgXCJBbiBlbGVtZW50IGRlc2NyaXB0b3JcIik7IHZhciBlbGVtZW50ID0geyBraW5kOiBraW5kLCBrZXk6IGtleSwgcGxhY2VtZW50OiBwbGFjZW1lbnQsIGRlc2NyaXB0b3I6IE9iamVjdC5hc3NpZ24oe30sIGRlc2NyaXB0b3IpIH07IGlmIChraW5kICE9PSBcImZpZWxkXCIpIHsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGVsZW1lbnRPYmplY3QsIFwiaW5pdGlhbGl6ZXJcIiwgXCJBIG1ldGhvZCBkZXNjcmlwdG9yXCIpOyB9IGVsc2UgeyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZGVzY3JpcHRvciwgXCJnZXRcIiwgXCJUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShkZXNjcmlwdG9yLCBcInNldFwiLCBcIlRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGRlc2NyaXB0b3IsIFwidmFsdWVcIiwgXCJUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3JcIik7IGVsZW1lbnQuaW5pdGlhbGl6ZXIgPSBlbGVtZW50T2JqZWN0LmluaXRpYWxpemVyOyB9IHJldHVybiBlbGVtZW50OyB9LCB0b0VsZW1lbnRGaW5pc2hlckV4dHJhczogZnVuY3Rpb24gdG9FbGVtZW50RmluaXNoZXJFeHRyYXMoZWxlbWVudE9iamVjdCkgeyB2YXIgZWxlbWVudCA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50T2JqZWN0KTsgdmFyIGZpbmlzaGVyID0gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImZpbmlzaGVyXCIpOyB2YXIgZXh0cmFzID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9ycyhlbGVtZW50T2JqZWN0LmV4dHJhcyk7IHJldHVybiB7IGVsZW1lbnQ6IGVsZW1lbnQsIGZpbmlzaGVyOiBmaW5pc2hlciwgZXh0cmFzOiBleHRyYXMgfTsgfSwgZnJvbUNsYXNzRGVzY3JpcHRvcjogZnVuY3Rpb24gZnJvbUNsYXNzRGVzY3JpcHRvcihlbGVtZW50cykgeyB2YXIgb2JqID0geyBraW5kOiBcImNsYXNzXCIsIGVsZW1lbnRzOiBlbGVtZW50cy5tYXAodGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IsIHRoaXMpIH07IHZhciBkZXNjID0geyB2YWx1ZTogXCJEZXNjcmlwdG9yXCIsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9OyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBTeW1ib2wudG9TdHJpbmdUYWcsIGRlc2MpOyByZXR1cm4gb2JqOyB9LCB0b0NsYXNzRGVzY3JpcHRvcjogZnVuY3Rpb24gdG9DbGFzc0Rlc2NyaXB0b3Iob2JqKSB7IHZhciBraW5kID0gU3RyaW5nKG9iai5raW5kKTsgaWYgKGtpbmQgIT09IFwiY2xhc3NcIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdBIGNsYXNzIGRlc2NyaXB0b3JcXCdzIC5raW5kIHByb3BlcnR5IG11c3QgYmUgXCJjbGFzc1wiLCBidXQgYSBkZWNvcmF0b3InICsgJyBjcmVhdGVkIGEgY2xhc3MgZGVzY3JpcHRvciB3aXRoIC5raW5kIFwiJyArIGtpbmQgKyAnXCInKTsgfSB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCBcImtleVwiLCBcIkEgY2xhc3MgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgXCJwbGFjZW1lbnRcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwiZGVzY3JpcHRvclwiLCBcIkEgY2xhc3MgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgXCJpbml0aWFsaXplclwiLCBcIkEgY2xhc3MgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgXCJleHRyYXNcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHZhciBmaW5pc2hlciA9IF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkob2JqLCBcImZpbmlzaGVyXCIpOyB2YXIgZWxlbWVudHMgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3JzKG9iai5lbGVtZW50cyk7IHJldHVybiB7IGVsZW1lbnRzOiBlbGVtZW50cywgZmluaXNoZXI6IGZpbmlzaGVyIH07IH0sIHJ1bkNsYXNzRmluaXNoZXJzOiBmdW5jdGlvbiBydW5DbGFzc0ZpbmlzaGVycyhjb25zdHJ1Y3RvciwgZmluaXNoZXJzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgZmluaXNoZXJzLmxlbmd0aDsgaSsrKSB7IHZhciBuZXdDb25zdHJ1Y3RvciA9ICgwLCBmaW5pc2hlcnNbaV0pKGNvbnN0cnVjdG9yKTsgaWYgKG5ld0NvbnN0cnVjdG9yICE9PSB1bmRlZmluZWQpIHsgaWYgKHR5cGVvZiBuZXdDb25zdHJ1Y3RvciAhPT0gXCJmdW5jdGlvblwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJGaW5pc2hlcnMgbXVzdCByZXR1cm4gYSBjb25zdHJ1Y3Rvci5cIik7IH0gY29uc3RydWN0b3IgPSBuZXdDb25zdHJ1Y3RvcjsgfSB9IHJldHVybiBjb25zdHJ1Y3RvcjsgfSwgZGlzYWxsb3dQcm9wZXJ0eTogZnVuY3Rpb24gZGlzYWxsb3dQcm9wZXJ0eShvYmosIG5hbWUsIG9iamVjdFR5cGUpIHsgaWYgKG9ialtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7IHRocm93IG5ldyBUeXBlRXJyb3Iob2JqZWN0VHlwZSArIFwiIGNhbid0IGhhdmUgYSAuXCIgKyBuYW1lICsgXCIgcHJvcGVydHkuXCIpOyB9IH0gfTsgcmV0dXJuIGFwaTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRWxlbWVudERlc2NyaXB0b3IoZGVmKSB7IHZhciBrZXkgPSBfdG9Qcm9wZXJ0eUtleShkZWYua2V5KTsgdmFyIGRlc2NyaXB0b3I7IGlmIChkZWYua2luZCA9PT0gXCJtZXRob2RcIikgeyBkZXNjcmlwdG9yID0geyB2YWx1ZTogZGVmLnZhbHVlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSB9OyB9IGVsc2UgaWYgKGRlZi5raW5kID09PSBcImdldFwiKSB7IGRlc2NyaXB0b3IgPSB7IGdldDogZGVmLnZhbHVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlIH07IH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09IFwic2V0XCIpIHsgZGVzY3JpcHRvciA9IHsgc2V0OiBkZWYudmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UgfTsgfSBlbHNlIGlmIChkZWYua2luZCA9PT0gXCJmaWVsZFwiKSB7IGRlc2NyaXB0b3IgPSB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUgfTsgfSB2YXIgZWxlbWVudCA9IHsga2luZDogZGVmLmtpbmQgPT09IFwiZmllbGRcIiA/IFwiZmllbGRcIiA6IFwibWV0aG9kXCIsIGtleToga2V5LCBwbGFjZW1lbnQ6IGRlZltcInN0YXRpY1wiXSA/IFwic3RhdGljXCIgOiBkZWYua2luZCA9PT0gXCJmaWVsZFwiID8gXCJvd25cIiA6IFwicHJvdG90eXBlXCIsIGRlc2NyaXB0b3I6IGRlc2NyaXB0b3IgfTsgaWYgKGRlZi5kZWNvcmF0b3JzKSBlbGVtZW50LmRlY29yYXRvcnMgPSBkZWYuZGVjb3JhdG9yczsgaWYgKGRlZi5raW5kID09PSBcImZpZWxkXCIpIGVsZW1lbnQuaW5pdGlhbGl6ZXIgPSBkZWYudmFsdWU7IHJldHVybiBlbGVtZW50OyB9XG5cbmZ1bmN0aW9uIF9jb2FsZXNjZUdldHRlclNldHRlcihlbGVtZW50LCBvdGhlcikgeyBpZiAoZWxlbWVudC5kZXNjcmlwdG9yLmdldCAhPT0gdW5kZWZpbmVkKSB7IG90aGVyLmRlc2NyaXB0b3IuZ2V0ID0gZWxlbWVudC5kZXNjcmlwdG9yLmdldDsgfSBlbHNlIHsgb3RoZXIuZGVzY3JpcHRvci5zZXQgPSBlbGVtZW50LmRlc2NyaXB0b3Iuc2V0OyB9IH1cblxuZnVuY3Rpb24gX2NvYWxlc2NlQ2xhc3NFbGVtZW50cyhlbGVtZW50cykgeyB2YXIgbmV3RWxlbWVudHMgPSBbXTsgdmFyIGlzU2FtZUVsZW1lbnQgPSBmdW5jdGlvbiBpc1NhbWVFbGVtZW50KG90aGVyKSB7IHJldHVybiBvdGhlci5raW5kID09PSBcIm1ldGhvZFwiICYmIG90aGVyLmtleSA9PT0gZWxlbWVudC5rZXkgJiYgb3RoZXIucGxhY2VtZW50ID09PSBlbGVtZW50LnBsYWNlbWVudDsgfTsgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2ldOyB2YXIgb3RoZXI7IGlmIChlbGVtZW50LmtpbmQgPT09IFwibWV0aG9kXCIgJiYgKG90aGVyID0gbmV3RWxlbWVudHMuZmluZChpc1NhbWVFbGVtZW50KSkpIHsgaWYgKF9pc0RhdGFEZXNjcmlwdG9yKGVsZW1lbnQuZGVzY3JpcHRvcikgfHwgX2lzRGF0YURlc2NyaXB0b3Iob3RoZXIuZGVzY3JpcHRvcikpIHsgaWYgKF9oYXNEZWNvcmF0b3JzKGVsZW1lbnQpIHx8IF9oYXNEZWNvcmF0b3JzKG90aGVyKSkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJEdXBsaWNhdGVkIG1ldGhvZHMgKFwiICsgZWxlbWVudC5rZXkgKyBcIikgY2FuJ3QgYmUgZGVjb3JhdGVkLlwiKTsgfSBvdGhlci5kZXNjcmlwdG9yID0gZWxlbWVudC5kZXNjcmlwdG9yOyB9IGVsc2UgeyBpZiAoX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHsgaWYgKF9oYXNEZWNvcmF0b3JzKG90aGVyKSkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJEZWNvcmF0b3JzIGNhbid0IGJlIHBsYWNlZCBvbiBkaWZmZXJlbnQgYWNjZXNzb3JzIHdpdGggZm9yIFwiICsgXCJ0aGUgc2FtZSBwcm9wZXJ0eSAoXCIgKyBlbGVtZW50LmtleSArIFwiKS5cIik7IH0gb3RoZXIuZGVjb3JhdG9ycyA9IGVsZW1lbnQuZGVjb3JhdG9yczsgfSBfY29hbGVzY2VHZXR0ZXJTZXR0ZXIoZWxlbWVudCwgb3RoZXIpOyB9IH0gZWxzZSB7IG5ld0VsZW1lbnRzLnB1c2goZWxlbWVudCk7IH0gfSByZXR1cm4gbmV3RWxlbWVudHM7IH1cblxuZnVuY3Rpb24gX2hhc0RlY29yYXRvcnMoZWxlbWVudCkgeyByZXR1cm4gZWxlbWVudC5kZWNvcmF0b3JzICYmIGVsZW1lbnQuZGVjb3JhdG9ycy5sZW5ndGg7IH1cblxuZnVuY3Rpb24gX2lzRGF0YURlc2NyaXB0b3IoZGVzYykgeyByZXR1cm4gZGVzYyAhPT0gdW5kZWZpbmVkICYmICEoZGVzYy52YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGRlc2Mud3JpdGFibGUgPT09IHVuZGVmaW5lZCk7IH1cblxuZnVuY3Rpb24gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShvYmosIG5hbWUpIHsgdmFyIHZhbHVlID0gb2JqW25hbWVdOyBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgJ1wiICsgbmFtZSArIFwiJyB0byBiZSBhIGZ1bmN0aW9uXCIpOyB9IHJldHVybiB2YWx1ZTsgfVxuXG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cblxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7IGlmIChfdHlwZW9mKHJlcykgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfVxuXG5mdW5jdGlvbiBfdG9BcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ICE9PSBcInVuZGVmaW5lZFwiICYmIFJlZmxlY3QuZ2V0KSB7IF9nZXQgPSBSZWZsZWN0LmdldDsgfSBlbHNlIHsgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTsgaWYgKCFiYXNlKSByZXR1cm47IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7IGlmIChkZXNjLmdldCkgeyByZXR1cm4gZGVzYy5nZXQuY2FsbChyZWNlaXZlcik7IH0gcmV0dXJuIGRlc2MudmFsdWU7IH07IH0gcmV0dXJuIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIgfHwgdGFyZ2V0KTsgfVxuXG5mdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShvYmplY3QsIHByb3BlcnR5KSB7IHdoaWxlICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpKSB7IG9iamVjdCA9IF9nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhazsgfSByZXR1cm4gb2JqZWN0OyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxudmFyIE5vZGUgPSByZXF1aXJlKCcuLi9UcmVlL05vZGUnKTtcblxudmFyIENoYW5uZWwgPSByZXF1aXJlKCcuLi9DaGFubmVscy9DaGFubmVsJyk7XG5cbnZhciBoYW5kbGVSZXNpemUgPSByZXF1aXJlKCcuL2RlY29yYXRvcnMvaGFuZGxlUmVzaXplJyk7XG5cbnZhciBzZXRCbG9jayA9IHJlcXVpcmUoJy4vZGVjb3JhdG9ycy9ibG9jaycpO1xuXG52YXIgdW5ibG9jayA9IHJlcXVpcmUoJy4vZGVjb3JhdG9ycy91bmJsb2NrJyk7XG5cbnZhciBHcm91cCA9IF9kZWNvcmF0ZShudWxsLCBmdW5jdGlvbiAoX2luaXRpYWxpemUsIF9Ob2RlKSB7XG4gIHZhciBHcm91cCA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9Ob2RlMikge1xuICAgIF9pbmhlcml0cyhHcm91cCwgX05vZGUyKTtcblxuICAgIGZ1bmN0aW9uIEdyb3VwKGF0dHJzLCBwcm9wcykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR3JvdXApO1xuXG4gICAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihHcm91cCkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICBfaW5pdGlhbGl6ZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG5cbiAgICAgIF90aGlzLm1jX3BsdWdpbl9ucG1fbmFtZSA9ICdtb3Rvci1jb3J0ZXgtanMnO1xuICAgICAgX3RoaXMucGx1Z2luX2NoYW5uZWxfY2xhc3MgPSBDaGFubmVsO1xuICAgICAgX3RoaXMuaGFzSW5jaWRlbnRzID0gdHJ1ZTtcblxuICAgICAgX3RoaXMub25Hcm91cEluaXRpYWxpc2UoKTtcblxuICAgICAgX3RoaXMuY2FsY3VsYXRlZER1cmF0aW9uID0gMDtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gR3JvdXA7XG4gIH0oX05vZGUpO1xuXG4gIHJldHVybiB7XG4gICAgRjogR3JvdXAsXG4gICAgZDogW3tcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwib25Hcm91cEluaXRpYWxpc2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkdyb3VwSW5pdGlhbGlzZSgpIHsvLyBjYWxsZWQgd2hlbiBncm91cCBnZXRzIGluaXRpYWxpc2VkXG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJoYW5kbGVBZGRJbmNpZGVudFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUFkZEluY2lkZW50KHRhcmdldCwgcGF5bG9hZCkge1xuICAgICAgICBpZiAodGhpcy5pZCA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgdmFyIGluY2lkZW50RnJvbURlc2NyaXB0aW9uID0gcmVxdWlyZSgnLi4vSW5jaWRlbnRGcm9tRGVmaW5pdGlvbi9pbmNpZGVudEZyb21EZXNjcmlwdGlvbicpO1xuXG4gICAgICAgICAgdmFyIHRoZUluY2lkZW50ID0gaW5jaWRlbnRGcm9tRGVzY3JpcHRpb24ocGF5bG9hZC5pbmNpZGVudCwgcGF5bG9hZC5jb250ZXh0RGF0YSwgcGF5bG9hZC5hdWRpbyk7IC8vIGluIHRoZSBjYXNlIHRoYXQgYW4gYXVkaW8gY2xpcCB0cmllcyB0byBwcm9jZXNzIGFuIG5vbi1hdWRpbyBpbmNpZGVudCBvclxuICAgICAgICAgIC8vIGEgbm9uLWF1ZGlvIGluY2lkZW50IHRyaWVzIHRvIHByb2Nlc3MgYW4gYXVkaW8gaW5jaWRlbnQgdGhlIHJlc3VsdCBmcm9tIGluY2lkZW50RnJvbURlc2NyaXB0aW9uIGlzIG51bGxcbiAgICAgICAgICAvLyBpbiBzdWNoIGEgY2FzZSB0aGVyZSBzaG91bGQgYmUgbm8gY2FuZGlkYXRlIHJldHVybiwgc28gdGhpcy5ieXBhc3MoKVxuXG4gICAgICAgICAgaWYgKHRoZUluY2lkZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ieXBhc3MoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoZUluY2lkZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ieXBhc3MoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwiaGFuZGxlTW92ZUluY2lkZW50XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlTW92ZUluY2lkZW50KHRhcmdldCwgcGF5bG9hZCkge1xuICAgICAgICBpZiAodGhpcy5pZCA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgdmFyIHJlcyA9IHRoaXMuZ2V0TGVhZkJ5SWQocGF5bG9hZC5pbmNpZGVudElkLCB0cnVlKTtcblxuICAgICAgICAgIGlmIChyZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJ5cGFzcygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYnlwYXNzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImhhbmRsZVJlbW92ZUluY2lkZW50XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlSW5jaWRlbnQodGFyZ2V0LCBwYXlsb2FkKSB7XG4gICAgICAgIGlmICh0aGlzLmlkID09PSB0YXJnZXQpIHtcbiAgICAgICAgICB2YXIgcmVzID0gdGhpcy5nZXRMZWFmQnlJZChwYXlsb2FkLmluY2lkZW50SWQsIHRydWUpO1xuXG4gICAgICAgICAgaWYgKHJlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnlwYXNzKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ieXBhc3MoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBkZWNvcmF0b3JzOiBbaGFuZGxlUmVzaXplXSxcbiAgICAgIGtleTogXCJoYW5kbGVSZXNpemVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVSZXNpemUoKSB7fVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwicmVtb3ZlQ2hpbGRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVDaGlsZChpZCkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2lkXS5sZWFmLmxhc3RXaXNoKCk7XG5cbiAgICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoR3JvdXAucHJvdG90eXBlKSwgXCJyZW1vdmVDaGlsZFwiLCB0aGlzKS5jYWxsKHRoaXMsIGlkKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBoYXMgdGhlIGtleSBvZiB0aGUgbnBtIHBsdWdpbiBuYW1lIHRoZSBDaGFubmVsIG9mIHdoaWNoIG1hbmFnZXMgdGhlIHNwZWNpZmljIEluY2lkZW50XG4gICAgICAgKiBXaXRoIHRoZSBzYW1lIGxvZ2ljIGFsbCBJbmNpZGVudHMgdGhhdCBiZWxvbmcgdG8gdGhpcyBHcm91cCBhcyBjYXRlZ29yaXNlZCBieSBwbHVnaW4gLyBjaGFubmVsIG9uIHRoZSBzYW1lIG9iamVjdFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImdldEluY2lkZW50c0J5Q2hhbm5lbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluY2lkZW50c0J5Q2hhbm5lbCgpIHtcbiAgICAgICAgdmFyIGFkanVzdE1pbGxpc2Vjb25kID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgcGFyZW50TWlsbGlzZWNvbmQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICAgIC8vIGluaXRpYWxseSBpdCBvbmx5IHB1dHMgaXRzZWxmIG9udGhlIGluY2lkZW50c0J5UGx1Z2luIGFycmF5LCBleGFjdGx5IGFzIHRoZSBwbGFpbiBJbmNpZGVudHMgZG9cbiAgICAgICAgdmFyIGluY2lkZW50c0J5UGx1Z2luID0ge307XG4gICAgICAgIGluY2lkZW50c0J5UGx1Z2luWydtb3Rvci1jb3J0ZXgtanMnXSA9IFt7XG4gICAgICAgICAgbWlsbGlzZWNvbmQ6IGFkanVzdE1pbGxpc2Vjb25kLFxuICAgICAgICAgIHBhcmVudE1pbGxpc2Vjb25kOiBwYXJlbnRNaWxsaXNlY29uZCxcbiAgICAgICAgICBpbmNpZGVudDogdGhpcyxcbiAgICAgICAgICBpZDogdGhpcy5pZFxuICAgICAgICB9XTsgLy8gcHJvY2VlZCB0byBnYXRoZXIgdGhlIGNvbnRhaW5lZCBpbmNpZGVudHMgYXMgd2VsbFxuXG4gICAgICAgIGZvciAodmFyIGNoaWxkSWQgaW4gdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5bY2hpbGRJZF07XG4gICAgICAgICAgdmFyIGluY2lkZW50c1RvQWRkID0gY2hpbGQubGVhZi5nZXRJbmNpZGVudHNCeUNoYW5uZWwoYWRqdXN0TWlsbGlzZWNvbmQgKyBjaGlsZC5wb3NpdGlvbiwgYWRqdXN0TWlsbGlzZWNvbmQpO1xuXG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIGluY2lkZW50c1RvQWRkKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluY2lkZW50c0J5UGx1Z2luLCBrZXkpKSB7XG4gICAgICAgICAgICAgIGluY2lkZW50c0J5UGx1Z2luW2tleV0gPSBpbmNpZGVudHNCeVBsdWdpbltrZXldLmNvbmNhdChpbmNpZGVudHNUb0FkZFtrZXldKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGluY2lkZW50c0J5UGx1Z2luW2tleV0gPSBpbmNpZGVudHNUb0FkZFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmNpZGVudHNCeVBsdWdpbjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImxhc3RXaXNoXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbGFzdFdpc2goKSB7XG4gICAgICAgIGZvciAodmFyIGNoaWxkSWQgaW4gdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgIHRoaXMuY2hpbGRyZW5bY2hpbGRJZF0ubGVhZi5sYXN0V2lzaCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGRlY29yYXRvcnM6IFtzZXRCbG9ja10sXG4gICAgICBrZXk6IFwic2V0QmxvY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRCbG9jaygpIHt9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGRlY29yYXRvcnM6IFt1bmJsb2NrXSxcbiAgICAgIGtleTogXCJ1bmJsb2NrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdW5ibG9jaygpIHt9XG4gICAgfV1cbiAgfTtcbn0sIE5vZGUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEdyb3VwOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/Group.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/MediaPlayIncident.js":
/*!***************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/MediaPlayIncident.js ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar Helper = __webpack_require__(/*! ../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar MediaChannel = __webpack_require__(/*! ../Channels/Media/AudioPlaybackChannel */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Media/AudioPlaybackChannel.js\");\n\nvar getIncidentsByChannel = __webpack_require__(/*! ../_decorators/getIncidentsByChannel */ \"../node_modules/@kissmybutton/motorcortex/dist/_decorators/getIncidentsByChannel.js\");\n\nvar setBlock = __webpack_require__(/*! ./decorators/block */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/block.js\");\n\nvar unblock = __webpack_require__(/*! ./decorators/unblock */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/unblock.js\");\n/*\ndna:\n- originalId\n- context\n*/\n\n\nvar MediaPlay = _decorate(null, function (_initialize) {\n  var MediaPlay = function MediaPlay() {\n    var attrs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var dna = arguments.length > 2 ? arguments[2] : undefined;\n\n    _classCallCheck(this, MediaPlay);\n\n    _initialize(this);\n\n    // super(props);\n    this.attrs = attrs;\n    this.props = props;\n    this.dna = dna;\n    this.context = dna.context;\n    this.mcid = dna.mcid;\n    this.id = props.id || helper.getAnId();\n    this.modelId = props.modelId; // this parameter is initialised to false. Once the onGetContext method gets invoked this parameter\n    // is set to true so we prevent multiple executions of the onGetContext method\n\n    this.gotContext = false;\n    /*\n    these are the default values that define channeling for the default Incidents. These values get ovewriden through\n    the loadPlugin method of MC with the values found on the main.js file of the plugin\n    */\n\n    this.plugin_channel_class = MediaChannel;\n    this.mc_plugin_npm_name = \"motor-cortex-js-media-playback\";\n\n    if (Object.prototype.hasOwnProperty.call(props, \"plugin_channel_class\")) {\n      this.plugin_channel_class = props.plugin_channel_class;\n    }\n\n    if (Object.prototype.hasOwnProperty.call(props, \"mc_plugin_npm_name\")) {\n      this.mc_plugin_npm_name = props.mc_plugin_npm_name;\n    }\n\n    this.hasIncidents = false;\n    /**\n     * @member {boolean} - if autoGenerated is set to true, it means that this Incident has been auto-generated by its parent on initialisation.\n     * This happens when plugins export Incidents that on initialisation they automatically create other incidents and automatically put them\n     * on specific points on their timeline.\n     */\n\n    this.autoGenerated = false;\n    this.onInitialise(attrs, props);\n  };\n\n  return {\n    F: MediaPlay,\n    d: [{\n      kind: \"get\",\n      key: \"selector\",\n      value: function selector() {\n        return this.props.selector;\n      }\n    }, {\n      kind: \"get\",\n      key: \"element\",\n      value: function element() {\n        return this.context.getElementByMCID(this.mcid);\n      }\n    }, {\n      kind: \"method\",\n      decorators: [getIncidentsByChannel],\n      key: \"getIncidentsByChannel\",\n      value: function getIncidentsByChannel() {}\n    }, {\n      kind: \"method\",\n      key: \"_onGetContextOnce\",\n      value: function _onGetContextOnce() {\n        // if the Incident belongs to a fragmented context there absolutely\n        // no reason to run the getContext method of it\n        try {\n          if (this.context.fragment === true) {\n            return;\n          }\n\n          if (!this.gotContext) {\n            this.onGetContext();\n            this.gotContext = true;\n          }\n        } catch (e) {\n          console.log(e);\n          console.log(this.mcid); // console.log(this.context);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"onGetContext\",\n      value: function onGetContext() {\n        helper.info('Overwritte the \"onGetContext\" method with the code you want to get executed', 'info');\n      }\n    }, {\n      kind: \"method\",\n      key: \"lastWish\",\n      value: function lastWish() {}\n    }, {\n      kind: \"method\",\n      key: \"onInitialise\",\n      value: function onInitialise() {\n        helper.info('Overwritte the \"onInialise\" method with the code you want to get executed', 'info');\n      }\n      /**\n       * Method called on progress of the timed incident.\n       * @param {float} fraction - a number from 0 to 1 representing the fraction of duration covered\n       * @param {int} milliseconds - the number of milliseconds passed from start of the incident\n       */\n\n    }, {\n      kind: \"method\",\n      key: \"onProgress\",\n      value: function onProgress(fraction, milliseconds) {} // eslint-disable-line no-unused-vars\n\n      /**\n       * starts the execution of the media from the specified millisecond\n       **/\n\n    }, {\n      kind: \"method\",\n      key: \"play\",\n      value: function play(millisecond) {\n        return true;\n      }\n      /**\n       * stops the execution of the media\n       **/\n\n    }, {\n      kind: \"method\",\n      key: \"stop\",\n      value: function stop() {}\n    }, {\n      kind: \"method\",\n      decorators: [setBlock],\n      key: \"setBlock\",\n      value: function setBlock() {}\n    }, {\n      kind: \"method\",\n      decorators: [unblock],\n      key: \"unblock\",\n      value: function unblock() {}\n    }]\n  };\n});\n\nmodule.exports = MediaPlay;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9CYXNlQ2xhc3Nlcy9NZWRpYVBsYXlJbmNpZGVudC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L0Jhc2VDbGFzc2VzL01lZGlhUGxheUluY2lkZW50LmpzP2FiNmYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWNvcmF0ZShkZWNvcmF0b3JzLCBmYWN0b3J5LCBzdXBlckNsYXNzLCBtaXhpbnMpIHsgdmFyIGFwaSA9IF9nZXREZWNvcmF0b3JzQXBpKCk7IGlmIChtaXhpbnMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBtaXhpbnMubGVuZ3RoOyBpKyspIHsgYXBpID0gbWl4aW5zW2ldKGFwaSk7IH0gfSB2YXIgciA9IGZhY3RvcnkoZnVuY3Rpb24gaW5pdGlhbGl6ZShPKSB7IGFwaS5pbml0aWFsaXplSW5zdGFuY2VFbGVtZW50cyhPLCBkZWNvcmF0ZWQuZWxlbWVudHMpOyB9LCBzdXBlckNsYXNzKTsgdmFyIGRlY29yYXRlZCA9IGFwaS5kZWNvcmF0ZUNsYXNzKF9jb2FsZXNjZUNsYXNzRWxlbWVudHMoci5kLm1hcChfY3JlYXRlRWxlbWVudERlc2NyaXB0b3IpKSwgZGVjb3JhdG9ycyk7IGFwaS5pbml0aWFsaXplQ2xhc3NFbGVtZW50cyhyLkYsIGRlY29yYXRlZC5lbGVtZW50cyk7IHJldHVybiBhcGkucnVuQ2xhc3NGaW5pc2hlcnMoci5GLCBkZWNvcmF0ZWQuZmluaXNoZXJzKTsgfVxuXG5mdW5jdGlvbiBfZ2V0RGVjb3JhdG9yc0FwaSgpIHsgX2dldERlY29yYXRvcnNBcGkgPSBmdW5jdGlvbiBfZ2V0RGVjb3JhdG9yc0FwaSgpIHsgcmV0dXJuIGFwaTsgfTsgdmFyIGFwaSA9IHsgZWxlbWVudHNEZWZpbml0aW9uT3JkZXI6IFtbXCJtZXRob2RcIl0sIFtcImZpZWxkXCJdXSwgaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHM6IGZ1bmN0aW9uIGluaXRpYWxpemVJbnN0YW5jZUVsZW1lbnRzKE8sIGVsZW1lbnRzKSB7IFtcIm1ldGhvZFwiLCBcImZpZWxkXCJdLmZvckVhY2goZnVuY3Rpb24gKGtpbmQpIHsgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgeyBpZiAoZWxlbWVudC5raW5kID09PSBraW5kICYmIGVsZW1lbnQucGxhY2VtZW50ID09PSBcIm93blwiKSB7IHRoaXMuZGVmaW5lQ2xhc3NFbGVtZW50KE8sIGVsZW1lbnQpOyB9IH0sIHRoaXMpOyB9LCB0aGlzKTsgfSwgaW5pdGlhbGl6ZUNsYXNzRWxlbWVudHM6IGZ1bmN0aW9uIGluaXRpYWxpemVDbGFzc0VsZW1lbnRzKEYsIGVsZW1lbnRzKSB7IHZhciBwcm90byA9IEYucHJvdG90eXBlOyBbXCJtZXRob2RcIiwgXCJmaWVsZFwiXS5mb3JFYWNoKGZ1bmN0aW9uIChraW5kKSB7IGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgdmFyIHBsYWNlbWVudCA9IGVsZW1lbnQucGxhY2VtZW50OyBpZiAoZWxlbWVudC5raW5kID09PSBraW5kICYmIChwbGFjZW1lbnQgPT09IFwic3RhdGljXCIgfHwgcGxhY2VtZW50ID09PSBcInByb3RvdHlwZVwiKSkgeyB2YXIgcmVjZWl2ZXIgPSBwbGFjZW1lbnQgPT09IFwic3RhdGljXCIgPyBGIDogcHJvdG87IHRoaXMuZGVmaW5lQ2xhc3NFbGVtZW50KHJlY2VpdmVyLCBlbGVtZW50KTsgfSB9LCB0aGlzKTsgfSwgdGhpcyk7IH0sIGRlZmluZUNsYXNzRWxlbWVudDogZnVuY3Rpb24gZGVmaW5lQ2xhc3NFbGVtZW50KHJlY2VpdmVyLCBlbGVtZW50KSB7IHZhciBkZXNjcmlwdG9yID0gZWxlbWVudC5kZXNjcmlwdG9yOyBpZiAoZWxlbWVudC5raW5kID09PSBcImZpZWxkXCIpIHsgdmFyIGluaXRpYWxpemVyID0gZWxlbWVudC5pbml0aWFsaXplcjsgZGVzY3JpcHRvciA9IHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgdmFsdWU6IGluaXRpYWxpemVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbml0aWFsaXplci5jYWxsKHJlY2VpdmVyKSB9OyB9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWNlaXZlciwgZWxlbWVudC5rZXksIGRlc2NyaXB0b3IpOyB9LCBkZWNvcmF0ZUNsYXNzOiBmdW5jdGlvbiBkZWNvcmF0ZUNsYXNzKGVsZW1lbnRzLCBkZWNvcmF0b3JzKSB7IHZhciBuZXdFbGVtZW50cyA9IFtdOyB2YXIgZmluaXNoZXJzID0gW107IHZhciBwbGFjZW1lbnRzID0geyBcInN0YXRpY1wiOiBbXSwgcHJvdG90eXBlOiBbXSwgb3duOiBbXSB9OyBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IHRoaXMuYWRkRWxlbWVudFBsYWNlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzKTsgfSwgdGhpcyk7IGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgaWYgKCFfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSkgcmV0dXJuIG5ld0VsZW1lbnRzLnB1c2goZWxlbWVudCk7IHZhciBlbGVtZW50RmluaXNoZXJzRXh0cmFzID0gdGhpcy5kZWNvcmF0ZUVsZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7IG5ld0VsZW1lbnRzLnB1c2goZWxlbWVudEZpbmlzaGVyc0V4dHJhcy5lbGVtZW50KTsgbmV3RWxlbWVudHMucHVzaC5hcHBseShuZXdFbGVtZW50cywgZWxlbWVudEZpbmlzaGVyc0V4dHJhcy5leHRyYXMpOyBmaW5pc2hlcnMucHVzaC5hcHBseShmaW5pc2hlcnMsIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZmluaXNoZXJzKTsgfSwgdGhpcyk7IGlmICghZGVjb3JhdG9ycykgeyByZXR1cm4geyBlbGVtZW50czogbmV3RWxlbWVudHMsIGZpbmlzaGVyczogZmluaXNoZXJzIH07IH0gdmFyIHJlc3VsdCA9IHRoaXMuZGVjb3JhdGVDb25zdHJ1Y3RvcihuZXdFbGVtZW50cywgZGVjb3JhdG9ycyk7IGZpbmlzaGVycy5wdXNoLmFwcGx5KGZpbmlzaGVycywgcmVzdWx0LmZpbmlzaGVycyk7IHJlc3VsdC5maW5pc2hlcnMgPSBmaW5pc2hlcnM7IHJldHVybiByZXN1bHQ7IH0sIGFkZEVsZW1lbnRQbGFjZW1lbnQ6IGZ1bmN0aW9uIGFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cywgc2lsZW50KSB7IHZhciBrZXlzID0gcGxhY2VtZW50c1tlbGVtZW50LnBsYWNlbWVudF07IGlmICghc2lsZW50ICYmIGtleXMuaW5kZXhPZihlbGVtZW50LmtleSkgIT09IC0xKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEdXBsaWNhdGVkIGVsZW1lbnQgKFwiICsgZWxlbWVudC5rZXkgKyBcIilcIik7IH0ga2V5cy5wdXNoKGVsZW1lbnQua2V5KTsgfSwgZGVjb3JhdGVFbGVtZW50OiBmdW5jdGlvbiBkZWNvcmF0ZUVsZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cykgeyB2YXIgZXh0cmFzID0gW107IHZhciBmaW5pc2hlcnMgPSBbXTsgZm9yICh2YXIgZGVjb3JhdG9ycyA9IGVsZW1lbnQuZGVjb3JhdG9ycywgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsgdmFyIGtleXMgPSBwbGFjZW1lbnRzW2VsZW1lbnQucGxhY2VtZW50XTsga2V5cy5zcGxpY2Uoa2V5cy5pbmRleE9mKGVsZW1lbnQua2V5KSwgMSk7IHZhciBlbGVtZW50T2JqZWN0ID0gdGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudCk7IHZhciBlbGVtZW50RmluaXNoZXJFeHRyYXMgPSB0aGlzLnRvRWxlbWVudEZpbmlzaGVyRXh0cmFzKCgwLCBkZWNvcmF0b3JzW2ldKShlbGVtZW50T2JqZWN0KSB8fCBlbGVtZW50T2JqZWN0KTsgZWxlbWVudCA9IGVsZW1lbnRGaW5pc2hlckV4dHJhcy5lbGVtZW50OyB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7IGlmIChlbGVtZW50RmluaXNoZXJFeHRyYXMuZmluaXNoZXIpIHsgZmluaXNoZXJzLnB1c2goZWxlbWVudEZpbmlzaGVyRXh0cmFzLmZpbmlzaGVyKTsgfSB2YXIgbmV3RXh0cmFzID0gZWxlbWVudEZpbmlzaGVyRXh0cmFzLmV4dHJhczsgaWYgKG5ld0V4dHJhcykgeyBmb3IgKHZhciBqID0gMDsgaiA8IG5ld0V4dHJhcy5sZW5ndGg7IGorKykgeyB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQobmV3RXh0cmFzW2pdLCBwbGFjZW1lbnRzKTsgfSBleHRyYXMucHVzaC5hcHBseShleHRyYXMsIG5ld0V4dHJhcyk7IH0gfSByZXR1cm4geyBlbGVtZW50OiBlbGVtZW50LCBmaW5pc2hlcnM6IGZpbmlzaGVycywgZXh0cmFzOiBleHRyYXMgfTsgfSwgZGVjb3JhdGVDb25zdHJ1Y3RvcjogZnVuY3Rpb24gZGVjb3JhdGVDb25zdHJ1Y3RvcihlbGVtZW50cywgZGVjb3JhdG9ycykgeyB2YXIgZmluaXNoZXJzID0gW107IGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7IHZhciBvYmogPSB0aGlzLmZyb21DbGFzc0Rlc2NyaXB0b3IoZWxlbWVudHMpOyB2YXIgZWxlbWVudHNBbmRGaW5pc2hlciA9IHRoaXMudG9DbGFzc0Rlc2NyaXB0b3IoKDAsIGRlY29yYXRvcnNbaV0pKG9iaikgfHwgb2JqKTsgaWYgKGVsZW1lbnRzQW5kRmluaXNoZXIuZmluaXNoZXIgIT09IHVuZGVmaW5lZCkgeyBmaW5pc2hlcnMucHVzaChlbGVtZW50c0FuZEZpbmlzaGVyLmZpbmlzaGVyKTsgfSBpZiAoZWxlbWVudHNBbmRGaW5pc2hlci5lbGVtZW50cyAhPT0gdW5kZWZpbmVkKSB7IGVsZW1lbnRzID0gZWxlbWVudHNBbmRGaW5pc2hlci5lbGVtZW50czsgZm9yICh2YXIgaiA9IDA7IGogPCBlbGVtZW50cy5sZW5ndGggLSAxOyBqKyspIHsgZm9yICh2YXIgayA9IGogKyAxOyBrIDwgZWxlbWVudHMubGVuZ3RoOyBrKyspIHsgaWYgKGVsZW1lbnRzW2pdLmtleSA9PT0gZWxlbWVudHNba10ua2V5ICYmIGVsZW1lbnRzW2pdLnBsYWNlbWVudCA9PT0gZWxlbWVudHNba10ucGxhY2VtZW50KSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEdXBsaWNhdGVkIGVsZW1lbnQgKFwiICsgZWxlbWVudHNbal0ua2V5ICsgXCIpXCIpOyB9IH0gfSB9IH0gcmV0dXJuIHsgZWxlbWVudHM6IGVsZW1lbnRzLCBmaW5pc2hlcnM6IGZpbmlzaGVycyB9OyB9LCBmcm9tRWxlbWVudERlc2NyaXB0b3I6IGZ1bmN0aW9uIGZyb21FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50KSB7IHZhciBvYmogPSB7IGtpbmQ6IGVsZW1lbnQua2luZCwga2V5OiBlbGVtZW50LmtleSwgcGxhY2VtZW50OiBlbGVtZW50LnBsYWNlbWVudCwgZGVzY3JpcHRvcjogZWxlbWVudC5kZXNjcmlwdG9yIH07IHZhciBkZXNjID0geyB2YWx1ZTogXCJEZXNjcmlwdG9yXCIsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9OyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBTeW1ib2wudG9TdHJpbmdUYWcsIGRlc2MpOyBpZiAoZWxlbWVudC5raW5kID09PSBcImZpZWxkXCIpIG9iai5pbml0aWFsaXplciA9IGVsZW1lbnQuaW5pdGlhbGl6ZXI7IHJldHVybiBvYmo7IH0sIHRvRWxlbWVudERlc2NyaXB0b3JzOiBmdW5jdGlvbiB0b0VsZW1lbnREZXNjcmlwdG9ycyhlbGVtZW50T2JqZWN0cykgeyBpZiAoZWxlbWVudE9iamVjdHMgPT09IHVuZGVmaW5lZCkgcmV0dXJuOyByZXR1cm4gX3RvQXJyYXkoZWxlbWVudE9iamVjdHMpLm1hcChmdW5jdGlvbiAoZWxlbWVudE9iamVjdCkgeyB2YXIgZWxlbWVudCA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50T2JqZWN0KTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGVsZW1lbnRPYmplY3QsIFwiZmluaXNoZXJcIiwgXCJBbiBlbGVtZW50IGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImV4dHJhc1wiLCBcIkFuIGVsZW1lbnQgZGVzY3JpcHRvclwiKTsgcmV0dXJuIGVsZW1lbnQ7IH0sIHRoaXMpOyB9LCB0b0VsZW1lbnREZXNjcmlwdG9yOiBmdW5jdGlvbiB0b0VsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnRPYmplY3QpIHsgdmFyIGtpbmQgPSBTdHJpbmcoZWxlbWVudE9iamVjdC5raW5kKTsgaWYgKGtpbmQgIT09IFwibWV0aG9kXCIgJiYga2luZCAhPT0gXCJmaWVsZFwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0FuIGVsZW1lbnQgZGVzY3JpcHRvclxcJ3MgLmtpbmQgcHJvcGVydHkgbXVzdCBiZSBlaXRoZXIgXCJtZXRob2RcIiBvcicgKyAnIFwiZmllbGRcIiwgYnV0IGEgZGVjb3JhdG9yIGNyZWF0ZWQgYW4gZWxlbWVudCBkZXNjcmlwdG9yIHdpdGgnICsgJyAua2luZCBcIicgKyBraW5kICsgJ1wiJyk7IH0gdmFyIGtleSA9IF90b1Byb3BlcnR5S2V5KGVsZW1lbnRPYmplY3Qua2V5KTsgdmFyIHBsYWNlbWVudCA9IFN0cmluZyhlbGVtZW50T2JqZWN0LnBsYWNlbWVudCk7IGlmIChwbGFjZW1lbnQgIT09IFwic3RhdGljXCIgJiYgcGxhY2VtZW50ICE9PSBcInByb3RvdHlwZVwiICYmIHBsYWNlbWVudCAhPT0gXCJvd25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbiBlbGVtZW50IGRlc2NyaXB0b3JcXCdzIC5wbGFjZW1lbnQgcHJvcGVydHkgbXVzdCBiZSBvbmUgb2YgXCJzdGF0aWNcIiwnICsgJyBcInByb3RvdHlwZVwiIG9yIFwib3duXCIsIGJ1dCBhIGRlY29yYXRvciBjcmVhdGVkIGFuIGVsZW1lbnQgZGVzY3JpcHRvcicgKyAnIHdpdGggLnBsYWNlbWVudCBcIicgKyBwbGFjZW1lbnQgKyAnXCInKTsgfSB2YXIgZGVzY3JpcHRvciA9IGVsZW1lbnRPYmplY3QuZGVzY3JpcHRvcjsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGVsZW1lbnRPYmplY3QsIFwiZWxlbWVudHNcIiwgXCJBbiBlbGVtZW50IGRlc2NyaXB0b3JcIik7IHZhciBlbGVtZW50ID0geyBraW5kOiBraW5kLCBrZXk6IGtleSwgcGxhY2VtZW50OiBwbGFjZW1lbnQsIGRlc2NyaXB0b3I6IE9iamVjdC5hc3NpZ24oe30sIGRlc2NyaXB0b3IpIH07IGlmIChraW5kICE9PSBcImZpZWxkXCIpIHsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGVsZW1lbnRPYmplY3QsIFwiaW5pdGlhbGl6ZXJcIiwgXCJBIG1ldGhvZCBkZXNjcmlwdG9yXCIpOyB9IGVsc2UgeyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZGVzY3JpcHRvciwgXCJnZXRcIiwgXCJUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShkZXNjcmlwdG9yLCBcInNldFwiLCBcIlRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGRlc2NyaXB0b3IsIFwidmFsdWVcIiwgXCJUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3JcIik7IGVsZW1lbnQuaW5pdGlhbGl6ZXIgPSBlbGVtZW50T2JqZWN0LmluaXRpYWxpemVyOyB9IHJldHVybiBlbGVtZW50OyB9LCB0b0VsZW1lbnRGaW5pc2hlckV4dHJhczogZnVuY3Rpb24gdG9FbGVtZW50RmluaXNoZXJFeHRyYXMoZWxlbWVudE9iamVjdCkgeyB2YXIgZWxlbWVudCA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50T2JqZWN0KTsgdmFyIGZpbmlzaGVyID0gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImZpbmlzaGVyXCIpOyB2YXIgZXh0cmFzID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9ycyhlbGVtZW50T2JqZWN0LmV4dHJhcyk7IHJldHVybiB7IGVsZW1lbnQ6IGVsZW1lbnQsIGZpbmlzaGVyOiBmaW5pc2hlciwgZXh0cmFzOiBleHRyYXMgfTsgfSwgZnJvbUNsYXNzRGVzY3JpcHRvcjogZnVuY3Rpb24gZnJvbUNsYXNzRGVzY3JpcHRvcihlbGVtZW50cykgeyB2YXIgb2JqID0geyBraW5kOiBcImNsYXNzXCIsIGVsZW1lbnRzOiBlbGVtZW50cy5tYXAodGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IsIHRoaXMpIH07IHZhciBkZXNjID0geyB2YWx1ZTogXCJEZXNjcmlwdG9yXCIsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9OyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBTeW1ib2wudG9TdHJpbmdUYWcsIGRlc2MpOyByZXR1cm4gb2JqOyB9LCB0b0NsYXNzRGVzY3JpcHRvcjogZnVuY3Rpb24gdG9DbGFzc0Rlc2NyaXB0b3Iob2JqKSB7IHZhciBraW5kID0gU3RyaW5nKG9iai5raW5kKTsgaWYgKGtpbmQgIT09IFwiY2xhc3NcIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdBIGNsYXNzIGRlc2NyaXB0b3JcXCdzIC5raW5kIHByb3BlcnR5IG11c3QgYmUgXCJjbGFzc1wiLCBidXQgYSBkZWNvcmF0b3InICsgJyBjcmVhdGVkIGEgY2xhc3MgZGVzY3JpcHRvciB3aXRoIC5raW5kIFwiJyArIGtpbmQgKyAnXCInKTsgfSB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCBcImtleVwiLCBcIkEgY2xhc3MgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgXCJwbGFjZW1lbnRcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwiZGVzY3JpcHRvclwiLCBcIkEgY2xhc3MgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgXCJpbml0aWFsaXplclwiLCBcIkEgY2xhc3MgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgXCJleHRyYXNcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHZhciBmaW5pc2hlciA9IF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkob2JqLCBcImZpbmlzaGVyXCIpOyB2YXIgZWxlbWVudHMgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3JzKG9iai5lbGVtZW50cyk7IHJldHVybiB7IGVsZW1lbnRzOiBlbGVtZW50cywgZmluaXNoZXI6IGZpbmlzaGVyIH07IH0sIHJ1bkNsYXNzRmluaXNoZXJzOiBmdW5jdGlvbiBydW5DbGFzc0ZpbmlzaGVycyhjb25zdHJ1Y3RvciwgZmluaXNoZXJzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgZmluaXNoZXJzLmxlbmd0aDsgaSsrKSB7IHZhciBuZXdDb25zdHJ1Y3RvciA9ICgwLCBmaW5pc2hlcnNbaV0pKGNvbnN0cnVjdG9yKTsgaWYgKG5ld0NvbnN0cnVjdG9yICE9PSB1bmRlZmluZWQpIHsgaWYgKHR5cGVvZiBuZXdDb25zdHJ1Y3RvciAhPT0gXCJmdW5jdGlvblwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJGaW5pc2hlcnMgbXVzdCByZXR1cm4gYSBjb25zdHJ1Y3Rvci5cIik7IH0gY29uc3RydWN0b3IgPSBuZXdDb25zdHJ1Y3RvcjsgfSB9IHJldHVybiBjb25zdHJ1Y3RvcjsgfSwgZGlzYWxsb3dQcm9wZXJ0eTogZnVuY3Rpb24gZGlzYWxsb3dQcm9wZXJ0eShvYmosIG5hbWUsIG9iamVjdFR5cGUpIHsgaWYgKG9ialtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7IHRocm93IG5ldyBUeXBlRXJyb3Iob2JqZWN0VHlwZSArIFwiIGNhbid0IGhhdmUgYSAuXCIgKyBuYW1lICsgXCIgcHJvcGVydHkuXCIpOyB9IH0gfTsgcmV0dXJuIGFwaTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRWxlbWVudERlc2NyaXB0b3IoZGVmKSB7IHZhciBrZXkgPSBfdG9Qcm9wZXJ0eUtleShkZWYua2V5KTsgdmFyIGRlc2NyaXB0b3I7IGlmIChkZWYua2luZCA9PT0gXCJtZXRob2RcIikgeyBkZXNjcmlwdG9yID0geyB2YWx1ZTogZGVmLnZhbHVlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSB9OyB9IGVsc2UgaWYgKGRlZi5raW5kID09PSBcImdldFwiKSB7IGRlc2NyaXB0b3IgPSB7IGdldDogZGVmLnZhbHVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlIH07IH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09IFwic2V0XCIpIHsgZGVzY3JpcHRvciA9IHsgc2V0OiBkZWYudmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UgfTsgfSBlbHNlIGlmIChkZWYua2luZCA9PT0gXCJmaWVsZFwiKSB7IGRlc2NyaXB0b3IgPSB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUgfTsgfSB2YXIgZWxlbWVudCA9IHsga2luZDogZGVmLmtpbmQgPT09IFwiZmllbGRcIiA/IFwiZmllbGRcIiA6IFwibWV0aG9kXCIsIGtleToga2V5LCBwbGFjZW1lbnQ6IGRlZltcInN0YXRpY1wiXSA/IFwic3RhdGljXCIgOiBkZWYua2luZCA9PT0gXCJmaWVsZFwiID8gXCJvd25cIiA6IFwicHJvdG90eXBlXCIsIGRlc2NyaXB0b3I6IGRlc2NyaXB0b3IgfTsgaWYgKGRlZi5kZWNvcmF0b3JzKSBlbGVtZW50LmRlY29yYXRvcnMgPSBkZWYuZGVjb3JhdG9yczsgaWYgKGRlZi5raW5kID09PSBcImZpZWxkXCIpIGVsZW1lbnQuaW5pdGlhbGl6ZXIgPSBkZWYudmFsdWU7IHJldHVybiBlbGVtZW50OyB9XG5cbmZ1bmN0aW9uIF9jb2FsZXNjZUdldHRlclNldHRlcihlbGVtZW50LCBvdGhlcikgeyBpZiAoZWxlbWVudC5kZXNjcmlwdG9yLmdldCAhPT0gdW5kZWZpbmVkKSB7IG90aGVyLmRlc2NyaXB0b3IuZ2V0ID0gZWxlbWVudC5kZXNjcmlwdG9yLmdldDsgfSBlbHNlIHsgb3RoZXIuZGVzY3JpcHRvci5zZXQgPSBlbGVtZW50LmRlc2NyaXB0b3Iuc2V0OyB9IH1cblxuZnVuY3Rpb24gX2NvYWxlc2NlQ2xhc3NFbGVtZW50cyhlbGVtZW50cykgeyB2YXIgbmV3RWxlbWVudHMgPSBbXTsgdmFyIGlzU2FtZUVsZW1lbnQgPSBmdW5jdGlvbiBpc1NhbWVFbGVtZW50KG90aGVyKSB7IHJldHVybiBvdGhlci5raW5kID09PSBcIm1ldGhvZFwiICYmIG90aGVyLmtleSA9PT0gZWxlbWVudC5rZXkgJiYgb3RoZXIucGxhY2VtZW50ID09PSBlbGVtZW50LnBsYWNlbWVudDsgfTsgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2ldOyB2YXIgb3RoZXI7IGlmIChlbGVtZW50LmtpbmQgPT09IFwibWV0aG9kXCIgJiYgKG90aGVyID0gbmV3RWxlbWVudHMuZmluZChpc1NhbWVFbGVtZW50KSkpIHsgaWYgKF9pc0RhdGFEZXNjcmlwdG9yKGVsZW1lbnQuZGVzY3JpcHRvcikgfHwgX2lzRGF0YURlc2NyaXB0b3Iob3RoZXIuZGVzY3JpcHRvcikpIHsgaWYgKF9oYXNEZWNvcmF0b3JzKGVsZW1lbnQpIHx8IF9oYXNEZWNvcmF0b3JzKG90aGVyKSkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJEdXBsaWNhdGVkIG1ldGhvZHMgKFwiICsgZWxlbWVudC5rZXkgKyBcIikgY2FuJ3QgYmUgZGVjb3JhdGVkLlwiKTsgfSBvdGhlci5kZXNjcmlwdG9yID0gZWxlbWVudC5kZXNjcmlwdG9yOyB9IGVsc2UgeyBpZiAoX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHsgaWYgKF9oYXNEZWNvcmF0b3JzKG90aGVyKSkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJEZWNvcmF0b3JzIGNhbid0IGJlIHBsYWNlZCBvbiBkaWZmZXJlbnQgYWNjZXNzb3JzIHdpdGggZm9yIFwiICsgXCJ0aGUgc2FtZSBwcm9wZXJ0eSAoXCIgKyBlbGVtZW50LmtleSArIFwiKS5cIik7IH0gb3RoZXIuZGVjb3JhdG9ycyA9IGVsZW1lbnQuZGVjb3JhdG9yczsgfSBfY29hbGVzY2VHZXR0ZXJTZXR0ZXIoZWxlbWVudCwgb3RoZXIpOyB9IH0gZWxzZSB7IG5ld0VsZW1lbnRzLnB1c2goZWxlbWVudCk7IH0gfSByZXR1cm4gbmV3RWxlbWVudHM7IH1cblxuZnVuY3Rpb24gX2hhc0RlY29yYXRvcnMoZWxlbWVudCkgeyByZXR1cm4gZWxlbWVudC5kZWNvcmF0b3JzICYmIGVsZW1lbnQuZGVjb3JhdG9ycy5sZW5ndGg7IH1cblxuZnVuY3Rpb24gX2lzRGF0YURlc2NyaXB0b3IoZGVzYykgeyByZXR1cm4gZGVzYyAhPT0gdW5kZWZpbmVkICYmICEoZGVzYy52YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGRlc2Mud3JpdGFibGUgPT09IHVuZGVmaW5lZCk7IH1cblxuZnVuY3Rpb24gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShvYmosIG5hbWUpIHsgdmFyIHZhbHVlID0gb2JqW25hbWVdOyBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgJ1wiICsgbmFtZSArIFwiJyB0byBiZSBhIGZ1bmN0aW9uXCIpOyB9IHJldHVybiB2YWx1ZTsgfVxuXG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cblxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7IGlmIChfdHlwZW9mKHJlcykgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfVxuXG5mdW5jdGlvbiBfdG9BcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbnZhciBIZWxwZXIgPSByZXF1aXJlKCcuLi9fY29yZVV0aWxzL0hlbHBlcicpO1xuXG52YXIgaGVscGVyID0gbmV3IEhlbHBlcigpO1xuXG52YXIgTWVkaWFDaGFubmVsID0gcmVxdWlyZSgnLi4vQ2hhbm5lbHMvTWVkaWEvQXVkaW9QbGF5YmFja0NoYW5uZWwnKTtcblxudmFyIGdldEluY2lkZW50c0J5Q2hhbm5lbCA9IHJlcXVpcmUoJy4uL19kZWNvcmF0b3JzL2dldEluY2lkZW50c0J5Q2hhbm5lbCcpO1xuXG52YXIgc2V0QmxvY2sgPSByZXF1aXJlKCcuL2RlY29yYXRvcnMvYmxvY2snKTtcblxudmFyIHVuYmxvY2sgPSByZXF1aXJlKCcuL2RlY29yYXRvcnMvdW5ibG9jaycpO1xuLypcbmRuYTpcbi0gb3JpZ2luYWxJZFxuLSBjb250ZXh0XG4qL1xuXG5cbnZhciBNZWRpYVBsYXkgPSBfZGVjb3JhdGUobnVsbCwgZnVuY3Rpb24gKF9pbml0aWFsaXplKSB7XG4gIHZhciBNZWRpYVBsYXkgPSBmdW5jdGlvbiBNZWRpYVBsYXkoKSB7XG4gICAgdmFyIGF0dHJzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBkbmEgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZWRpYVBsYXkpO1xuXG4gICAgX2luaXRpYWxpemUodGhpcyk7XG5cbiAgICAvLyBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5hdHRycyA9IGF0dHJzO1xuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICB0aGlzLmRuYSA9IGRuYTtcbiAgICB0aGlzLmNvbnRleHQgPSBkbmEuY29udGV4dDtcbiAgICB0aGlzLm1jaWQgPSBkbmEubWNpZDtcbiAgICB0aGlzLmlkID0gcHJvcHMuaWQgfHwgaGVscGVyLmdldEFuSWQoKTtcbiAgICB0aGlzLm1vZGVsSWQgPSBwcm9wcy5tb2RlbElkOyAvLyB0aGlzIHBhcmFtZXRlciBpcyBpbml0aWFsaXNlZCB0byBmYWxzZS4gT25jZSB0aGUgb25HZXRDb250ZXh0IG1ldGhvZCBnZXRzIGludm9rZWQgdGhpcyBwYXJhbWV0ZXJcbiAgICAvLyBpcyBzZXQgdG8gdHJ1ZSBzbyB3ZSBwcmV2ZW50IG11bHRpcGxlIGV4ZWN1dGlvbnMgb2YgdGhlIG9uR2V0Q29udGV4dCBtZXRob2RcblxuICAgIHRoaXMuZ290Q29udGV4dCA9IGZhbHNlO1xuICAgIC8qXG4gICAgdGhlc2UgYXJlIHRoZSBkZWZhdWx0IHZhbHVlcyB0aGF0IGRlZmluZSBjaGFubmVsaW5nIGZvciB0aGUgZGVmYXVsdCBJbmNpZGVudHMuIFRoZXNlIHZhbHVlcyBnZXQgb3Zld3JpZGVuIHRocm91Z2hcbiAgICB0aGUgbG9hZFBsdWdpbiBtZXRob2Qgb2YgTUMgd2l0aCB0aGUgdmFsdWVzIGZvdW5kIG9uIHRoZSBtYWluLmpzIGZpbGUgb2YgdGhlIHBsdWdpblxuICAgICovXG5cbiAgICB0aGlzLnBsdWdpbl9jaGFubmVsX2NsYXNzID0gTWVkaWFDaGFubmVsO1xuICAgIHRoaXMubWNfcGx1Z2luX25wbV9uYW1lID0gXCJtb3Rvci1jb3J0ZXgtanMtbWVkaWEtcGxheWJhY2tcIjtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIFwicGx1Z2luX2NoYW5uZWxfY2xhc3NcIikpIHtcbiAgICAgIHRoaXMucGx1Z2luX2NoYW5uZWxfY2xhc3MgPSBwcm9wcy5wbHVnaW5fY2hhbm5lbF9jbGFzcztcbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBcIm1jX3BsdWdpbl9ucG1fbmFtZVwiKSkge1xuICAgICAgdGhpcy5tY19wbHVnaW5fbnBtX25hbWUgPSBwcm9wcy5tY19wbHVnaW5fbnBtX25hbWU7XG4gICAgfVxuXG4gICAgdGhpcy5oYXNJbmNpZGVudHMgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufSAtIGlmIGF1dG9HZW5lcmF0ZWQgaXMgc2V0IHRvIHRydWUsIGl0IG1lYW5zIHRoYXQgdGhpcyBJbmNpZGVudCBoYXMgYmVlbiBhdXRvLWdlbmVyYXRlZCBieSBpdHMgcGFyZW50IG9uIGluaXRpYWxpc2F0aW9uLlxuICAgICAqIFRoaXMgaGFwcGVucyB3aGVuIHBsdWdpbnMgZXhwb3J0IEluY2lkZW50cyB0aGF0IG9uIGluaXRpYWxpc2F0aW9uIHRoZXkgYXV0b21hdGljYWxseSBjcmVhdGUgb3RoZXIgaW5jaWRlbnRzIGFuZCBhdXRvbWF0aWNhbGx5IHB1dCB0aGVtXG4gICAgICogb24gc3BlY2lmaWMgcG9pbnRzIG9uIHRoZWlyIHRpbWVsaW5lLlxuICAgICAqL1xuXG4gICAgdGhpcy5hdXRvR2VuZXJhdGVkID0gZmFsc2U7XG4gICAgdGhpcy5vbkluaXRpYWxpc2UoYXR0cnMsIHByb3BzKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIEY6IE1lZGlhUGxheSxcbiAgICBkOiBbe1xuICAgICAga2luZDogXCJnZXRcIixcbiAgICAgIGtleTogXCJzZWxlY3RvclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5zZWxlY3RvcjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcImdldFwiLFxuICAgICAga2V5OiBcImVsZW1lbnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmdldEVsZW1lbnRCeU1DSUQodGhpcy5tY2lkKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAgZGVjb3JhdG9yczogW2dldEluY2lkZW50c0J5Q2hhbm5lbF0sXG4gICAgICBrZXk6IFwiZ2V0SW5jaWRlbnRzQnlDaGFubmVsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5jaWRlbnRzQnlDaGFubmVsKCkge31cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcIl9vbkdldENvbnRleHRPbmNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX29uR2V0Q29udGV4dE9uY2UoKSB7XG4gICAgICAgIC8vIGlmIHRoZSBJbmNpZGVudCBiZWxvbmdzIHRvIGEgZnJhZ21lbnRlZCBjb250ZXh0IHRoZXJlIGFic29sdXRlbHlcbiAgICAgICAgLy8gbm8gcmVhc29uIHRvIHJ1biB0aGUgZ2V0Q29udGV4dCBtZXRob2Qgb2YgaXRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAodGhpcy5jb250ZXh0LmZyYWdtZW50ID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCF0aGlzLmdvdENvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMub25HZXRDb250ZXh0KCk7XG4gICAgICAgICAgICB0aGlzLmdvdENvbnRleHQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubWNpZCk7IC8vIGNvbnNvbGUubG9nKHRoaXMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcIm9uR2V0Q29udGV4dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uR2V0Q29udGV4dCgpIHtcbiAgICAgICAgaGVscGVyLmluZm8oJ092ZXJ3cml0dGUgdGhlIFwib25HZXRDb250ZXh0XCIgbWV0aG9kIHdpdGggdGhlIGNvZGUgeW91IHdhbnQgdG8gZ2V0IGV4ZWN1dGVkJywgJ2luZm8nKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImxhc3RXaXNoXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbGFzdFdpc2goKSB7fVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwib25Jbml0aWFsaXNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb25Jbml0aWFsaXNlKCkge1xuICAgICAgICBoZWxwZXIuaW5mbygnT3ZlcndyaXR0ZSB0aGUgXCJvbkluaWFsaXNlXCIgbWV0aG9kIHdpdGggdGhlIGNvZGUgeW91IHdhbnQgdG8gZ2V0IGV4ZWN1dGVkJywgJ2luZm8nKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogTWV0aG9kIGNhbGxlZCBvbiBwcm9ncmVzcyBvZiB0aGUgdGltZWQgaW5jaWRlbnQuXG4gICAgICAgKiBAcGFyYW0ge2Zsb2F0fSBmcmFjdGlvbiAtIGEgbnVtYmVyIGZyb20gMCB0byAxIHJlcHJlc2VudGluZyB0aGUgZnJhY3Rpb24gb2YgZHVyYXRpb24gY292ZXJlZFxuICAgICAgICogQHBhcmFtIHtpbnR9IG1pbGxpc2Vjb25kcyAtIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHBhc3NlZCBmcm9tIHN0YXJ0IG9mIHRoZSBpbmNpZGVudFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcIm9uUHJvZ3Jlc3NcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblByb2dyZXNzKGZyYWN0aW9uLCBtaWxsaXNlY29uZHMpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuICAgICAgLyoqXG4gICAgICAgKiBzdGFydHMgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgbWVkaWEgZnJvbSB0aGUgc3BlY2lmaWVkIG1pbGxpc2Vjb25kXG4gICAgICAgKiovXG5cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcInBsYXlcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBwbGF5KG1pbGxpc2Vjb25kKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBzdG9wcyB0aGUgZXhlY3V0aW9uIG9mIHRoZSBtZWRpYVxuICAgICAgICoqL1xuXG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJzdG9wXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcCgpIHt9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGRlY29yYXRvcnM6IFtzZXRCbG9ja10sXG4gICAgICBrZXk6IFwic2V0QmxvY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRCbG9jaygpIHt9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGRlY29yYXRvcnM6IFt1bmJsb2NrXSxcbiAgICAgIGtleTogXCJ1bmJsb2NrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdW5ibG9jaygpIHt9XG4gICAgfV1cbiAgfTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1lZGlhUGxheTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/MediaPlayIncident.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/MonoIncident.js":
/*!**********************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/MonoIncident.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar Helper = __webpack_require__(/*! ../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar Channel = __webpack_require__(/*! ../Channels/Channel */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Channel.js\");\n\nvar getIncidentsByChannel = __webpack_require__(/*! ../_decorators/getIncidentsByChannel */ \"../node_modules/@kissmybutton/motorcortex/dist/_decorators/getIncidentsByChannel.js\");\n/* @handleResize is missing from Incident. The reason is that when the\nExtendableClip asks for the under-resize candidates via the \"checkResize\" pipe\nmessage the message will never be handled by an Incident directly but rather via\nits corresponding ElementSplitter\n*/\n\n\nvar setBlock = __webpack_require__(/*! ./decorators/block */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/block.js\");\n\nvar unblock = __webpack_require__(/*! ./decorators/unblock */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/unblock.js\");\n/*\ndna:\n- originalId\n- context\n*/\n\n\nvar MonoIncident = _decorate(null, function (_initialize) {\n  var MonoIncident = function MonoIncident() {\n    var attrs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var dna = arguments.length > 2 ? arguments[2] : undefined;\n\n    _classCallCheck(this, MonoIncident);\n\n    _initialize(this);\n\n    // super(props);\n    this.attrs = attrs;\n    this.props = props;\n    this.dna = dna;\n    this.context = dna.context;\n    this.mcid = dna.mcid;\n    this.id = props.id || helper.getAnId();\n    this.modelId = props.modelId; // this parameter is initialised to false. Once the onGetContext method gets invoked this parameter\n    // is set to true so we prevent multiple executions of the onGetContext method\n\n    this.gotContext = false;\n    /*\n    these are the default values that define channeling for the default Incidents. These values get ovewriden through\n    the loadPlugin method of MC with the values found on the main.js file of the plugin\n    */\n\n    this.plugin_channel_class = Channel;\n    this.mc_plugin_npm_name = \"motor-cortex-js\";\n\n    if (Object.prototype.hasOwnProperty.call(props, \"plugin_channel_class\")) {\n      this.plugin_channel_class = props.plugin_channel_class;\n    }\n\n    if (Object.prototype.hasOwnProperty.call(props, \"mc_plugin_npm_name\")) {\n      this.mc_plugin_npm_name = props.mc_plugin_npm_name;\n    }\n\n    this.hasIncidents = false;\n    /*\n    initialValues is an object holding the autmatically computed initial values of the animatedAttrs\n    (if any). The initialValues are calculated by the AttributesChannel (only Incidents belonging to\n    an AttributesChannel have initialValues).\n    The keys set of this object is identical to the object attrs.animatedAttrs\n    The only thing the generic AttributesChannel can't calculate is the initial value of an animated attr\n    of a specific element when there are no other Incidents entered on its lanes yet. These values are\n    the \"scratchValues\" and they are strongly dependend on the nature of the lib. E.g. for a CSS animation\n    what we are looking for can be found on the computedStyle.\n    */\n\n    this.initialValues = {};\n    /**\n     * @member {boolean} - if autoGenerated is set to true, it means that this MonoIncident has been auto-generated by its parent on initialisation.\n     * This happens when plugins export Incidents that on initialisation they automatically create other incidents and automatically put them\n     * on specific points on their timeline.\n     */\n\n    this.autoGenerated = false;\n    this.onInitialise(attrs, props);\n  };\n\n  return {\n    F: MonoIncident,\n    d: [{\n      kind: \"get\",\n      key: \"selector\",\n      value: function selector() {\n        return this.props.selector;\n      }\n      /* shortcuts for attrs.attrs and attrs.animatedAttrs */\n\n    }, {\n      kind: \"get\",\n      key: \"animAttributes\",\n      value: function animAttributes() {\n        return this.attrs.animatedAttrs;\n      }\n      /**\n      This method shoudl be overwritten by the Incidents of the plugins. The method returns\n      the initial value that the element of it has as the library calculates / defines them. The\n      returned value represents the very initial value of the element's attribute before\n      any Incident that alters it gets added.\n       @returns {mixed} - the initial value of the element's attribute just when the HTML & CSS\n      of the Clip gets rendered\n      */\n\n    }, {\n      kind: \"method\",\n      key: \"getScratchValue\",\n      value: function getScratchValue() {\n        return 0;\n      }\n    }, {\n      kind: \"get\",\n      key: \"element\",\n      value: function element() {\n        if (this.contex === null) {\n          return [];\n        }\n\n        if (this.context.getElementByMCID) {\n          return this.context.getElementByMCID(this.mcid);\n        }\n\n        return this.context.getElements(this.selector)[0];\n      }\n    }, {\n      kind: \"get\",\n      key: \"attributeKey\",\n      value: function attributeKey() {\n        return Object.keys(this.attrs.animatedAttrs)[0];\n      }\n    }, {\n      kind: \"get\",\n      key: \"targetValue\",\n      value: function targetValue() {\n        return this.animAttributes[this.attributeKey];\n      }\n    }, {\n      kind: \"method\",\n      key: \"getElementAttribute\",\n      value: function getElementAttribute(attr) {\n        return this.element.getAttribute(attr);\n      }\n    }, {\n      kind: \"method\",\n      decorators: [getIncidentsByChannel],\n      key: \"getIncidentsByChannel\",\n      value: function getIncidentsByChannel() {}\n    }, {\n      kind: \"method\",\n      key: \"setInitialValue\",\n      value: function setInitialValue(value) {\n        this.initialValues[this.attributeKey] = value;\n      }\n    }, {\n      kind: \"get\",\n      key: \"initialValue\",\n      value: function initialValue() {\n        var attr = this.attributeKey;\n        return this.initialValues[attr];\n      }\n    }, {\n      kind: \"method\",\n      key: \"getInitialValue\",\n      value: function getInitialValue() {\n        var attr = this.attributeKey;\n        return this.initialValues[attr];\n      }\n    }, {\n      kind: \"method\",\n      key: \"_onGetContextOnce\",\n      value: function _onGetContextOnce() {\n        // if the MonoIncident belongs to a fragmented context there absolutely\n        // no reason to run the getContext method of it\n        try {\n          if (this.context.fragment === true) {\n            return;\n          }\n\n          if (!this.gotContext) {\n            this.onGetContext();\n            this.gotContext = true;\n          }\n        } catch (e) {\n          console.log(e);\n          console.log(this.mcid); // console.log(this.context);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"onGetContext\",\n      value: function onGetContext() {\n        helper.info('Overwritte the \"onGetContext\" method with the code you want to get executed', 'info');\n      }\n    }, {\n      kind: \"method\",\n      key: \"lastWish\",\n      value: function lastWish() {}\n    }, {\n      kind: \"method\",\n      key: \"onInitialise\",\n      value: function onInitialise() {\n        helper.info('Overwritte the \"onInialise\" method with the code you want to get executed', 'info');\n      }\n      /**\n       * Method called on progress of the timed incident.\n       * @param {float} fraction - a number from 0 to 1 representing the fraction of duration covered\n       * @param {int} milliseconds - the number of milliseconds passed from start of the incident\n       */\n\n    }, {\n      kind: \"method\",\n      key: \"onProgress\",\n      value: function onProgress(fraction, milliseconds) {// eslint-disable-line no-unused-vars\n      }\n    }, {\n      kind: \"method\",\n      decorators: [setBlock],\n      key: \"setBlock\",\n      value: function setBlock() {}\n    }, {\n      kind: \"method\",\n      decorators: [unblock],\n      key: \"unblock\",\n      value: function unblock() {}\n    }]\n  };\n});\n\nmodule.exports = MonoIncident;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9CYXNlQ2xhc3Nlcy9Nb25vSW5jaWRlbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9CYXNlQ2xhc3Nlcy9Nb25vSW5jaWRlbnQuanM/YzU4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlY29yYXRlKGRlY29yYXRvcnMsIGZhY3RvcnksIHN1cGVyQ2xhc3MsIG1peGlucykgeyB2YXIgYXBpID0gX2dldERlY29yYXRvcnNBcGkoKTsgaWYgKG1peGlucykgeyBmb3IgKHZhciBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkrKykgeyBhcGkgPSBtaXhpbnNbaV0oYXBpKTsgfSB9IHZhciByID0gZmFjdG9yeShmdW5jdGlvbiBpbml0aWFsaXplKE8pIHsgYXBpLmluaXRpYWxpemVJbnN0YW5jZUVsZW1lbnRzKE8sIGRlY29yYXRlZC5lbGVtZW50cyk7IH0sIHN1cGVyQ2xhc3MpOyB2YXIgZGVjb3JhdGVkID0gYXBpLmRlY29yYXRlQ2xhc3MoX2NvYWxlc2NlQ2xhc3NFbGVtZW50cyhyLmQubWFwKF9jcmVhdGVFbGVtZW50RGVzY3JpcHRvcikpLCBkZWNvcmF0b3JzKTsgYXBpLmluaXRpYWxpemVDbGFzc0VsZW1lbnRzKHIuRiwgZGVjb3JhdGVkLmVsZW1lbnRzKTsgcmV0dXJuIGFwaS5ydW5DbGFzc0ZpbmlzaGVycyhyLkYsIGRlY29yYXRlZC5maW5pc2hlcnMpOyB9XG5cbmZ1bmN0aW9uIF9nZXREZWNvcmF0b3JzQXBpKCkgeyBfZ2V0RGVjb3JhdG9yc0FwaSA9IGZ1bmN0aW9uIF9nZXREZWNvcmF0b3JzQXBpKCkgeyByZXR1cm4gYXBpOyB9OyB2YXIgYXBpID0geyBlbGVtZW50c0RlZmluaXRpb25PcmRlcjogW1tcIm1ldGhvZFwiXSwgW1wiZmllbGRcIl1dLCBpbml0aWFsaXplSW5zdGFuY2VFbGVtZW50czogZnVuY3Rpb24gaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHMoTywgZWxlbWVudHMpIHsgW1wibWV0aG9kXCIsIFwiZmllbGRcIl0uZm9yRWFjaChmdW5jdGlvbiAoa2luZCkgeyBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IGlmIChlbGVtZW50LmtpbmQgPT09IGtpbmQgJiYgZWxlbWVudC5wbGFjZW1lbnQgPT09IFwib3duXCIpIHsgdGhpcy5kZWZpbmVDbGFzc0VsZW1lbnQoTywgZWxlbWVudCk7IH0gfSwgdGhpcyk7IH0sIHRoaXMpOyB9LCBpbml0aWFsaXplQ2xhc3NFbGVtZW50czogZnVuY3Rpb24gaW5pdGlhbGl6ZUNsYXNzRWxlbWVudHMoRiwgZWxlbWVudHMpIHsgdmFyIHByb3RvID0gRi5wcm90b3R5cGU7IFtcIm1ldGhvZFwiLCBcImZpZWxkXCJdLmZvckVhY2goZnVuY3Rpb24gKGtpbmQpIHsgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgeyB2YXIgcGxhY2VtZW50ID0gZWxlbWVudC5wbGFjZW1lbnQ7IGlmIChlbGVtZW50LmtpbmQgPT09IGtpbmQgJiYgKHBsYWNlbWVudCA9PT0gXCJzdGF0aWNcIiB8fCBwbGFjZW1lbnQgPT09IFwicHJvdG90eXBlXCIpKSB7IHZhciByZWNlaXZlciA9IHBsYWNlbWVudCA9PT0gXCJzdGF0aWNcIiA/IEYgOiBwcm90bzsgdGhpcy5kZWZpbmVDbGFzc0VsZW1lbnQocmVjZWl2ZXIsIGVsZW1lbnQpOyB9IH0sIHRoaXMpOyB9LCB0aGlzKTsgfSwgZGVmaW5lQ2xhc3NFbGVtZW50OiBmdW5jdGlvbiBkZWZpbmVDbGFzc0VsZW1lbnQocmVjZWl2ZXIsIGVsZW1lbnQpIHsgdmFyIGRlc2NyaXB0b3IgPSBlbGVtZW50LmRlc2NyaXB0b3I7IGlmIChlbGVtZW50LmtpbmQgPT09IFwiZmllbGRcIikgeyB2YXIgaW5pdGlhbGl6ZXIgPSBlbGVtZW50LmluaXRpYWxpemVyOyBkZXNjcmlwdG9yID0geyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB2YWx1ZTogaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRpYWxpemVyLmNhbGwocmVjZWl2ZXIpIH07IH0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlY2VpdmVyLCBlbGVtZW50LmtleSwgZGVzY3JpcHRvcik7IH0sIGRlY29yYXRlQ2xhc3M6IGZ1bmN0aW9uIGRlY29yYXRlQ2xhc3MoZWxlbWVudHMsIGRlY29yYXRvcnMpIHsgdmFyIG5ld0VsZW1lbnRzID0gW107IHZhciBmaW5pc2hlcnMgPSBbXTsgdmFyIHBsYWNlbWVudHMgPSB7IFwic3RhdGljXCI6IFtdLCBwcm90b3R5cGU6IFtdLCBvd246IFtdIH07IGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpOyB9LCB0aGlzKTsgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgeyBpZiAoIV9oYXNEZWNvcmF0b3JzKGVsZW1lbnQpKSByZXR1cm4gbmV3RWxlbWVudHMucHVzaChlbGVtZW50KTsgdmFyIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMgPSB0aGlzLmRlY29yYXRlRWxlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzKTsgbmV3RWxlbWVudHMucHVzaChlbGVtZW50RmluaXNoZXJzRXh0cmFzLmVsZW1lbnQpOyBuZXdFbGVtZW50cy5wdXNoLmFwcGx5KG5ld0VsZW1lbnRzLCBlbGVtZW50RmluaXNoZXJzRXh0cmFzLmV4dHJhcyk7IGZpbmlzaGVycy5wdXNoLmFwcGx5KGZpbmlzaGVycywgZWxlbWVudEZpbmlzaGVyc0V4dHJhcy5maW5pc2hlcnMpOyB9LCB0aGlzKTsgaWYgKCFkZWNvcmF0b3JzKSB7IHJldHVybiB7IGVsZW1lbnRzOiBuZXdFbGVtZW50cywgZmluaXNoZXJzOiBmaW5pc2hlcnMgfTsgfSB2YXIgcmVzdWx0ID0gdGhpcy5kZWNvcmF0ZUNvbnN0cnVjdG9yKG5ld0VsZW1lbnRzLCBkZWNvcmF0b3JzKTsgZmluaXNoZXJzLnB1c2guYXBwbHkoZmluaXNoZXJzLCByZXN1bHQuZmluaXNoZXJzKTsgcmVzdWx0LmZpbmlzaGVycyA9IGZpbmlzaGVyczsgcmV0dXJuIHJlc3VsdDsgfSwgYWRkRWxlbWVudFBsYWNlbWVudDogZnVuY3Rpb24gYWRkRWxlbWVudFBsYWNlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzLCBzaWxlbnQpIHsgdmFyIGtleXMgPSBwbGFjZW1lbnRzW2VsZW1lbnQucGxhY2VtZW50XTsgaWYgKCFzaWxlbnQgJiYga2V5cy5pbmRleE9mKGVsZW1lbnQua2V5KSAhPT0gLTEpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkR1cGxpY2F0ZWQgZWxlbWVudCAoXCIgKyBlbGVtZW50LmtleSArIFwiKVwiKTsgfSBrZXlzLnB1c2goZWxlbWVudC5rZXkpOyB9LCBkZWNvcmF0ZUVsZW1lbnQ6IGZ1bmN0aW9uIGRlY29yYXRlRWxlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzKSB7IHZhciBleHRyYXMgPSBbXTsgdmFyIGZpbmlzaGVycyA9IFtdOyBmb3IgKHZhciBkZWNvcmF0b3JzID0gZWxlbWVudC5kZWNvcmF0b3JzLCBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgeyB2YXIga2V5cyA9IHBsYWNlbWVudHNbZWxlbWVudC5wbGFjZW1lbnRdOyBrZXlzLnNwbGljZShrZXlzLmluZGV4T2YoZWxlbWVudC5rZXkpLCAxKTsgdmFyIGVsZW1lbnRPYmplY3QgPSB0aGlzLmZyb21FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50KTsgdmFyIGVsZW1lbnRGaW5pc2hlckV4dHJhcyA9IHRoaXMudG9FbGVtZW50RmluaXNoZXJFeHRyYXMoKDAsIGRlY29yYXRvcnNbaV0pKGVsZW1lbnRPYmplY3QpIHx8IGVsZW1lbnRPYmplY3QpOyBlbGVtZW50ID0gZWxlbWVudEZpbmlzaGVyRXh0cmFzLmVsZW1lbnQ7IHRoaXMuYWRkRWxlbWVudFBsYWNlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzKTsgaWYgKGVsZW1lbnRGaW5pc2hlckV4dHJhcy5maW5pc2hlcikgeyBmaW5pc2hlcnMucHVzaChlbGVtZW50RmluaXNoZXJFeHRyYXMuZmluaXNoZXIpOyB9IHZhciBuZXdFeHRyYXMgPSBlbGVtZW50RmluaXNoZXJFeHRyYXMuZXh0cmFzOyBpZiAobmV3RXh0cmFzKSB7IGZvciAodmFyIGogPSAwOyBqIDwgbmV3RXh0cmFzLmxlbmd0aDsgaisrKSB7IHRoaXMuYWRkRWxlbWVudFBsYWNlbWVudChuZXdFeHRyYXNbal0sIHBsYWNlbWVudHMpOyB9IGV4dHJhcy5wdXNoLmFwcGx5KGV4dHJhcywgbmV3RXh0cmFzKTsgfSB9IHJldHVybiB7IGVsZW1lbnQ6IGVsZW1lbnQsIGZpbmlzaGVyczogZmluaXNoZXJzLCBleHRyYXM6IGV4dHJhcyB9OyB9LCBkZWNvcmF0ZUNvbnN0cnVjdG9yOiBmdW5jdGlvbiBkZWNvcmF0ZUNvbnN0cnVjdG9yKGVsZW1lbnRzLCBkZWNvcmF0b3JzKSB7IHZhciBmaW5pc2hlcnMgPSBbXTsgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsgdmFyIG9iaiA9IHRoaXMuZnJvbUNsYXNzRGVzY3JpcHRvcihlbGVtZW50cyk7IHZhciBlbGVtZW50c0FuZEZpbmlzaGVyID0gdGhpcy50b0NsYXNzRGVzY3JpcHRvcigoMCwgZGVjb3JhdG9yc1tpXSkob2JqKSB8fCBvYmopOyBpZiAoZWxlbWVudHNBbmRGaW5pc2hlci5maW5pc2hlciAhPT0gdW5kZWZpbmVkKSB7IGZpbmlzaGVycy5wdXNoKGVsZW1lbnRzQW5kRmluaXNoZXIuZmluaXNoZXIpOyB9IGlmIChlbGVtZW50c0FuZEZpbmlzaGVyLmVsZW1lbnRzICE9PSB1bmRlZmluZWQpIHsgZWxlbWVudHMgPSBlbGVtZW50c0FuZEZpbmlzaGVyLmVsZW1lbnRzOyBmb3IgKHZhciBqID0gMDsgaiA8IGVsZW1lbnRzLmxlbmd0aCAtIDE7IGorKykgeyBmb3IgKHZhciBrID0gaiArIDE7IGsgPCBlbGVtZW50cy5sZW5ndGg7IGsrKykgeyBpZiAoZWxlbWVudHNbal0ua2V5ID09PSBlbGVtZW50c1trXS5rZXkgJiYgZWxlbWVudHNbal0ucGxhY2VtZW50ID09PSBlbGVtZW50c1trXS5wbGFjZW1lbnQpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkR1cGxpY2F0ZWQgZWxlbWVudCAoXCIgKyBlbGVtZW50c1tqXS5rZXkgKyBcIilcIik7IH0gfSB9IH0gfSByZXR1cm4geyBlbGVtZW50czogZWxlbWVudHMsIGZpbmlzaGVyczogZmluaXNoZXJzIH07IH0sIGZyb21FbGVtZW50RGVzY3JpcHRvcjogZnVuY3Rpb24gZnJvbUVsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnQpIHsgdmFyIG9iaiA9IHsga2luZDogZWxlbWVudC5raW5kLCBrZXk6IGVsZW1lbnQua2V5LCBwbGFjZW1lbnQ6IGVsZW1lbnQucGxhY2VtZW50LCBkZXNjcmlwdG9yOiBlbGVtZW50LmRlc2NyaXB0b3IgfTsgdmFyIGRlc2MgPSB7IHZhbHVlOiBcIkRlc2NyaXB0b3JcIiwgY29uZmlndXJhYmxlOiB0cnVlIH07IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIFN5bWJvbC50b1N0cmluZ1RhZywgZGVzYyk7IGlmIChlbGVtZW50LmtpbmQgPT09IFwiZmllbGRcIikgb2JqLmluaXRpYWxpemVyID0gZWxlbWVudC5pbml0aWFsaXplcjsgcmV0dXJuIG9iajsgfSwgdG9FbGVtZW50RGVzY3JpcHRvcnM6IGZ1bmN0aW9uIHRvRWxlbWVudERlc2NyaXB0b3JzKGVsZW1lbnRPYmplY3RzKSB7IGlmIChlbGVtZW50T2JqZWN0cyA9PT0gdW5kZWZpbmVkKSByZXR1cm47IHJldHVybiBfdG9BcnJheShlbGVtZW50T2JqZWN0cykubWFwKGZ1bmN0aW9uIChlbGVtZW50T2JqZWN0KSB7IHZhciBlbGVtZW50ID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnRPYmplY3QpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZWxlbWVudE9iamVjdCwgXCJmaW5pc2hlclwiLCBcIkFuIGVsZW1lbnQgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGVsZW1lbnRPYmplY3QsIFwiZXh0cmFzXCIsIFwiQW4gZWxlbWVudCBkZXNjcmlwdG9yXCIpOyByZXR1cm4gZWxlbWVudDsgfSwgdGhpcyk7IH0sIHRvRWxlbWVudERlc2NyaXB0b3I6IGZ1bmN0aW9uIHRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCkgeyB2YXIga2luZCA9IFN0cmluZyhlbGVtZW50T2JqZWN0LmtpbmQpOyBpZiAoa2luZCAhPT0gXCJtZXRob2RcIiAmJiBraW5kICE9PSBcImZpZWxkXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQW4gZWxlbWVudCBkZXNjcmlwdG9yXFwncyAua2luZCBwcm9wZXJ0eSBtdXN0IGJlIGVpdGhlciBcIm1ldGhvZFwiIG9yJyArICcgXCJmaWVsZFwiLCBidXQgYSBkZWNvcmF0b3IgY3JlYXRlZCBhbiBlbGVtZW50IGRlc2NyaXB0b3Igd2l0aCcgKyAnIC5raW5kIFwiJyArIGtpbmQgKyAnXCInKTsgfSB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZWxlbWVudE9iamVjdC5rZXkpOyB2YXIgcGxhY2VtZW50ID0gU3RyaW5nKGVsZW1lbnRPYmplY3QucGxhY2VtZW50KTsgaWYgKHBsYWNlbWVudCAhPT0gXCJzdGF0aWNcIiAmJiBwbGFjZW1lbnQgIT09IFwicHJvdG90eXBlXCIgJiYgcGxhY2VtZW50ICE9PSBcIm93blwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0FuIGVsZW1lbnQgZGVzY3JpcHRvclxcJ3MgLnBsYWNlbWVudCBwcm9wZXJ0eSBtdXN0IGJlIG9uZSBvZiBcInN0YXRpY1wiLCcgKyAnIFwicHJvdG90eXBlXCIgb3IgXCJvd25cIiwgYnV0IGEgZGVjb3JhdG9yIGNyZWF0ZWQgYW4gZWxlbWVudCBkZXNjcmlwdG9yJyArICcgd2l0aCAucGxhY2VtZW50IFwiJyArIHBsYWNlbWVudCArICdcIicpOyB9IHZhciBkZXNjcmlwdG9yID0gZWxlbWVudE9iamVjdC5kZXNjcmlwdG9yOyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZWxlbWVudE9iamVjdCwgXCJlbGVtZW50c1wiLCBcIkFuIGVsZW1lbnQgZGVzY3JpcHRvclwiKTsgdmFyIGVsZW1lbnQgPSB7IGtpbmQ6IGtpbmQsIGtleToga2V5LCBwbGFjZW1lbnQ6IHBsYWNlbWVudCwgZGVzY3JpcHRvcjogT2JqZWN0LmFzc2lnbih7fSwgZGVzY3JpcHRvcikgfTsgaWYgKGtpbmQgIT09IFwiZmllbGRcIikgeyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZWxlbWVudE9iamVjdCwgXCJpbml0aWFsaXplclwiLCBcIkEgbWV0aG9kIGRlc2NyaXB0b3JcIik7IH0gZWxzZSB7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShkZXNjcmlwdG9yLCBcImdldFwiLCBcIlRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGRlc2NyaXB0b3IsIFwic2V0XCIsIFwiVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZGVzY3JpcHRvciwgXCJ2YWx1ZVwiLCBcIlRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvclwiKTsgZWxlbWVudC5pbml0aWFsaXplciA9IGVsZW1lbnRPYmplY3QuaW5pdGlhbGl6ZXI7IH0gcmV0dXJuIGVsZW1lbnQ7IH0sIHRvRWxlbWVudEZpbmlzaGVyRXh0cmFzOiBmdW5jdGlvbiB0b0VsZW1lbnRGaW5pc2hlckV4dHJhcyhlbGVtZW50T2JqZWN0KSB7IHZhciBlbGVtZW50ID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnRPYmplY3QpOyB2YXIgZmluaXNoZXIgPSBfb3B0aW9uYWxDYWxsYWJsZVByb3BlcnR5KGVsZW1lbnRPYmplY3QsIFwiZmluaXNoZXJcIik7IHZhciBleHRyYXMgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3JzKGVsZW1lbnRPYmplY3QuZXh0cmFzKTsgcmV0dXJuIHsgZWxlbWVudDogZWxlbWVudCwgZmluaXNoZXI6IGZpbmlzaGVyLCBleHRyYXM6IGV4dHJhcyB9OyB9LCBmcm9tQ2xhc3NEZXNjcmlwdG9yOiBmdW5jdGlvbiBmcm9tQ2xhc3NEZXNjcmlwdG9yKGVsZW1lbnRzKSB7IHZhciBvYmogPSB7IGtpbmQ6IFwiY2xhc3NcIiwgZWxlbWVudHM6IGVsZW1lbnRzLm1hcCh0aGlzLmZyb21FbGVtZW50RGVzY3JpcHRvciwgdGhpcykgfTsgdmFyIGRlc2MgPSB7IHZhbHVlOiBcIkRlc2NyaXB0b3JcIiwgY29uZmlndXJhYmxlOiB0cnVlIH07IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIFN5bWJvbC50b1N0cmluZ1RhZywgZGVzYyk7IHJldHVybiBvYmo7IH0sIHRvQ2xhc3NEZXNjcmlwdG9yOiBmdW5jdGlvbiB0b0NsYXNzRGVzY3JpcHRvcihvYmopIHsgdmFyIGtpbmQgPSBTdHJpbmcob2JqLmtpbmQpOyBpZiAoa2luZCAhPT0gXCJjbGFzc1wiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0EgY2xhc3MgZGVzY3JpcHRvclxcJ3MgLmtpbmQgcHJvcGVydHkgbXVzdCBiZSBcImNsYXNzXCIsIGJ1dCBhIGRlY29yYXRvcicgKyAnIGNyZWF0ZWQgYSBjbGFzcyBkZXNjcmlwdG9yIHdpdGggLmtpbmQgXCInICsga2luZCArICdcIicpOyB9IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwia2V5XCIsIFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCBcInBsYWNlbWVudFwiLCBcIkEgY2xhc3MgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgXCJkZXNjcmlwdG9yXCIsIFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCBcImluaXRpYWxpemVyXCIsIFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCBcImV4dHJhc1wiLCBcIkEgY2xhc3MgZGVzY3JpcHRvclwiKTsgdmFyIGZpbmlzaGVyID0gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShvYmosIFwiZmluaXNoZXJcIik7IHZhciBlbGVtZW50cyA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcnMob2JqLmVsZW1lbnRzKTsgcmV0dXJuIHsgZWxlbWVudHM6IGVsZW1lbnRzLCBmaW5pc2hlcjogZmluaXNoZXIgfTsgfSwgcnVuQ2xhc3NGaW5pc2hlcnM6IGZ1bmN0aW9uIHJ1bkNsYXNzRmluaXNoZXJzKGNvbnN0cnVjdG9yLCBmaW5pc2hlcnMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBmaW5pc2hlcnMubGVuZ3RoOyBpKyspIHsgdmFyIG5ld0NvbnN0cnVjdG9yID0gKDAsIGZpbmlzaGVyc1tpXSkoY29uc3RydWN0b3IpOyBpZiAobmV3Q29uc3RydWN0b3IgIT09IHVuZGVmaW5lZCkgeyBpZiAodHlwZW9mIG5ld0NvbnN0cnVjdG9yICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZpbmlzaGVycyBtdXN0IHJldHVybiBhIGNvbnN0cnVjdG9yLlwiKTsgfSBjb25zdHJ1Y3RvciA9IG5ld0NvbnN0cnVjdG9yOyB9IH0gcmV0dXJuIGNvbnN0cnVjdG9yOyB9LCBkaXNhbGxvd1Byb3BlcnR5OiBmdW5jdGlvbiBkaXNhbGxvd1Byb3BlcnR5KG9iaiwgbmFtZSwgb2JqZWN0VHlwZSkgeyBpZiAob2JqW25hbWVdICE9PSB1bmRlZmluZWQpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihvYmplY3RUeXBlICsgXCIgY2FuJ3QgaGF2ZSBhIC5cIiArIG5hbWUgKyBcIiBwcm9wZXJ0eS5cIik7IH0gfSB9OyByZXR1cm4gYXBpOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVFbGVtZW50RGVzY3JpcHRvcihkZWYpIHsgdmFyIGtleSA9IF90b1Byb3BlcnR5S2V5KGRlZi5rZXkpOyB2YXIgZGVzY3JpcHRvcjsgaWYgKGRlZi5raW5kID09PSBcIm1ldGhvZFwiKSB7IGRlc2NyaXB0b3IgPSB7IHZhbHVlOiBkZWYudmFsdWUsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlIH07IH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09IFwiZ2V0XCIpIHsgZGVzY3JpcHRvciA9IHsgZ2V0OiBkZWYudmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UgfTsgfSBlbHNlIGlmIChkZWYua2luZCA9PT0gXCJzZXRcIikgeyBkZXNjcmlwdG9yID0geyBzZXQ6IGRlZi52YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSB9OyB9IGVsc2UgaWYgKGRlZi5raW5kID09PSBcImZpZWxkXCIpIHsgZGVzY3JpcHRvciA9IHsgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSB9OyB9IHZhciBlbGVtZW50ID0geyBraW5kOiBkZWYua2luZCA9PT0gXCJmaWVsZFwiID8gXCJmaWVsZFwiIDogXCJtZXRob2RcIiwga2V5OiBrZXksIHBsYWNlbWVudDogZGVmW1wic3RhdGljXCJdID8gXCJzdGF0aWNcIiA6IGRlZi5raW5kID09PSBcImZpZWxkXCIgPyBcIm93blwiIDogXCJwcm90b3R5cGVcIiwgZGVzY3JpcHRvcjogZGVzY3JpcHRvciB9OyBpZiAoZGVmLmRlY29yYXRvcnMpIGVsZW1lbnQuZGVjb3JhdG9ycyA9IGRlZi5kZWNvcmF0b3JzOyBpZiAoZGVmLmtpbmQgPT09IFwiZmllbGRcIikgZWxlbWVudC5pbml0aWFsaXplciA9IGRlZi52YWx1ZTsgcmV0dXJuIGVsZW1lbnQ7IH1cblxuZnVuY3Rpb24gX2NvYWxlc2NlR2V0dGVyU2V0dGVyKGVsZW1lbnQsIG90aGVyKSB7IGlmIChlbGVtZW50LmRlc2NyaXB0b3IuZ2V0ICE9PSB1bmRlZmluZWQpIHsgb3RoZXIuZGVzY3JpcHRvci5nZXQgPSBlbGVtZW50LmRlc2NyaXB0b3IuZ2V0OyB9IGVsc2UgeyBvdGhlci5kZXNjcmlwdG9yLnNldCA9IGVsZW1lbnQuZGVzY3JpcHRvci5zZXQ7IH0gfVxuXG5mdW5jdGlvbiBfY29hbGVzY2VDbGFzc0VsZW1lbnRzKGVsZW1lbnRzKSB7IHZhciBuZXdFbGVtZW50cyA9IFtdOyB2YXIgaXNTYW1lRWxlbWVudCA9IGZ1bmN0aW9uIGlzU2FtZUVsZW1lbnQob3RoZXIpIHsgcmV0dXJuIG90aGVyLmtpbmQgPT09IFwibWV0aG9kXCIgJiYgb3RoZXIua2V5ID09PSBlbGVtZW50LmtleSAmJiBvdGhlci5wbGFjZW1lbnQgPT09IGVsZW1lbnQucGxhY2VtZW50OyB9OyBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBlbGVtZW50ID0gZWxlbWVudHNbaV07IHZhciBvdGhlcjsgaWYgKGVsZW1lbnQua2luZCA9PT0gXCJtZXRob2RcIiAmJiAob3RoZXIgPSBuZXdFbGVtZW50cy5maW5kKGlzU2FtZUVsZW1lbnQpKSkgeyBpZiAoX2lzRGF0YURlc2NyaXB0b3IoZWxlbWVudC5kZXNjcmlwdG9yKSB8fCBfaXNEYXRhRGVzY3JpcHRvcihvdGhlci5kZXNjcmlwdG9yKSkgeyBpZiAoX2hhc0RlY29yYXRvcnMoZWxlbWVudCkgfHwgX2hhc0RlY29yYXRvcnMob3RoZXIpKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcIkR1cGxpY2F0ZWQgbWV0aG9kcyAoXCIgKyBlbGVtZW50LmtleSArIFwiKSBjYW4ndCBiZSBkZWNvcmF0ZWQuXCIpOyB9IG90aGVyLmRlc2NyaXB0b3IgPSBlbGVtZW50LmRlc2NyaXB0b3I7IH0gZWxzZSB7IGlmIChfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSkgeyBpZiAoX2hhc0RlY29yYXRvcnMob3RoZXIpKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcIkRlY29yYXRvcnMgY2FuJ3QgYmUgcGxhY2VkIG9uIGRpZmZlcmVudCBhY2Nlc3NvcnMgd2l0aCBmb3IgXCIgKyBcInRoZSBzYW1lIHByb3BlcnR5IChcIiArIGVsZW1lbnQua2V5ICsgXCIpLlwiKTsgfSBvdGhlci5kZWNvcmF0b3JzID0gZWxlbWVudC5kZWNvcmF0b3JzOyB9IF9jb2FsZXNjZUdldHRlclNldHRlcihlbGVtZW50LCBvdGhlcik7IH0gfSBlbHNlIHsgbmV3RWxlbWVudHMucHVzaChlbGVtZW50KTsgfSB9IHJldHVybiBuZXdFbGVtZW50czsgfVxuXG5mdW5jdGlvbiBfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB7IHJldHVybiBlbGVtZW50LmRlY29yYXRvcnMgJiYgZWxlbWVudC5kZWNvcmF0b3JzLmxlbmd0aDsgfVxuXG5mdW5jdGlvbiBfaXNEYXRhRGVzY3JpcHRvcihkZXNjKSB7IHJldHVybiBkZXNjICE9PSB1bmRlZmluZWQgJiYgIShkZXNjLnZhbHVlID09PSB1bmRlZmluZWQgJiYgZGVzYy53cml0YWJsZSA9PT0gdW5kZWZpbmVkKTsgfVxuXG5mdW5jdGlvbiBfb3B0aW9uYWxDYWxsYWJsZVByb3BlcnR5KG9iaiwgbmFtZSkgeyB2YXIgdmFsdWUgPSBvYmpbbmFtZV07IGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCAnXCIgKyBuYW1lICsgXCInIHRvIGJlIGEgZnVuY3Rpb25cIik7IH0gcmV0dXJuIHZhbHVlOyB9XG5cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7IHJldHVybiBfdHlwZW9mKGtleSkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfVxuXG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG5cbmZ1bmN0aW9uIF90b0FycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxudmFyIEhlbHBlciA9IHJlcXVpcmUoJy4uL19jb3JlVXRpbHMvSGVscGVyJyk7XG5cbnZhciBoZWxwZXIgPSBuZXcgSGVscGVyKCk7XG5cbnZhciBDaGFubmVsID0gcmVxdWlyZSgnLi4vQ2hhbm5lbHMvQ2hhbm5lbCcpO1xuXG52YXIgZ2V0SW5jaWRlbnRzQnlDaGFubmVsID0gcmVxdWlyZSgnLi4vX2RlY29yYXRvcnMvZ2V0SW5jaWRlbnRzQnlDaGFubmVsJyk7XG4vKiBAaGFuZGxlUmVzaXplIGlzIG1pc3NpbmcgZnJvbSBJbmNpZGVudC4gVGhlIHJlYXNvbiBpcyB0aGF0IHdoZW4gdGhlXG5FeHRlbmRhYmxlQ2xpcCBhc2tzIGZvciB0aGUgdW5kZXItcmVzaXplIGNhbmRpZGF0ZXMgdmlhIHRoZSBcImNoZWNrUmVzaXplXCIgcGlwZVxubWVzc2FnZSB0aGUgbWVzc2FnZSB3aWxsIG5ldmVyIGJlIGhhbmRsZWQgYnkgYW4gSW5jaWRlbnQgZGlyZWN0bHkgYnV0IHJhdGhlciB2aWFcbml0cyBjb3JyZXNwb25kaW5nIEVsZW1lbnRTcGxpdHRlclxuKi9cblxuXG52YXIgc2V0QmxvY2sgPSByZXF1aXJlKCcuL2RlY29yYXRvcnMvYmxvY2snKTtcblxudmFyIHVuYmxvY2sgPSByZXF1aXJlKCcuL2RlY29yYXRvcnMvdW5ibG9jaycpO1xuLypcbmRuYTpcbi0gb3JpZ2luYWxJZFxuLSBjb250ZXh0XG4qL1xuXG5cbnZhciBNb25vSW5jaWRlbnQgPSBfZGVjb3JhdGUobnVsbCwgZnVuY3Rpb24gKF9pbml0aWFsaXplKSB7XG4gIHZhciBNb25vSW5jaWRlbnQgPSBmdW5jdGlvbiBNb25vSW5jaWRlbnQoKSB7XG4gICAgdmFyIGF0dHJzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBkbmEgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNb25vSW5jaWRlbnQpO1xuXG4gICAgX2luaXRpYWxpemUodGhpcyk7XG5cbiAgICAvLyBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5hdHRycyA9IGF0dHJzO1xuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICB0aGlzLmRuYSA9IGRuYTtcbiAgICB0aGlzLmNvbnRleHQgPSBkbmEuY29udGV4dDtcbiAgICB0aGlzLm1jaWQgPSBkbmEubWNpZDtcbiAgICB0aGlzLmlkID0gcHJvcHMuaWQgfHwgaGVscGVyLmdldEFuSWQoKTtcbiAgICB0aGlzLm1vZGVsSWQgPSBwcm9wcy5tb2RlbElkOyAvLyB0aGlzIHBhcmFtZXRlciBpcyBpbml0aWFsaXNlZCB0byBmYWxzZS4gT25jZSB0aGUgb25HZXRDb250ZXh0IG1ldGhvZCBnZXRzIGludm9rZWQgdGhpcyBwYXJhbWV0ZXJcbiAgICAvLyBpcyBzZXQgdG8gdHJ1ZSBzbyB3ZSBwcmV2ZW50IG11bHRpcGxlIGV4ZWN1dGlvbnMgb2YgdGhlIG9uR2V0Q29udGV4dCBtZXRob2RcblxuICAgIHRoaXMuZ290Q29udGV4dCA9IGZhbHNlO1xuICAgIC8qXG4gICAgdGhlc2UgYXJlIHRoZSBkZWZhdWx0IHZhbHVlcyB0aGF0IGRlZmluZSBjaGFubmVsaW5nIGZvciB0aGUgZGVmYXVsdCBJbmNpZGVudHMuIFRoZXNlIHZhbHVlcyBnZXQgb3Zld3JpZGVuIHRocm91Z2hcbiAgICB0aGUgbG9hZFBsdWdpbiBtZXRob2Qgb2YgTUMgd2l0aCB0aGUgdmFsdWVzIGZvdW5kIG9uIHRoZSBtYWluLmpzIGZpbGUgb2YgdGhlIHBsdWdpblxuICAgICovXG5cbiAgICB0aGlzLnBsdWdpbl9jaGFubmVsX2NsYXNzID0gQ2hhbm5lbDtcbiAgICB0aGlzLm1jX3BsdWdpbl9ucG1fbmFtZSA9IFwibW90b3ItY29ydGV4LWpzXCI7XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBcInBsdWdpbl9jaGFubmVsX2NsYXNzXCIpKSB7XG4gICAgICB0aGlzLnBsdWdpbl9jaGFubmVsX2NsYXNzID0gcHJvcHMucGx1Z2luX2NoYW5uZWxfY2xhc3M7XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgXCJtY19wbHVnaW5fbnBtX25hbWVcIikpIHtcbiAgICAgIHRoaXMubWNfcGx1Z2luX25wbV9uYW1lID0gcHJvcHMubWNfcGx1Z2luX25wbV9uYW1lO1xuICAgIH1cblxuICAgIHRoaXMuaGFzSW5jaWRlbnRzID0gZmFsc2U7XG4gICAgLypcbiAgICBpbml0aWFsVmFsdWVzIGlzIGFuIG9iamVjdCBob2xkaW5nIHRoZSBhdXRtYXRpY2FsbHkgY29tcHV0ZWQgaW5pdGlhbCB2YWx1ZXMgb2YgdGhlIGFuaW1hdGVkQXR0cnNcbiAgICAoaWYgYW55KS4gVGhlIGluaXRpYWxWYWx1ZXMgYXJlIGNhbGN1bGF0ZWQgYnkgdGhlIEF0dHJpYnV0ZXNDaGFubmVsIChvbmx5IEluY2lkZW50cyBiZWxvbmdpbmcgdG9cbiAgICBhbiBBdHRyaWJ1dGVzQ2hhbm5lbCBoYXZlIGluaXRpYWxWYWx1ZXMpLlxuICAgIFRoZSBrZXlzIHNldCBvZiB0aGlzIG9iamVjdCBpcyBpZGVudGljYWwgdG8gdGhlIG9iamVjdCBhdHRycy5hbmltYXRlZEF0dHJzXG4gICAgVGhlIG9ubHkgdGhpbmcgdGhlIGdlbmVyaWMgQXR0cmlidXRlc0NoYW5uZWwgY2FuJ3QgY2FsY3VsYXRlIGlzIHRoZSBpbml0aWFsIHZhbHVlIG9mIGFuIGFuaW1hdGVkIGF0dHJcbiAgICBvZiBhIHNwZWNpZmljIGVsZW1lbnQgd2hlbiB0aGVyZSBhcmUgbm8gb3RoZXIgSW5jaWRlbnRzIGVudGVyZWQgb24gaXRzIGxhbmVzIHlldC4gVGhlc2UgdmFsdWVzIGFyZVxuICAgIHRoZSBcInNjcmF0Y2hWYWx1ZXNcIiBhbmQgdGhleSBhcmUgc3Ryb25nbHkgZGVwZW5kZW5kIG9uIHRoZSBuYXR1cmUgb2YgdGhlIGxpYi4gRS5nLiBmb3IgYSBDU1MgYW5pbWF0aW9uXG4gICAgd2hhdCB3ZSBhcmUgbG9va2luZyBmb3IgY2FuIGJlIGZvdW5kIG9uIHRoZSBjb21wdXRlZFN0eWxlLlxuICAgICovXG5cbiAgICB0aGlzLmluaXRpYWxWYWx1ZXMgPSB7fTtcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufSAtIGlmIGF1dG9HZW5lcmF0ZWQgaXMgc2V0IHRvIHRydWUsIGl0IG1lYW5zIHRoYXQgdGhpcyBNb25vSW5jaWRlbnQgaGFzIGJlZW4gYXV0by1nZW5lcmF0ZWQgYnkgaXRzIHBhcmVudCBvbiBpbml0aWFsaXNhdGlvbi5cbiAgICAgKiBUaGlzIGhhcHBlbnMgd2hlbiBwbHVnaW5zIGV4cG9ydCBJbmNpZGVudHMgdGhhdCBvbiBpbml0aWFsaXNhdGlvbiB0aGV5IGF1dG9tYXRpY2FsbHkgY3JlYXRlIG90aGVyIGluY2lkZW50cyBhbmQgYXV0b21hdGljYWxseSBwdXQgdGhlbVxuICAgICAqIG9uIHNwZWNpZmljIHBvaW50cyBvbiB0aGVpciB0aW1lbGluZS5cbiAgICAgKi9cblxuICAgIHRoaXMuYXV0b0dlbmVyYXRlZCA9IGZhbHNlO1xuICAgIHRoaXMub25Jbml0aWFsaXNlKGF0dHJzLCBwcm9wcyk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBGOiBNb25vSW5jaWRlbnQsXG4gICAgZDogW3tcbiAgICAgIGtpbmQ6IFwiZ2V0XCIsXG4gICAgICBrZXk6IFwic2VsZWN0b3JcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuc2VsZWN0b3I7XG4gICAgICB9XG4gICAgICAvKiBzaG9ydGN1dHMgZm9yIGF0dHJzLmF0dHJzIGFuZCBhdHRycy5hbmltYXRlZEF0dHJzICovXG5cbiAgICB9LCB7XG4gICAgICBraW5kOiBcImdldFwiLFxuICAgICAga2V5OiBcImFuaW1BdHRyaWJ1dGVzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYW5pbUF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJzLmFuaW1hdGVkQXR0cnM7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgIFRoaXMgbWV0aG9kIHNob3VkbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgSW5jaWRlbnRzIG9mIHRoZSBwbHVnaW5zLiBUaGUgbWV0aG9kIHJldHVybnNcbiAgICAgIHRoZSBpbml0aWFsIHZhbHVlIHRoYXQgdGhlIGVsZW1lbnQgb2YgaXQgaGFzIGFzIHRoZSBsaWJyYXJ5IGNhbGN1bGF0ZXMgLyBkZWZpbmVzIHRoZW0uIFRoZVxuICAgICAgcmV0dXJuZWQgdmFsdWUgcmVwcmVzZW50cyB0aGUgdmVyeSBpbml0aWFsIHZhbHVlIG9mIHRoZSBlbGVtZW50J3MgYXR0cmlidXRlIGJlZm9yZVxuICAgICAgYW55IEluY2lkZW50IHRoYXQgYWx0ZXJzIGl0IGdldHMgYWRkZWQuXG4gICAgICAgQHJldHVybnMge21peGVkfSAtIHRoZSBpbml0aWFsIHZhbHVlIG9mIHRoZSBlbGVtZW50J3MgYXR0cmlidXRlIGp1c3Qgd2hlbiB0aGUgSFRNTCAmIENTU1xuICAgICAgb2YgdGhlIENsaXAgZ2V0cyByZW5kZXJlZFxuICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwiZ2V0U2NyYXRjaFZhbHVlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2NyYXRjaFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcImdldFwiLFxuICAgICAga2V5OiBcImVsZW1lbnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBlbGVtZW50KCkge1xuICAgICAgICBpZiAodGhpcy5jb250ZXggPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmdldEVsZW1lbnRCeU1DSUQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmdldEVsZW1lbnRCeU1DSUQodGhpcy5tY2lkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuZ2V0RWxlbWVudHModGhpcy5zZWxlY3RvcilbMF07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJnZXRcIixcbiAgICAgIGtleTogXCJhdHRyaWJ1dGVLZXlcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhdHRyaWJ1dGVLZXkoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmF0dHJzLmFuaW1hdGVkQXR0cnMpWzBdO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwiZ2V0XCIsXG4gICAgICBrZXk6IFwidGFyZ2V0VmFsdWVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0YXJnZXRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5pbUF0dHJpYnV0ZXNbdGhpcy5hdHRyaWJ1dGVLZXldO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwiZ2V0RWxlbWVudEF0dHJpYnV0ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVsZW1lbnRBdHRyaWJ1dGUoYXR0cikge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAgZGVjb3JhdG9yczogW2dldEluY2lkZW50c0J5Q2hhbm5lbF0sXG4gICAgICBrZXk6IFwiZ2V0SW5jaWRlbnRzQnlDaGFubmVsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5jaWRlbnRzQnlDaGFubmVsKCkge31cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcInNldEluaXRpYWxWYWx1ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEluaXRpYWxWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLmluaXRpYWxWYWx1ZXNbdGhpcy5hdHRyaWJ1dGVLZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJnZXRcIixcbiAgICAgIGtleTogXCJpbml0aWFsVmFsdWVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsVmFsdWUoKSB7XG4gICAgICAgIHZhciBhdHRyID0gdGhpcy5hdHRyaWJ1dGVLZXk7XG4gICAgICAgIHJldHVybiB0aGlzLmluaXRpYWxWYWx1ZXNbYXR0cl07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJnZXRJbml0aWFsVmFsdWVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbml0aWFsVmFsdWUoKSB7XG4gICAgICAgIHZhciBhdHRyID0gdGhpcy5hdHRyaWJ1dGVLZXk7XG4gICAgICAgIHJldHVybiB0aGlzLmluaXRpYWxWYWx1ZXNbYXR0cl07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJfb25HZXRDb250ZXh0T25jZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkdldENvbnRleHRPbmNlKCkge1xuICAgICAgICAvLyBpZiB0aGUgTW9ub0luY2lkZW50IGJlbG9uZ3MgdG8gYSBmcmFnbWVudGVkIGNvbnRleHQgdGhlcmUgYWJzb2x1dGVseVxuICAgICAgICAvLyBubyByZWFzb24gdG8gcnVuIHRoZSBnZXRDb250ZXh0IG1ldGhvZCBvZiBpdFxuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQuZnJhZ21lbnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXRoaXMuZ290Q29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5vbkdldENvbnRleHQoKTtcbiAgICAgICAgICAgIHRoaXMuZ290Q29udGV4dCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgY29uc29sZS5sb2codGhpcy5tY2lkKTsgLy8gY29uc29sZS5sb2codGhpcy5jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwib25HZXRDb250ZXh0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb25HZXRDb250ZXh0KCkge1xuICAgICAgICBoZWxwZXIuaW5mbygnT3ZlcndyaXR0ZSB0aGUgXCJvbkdldENvbnRleHRcIiBtZXRob2Qgd2l0aCB0aGUgY29kZSB5b3Ugd2FudCB0byBnZXQgZXhlY3V0ZWQnLCAnaW5mbycpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwibGFzdFdpc2hcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBsYXN0V2lzaCgpIHt9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJvbkluaXRpYWxpc2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkluaXRpYWxpc2UoKSB7XG4gICAgICAgIGhlbHBlci5pbmZvKCdPdmVyd3JpdHRlIHRoZSBcIm9uSW5pYWxpc2VcIiBtZXRob2Qgd2l0aCB0aGUgY29kZSB5b3Ugd2FudCB0byBnZXQgZXhlY3V0ZWQnLCAnaW5mbycpO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBNZXRob2QgY2FsbGVkIG9uIHByb2dyZXNzIG9mIHRoZSB0aW1lZCBpbmNpZGVudC5cbiAgICAgICAqIEBwYXJhbSB7ZmxvYXR9IGZyYWN0aW9uIC0gYSBudW1iZXIgZnJvbSAwIHRvIDEgcmVwcmVzZW50aW5nIHRoZSBmcmFjdGlvbiBvZiBkdXJhdGlvbiBjb3ZlcmVkXG4gICAgICAgKiBAcGFyYW0ge2ludH0gbWlsbGlzZWNvbmRzIC0gdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgcGFzc2VkIGZyb20gc3RhcnQgb2YgdGhlIGluY2lkZW50XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwib25Qcm9ncmVzc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uUHJvZ3Jlc3MoZnJhY3Rpb24sIG1pbGxpc2Vjb25kcykgey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAgZGVjb3JhdG9yczogW3NldEJsb2NrXSxcbiAgICAgIGtleTogXCJzZXRCbG9ja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEJsb2NrKCkge31cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAgZGVjb3JhdG9yczogW3VuYmxvY2tdLFxuICAgICAga2V5OiBcInVuYmxvY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1bmJsb2NrKCkge31cbiAgICB9XVxuICB9O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gTW9ub0luY2lkZW50OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/MonoIncident.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/block.js":
/*!**************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/block.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar Helper = __webpack_require__(/*! ../../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar _TREECONST = __webpack_require__(/*! ../../Tree/_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/_CONST.js\");\n\nfunction block(pld) {\n  pld.descriptor.value = function (description) {\n    this.blockID = helper.getAnId();\n    this.DescriptiveIncident.putMessageOnPipe('setBlock', {\n      id: this.blockID,\n      description: description,\n      incidentId: this.DescriptiveIncident.id,\n      realIncidentId: this.id\n    }, 'rootClip', {\n      selfExecute: true,\n      direction: _TREECONST._DIRECTIONS._UP\n    });\n  };\n}\n\nmodule.exports = block;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9CYXNlQ2xhc3Nlcy9kZWNvcmF0b3JzL2Jsb2NrLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvQmFzZUNsYXNzZXMvZGVjb3JhdG9ycy9ibG9jay5qcz9jOGMxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vX2NvcmVVdGlscy9IZWxwZXInKTtcblxudmFyIGhlbHBlciA9IG5ldyBIZWxwZXIoKTtcblxudmFyIF9UUkVFQ09OU1QgPSByZXF1aXJlKCcuLi8uLi9UcmVlL19DT05TVCcpO1xuXG5mdW5jdGlvbiBibG9jayhwbGQpIHtcbiAgcGxkLmRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAoZGVzY3JpcHRpb24pIHtcbiAgICB0aGlzLmJsb2NrSUQgPSBoZWxwZXIuZ2V0QW5JZCgpO1xuICAgIHRoaXMuRGVzY3JpcHRpdmVJbmNpZGVudC5wdXRNZXNzYWdlT25QaXBlKCdzZXRCbG9jaycsIHtcbiAgICAgIGlkOiB0aGlzLmJsb2NrSUQsXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgICBpbmNpZGVudElkOiB0aGlzLkRlc2NyaXB0aXZlSW5jaWRlbnQuaWQsXG4gICAgICByZWFsSW5jaWRlbnRJZDogdGhpcy5pZFxuICAgIH0sICdyb290Q2xpcCcsIHtcbiAgICAgIHNlbGZFeGVjdXRlOiB0cnVlLFxuICAgICAgZGlyZWN0aW9uOiBfVFJFRUNPTlNULl9ESVJFQ1RJT05TLl9VUFxuICAgIH0pO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJsb2NrOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/block.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/handleResize.js":
/*!*********************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/handleResize.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction handleResize(pld) {\n  pld.descriptor.value = function (target, payload) {\n    // eslint-disable-line no-unused-vars\n    if (this.id === target) {\n      return this;\n    } else {\n      return this.bypass();\n    }\n  };\n}\n\nmodule.exports = handleResize;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9CYXNlQ2xhc3Nlcy9kZWNvcmF0b3JzL2hhbmRsZVJlc2l6ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L0Jhc2VDbGFzc2VzL2RlY29yYXRvcnMvaGFuZGxlUmVzaXplLmpzP2QzYjgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIGhhbmRsZVJlc2l6ZShwbGQpIHtcbiAgcGxkLmRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAodGFyZ2V0LCBwYXlsb2FkKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIGlmICh0aGlzLmlkID09PSB0YXJnZXQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5ieXBhc3MoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFuZGxlUmVzaXplOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/handleResize.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/unblock.js":
/*!****************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/unblock.js ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar Helper = __webpack_require__(/*! ../../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar _TREECONST = __webpack_require__(/*! ../../Tree/_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/_CONST.js\");\n\nfunction unblock(pld) {\n  pld.descriptor.value = function (description) {\n    this.DescriptiveIncident.putMessageOnPipe('unBlock', {\n      id: this.blockID\n    }, 'rootClip', {\n      selfExecute: true,\n      direction: _TREECONST._DIRECTIONS._UP\n    });\n  };\n}\n\nmodule.exports = unblock;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9CYXNlQ2xhc3Nlcy9kZWNvcmF0b3JzL3VuYmxvY2suanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9CYXNlQ2xhc3Nlcy9kZWNvcmF0b3JzL3VuYmxvY2suanM/YTkxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL19jb3JlVXRpbHMvSGVscGVyJyk7XG5cbnZhciBoZWxwZXIgPSBuZXcgSGVscGVyKCk7XG5cbnZhciBfVFJFRUNPTlNUID0gcmVxdWlyZSgnLi4vLi4vVHJlZS9fQ09OU1QnKTtcblxuZnVuY3Rpb24gdW5ibG9jayhwbGQpIHtcbiAgcGxkLmRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAoZGVzY3JpcHRpb24pIHtcbiAgICB0aGlzLkRlc2NyaXB0aXZlSW5jaWRlbnQucHV0TWVzc2FnZU9uUGlwZSgndW5CbG9jaycsIHtcbiAgICAgIGlkOiB0aGlzLmJsb2NrSURcbiAgICB9LCAncm9vdENsaXAnLCB7XG4gICAgICBzZWxmRXhlY3V0ZTogdHJ1ZSxcbiAgICAgIGRpcmVjdGlvbjogX1RSRUVDT05TVC5fRElSRUNUSU9OUy5fVVBcbiAgICB9KTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB1bmJsb2NrOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/decorators/unblock.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/AttributeChannel.js":
/*!*********************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/AttributeChannel.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Channel = __webpack_require__(/*! ../Channel */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Channel.js\");\n\nvar Helper = __webpack_require__(/*! ../../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar _filter = __webpack_require__(/*! ../../../lodash-custom-build/modularize/lodash.filter/index */ \"../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.filter/index.js\");\n\nvar _sortBy = __webpack_require__(/*! ../../../lodash-custom-build/modularize/lodash.sortby/index */ \"../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.sortby/index.js\");\n\nvar lanesHandler = __webpack_require__(/*! ./LanesHandler */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/LanesHandler.js\");\n\nvar AttributeChannel =\n/*#__PURE__*/\nfunction (_Channel) {\n  _inherits(AttributeChannel, _Channel);\n\n  function AttributeChannel(props) {\n    var _this;\n\n    _classCallCheck(this, AttributeChannel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AttributeChannel).call(this, props));\n    /*\n    comboAttributes are attributes of type object, holding a number of other attributes.\n    E.g. CSS \"transform\" attribute is a combo that holds a number of other attributes such as:\n    translateX, translateY, etc. The lanes handler keeps just one lane for the combo attrs\n    in an object format keeping the value of each attribute at any given point.\n    Combo attributes are passed on the constructor of the Channel in the format:\n    props.comboAttributes: {\n        transition: ['translateX', 'translateY', ...],\n        <something_else>: ['<attrName1>', '<attrName2>', ...]\n    }\n    */\n\n    _this.comboAttributes = {};\n    /**\n     * For incidents that do not have animatedAttrs there should be only one lane per element.\n     * The attributes Channel will use a default (fake), fixed attribute for this cases so it always ends\n     * up with just one lane per element: <element_id>_<this.fixedAttributeName>\n     */\n\n    _this.fixedAttributeName = \"_\";\n\n    if (props.comboAttributes != null) {\n      _this.comboAttributes = props.comboAttributes;\n    }\n\n    _this.LanesHandler = new lanesHandler({\n      comboAttributes: _this.comboAttributes,\n      runTimeInfo: _this.runTimeInfo\n    }); // this.type = \"attributes\";\n\n    return _this;\n  }\n\n  _createClass(AttributeChannel, [{\n    key: \"setComboAttributes\",\n    value: function setComboAttributes(comboAttributes) {\n      this.comboAttributes = comboAttributes;\n      this.LanesHandler = new lanesHandler({\n        comboAttributes: this.comboAttributes\n      });\n    }\n  }, {\n    key: \"_resize\",\n    value: function _resize(durationFraction) {\n      this.LanesHandler._resize(durationFraction);\n    }\n    /* *******************************************************\n     DECISION METHODS\n     ********************************************************/\n\n    /**\n     * All of the incidents coming to this method are element-attribute incidents meaning that they only\n     * target just one element and also they include just a single attribute on the incident.attrs.animatedAttrs\n     * object\n     *\n     * @param {array} incidents - A collection of Incidents in the form:\n     * {\n     *  millisecond\n     *  incident\n     *  id\n     * }\n     * @param {string} type - can be either \"all-or-nothing\" (default) or \"keep-passing\". If type = \"all-or-nothing\"\n     *  the addition passes only if all incidents pass. If type = \"keep-passing\" the method will still return true\n     *  but will also include an errors array on its return and also will only include the success callbacks on\n     *  the execute key of its return\n     * @returns either:\n     *   {\n     *       result:true,\n     *       execute: // an array of functions that when executed it will add the Incidents on the Channels\n     *   }\n     *   or\n     *   {\n     *       result: false,\n     *       errors\n     *   }\n     */\n\n  }, {\n    key: \"checkAddition\",\n    value: function checkAddition(incidents) {\n      var _this2 = this;\n\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"all-or-nothing\";\n      var LanesHandlerSandbox = this.LanesHandler.createTestLanesSanbox();\n      /* an array where we keep all affected lanes so we can slip on them at the end.\n      The format for each affected lane we keep is:\n      {\n          mcid: mcid,\n          attribute: attribute\n      }\n      */\n\n      var affectedLanes = []; // while the LanesHandlerSanbox adds lane items it makes decisions of which permanent changes should be made to\n      // the permanent and pre-existing objects it handles, such as changes on the initial values of existing animations.\n      // Because of the fact the LanesSandboxHandler is only there for testing we don't want to execute these changes\n      // during checks but still we need to know them on success. For this, the onSuccessActions array holds all executable\n      // functions retured by various LanesHandlerSanbox functions so it can execute them on success.\n\n      var onSuccessActions = [];\n      var conflicts = [];\n\n      var _loop = function _loop(i) {\n        var incidentConflicts = false; // a boolean that keeps the information whether the incident conflicts or not\n\n        var laneItem = incidents[i];\n        var incident = laneItem.incident;\n        var mcid = incident.mcid;\n        var attribute = incident.attribute || _this2.fixedAttributeName;\n        LanesHandlerSandbox.laneExists(mcid, attribute); // create the lane if it doesn't exist already\n\n        affectedLanes.push({\n          mcid: mcid,\n          attribute: attribute\n        }); // **** if the lane did exist before the new addition check for conflicts\n\n        var overlappingAnims = LanesHandlerSandbox.getOverlappingAnims(laneItem, mcid, attribute); // helper.log(overlappingAnim)\n\n        if (overlappingAnims.length > 0) {\n          incidentConflicts = true;\n          conflicts.push({\n            type: 'unauthorised, overlapping incidents on the same element',\n            meta: {\n              element_mcid: mcid,\n              attribute: attribute,\n              incident: laneItem,\n              overlappingAnims: overlappingAnims\n            }\n          });\n        }\n\n        if (!incidentConflicts) {\n          onSuccessActions.push(function () {\n            LanesHandlerSandbox.addElementToLane(mcid, attribute, laneItem.millisecond, incident);\n\n            incident._onGetContextOnce();\n          });\n        }\n      };\n\n      for (var i = 0; i < incidents.length; i++) {\n        _loop(i);\n      } // end for each incident\n      // if we have conflicts and the type = \"all-or-nothing\"\n\n\n      if (conflicts.length > 0 && type === \"all-or-nothing\") {\n        return {\n          result: false,\n          errors: conflicts\n        };\n      } else {\n        // as soon as we want all passing additions to get applied the Lanes Handler will create a callback that will be passed to the result.\n        // This callback will apply all passing additions.\n        // success message\n        var that = this;\n\n        var exec = function exec() {\n          for (var i = 0; i < onSuccessActions.length; i++) {\n            onSuccessActions[i]();\n          }\n\n          that.LanesHandler.applySandboxChanges(LanesHandlerSandbox);\n        };\n\n        return {\n          result: true,\n          errors: conflicts,\n          execute: exec\n        };\n      }\n    }\n    /**\n     * It initially checks if the edit is allowed and if it is it retuns an array of executable functions\n     * that apply the change\n     * @param {array} incidents - the list of the lane items to edit in an array format [object, object, ...]\n     * @param {int} millisecondsDelta - the milliseconds delta to apply to the incidents\n     * @returns {object} -\n     * either:\n     {\n        result: true,\n        execute: // array of functions to be executed in order to apply the edit\n     }\n     or\n     {\n         result: false,\n         errors: // an array including all the errors / conflicts found on edit\n     }\n    */\n\n  }, {\n    key: \"checkEdit\",\n    value: function checkEdit(incidents, millisecondsDelta) {\n      // console.log(incidents);\n      var affectedIncidentIds = [];\n\n      for (var i = 0; i < incidents.length; i++) {\n        affectedIncidentIds.push(incidents[i].id);\n      }\n\n      var LanesHandlerSandbox = this.LanesHandler.createTestLanesSanbox();\n      var conflicts = [];\n      var affectedLanes = []; // for each of the affectedAnimations\n\n      for (var _i = 0; _i < incidents.length; _i++) {\n        var incident = incidents[_i].incident;\n        var incidentId = incident.id;\n        var mcid = incidents[_i].incident.mcid;\n        var attribute = incidents[_i].incident.attribute || this.fixedAttributeName;\n        var lane = LanesHandlerSandbox.getLane(mcid, attribute);\n        var laneAttrs = {\n          mcid: mcid,\n          attribute: attribute // check for conflicts and edit lane items millisecond\n\n        };\n\n        for (var k = 0; k < lane.length; k++) {\n          if (lane[k].id === incidentId) {\n            affectedLanes.push(laneAttrs);\n            var affectedAnim = lane[k];\n            var testLaneElement = LanesHandlerSandbox.getLaneElementsClone(affectedAnim);\n            testLaneElement.millisecond += millisecondsDelta;\n            testLaneElement.incident = LanesHandlerSandbox.incidentsById._get(testLaneElement.id);\n            var overlappingAnims = LanesHandlerSandbox.getOverlappingAnims(testLaneElement, mcid, attribute, affectedIncidentIds);\n\n            if (overlappingAnims.length > 0) {\n              conflicts.push({\n                type: 'anauthorised, overlapping animations on the same element',\n                meta: {\n                  element_mcid: mcid,\n                  attribute: attribute,\n                  newAnimation: testLaneElement,\n                  overlappingAnims: overlappingAnims\n                }\n              });\n            }\n\n            break;\n          } // end of if we found the specific animation on the lane's sequence\n\n        } // end of each lane's item\n\n      } // end for each affected animation's id\n\n\n      if (conflicts.length > 0) {\n        return {\n          result: false,\n          errors: conflicts\n        };\n      } else {\n        var that = this;\n\n        var exec = function exec() {\n          that.LanesHandler.updateLane(affectedIncidentIds, millisecondsDelta);\n        };\n\n        return {\n          result: true,\n          execute: exec\n        };\n      }\n    }\n    /**\n     * @param {array} incidents - [{id, start, end, startDelta}]\n     * @param {boolean} fullChannelResize - if set to true then the full html channel is resizing. This is a special case as in\n     *  that case no checks should be actually perfomed nor the projected candidate should be applied directly\n     **/\n\n  }, {\n    key: \"checkResizedIncidents\",\n    value: function checkResizedIncidents(incidents) {\n      var fullChannelResize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var excludeIdsFromCheck = [];\n\n      for (var i = 0; i < incidents.length; i++) {\n        excludeIdsFromCheck.push(incidents[i].id);\n      }\n\n      var LanesHandlerSandbox = this.LanesHandler.createTestLanesSanbox();\n      var conflicts = [];\n      var affectedLanes = []; // for each of the incidents passed\n\n      for (var _i2 = 0; _i2 < incidents.length; _i2++) {\n        // get the ContextAwareIncident\n        var incident = this.LanesHandler.incidentsById._get(incidents[_i2].id);\n\n        var mcid = incident.mcid;\n        var attribute = incident.attribute || this.fixedAttributeName;\n        var lane = LanesHandlerSandbox.getLane(mcid, attribute);\n        var laneAttrs = {\n          mcid: mcid,\n          attribute: attribute\n        };\n        var testDuration = incidents[_i2].end - incidents[_i2].start; // check for conflicts and edit lane items millisecond\n\n        for (var k = 0; k < lane.length; k++) {\n          if (lane[k].id === incidents[_i2].id) {\n            affectedLanes.push(laneAttrs);\n\n            if (fullChannelResize === false) {\n              var affectedAnim = lane[k];\n              var testLaneElement = LanesHandlerSandbox.getLaneElementsClone(affectedAnim);\n              testLaneElement.millisecond += incidents[_i2].startDelta;\n              testLaneElement.incident = LanesHandlerSandbox.incidentsById._get(testLaneElement.id);\n              var overlappingAnims = LanesHandlerSandbox.getOverlappingAnims(testLaneElement, laneAttrs.mcid, laneAttrs.attribute, excludeIdsFromCheck, testDuration);\n\n              if (overlappingAnims.length > 0) {\n                conflicts.push({\n                  type: 'anauthorised overlapping animations on the same element',\n                  meta: {\n                    element_mcid: laneAttrs.mcid,\n                    attribute: laneAttrs.attribute,\n                    newAnimation: testLaneElement,\n                    overlappingAnims: overlappingAnims\n                  }\n                });\n              }\n            }\n\n            break;\n          } // end of if we found the specific animation on the lane's sequence\n\n        } // end of each lane's item\n\n      } // end for each affected animation's id\n\n\n      if (conflicts.length > 0) {\n        return {\n          result: false,\n          errors: conflicts\n        };\n      } else {\n        var that = this;\n\n        var exec = function exec() {\n          // updateLanes (only this time animation by animation as the milliseconds delta is not standard for all)\n          // as soon as there are no conflicts the Lanes Handler applies the changes before sending over the\n          // success message\n          for (var _i3 = 0; _i3 < incidents.length; _i3++) {\n            that.LanesHandler.updateLane([incidents[_i3].id], incidents[_i3].startDelta);\n          }\n        };\n\n        return {\n          execute: exec,\n          result: true\n        };\n      }\n    }\n    /**\n     *\n     */\n\n  }, {\n    key: \"checkDelete\",\n    value: function checkDelete(removedAnimations) {\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      // eslint-disable-line no-unused-vars\n      var removedAnimationIds = [];\n\n      for (var i = 0; i < removedAnimations.length; i++) {\n        removedAnimationIds.push(removedAnimations[i].id);\n      }\n\n      var that = this;\n\n      var exec = function exec() {\n        that.LanesHandler.deleteAnimations(removedAnimationIds);\n      };\n\n      return {\n        result: true,\n        execute: exec\n      };\n    }\n    /**\n     * Slips to just one lane forwards\n     * @param {array} lane - the lane to slip into\n     * @param {object} laneData - an object with keys: attribute & mcid\n     * @param {int} currentMillisecond - the millisecond the slip starts from\n     * @param {int} millisecond - the target millisecond of the slip\n     * @param {string} contextId - the contextId of the Incidents to slip\n     */\n\n  }, {\n    key: \"slipIntoLaneForwards\",\n    value: function slipIntoLaneForwards(lane, laneData, currentMillisecond, millisecond, contextId) {\n      var forceReset = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n      // console.log(lane, currentMillisecond, millisecond);\n      var that = this;\n\n      var participatingAnims = _filter(lane, function (laneItem) {\n        return laneItem.millisecond + that.incidentsById._get(laneItem.id).duration >= currentMillisecond && laneItem.millisecond + that.incidentsById._get(laneItem.id).duration <= millisecond || // it ends after currentMillisecond and before target millisecond\n        that.incidentsById._get(laneItem.id).duration + laneItem.millisecond >= millisecond && laneItem.millisecond <= millisecond; // or it ends after the target millisecond but also starts before it\n      });\n\n      if (participatingAnims.length == 0) {\n        if (forceReset === true) {\n          var firstIncident = this.incidentsById._get(lane[0].id);\n\n          firstIncident.onProgress(0, 0, contextId);\n        }\n\n        return true;\n      }\n\n      participatingAnims = _sortBy(participatingAnims, [function (laneItem) {\n        return laneItem.millisecond;\n      }]); // We only care about the last (in chronological order) Incident, as this\n      // will define the final value\n\n      var lastIndex = participatingAnims.length - 1;\n\n      var participatingAnim = this.incidentsById._get(participatingAnims[lastIndex].id);\n\n      var startMillisecond = participatingAnims[lastIndex].millisecond; // if the animation ends before the target millisecond\n\n      if (participatingAnim.duration + startMillisecond <= millisecond) {\n        // and it's the last one on the row\n        participatingAnim.onProgress(1, participatingAnim.duration, contextId);\n      } else {\n        // slip for the specific element and the specific attribute. Set the Animation as paused or playing a\n        // and store this info somewhere\n        var percentageComplete = (millisecond - startMillisecond) / participatingAnim.duration;\n        participatingAnim.onProgress(percentageComplete, millisecond - startMillisecond, contextId);\n      }\n    }\n    /**\n     * Slips to just one lane backwards\n     * @param {array} lane - the lane to slip into\n     * @param {object} laneData - an object with keys: attribute & mcid\n     * @param {int} currentMillisecond - the millisecond the slip starts from\n     * @param {int} millisecond - the target millisecond of the slip\n     * @param {string} contextId - the contextId of the Incidents to slip\n     */\n\n  }, {\n    key: \"slipToLaneBackwards\",\n    value: function slipToLaneBackwards(lane, laneData, currentMillisecond, millisecond, contextId) {\n      var forceReset = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n      // we take all Animations that are either currently running or\n      // they end after the destination point\n      // helper.log('<------');\n      var that = this;\n\n      var participatingAnims = _filter(lane, function (laneItem) {\n        var laneItemEnd = that.incidentsById._get(laneItem.id).duration + laneItem.millisecond;\n        return laneItemEnd <= millisecond && laneItemEnd >= currentMillisecond || // they end in the hot area\n        laneItem.millisecond >= currentMillisecond && laneItem.millisecond <= millisecond || // they start in the hot area\n        laneItem.millisecond < currentMillisecond && laneItemEnd > millisecond; // they overlap the hot area\n      });\n\n      if (participatingAnims.length == 0) {\n        if (participatingAnims.length == 0) {\n          if (forceReset === true) {\n            var firstIncident = this.incidentsById._get(lane[lane.length - 1].id);\n\n            firstIncident.onProgress(1, firstIncident.duration, contextId);\n          }\n\n          return true;\n        }\n\n        return true;\n      }\n\n      participatingAnims = _sortBy(participatingAnims, [function (laneItem) {\n        return laneItem.millisecond;\n      }]); // We only care about the first (in chronological order) Incident, as this\n      // will define the final value of the backwards move\n\n      var lastIndex = 0;\n\n      var participatingAnim = this.incidentsById._get(participatingAnims[lastIndex].id);\n\n      var startMillisecond = participatingAnims[lastIndex].millisecond; // if the animation starts after the target millisecond\n\n      if (startMillisecond >= millisecond) {\n        participatingAnim.onProgress(0, 0, contextId);\n      } else {\n        // slip for the specific element and the specific attribute. Set the Animation as paused or playing a\n        // and store this info somewhere\n        var percentageComplete = (millisecond - startMillisecond) / participatingAnim.duration;\n        participatingAnim.onProgress(percentageComplete, millisecond - startMillisecond, contextId);\n      }\n    }\n    /**\n     @param {int} from - the millisecond to start from\n     @param {int} to - the millisecond to go to\n     @param {sring} contextId - the context id to \"move\"\n     @param {boolean} forceReset - set to true if status recalc is needed after edit\n     */\n\n  }, {\n    key: \"moveTo\",\n    value: function moveTo(from, to, contextId) {\n      var forceReset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      // step 1: iterate through all lanes\n      var laneKeys = this.lanes._keys();\n\n      for (var i = 0; i < laneKeys.length; i++) {\n        var laneid = laneKeys[i];\n\n        var lane = this.lanes._get(laneid);\n\n        var laneData = helper.getMCIDandAttrOutOfLaneKey(laneid);\n\n        if (from <= to) {\n          this.slipIntoLaneForwards(lane, laneData, from, to, contextId, forceReset);\n        } else if (from > to) {\n          this.slipToLaneBackwards(lane, laneData, from, to, contextId, forceReset);\n        }\n      }\n    }\n  }, {\n    key: \"lanes\",\n    get: function get() {\n      return this.LanesHandler.lanes;\n    }\n  }, {\n    key: \"incidentsById\",\n    get: function get() {\n      return this.LanesHandler.incidentsById;\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return \"attributes\";\n    }\n  }]);\n\n  return AttributeChannel;\n}(Channel);\n\nmodule.exports = AttributeChannel;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DaGFubmVscy9BdHRyaWJ1dGUvQXR0cmlidXRlQ2hhbm5lbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L0NoYW5uZWxzL0F0dHJpYnV0ZS9BdHRyaWJ1dGVDaGFubmVsLmpzP2RhMTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG52YXIgQ2hhbm5lbCA9IHJlcXVpcmUoJy4uL0NoYW5uZWwnKTtcblxudmFyIEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL19jb3JlVXRpbHMvSGVscGVyJyk7XG5cbnZhciBoZWxwZXIgPSBuZXcgSGVscGVyKCk7XG5cbnZhciBfZmlsdGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vbG9kYXNoLWN1c3RvbS1idWlsZC9tb2R1bGFyaXplL2xvZGFzaC5maWx0ZXIvaW5kZXgnKTtcblxudmFyIF9zb3J0QnkgPSByZXF1aXJlKCcuLi8uLi8uLi9sb2Rhc2gtY3VzdG9tLWJ1aWxkL21vZHVsYXJpemUvbG9kYXNoLnNvcnRieS9pbmRleCcpO1xuXG52YXIgbGFuZXNIYW5kbGVyID0gcmVxdWlyZSgnLi9MYW5lc0hhbmRsZXInKTtcblxudmFyIEF0dHJpYnV0ZUNoYW5uZWwgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9DaGFubmVsKSB7XG4gIF9pbmhlcml0cyhBdHRyaWJ1dGVDaGFubmVsLCBfQ2hhbm5lbCk7XG5cbiAgZnVuY3Rpb24gQXR0cmlidXRlQ2hhbm5lbChwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdHRyaWJ1dGVDaGFubmVsKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEF0dHJpYnV0ZUNoYW5uZWwpLmNhbGwodGhpcywgcHJvcHMpKTtcbiAgICAvKlxuICAgIGNvbWJvQXR0cmlidXRlcyBhcmUgYXR0cmlidXRlcyBvZiB0eXBlIG9iamVjdCwgaG9sZGluZyBhIG51bWJlciBvZiBvdGhlciBhdHRyaWJ1dGVzLlxuICAgIEUuZy4gQ1NTIFwidHJhbnNmb3JtXCIgYXR0cmlidXRlIGlzIGEgY29tYm8gdGhhdCBob2xkcyBhIG51bWJlciBvZiBvdGhlciBhdHRyaWJ1dGVzIHN1Y2ggYXM6XG4gICAgdHJhbnNsYXRlWCwgdHJhbnNsYXRlWSwgZXRjLiBUaGUgbGFuZXMgaGFuZGxlciBrZWVwcyBqdXN0IG9uZSBsYW5lIGZvciB0aGUgY29tYm8gYXR0cnNcbiAgICBpbiBhbiBvYmplY3QgZm9ybWF0IGtlZXBpbmcgdGhlIHZhbHVlIG9mIGVhY2ggYXR0cmlidXRlIGF0IGFueSBnaXZlbiBwb2ludC5cbiAgICBDb21ibyBhdHRyaWJ1dGVzIGFyZSBwYXNzZWQgb24gdGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBDaGFubmVsIGluIHRoZSBmb3JtYXQ6XG4gICAgcHJvcHMuY29tYm9BdHRyaWJ1dGVzOiB7XG4gICAgICAgIHRyYW5zaXRpb246IFsndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJywgLi4uXSxcbiAgICAgICAgPHNvbWV0aGluZ19lbHNlPjogWyc8YXR0ck5hbWUxPicsICc8YXR0ck5hbWUyPicsIC4uLl1cbiAgICB9XG4gICAgKi9cblxuICAgIF90aGlzLmNvbWJvQXR0cmlidXRlcyA9IHt9O1xuICAgIC8qKlxuICAgICAqIEZvciBpbmNpZGVudHMgdGhhdCBkbyBub3QgaGF2ZSBhbmltYXRlZEF0dHJzIHRoZXJlIHNob3VsZCBiZSBvbmx5IG9uZSBsYW5lIHBlciBlbGVtZW50LlxuICAgICAqIFRoZSBhdHRyaWJ1dGVzIENoYW5uZWwgd2lsbCB1c2UgYSBkZWZhdWx0IChmYWtlKSwgZml4ZWQgYXR0cmlidXRlIGZvciB0aGlzIGNhc2VzIHNvIGl0IGFsd2F5cyBlbmRzXG4gICAgICogdXAgd2l0aCBqdXN0IG9uZSBsYW5lIHBlciBlbGVtZW50OiA8ZWxlbWVudF9pZD5fPHRoaXMuZml4ZWRBdHRyaWJ1dGVOYW1lPlxuICAgICAqL1xuXG4gICAgX3RoaXMuZml4ZWRBdHRyaWJ1dGVOYW1lID0gXCJfXCI7XG5cbiAgICBpZiAocHJvcHMuY29tYm9BdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICAgIF90aGlzLmNvbWJvQXR0cmlidXRlcyA9IHByb3BzLmNvbWJvQXR0cmlidXRlcztcbiAgICB9XG5cbiAgICBfdGhpcy5MYW5lc0hhbmRsZXIgPSBuZXcgbGFuZXNIYW5kbGVyKHtcbiAgICAgIGNvbWJvQXR0cmlidXRlczogX3RoaXMuY29tYm9BdHRyaWJ1dGVzLFxuICAgICAgcnVuVGltZUluZm86IF90aGlzLnJ1blRpbWVJbmZvXG4gICAgfSk7IC8vIHRoaXMudHlwZSA9IFwiYXR0cmlidXRlc1wiO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEF0dHJpYnV0ZUNoYW5uZWwsIFt7XG4gICAga2V5OiBcInNldENvbWJvQXR0cmlidXRlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDb21ib0F0dHJpYnV0ZXMoY29tYm9BdHRyaWJ1dGVzKSB7XG4gICAgICB0aGlzLmNvbWJvQXR0cmlidXRlcyA9IGNvbWJvQXR0cmlidXRlcztcbiAgICAgIHRoaXMuTGFuZXNIYW5kbGVyID0gbmV3IGxhbmVzSGFuZGxlcih7XG4gICAgICAgIGNvbWJvQXR0cmlidXRlczogdGhpcy5jb21ib0F0dHJpYnV0ZXNcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfcmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9yZXNpemUoZHVyYXRpb25GcmFjdGlvbikge1xuICAgICAgdGhpcy5MYW5lc0hhbmRsZXIuX3Jlc2l6ZShkdXJhdGlvbkZyYWN0aW9uKTtcbiAgICB9XG4gICAgLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICBERUNJU0lPTiBNRVRIT0RTXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgLyoqXG4gICAgICogQWxsIG9mIHRoZSBpbmNpZGVudHMgY29taW5nIHRvIHRoaXMgbWV0aG9kIGFyZSBlbGVtZW50LWF0dHJpYnV0ZSBpbmNpZGVudHMgbWVhbmluZyB0aGF0IHRoZXkgb25seVxuICAgICAqIHRhcmdldCBqdXN0IG9uZSBlbGVtZW50IGFuZCBhbHNvIHRoZXkgaW5jbHVkZSBqdXN0IGEgc2luZ2xlIGF0dHJpYnV0ZSBvbiB0aGUgaW5jaWRlbnQuYXR0cnMuYW5pbWF0ZWRBdHRyc1xuICAgICAqIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHthcnJheX0gaW5jaWRlbnRzIC0gQSBjb2xsZWN0aW9uIG9mIEluY2lkZW50cyBpbiB0aGUgZm9ybTpcbiAgICAgKiB7XG4gICAgICogIG1pbGxpc2Vjb25kXG4gICAgICogIGluY2lkZW50XG4gICAgICogIGlkXG4gICAgICogfVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gY2FuIGJlIGVpdGhlciBcImFsbC1vci1ub3RoaW5nXCIgKGRlZmF1bHQpIG9yIFwia2VlcC1wYXNzaW5nXCIuIElmIHR5cGUgPSBcImFsbC1vci1ub3RoaW5nXCJcbiAgICAgKiAgdGhlIGFkZGl0aW9uIHBhc3NlcyBvbmx5IGlmIGFsbCBpbmNpZGVudHMgcGFzcy4gSWYgdHlwZSA9IFwia2VlcC1wYXNzaW5nXCIgdGhlIG1ldGhvZCB3aWxsIHN0aWxsIHJldHVybiB0cnVlXG4gICAgICogIGJ1dCB3aWxsIGFsc28gaW5jbHVkZSBhbiBlcnJvcnMgYXJyYXkgb24gaXRzIHJldHVybiBhbmQgYWxzbyB3aWxsIG9ubHkgaW5jbHVkZSB0aGUgc3VjY2VzcyBjYWxsYmFja3Mgb25cbiAgICAgKiAgdGhlIGV4ZWN1dGUga2V5IG9mIGl0cyByZXR1cm5cbiAgICAgKiBAcmV0dXJucyBlaXRoZXI6XG4gICAgICogICB7XG4gICAgICogICAgICAgcmVzdWx0OnRydWUsXG4gICAgICogICAgICAgZXhlY3V0ZTogLy8gYW4gYXJyYXkgb2YgZnVuY3Rpb25zIHRoYXQgd2hlbiBleGVjdXRlZCBpdCB3aWxsIGFkZCB0aGUgSW5jaWRlbnRzIG9uIHRoZSBDaGFubmVsc1xuICAgICAqICAgfVxuICAgICAqICAgb3JcbiAgICAgKiAgIHtcbiAgICAgKiAgICAgICByZXN1bHQ6IGZhbHNlLFxuICAgICAqICAgICAgIGVycm9yc1xuICAgICAqICAgfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tBZGRpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0FkZGl0aW9uKGluY2lkZW50cykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciB0eXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBcImFsbC1vci1ub3RoaW5nXCI7XG4gICAgICB2YXIgTGFuZXNIYW5kbGVyU2FuZGJveCA9IHRoaXMuTGFuZXNIYW5kbGVyLmNyZWF0ZVRlc3RMYW5lc1NhbmJveCgpO1xuICAgICAgLyogYW4gYXJyYXkgd2hlcmUgd2Uga2VlcCBhbGwgYWZmZWN0ZWQgbGFuZXMgc28gd2UgY2FuIHNsaXAgb24gdGhlbSBhdCB0aGUgZW5kLlxuICAgICAgVGhlIGZvcm1hdCBmb3IgZWFjaCBhZmZlY3RlZCBsYW5lIHdlIGtlZXAgaXM6XG4gICAgICB7XG4gICAgICAgICAgbWNpZDogbWNpZCxcbiAgICAgICAgICBhdHRyaWJ1dGU6IGF0dHJpYnV0ZVxuICAgICAgfVxuICAgICAgKi9cblxuICAgICAgdmFyIGFmZmVjdGVkTGFuZXMgPSBbXTsgLy8gd2hpbGUgdGhlIExhbmVzSGFuZGxlclNhbmJveCBhZGRzIGxhbmUgaXRlbXMgaXQgbWFrZXMgZGVjaXNpb25zIG9mIHdoaWNoIHBlcm1hbmVudCBjaGFuZ2VzIHNob3VsZCBiZSBtYWRlIHRvXG4gICAgICAvLyB0aGUgcGVybWFuZW50IGFuZCBwcmUtZXhpc3Rpbmcgb2JqZWN0cyBpdCBoYW5kbGVzLCBzdWNoIGFzIGNoYW5nZXMgb24gdGhlIGluaXRpYWwgdmFsdWVzIG9mIGV4aXN0aW5nIGFuaW1hdGlvbnMuXG4gICAgICAvLyBCZWNhdXNlIG9mIHRoZSBmYWN0IHRoZSBMYW5lc1NhbmRib3hIYW5kbGVyIGlzIG9ubHkgdGhlcmUgZm9yIHRlc3Rpbmcgd2UgZG9uJ3Qgd2FudCB0byBleGVjdXRlIHRoZXNlIGNoYW5nZXNcbiAgICAgIC8vIGR1cmluZyBjaGVja3MgYnV0IHN0aWxsIHdlIG5lZWQgdG8ga25vdyB0aGVtIG9uIHN1Y2Nlc3MuIEZvciB0aGlzLCB0aGUgb25TdWNjZXNzQWN0aW9ucyBhcnJheSBob2xkcyBhbGwgZXhlY3V0YWJsZVxuICAgICAgLy8gZnVuY3Rpb25zIHJldHVyZWQgYnkgdmFyaW91cyBMYW5lc0hhbmRsZXJTYW5ib3ggZnVuY3Rpb25zIHNvIGl0IGNhbiBleGVjdXRlIHRoZW0gb24gc3VjY2Vzcy5cblxuICAgICAgdmFyIG9uU3VjY2Vzc0FjdGlvbnMgPSBbXTtcbiAgICAgIHZhciBjb25mbGljdHMgPSBbXTtcblxuICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkge1xuICAgICAgICB2YXIgaW5jaWRlbnRDb25mbGljdHMgPSBmYWxzZTsgLy8gYSBib29sZWFuIHRoYXQga2VlcHMgdGhlIGluZm9ybWF0aW9uIHdoZXRoZXIgdGhlIGluY2lkZW50IGNvbmZsaWN0cyBvciBub3RcblxuICAgICAgICB2YXIgbGFuZUl0ZW0gPSBpbmNpZGVudHNbaV07XG4gICAgICAgIHZhciBpbmNpZGVudCA9IGxhbmVJdGVtLmluY2lkZW50O1xuICAgICAgICB2YXIgbWNpZCA9IGluY2lkZW50Lm1jaWQ7XG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSBpbmNpZGVudC5hdHRyaWJ1dGUgfHwgX3RoaXMyLmZpeGVkQXR0cmlidXRlTmFtZTtcbiAgICAgICAgTGFuZXNIYW5kbGVyU2FuZGJveC5sYW5lRXhpc3RzKG1jaWQsIGF0dHJpYnV0ZSk7IC8vIGNyZWF0ZSB0aGUgbGFuZSBpZiBpdCBkb2Vzbid0IGV4aXN0IGFscmVhZHlcblxuICAgICAgICBhZmZlY3RlZExhbmVzLnB1c2goe1xuICAgICAgICAgIG1jaWQ6IG1jaWQsXG4gICAgICAgICAgYXR0cmlidXRlOiBhdHRyaWJ1dGVcbiAgICAgICAgfSk7IC8vICoqKiogaWYgdGhlIGxhbmUgZGlkIGV4aXN0IGJlZm9yZSB0aGUgbmV3IGFkZGl0aW9uIGNoZWNrIGZvciBjb25mbGljdHNcblxuICAgICAgICB2YXIgb3ZlcmxhcHBpbmdBbmltcyA9IExhbmVzSGFuZGxlclNhbmRib3guZ2V0T3ZlcmxhcHBpbmdBbmltcyhsYW5lSXRlbSwgbWNpZCwgYXR0cmlidXRlKTsgLy8gaGVscGVyLmxvZyhvdmVybGFwcGluZ0FuaW0pXG5cbiAgICAgICAgaWYgKG92ZXJsYXBwaW5nQW5pbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGluY2lkZW50Q29uZmxpY3RzID0gdHJ1ZTtcbiAgICAgICAgICBjb25mbGljdHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiAndW5hdXRob3Jpc2VkLCBvdmVybGFwcGluZyBpbmNpZGVudHMgb24gdGhlIHNhbWUgZWxlbWVudCcsXG4gICAgICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgICAgIGVsZW1lbnRfbWNpZDogbWNpZCxcbiAgICAgICAgICAgICAgYXR0cmlidXRlOiBhdHRyaWJ1dGUsXG4gICAgICAgICAgICAgIGluY2lkZW50OiBsYW5lSXRlbSxcbiAgICAgICAgICAgICAgb3ZlcmxhcHBpbmdBbmltczogb3ZlcmxhcHBpbmdBbmltc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpbmNpZGVudENvbmZsaWN0cykge1xuICAgICAgICAgIG9uU3VjY2Vzc0FjdGlvbnMucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBMYW5lc0hhbmRsZXJTYW5kYm94LmFkZEVsZW1lbnRUb0xhbmUobWNpZCwgYXR0cmlidXRlLCBsYW5lSXRlbS5taWxsaXNlY29uZCwgaW5jaWRlbnQpO1xuXG4gICAgICAgICAgICBpbmNpZGVudC5fb25HZXRDb250ZXh0T25jZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluY2lkZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBfbG9vcChpKTtcbiAgICAgIH0gLy8gZW5kIGZvciBlYWNoIGluY2lkZW50XG4gICAgICAvLyBpZiB3ZSBoYXZlIGNvbmZsaWN0cyBhbmQgdGhlIHR5cGUgPSBcImFsbC1vci1ub3RoaW5nXCJcblxuXG4gICAgICBpZiAoY29uZmxpY3RzLmxlbmd0aCA+IDAgJiYgdHlwZSA9PT0gXCJhbGwtb3Itbm90aGluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgICAgICBlcnJvcnM6IGNvbmZsaWN0c1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYXMgc29vbiBhcyB3ZSB3YW50IGFsbCBwYXNzaW5nIGFkZGl0aW9ucyB0byBnZXQgYXBwbGllZCB0aGUgTGFuZXMgSGFuZGxlciB3aWxsIGNyZWF0ZSBhIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIHJlc3VsdC5cbiAgICAgICAgLy8gVGhpcyBjYWxsYmFjayB3aWxsIGFwcGx5IGFsbCBwYXNzaW5nIGFkZGl0aW9ucy5cbiAgICAgICAgLy8gc3VjY2VzcyBtZXNzYWdlXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICB2YXIgZXhlYyA9IGZ1bmN0aW9uIGV4ZWMoKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvblN1Y2Nlc3NBY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBvblN1Y2Nlc3NBY3Rpb25zW2ldKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhhdC5MYW5lc0hhbmRsZXIuYXBwbHlTYW5kYm94Q2hhbmdlcyhMYW5lc0hhbmRsZXJTYW5kYm94KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogdHJ1ZSxcbiAgICAgICAgICBlcnJvcnM6IGNvbmZsaWN0cyxcbiAgICAgICAgICBleGVjdXRlOiBleGVjXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0IGluaXRpYWxseSBjaGVja3MgaWYgdGhlIGVkaXQgaXMgYWxsb3dlZCBhbmQgaWYgaXQgaXMgaXQgcmV0dW5zIGFuIGFycmF5IG9mIGV4ZWN1dGFibGUgZnVuY3Rpb25zXG4gICAgICogdGhhdCBhcHBseSB0aGUgY2hhbmdlXG4gICAgICogQHBhcmFtIHthcnJheX0gaW5jaWRlbnRzIC0gdGhlIGxpc3Qgb2YgdGhlIGxhbmUgaXRlbXMgdG8gZWRpdCBpbiBhbiBhcnJheSBmb3JtYXQgW29iamVjdCwgb2JqZWN0LCAuLi5dXG4gICAgICogQHBhcmFtIHtpbnR9IG1pbGxpc2Vjb25kc0RlbHRhIC0gdGhlIG1pbGxpc2Vjb25kcyBkZWx0YSB0byBhcHBseSB0byB0aGUgaW5jaWRlbnRzXG4gICAgICogQHJldHVybnMge29iamVjdH0gLVxuICAgICAqIGVpdGhlcjpcbiAgICAge1xuICAgICAgICByZXN1bHQ6IHRydWUsXG4gICAgICAgIGV4ZWN1dGU6IC8vIGFycmF5IG9mIGZ1bmN0aW9ucyB0byBiZSBleGVjdXRlZCBpbiBvcmRlciB0byBhcHBseSB0aGUgZWRpdFxuICAgICB9XG4gICAgIG9yXG4gICAgIHtcbiAgICAgICAgIHJlc3VsdDogZmFsc2UsXG4gICAgICAgICBlcnJvcnM6IC8vIGFuIGFycmF5IGluY2x1ZGluZyBhbGwgdGhlIGVycm9ycyAvIGNvbmZsaWN0cyBmb3VuZCBvbiBlZGl0XG4gICAgIH1cbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tFZGl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrRWRpdChpbmNpZGVudHMsIG1pbGxpc2Vjb25kc0RlbHRhKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhpbmNpZGVudHMpO1xuICAgICAgdmFyIGFmZmVjdGVkSW5jaWRlbnRJZHMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmNpZGVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYWZmZWN0ZWRJbmNpZGVudElkcy5wdXNoKGluY2lkZW50c1tpXS5pZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBMYW5lc0hhbmRsZXJTYW5kYm94ID0gdGhpcy5MYW5lc0hhbmRsZXIuY3JlYXRlVGVzdExhbmVzU2FuYm94KCk7XG4gICAgICB2YXIgY29uZmxpY3RzID0gW107XG4gICAgICB2YXIgYWZmZWN0ZWRMYW5lcyA9IFtdOyAvLyBmb3IgZWFjaCBvZiB0aGUgYWZmZWN0ZWRBbmltYXRpb25zXG5cbiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBpbmNpZGVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBpbmNpZGVudCA9IGluY2lkZW50c1tfaV0uaW5jaWRlbnQ7XG4gICAgICAgIHZhciBpbmNpZGVudElkID0gaW5jaWRlbnQuaWQ7XG4gICAgICAgIHZhciBtY2lkID0gaW5jaWRlbnRzW19pXS5pbmNpZGVudC5tY2lkO1xuICAgICAgICB2YXIgYXR0cmlidXRlID0gaW5jaWRlbnRzW19pXS5pbmNpZGVudC5hdHRyaWJ1dGUgfHwgdGhpcy5maXhlZEF0dHJpYnV0ZU5hbWU7XG4gICAgICAgIHZhciBsYW5lID0gTGFuZXNIYW5kbGVyU2FuZGJveC5nZXRMYW5lKG1jaWQsIGF0dHJpYnV0ZSk7XG4gICAgICAgIHZhciBsYW5lQXR0cnMgPSB7XG4gICAgICAgICAgbWNpZDogbWNpZCxcbiAgICAgICAgICBhdHRyaWJ1dGU6IGF0dHJpYnV0ZSAvLyBjaGVjayBmb3IgY29uZmxpY3RzIGFuZCBlZGl0IGxhbmUgaXRlbXMgbWlsbGlzZWNvbmRcblxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbGFuZS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgIGlmIChsYW5lW2tdLmlkID09PSBpbmNpZGVudElkKSB7XG4gICAgICAgICAgICBhZmZlY3RlZExhbmVzLnB1c2gobGFuZUF0dHJzKTtcbiAgICAgICAgICAgIHZhciBhZmZlY3RlZEFuaW0gPSBsYW5lW2tdO1xuICAgICAgICAgICAgdmFyIHRlc3RMYW5lRWxlbWVudCA9IExhbmVzSGFuZGxlclNhbmRib3guZ2V0TGFuZUVsZW1lbnRzQ2xvbmUoYWZmZWN0ZWRBbmltKTtcbiAgICAgICAgICAgIHRlc3RMYW5lRWxlbWVudC5taWxsaXNlY29uZCArPSBtaWxsaXNlY29uZHNEZWx0YTtcbiAgICAgICAgICAgIHRlc3RMYW5lRWxlbWVudC5pbmNpZGVudCA9IExhbmVzSGFuZGxlclNhbmRib3guaW5jaWRlbnRzQnlJZC5fZ2V0KHRlc3RMYW5lRWxlbWVudC5pZCk7XG4gICAgICAgICAgICB2YXIgb3ZlcmxhcHBpbmdBbmltcyA9IExhbmVzSGFuZGxlclNhbmRib3guZ2V0T3ZlcmxhcHBpbmdBbmltcyh0ZXN0TGFuZUVsZW1lbnQsIG1jaWQsIGF0dHJpYnV0ZSwgYWZmZWN0ZWRJbmNpZGVudElkcyk7XG5cbiAgICAgICAgICAgIGlmIChvdmVybGFwcGluZ0FuaW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgY29uZmxpY3RzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdhbmF1dGhvcmlzZWQsIG92ZXJsYXBwaW5nIGFuaW1hdGlvbnMgb24gdGhlIHNhbWUgZWxlbWVudCcsXG4gICAgICAgICAgICAgICAgbWV0YToge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudF9tY2lkOiBtY2lkLFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiBhdHRyaWJ1dGUsXG4gICAgICAgICAgICAgICAgICBuZXdBbmltYXRpb246IHRlc3RMYW5lRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgIG92ZXJsYXBwaW5nQW5pbXM6IG92ZXJsYXBwaW5nQW5pbXNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IC8vIGVuZCBvZiBpZiB3ZSBmb3VuZCB0aGUgc3BlY2lmaWMgYW5pbWF0aW9uIG9uIHRoZSBsYW5lJ3Mgc2VxdWVuY2VcblxuICAgICAgICB9IC8vIGVuZCBvZiBlYWNoIGxhbmUncyBpdGVtXG5cbiAgICAgIH0gLy8gZW5kIGZvciBlYWNoIGFmZmVjdGVkIGFuaW1hdGlvbidzIGlkXG5cblxuICAgICAgaWYgKGNvbmZsaWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgICAgICBlcnJvcnM6IGNvbmZsaWN0c1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIHZhciBleGVjID0gZnVuY3Rpb24gZXhlYygpIHtcbiAgICAgICAgICB0aGF0LkxhbmVzSGFuZGxlci51cGRhdGVMYW5lKGFmZmVjdGVkSW5jaWRlbnRJZHMsIG1pbGxpc2Vjb25kc0RlbHRhKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogdHJ1ZSxcbiAgICAgICAgICBleGVjdXRlOiBleGVjXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGluY2lkZW50cyAtIFt7aWQsIHN0YXJ0LCBlbmQsIHN0YXJ0RGVsdGF9XVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZnVsbENoYW5uZWxSZXNpemUgLSBpZiBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBmdWxsIGh0bWwgY2hhbm5lbCBpcyByZXNpemluZy4gVGhpcyBpcyBhIHNwZWNpYWwgY2FzZSBhcyBpblxuICAgICAqICB0aGF0IGNhc2Ugbm8gY2hlY2tzIHNob3VsZCBiZSBhY3R1YWxseSBwZXJmb21lZCBub3IgdGhlIHByb2plY3RlZCBjYW5kaWRhdGUgc2hvdWxkIGJlIGFwcGxpZWQgZGlyZWN0bHlcbiAgICAgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJjaGVja1Jlc2l6ZWRJbmNpZGVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tSZXNpemVkSW5jaWRlbnRzKGluY2lkZW50cykge1xuICAgICAgdmFyIGZ1bGxDaGFubmVsUmVzaXplID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgIHZhciBleGNsdWRlSWRzRnJvbUNoZWNrID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5jaWRlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGV4Y2x1ZGVJZHNGcm9tQ2hlY2sucHVzaChpbmNpZGVudHNbaV0uaWQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgTGFuZXNIYW5kbGVyU2FuZGJveCA9IHRoaXMuTGFuZXNIYW5kbGVyLmNyZWF0ZVRlc3RMYW5lc1NhbmJveCgpO1xuICAgICAgdmFyIGNvbmZsaWN0cyA9IFtdO1xuICAgICAgdmFyIGFmZmVjdGVkTGFuZXMgPSBbXTsgLy8gZm9yIGVhY2ggb2YgdGhlIGluY2lkZW50cyBwYXNzZWRcblxuICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgaW5jaWRlbnRzLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgLy8gZ2V0IHRoZSBDb250ZXh0QXdhcmVJbmNpZGVudFxuICAgICAgICB2YXIgaW5jaWRlbnQgPSB0aGlzLkxhbmVzSGFuZGxlci5pbmNpZGVudHNCeUlkLl9nZXQoaW5jaWRlbnRzW19pMl0uaWQpO1xuXG4gICAgICAgIHZhciBtY2lkID0gaW5jaWRlbnQubWNpZDtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGluY2lkZW50LmF0dHJpYnV0ZSB8fCB0aGlzLmZpeGVkQXR0cmlidXRlTmFtZTtcbiAgICAgICAgdmFyIGxhbmUgPSBMYW5lc0hhbmRsZXJTYW5kYm94LmdldExhbmUobWNpZCwgYXR0cmlidXRlKTtcbiAgICAgICAgdmFyIGxhbmVBdHRycyA9IHtcbiAgICAgICAgICBtY2lkOiBtY2lkLFxuICAgICAgICAgIGF0dHJpYnV0ZTogYXR0cmlidXRlXG4gICAgICAgIH07XG4gICAgICAgIHZhciB0ZXN0RHVyYXRpb24gPSBpbmNpZGVudHNbX2kyXS5lbmQgLSBpbmNpZGVudHNbX2kyXS5zdGFydDsgLy8gY2hlY2sgZm9yIGNvbmZsaWN0cyBhbmQgZWRpdCBsYW5lIGl0ZW1zIG1pbGxpc2Vjb25kXG5cbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBsYW5lLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgaWYgKGxhbmVba10uaWQgPT09IGluY2lkZW50c1tfaTJdLmlkKSB7XG4gICAgICAgICAgICBhZmZlY3RlZExhbmVzLnB1c2gobGFuZUF0dHJzKTtcblxuICAgICAgICAgICAgaWYgKGZ1bGxDaGFubmVsUmVzaXplID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICB2YXIgYWZmZWN0ZWRBbmltID0gbGFuZVtrXTtcbiAgICAgICAgICAgICAgdmFyIHRlc3RMYW5lRWxlbWVudCA9IExhbmVzSGFuZGxlclNhbmRib3guZ2V0TGFuZUVsZW1lbnRzQ2xvbmUoYWZmZWN0ZWRBbmltKTtcbiAgICAgICAgICAgICAgdGVzdExhbmVFbGVtZW50Lm1pbGxpc2Vjb25kICs9IGluY2lkZW50c1tfaTJdLnN0YXJ0RGVsdGE7XG4gICAgICAgICAgICAgIHRlc3RMYW5lRWxlbWVudC5pbmNpZGVudCA9IExhbmVzSGFuZGxlclNhbmRib3guaW5jaWRlbnRzQnlJZC5fZ2V0KHRlc3RMYW5lRWxlbWVudC5pZCk7XG4gICAgICAgICAgICAgIHZhciBvdmVybGFwcGluZ0FuaW1zID0gTGFuZXNIYW5kbGVyU2FuZGJveC5nZXRPdmVybGFwcGluZ0FuaW1zKHRlc3RMYW5lRWxlbWVudCwgbGFuZUF0dHJzLm1jaWQsIGxhbmVBdHRycy5hdHRyaWJ1dGUsIGV4Y2x1ZGVJZHNGcm9tQ2hlY2ssIHRlc3REdXJhdGlvbik7XG5cbiAgICAgICAgICAgICAgaWYgKG92ZXJsYXBwaW5nQW5pbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbmZsaWN0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdhbmF1dGhvcmlzZWQgb3ZlcmxhcHBpbmcgYW5pbWF0aW9ucyBvbiB0aGUgc2FtZSBlbGVtZW50JyxcbiAgICAgICAgICAgICAgICAgIG1ldGE6IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudF9tY2lkOiBsYW5lQXR0cnMubWNpZCxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiBsYW5lQXR0cnMuYXR0cmlidXRlLFxuICAgICAgICAgICAgICAgICAgICBuZXdBbmltYXRpb246IHRlc3RMYW5lRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxhcHBpbmdBbmltczogb3ZlcmxhcHBpbmdBbmltc1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gLy8gZW5kIG9mIGlmIHdlIGZvdW5kIHRoZSBzcGVjaWZpYyBhbmltYXRpb24gb24gdGhlIGxhbmUncyBzZXF1ZW5jZVxuXG4gICAgICAgIH0gLy8gZW5kIG9mIGVhY2ggbGFuZSdzIGl0ZW1cblxuICAgICAgfSAvLyBlbmQgZm9yIGVhY2ggYWZmZWN0ZWQgYW5pbWF0aW9uJ3MgaWRcblxuXG4gICAgICBpZiAoY29uZmxpY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN1bHQ6IGZhbHNlLFxuICAgICAgICAgIGVycm9yczogY29uZmxpY3RzXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGV4ZWMgPSBmdW5jdGlvbiBleGVjKCkge1xuICAgICAgICAgIC8vIHVwZGF0ZUxhbmVzIChvbmx5IHRoaXMgdGltZSBhbmltYXRpb24gYnkgYW5pbWF0aW9uIGFzIHRoZSBtaWxsaXNlY29uZHMgZGVsdGEgaXMgbm90IHN0YW5kYXJkIGZvciBhbGwpXG4gICAgICAgICAgLy8gYXMgc29vbiBhcyB0aGVyZSBhcmUgbm8gY29uZmxpY3RzIHRoZSBMYW5lcyBIYW5kbGVyIGFwcGxpZXMgdGhlIGNoYW5nZXMgYmVmb3JlIHNlbmRpbmcgb3ZlciB0aGVcbiAgICAgICAgICAvLyBzdWNjZXNzIG1lc3NhZ2VcbiAgICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBpbmNpZGVudHMubGVuZ3RoOyBfaTMrKykge1xuICAgICAgICAgICAgdGhhdC5MYW5lc0hhbmRsZXIudXBkYXRlTGFuZShbaW5jaWRlbnRzW19pM10uaWRdLCBpbmNpZGVudHNbX2kzXS5zdGFydERlbHRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBleGVjdXRlOiBleGVjLFxuICAgICAgICAgIHJlc3VsdDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tEZWxldGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tEZWxldGUocmVtb3ZlZEFuaW1hdGlvbnMpIHtcbiAgICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICB2YXIgcmVtb3ZlZEFuaW1hdGlvbklkcyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbW92ZWRBbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlbW92ZWRBbmltYXRpb25JZHMucHVzaChyZW1vdmVkQW5pbWF0aW9uc1tpXS5pZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgdmFyIGV4ZWMgPSBmdW5jdGlvbiBleGVjKCkge1xuICAgICAgICB0aGF0LkxhbmVzSGFuZGxlci5kZWxldGVBbmltYXRpb25zKHJlbW92ZWRBbmltYXRpb25JZHMpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdWx0OiB0cnVlLFxuICAgICAgICBleGVjdXRlOiBleGVjXG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTbGlwcyB0byBqdXN0IG9uZSBsYW5lIGZvcndhcmRzXG4gICAgICogQHBhcmFtIHthcnJheX0gbGFuZSAtIHRoZSBsYW5lIHRvIHNsaXAgaW50b1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBsYW5lRGF0YSAtIGFuIG9iamVjdCB3aXRoIGtleXM6IGF0dHJpYnV0ZSAmIG1jaWRcbiAgICAgKiBAcGFyYW0ge2ludH0gY3VycmVudE1pbGxpc2Vjb25kIC0gdGhlIG1pbGxpc2Vjb25kIHRoZSBzbGlwIHN0YXJ0cyBmcm9tXG4gICAgICogQHBhcmFtIHtpbnR9IG1pbGxpc2Vjb25kIC0gdGhlIHRhcmdldCBtaWxsaXNlY29uZCBvZiB0aGUgc2xpcFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZXh0SWQgLSB0aGUgY29udGV4dElkIG9mIHRoZSBJbmNpZGVudHMgdG8gc2xpcFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2xpcEludG9MYW5lRm9yd2FyZHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2xpcEludG9MYW5lRm9yd2FyZHMobGFuZSwgbGFuZURhdGEsIGN1cnJlbnRNaWxsaXNlY29uZCwgbWlsbGlzZWNvbmQsIGNvbnRleHRJZCkge1xuICAgICAgdmFyIGZvcmNlUmVzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IGZhbHNlO1xuICAgICAgLy8gY29uc29sZS5sb2cobGFuZSwgY3VycmVudE1pbGxpc2Vjb25kLCBtaWxsaXNlY29uZCk7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgIHZhciBwYXJ0aWNpcGF0aW5nQW5pbXMgPSBfZmlsdGVyKGxhbmUsIGZ1bmN0aW9uIChsYW5lSXRlbSkge1xuICAgICAgICByZXR1cm4gbGFuZUl0ZW0ubWlsbGlzZWNvbmQgKyB0aGF0LmluY2lkZW50c0J5SWQuX2dldChsYW5lSXRlbS5pZCkuZHVyYXRpb24gPj0gY3VycmVudE1pbGxpc2Vjb25kICYmIGxhbmVJdGVtLm1pbGxpc2Vjb25kICsgdGhhdC5pbmNpZGVudHNCeUlkLl9nZXQobGFuZUl0ZW0uaWQpLmR1cmF0aW9uIDw9IG1pbGxpc2Vjb25kIHx8IC8vIGl0IGVuZHMgYWZ0ZXIgY3VycmVudE1pbGxpc2Vjb25kIGFuZCBiZWZvcmUgdGFyZ2V0IG1pbGxpc2Vjb25kXG4gICAgICAgIHRoYXQuaW5jaWRlbnRzQnlJZC5fZ2V0KGxhbmVJdGVtLmlkKS5kdXJhdGlvbiArIGxhbmVJdGVtLm1pbGxpc2Vjb25kID49IG1pbGxpc2Vjb25kICYmIGxhbmVJdGVtLm1pbGxpc2Vjb25kIDw9IG1pbGxpc2Vjb25kOyAvLyBvciBpdCBlbmRzIGFmdGVyIHRoZSB0YXJnZXQgbWlsbGlzZWNvbmQgYnV0IGFsc28gc3RhcnRzIGJlZm9yZSBpdFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChwYXJ0aWNpcGF0aW5nQW5pbXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgaWYgKGZvcmNlUmVzZXQgPT09IHRydWUpIHtcbiAgICAgICAgICB2YXIgZmlyc3RJbmNpZGVudCA9IHRoaXMuaW5jaWRlbnRzQnlJZC5fZ2V0KGxhbmVbMF0uaWQpO1xuXG4gICAgICAgICAgZmlyc3RJbmNpZGVudC5vblByb2dyZXNzKDAsIDAsIGNvbnRleHRJZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcGFydGljaXBhdGluZ0FuaW1zID0gX3NvcnRCeShwYXJ0aWNpcGF0aW5nQW5pbXMsIFtmdW5jdGlvbiAobGFuZUl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGxhbmVJdGVtLm1pbGxpc2Vjb25kO1xuICAgICAgfV0pOyAvLyBXZSBvbmx5IGNhcmUgYWJvdXQgdGhlIGxhc3QgKGluIGNocm9ub2xvZ2ljYWwgb3JkZXIpIEluY2lkZW50LCBhcyB0aGlzXG4gICAgICAvLyB3aWxsIGRlZmluZSB0aGUgZmluYWwgdmFsdWVcblxuICAgICAgdmFyIGxhc3RJbmRleCA9IHBhcnRpY2lwYXRpbmdBbmltcy5sZW5ndGggLSAxO1xuXG4gICAgICB2YXIgcGFydGljaXBhdGluZ0FuaW0gPSB0aGlzLmluY2lkZW50c0J5SWQuX2dldChwYXJ0aWNpcGF0aW5nQW5pbXNbbGFzdEluZGV4XS5pZCk7XG5cbiAgICAgIHZhciBzdGFydE1pbGxpc2Vjb25kID0gcGFydGljaXBhdGluZ0FuaW1zW2xhc3RJbmRleF0ubWlsbGlzZWNvbmQ7IC8vIGlmIHRoZSBhbmltYXRpb24gZW5kcyBiZWZvcmUgdGhlIHRhcmdldCBtaWxsaXNlY29uZFxuXG4gICAgICBpZiAocGFydGljaXBhdGluZ0FuaW0uZHVyYXRpb24gKyBzdGFydE1pbGxpc2Vjb25kIDw9IG1pbGxpc2Vjb25kKSB7XG4gICAgICAgIC8vIGFuZCBpdCdzIHRoZSBsYXN0IG9uZSBvbiB0aGUgcm93XG4gICAgICAgIHBhcnRpY2lwYXRpbmdBbmltLm9uUHJvZ3Jlc3MoMSwgcGFydGljaXBhdGluZ0FuaW0uZHVyYXRpb24sIGNvbnRleHRJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBzbGlwIGZvciB0aGUgc3BlY2lmaWMgZWxlbWVudCBhbmQgdGhlIHNwZWNpZmljIGF0dHJpYnV0ZS4gU2V0IHRoZSBBbmltYXRpb24gYXMgcGF1c2VkIG9yIHBsYXlpbmcgYVxuICAgICAgICAvLyBhbmQgc3RvcmUgdGhpcyBpbmZvIHNvbWV3aGVyZVxuICAgICAgICB2YXIgcGVyY2VudGFnZUNvbXBsZXRlID0gKG1pbGxpc2Vjb25kIC0gc3RhcnRNaWxsaXNlY29uZCkgLyBwYXJ0aWNpcGF0aW5nQW5pbS5kdXJhdGlvbjtcbiAgICAgICAgcGFydGljaXBhdGluZ0FuaW0ub25Qcm9ncmVzcyhwZXJjZW50YWdlQ29tcGxldGUsIG1pbGxpc2Vjb25kIC0gc3RhcnRNaWxsaXNlY29uZCwgY29udGV4dElkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2xpcHMgdG8ganVzdCBvbmUgbGFuZSBiYWNrd2FyZHNcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBsYW5lIC0gdGhlIGxhbmUgdG8gc2xpcCBpbnRvXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGxhbmVEYXRhIC0gYW4gb2JqZWN0IHdpdGgga2V5czogYXR0cmlidXRlICYgbWNpZFxuICAgICAqIEBwYXJhbSB7aW50fSBjdXJyZW50TWlsbGlzZWNvbmQgLSB0aGUgbWlsbGlzZWNvbmQgdGhlIHNsaXAgc3RhcnRzIGZyb21cbiAgICAgKiBAcGFyYW0ge2ludH0gbWlsbGlzZWNvbmQgLSB0aGUgdGFyZ2V0IG1pbGxpc2Vjb25kIG9mIHRoZSBzbGlwXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRleHRJZCAtIHRoZSBjb250ZXh0SWQgb2YgdGhlIEluY2lkZW50cyB0byBzbGlwXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzbGlwVG9MYW5lQmFja3dhcmRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNsaXBUb0xhbmVCYWNrd2FyZHMobGFuZSwgbGFuZURhdGEsIGN1cnJlbnRNaWxsaXNlY29uZCwgbWlsbGlzZWNvbmQsIGNvbnRleHRJZCkge1xuICAgICAgdmFyIGZvcmNlUmVzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IGZhbHNlO1xuICAgICAgLy8gd2UgdGFrZSBhbGwgQW5pbWF0aW9ucyB0aGF0IGFyZSBlaXRoZXIgY3VycmVudGx5IHJ1bm5pbmcgb3JcbiAgICAgIC8vIHRoZXkgZW5kIGFmdGVyIHRoZSBkZXN0aW5hdGlvbiBwb2ludFxuICAgICAgLy8gaGVscGVyLmxvZygnPC0tLS0tLScpO1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICB2YXIgcGFydGljaXBhdGluZ0FuaW1zID0gX2ZpbHRlcihsYW5lLCBmdW5jdGlvbiAobGFuZUl0ZW0pIHtcbiAgICAgICAgdmFyIGxhbmVJdGVtRW5kID0gdGhhdC5pbmNpZGVudHNCeUlkLl9nZXQobGFuZUl0ZW0uaWQpLmR1cmF0aW9uICsgbGFuZUl0ZW0ubWlsbGlzZWNvbmQ7XG4gICAgICAgIHJldHVybiBsYW5lSXRlbUVuZCA8PSBtaWxsaXNlY29uZCAmJiBsYW5lSXRlbUVuZCA+PSBjdXJyZW50TWlsbGlzZWNvbmQgfHwgLy8gdGhleSBlbmQgaW4gdGhlIGhvdCBhcmVhXG4gICAgICAgIGxhbmVJdGVtLm1pbGxpc2Vjb25kID49IGN1cnJlbnRNaWxsaXNlY29uZCAmJiBsYW5lSXRlbS5taWxsaXNlY29uZCA8PSBtaWxsaXNlY29uZCB8fCAvLyB0aGV5IHN0YXJ0IGluIHRoZSBob3QgYXJlYVxuICAgICAgICBsYW5lSXRlbS5taWxsaXNlY29uZCA8IGN1cnJlbnRNaWxsaXNlY29uZCAmJiBsYW5lSXRlbUVuZCA+IG1pbGxpc2Vjb25kOyAvLyB0aGV5IG92ZXJsYXAgdGhlIGhvdCBhcmVhXG4gICAgICB9KTtcblxuICAgICAgaWYgKHBhcnRpY2lwYXRpbmdBbmltcy5sZW5ndGggPT0gMCkge1xuICAgICAgICBpZiAocGFydGljaXBhdGluZ0FuaW1zLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgaWYgKGZvcmNlUmVzZXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdEluY2lkZW50ID0gdGhpcy5pbmNpZGVudHNCeUlkLl9nZXQobGFuZVtsYW5lLmxlbmd0aCAtIDFdLmlkKTtcblxuICAgICAgICAgICAgZmlyc3RJbmNpZGVudC5vblByb2dyZXNzKDEsIGZpcnN0SW5jaWRlbnQuZHVyYXRpb24sIGNvbnRleHRJZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcGFydGljaXBhdGluZ0FuaW1zID0gX3NvcnRCeShwYXJ0aWNpcGF0aW5nQW5pbXMsIFtmdW5jdGlvbiAobGFuZUl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGxhbmVJdGVtLm1pbGxpc2Vjb25kO1xuICAgICAgfV0pOyAvLyBXZSBvbmx5IGNhcmUgYWJvdXQgdGhlIGZpcnN0IChpbiBjaHJvbm9sb2dpY2FsIG9yZGVyKSBJbmNpZGVudCwgYXMgdGhpc1xuICAgICAgLy8gd2lsbCBkZWZpbmUgdGhlIGZpbmFsIHZhbHVlIG9mIHRoZSBiYWNrd2FyZHMgbW92ZVxuXG4gICAgICB2YXIgbGFzdEluZGV4ID0gMDtcblxuICAgICAgdmFyIHBhcnRpY2lwYXRpbmdBbmltID0gdGhpcy5pbmNpZGVudHNCeUlkLl9nZXQocGFydGljaXBhdGluZ0FuaW1zW2xhc3RJbmRleF0uaWQpO1xuXG4gICAgICB2YXIgc3RhcnRNaWxsaXNlY29uZCA9IHBhcnRpY2lwYXRpbmdBbmltc1tsYXN0SW5kZXhdLm1pbGxpc2Vjb25kOyAvLyBpZiB0aGUgYW5pbWF0aW9uIHN0YXJ0cyBhZnRlciB0aGUgdGFyZ2V0IG1pbGxpc2Vjb25kXG5cbiAgICAgIGlmIChzdGFydE1pbGxpc2Vjb25kID49IG1pbGxpc2Vjb25kKSB7XG4gICAgICAgIHBhcnRpY2lwYXRpbmdBbmltLm9uUHJvZ3Jlc3MoMCwgMCwgY29udGV4dElkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHNsaXAgZm9yIHRoZSBzcGVjaWZpYyBlbGVtZW50IGFuZCB0aGUgc3BlY2lmaWMgYXR0cmlidXRlLiBTZXQgdGhlIEFuaW1hdGlvbiBhcyBwYXVzZWQgb3IgcGxheWluZyBhXG4gICAgICAgIC8vIGFuZCBzdG9yZSB0aGlzIGluZm8gc29tZXdoZXJlXG4gICAgICAgIHZhciBwZXJjZW50YWdlQ29tcGxldGUgPSAobWlsbGlzZWNvbmQgLSBzdGFydE1pbGxpc2Vjb25kKSAvIHBhcnRpY2lwYXRpbmdBbmltLmR1cmF0aW9uO1xuICAgICAgICBwYXJ0aWNpcGF0aW5nQW5pbS5vblByb2dyZXNzKHBlcmNlbnRhZ2VDb21wbGV0ZSwgbWlsbGlzZWNvbmQgLSBzdGFydE1pbGxpc2Vjb25kLCBjb250ZXh0SWQpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgQHBhcmFtIHtpbnR9IGZyb20gLSB0aGUgbWlsbGlzZWNvbmQgdG8gc3RhcnQgZnJvbVxuICAgICBAcGFyYW0ge2ludH0gdG8gLSB0aGUgbWlsbGlzZWNvbmQgdG8gZ28gdG9cbiAgICAgQHBhcmFtIHtzcmluZ30gY29udGV4dElkIC0gdGhlIGNvbnRleHQgaWQgdG8gXCJtb3ZlXCJcbiAgICAgQHBhcmFtIHtib29sZWFufSBmb3JjZVJlc2V0IC0gc2V0IHRvIHRydWUgaWYgc3RhdHVzIHJlY2FsYyBpcyBuZWVkZWQgYWZ0ZXIgZWRpdFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibW92ZVRvXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1vdmVUbyhmcm9tLCB0bywgY29udGV4dElkKSB7XG4gICAgICB2YXIgZm9yY2VSZXNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cbiAgICAgIC8vIHN0ZXAgMTogaXRlcmF0ZSB0aHJvdWdoIGFsbCBsYW5lc1xuICAgICAgdmFyIGxhbmVLZXlzID0gdGhpcy5sYW5lcy5fa2V5cygpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhbmVLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBsYW5laWQgPSBsYW5lS2V5c1tpXTtcblxuICAgICAgICB2YXIgbGFuZSA9IHRoaXMubGFuZXMuX2dldChsYW5laWQpO1xuXG4gICAgICAgIHZhciBsYW5lRGF0YSA9IGhlbHBlci5nZXRNQ0lEYW5kQXR0ck91dE9mTGFuZUtleShsYW5laWQpO1xuXG4gICAgICAgIGlmIChmcm9tIDw9IHRvKSB7XG4gICAgICAgICAgdGhpcy5zbGlwSW50b0xhbmVGb3J3YXJkcyhsYW5lLCBsYW5lRGF0YSwgZnJvbSwgdG8sIGNvbnRleHRJZCwgZm9yY2VSZXNldCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZnJvbSA+IHRvKSB7XG4gICAgICAgICAgdGhpcy5zbGlwVG9MYW5lQmFja3dhcmRzKGxhbmUsIGxhbmVEYXRhLCBmcm9tLCB0bywgY29udGV4dElkLCBmb3JjZVJlc2V0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsYW5lc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuTGFuZXNIYW5kbGVyLmxhbmVzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbmNpZGVudHNCeUlkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5MYW5lc0hhbmRsZXIuaW5jaWRlbnRzQnlJZDtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJ0eXBlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gXCJhdHRyaWJ1dGVzXCI7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEF0dHJpYnV0ZUNoYW5uZWw7XG59KENoYW5uZWwpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF0dHJpYnV0ZUNoYW5uZWw7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/AttributeChannel.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/LanesHandler.js":
/*!*****************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/LanesHandler.js ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar _filter = __webpack_require__(/*! ../../../lodash-custom-build/modularize/lodash.filter/index */ \"../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.filter/index.js\");\n\nvar _sortBy = __webpack_require__(/*! ../../../lodash-custom-build/modularize/lodash.sortby/index */ \"../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.sortby/index.js\");\n\nvar _findIndex = __webpack_require__(/*! ../../../lodash-custom-build/modularize/lodash.findindex/index */ \"../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.findindex/index.js\");\n\nvar Helper = __webpack_require__(/*! ../../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper({\n  logLevel: 4\n});\n\nvar Collection = __webpack_require__(/*! ./helpers/Collection */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/Collection.js\");\n\nvar SandboxLanes = __webpack_require__(/*! ./helpers/SandboxLanes */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/SandboxLanes.js\");\n\nvar SandboxCollection = __webpack_require__(/*! ./helpers/SandboxCollection */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/SandboxCollection.js\");\n\nvar SandboxIncidentsById = __webpack_require__(/*! ./helpers/SandboxIncidentsById */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/SandboxIncidentsById.js\");\n\nvar setInitialValueForCombo = __webpack_require__(/*! ./helpers/ComboAttrsCascading */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/ComboAttrsCascading.js\");\n\nvar LanesHandler =\n/*#__PURE__*/\nfunction () {\n  function LanesHandler() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, LanesHandler);\n\n    /*\n     * Keeps the lanes of the Channel in the form:\n     * {\n     *  <motorcortex-id>_<attribute>: [\n     *      {\n     *          id: the id of the Incident\n     *          millisecond: the millisecond of the channel this Animation (that affects the selector/attribute pair) runs\n     *      }\n     *  ]\n     * }\n     /** @type {{}}\n     */\n    this.lanes = new Collection({});\n\n    if (props.lanes) {\n      this.lanes = props.lanes;\n    }\n\n    this.comboAttributes = {};\n\n    if (props.comboAttributes != null) {\n      this.comboAttributes = props.comboAttributes;\n    }\n\n    this.runTimeInfo = props.runTimeInfo;\n    /*\n    Keeps an indexing of the lanes each Animation belongs to. The form is the following:\n    belongingLaneKeysByAnimationId: {\n        <animation_id>: [laneKey1, laneKey2, ...],\n        <animation_id>: [laneKey2, laneKey3, ...],\n        ...\n    }\n     */\n\n    this.belongingLaneKeysByAnimationId = new Collection({});\n\n    if (props.belongingLaneKeysByAnimationId) {\n      this.belongingLaneKeysByAnimationId = props.belongingLaneKeysByAnimationId;\n    }\n    /*\n    keeps all Incidents (that appear on the lanes) mapped on a key - value pair\n    object on which the keys are the ids and the values the corresponding Incidents.\n    The Incidents of this object are ContextAwareIncidents\n    */\n\n\n    this.incidentsById = new Collection({});\n\n    if (props.incidentsById) {\n      this.incidentsById = props.incidentsById;\n    }\n  }\n  /**\n   * This method resizes all the lanes of the Lanes Handler by the durationFraction provided.\n   * No checks are performed.\n   * This method is been invoked in cases where a full Clip gets resized, so no conflict checks need to\n   * run.\n   * @param {float} durationFration: the fraction between the new duration and the current\n   */\n\n\n  _createClass(LanesHandler, [{\n    key: \"_resize\",\n    value: function _resize(durationFraction) {\n      var keys = this.lanes._keys();\n\n      for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n\n        var theLane = this.lanes._get(key);\n\n        for (var _i = 0; _i < theLane.length; _i++) {\n          theLane[_i].millisecond = theLane[_i].millisecond * durationFraction;\n        }\n      }\n    }\n    /**\n     * it creates a new LanesHandler that acts as a sanbox for testing changes\n     */\n\n  }, {\n    key: \"createTestLanesSanbox\",\n    value: function createTestLanesSanbox() {\n      var props = {\n        lanes: new SandboxLanes(this.lanes._export()),\n        belongingLaneKeysByAnimationId: new SandboxCollection(this.belongingLaneKeysByAnimationId._export()),\n        incidentsById: new SandboxIncidentsById(this.incidentsById._export())\n      };\n\n      if (this.comboAttributes) {\n        props.comboAttributes = this.comboAttributes;\n      }\n\n      return new LanesHandler(props);\n    }\n  }, {\n    key: \"getLanesCopy\",\n    value: function getLanesCopy(lane) {\n      var laneToReturn = [];\n\n      for (var i = 0; i < lane.length; i++) {\n        laneToReturn.push({\n          id: lane[i].id,\n          millisecond: lane[i].millisecond * 1\n        });\n      }\n\n      return laneToReturn;\n    }\n  }, {\n    key: \"getLaneElementsClone\",\n    value: function getLaneElementsClone(laneElement) {\n      return {\n        id: laneElement.id,\n        millisecond: laneElement.millisecond * 1\n      };\n    }\n  }, {\n    key: \"applySandboxChanges\",\n    value: function applySandboxChanges(SanboxObject) {\n      this.lanes = new Collection(SanboxObject.lanes._export());\n      this.belongingLaneKeysByAnimationId = new Collection(SanboxObject.belongingLaneKeysByAnimationId._export());\n      this.incidentsById = new Collection(SanboxObject.incidentsById._export());\n    }\n  }, {\n    key: \"getLane\",\n    value: function getLane(mcid, attr) {\n      return this.lanes._get(helper.getLaneKey(mcid, attr));\n    }\n    /**\n     * return true if lane exists or false otherwise\n     * @param {String} mcid\n     * @param {String} attr\n     * @param {boolean} ifNotCreateIt - if is set to true and the lane doesn't exist it creates it but still returning false\n     */\n\n  }, {\n    key: \"laneExists\",\n    value: function laneExists(mcid, attr) {\n      var ifNotCreateIt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var laneKey = helper.getLaneKey(mcid, attr);\n\n      if (!this.lanes._hasOwnProperty(laneKey)) {\n        if (ifNotCreateIt) {\n          this.lanes._set(laneKey, []);\n        }\n\n        return false;\n      } else {\n        return true;\n      }\n    }\n    /**\n     * @param {Object} newAnim - an object of the form of a lane item (with keys \"millisecond\" and \"incident\"\n     * @param {string} mcid\n     * @param {String} attr\n     * @param {array} excludeIdsFromCheck - optional. If exists it excludes all the ids of this array from check. This\n     *  parameter has been added for the edit checks where an animation might overlap another animation that participates on\n     *  the move, something that should not happen as the edited animations pre-existed without conflicts and the move of all\n     *  of them together guarantees that there is going to be no conflict between them even after the edit\n     * @param {int} testDuration - optional. This parameter is used when the channel needs to addcheck overlaps after duration\n     *  edits, so the testDuration is passed (we don't want to polute the original animation object as it refers to the real one)\n     * @retuns {array} - a list of all overlapping animations of the lane\n     */\n\n  }, {\n    key: \"getOverlappingAnims\",\n    value: function getOverlappingAnims(newAnim, mcid, attr) {\n      var excludeIdsFromCheck = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n      var testDuration = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n      var that = this;\n\n      var overlappingAnims = _filter(this.lanes._get(helper.getLaneKey(mcid, attr)), function (existingAnim) {\n        var durationToUseOnChecks = newAnim.incident.duration;\n\n        if (testDuration != null) {\n          durationToUseOnChecks = testDuration;\n        }\n\n        return existingAnim.id != newAnim.incident.id && excludeIdsFromCheck.indexOf(existingAnim.id) < 0 && ( // existing anim starts within the new anim's extend\n        existingAnim.millisecond >= newAnim.millisecond && existingAnim.millisecond < durationToUseOnChecks + newAnim.millisecond || // or ends within the new anim's extend\n        existingAnim.millisecond + that.incidentsById._get(existingAnim.id).duration > newAnim.millisecond && existingAnim.millisecond + that.incidentsById._get(existingAnim.id).duration <= durationToUseOnChecks + newAnim.millisecond // or it starts before and ends after the new anim's extend\n        || existingAnim.millisecond < newAnim.millisecond && existingAnim.millisecond + that.incidentsById._get(existingAnim.id).duration > durationToUseOnChecks + newAnim.millisecond);\n      });\n\n      return overlappingAnims;\n    }\n    /**\n     * it justs adds the lane item to the lane and adjusts the initial values of the Anims in sequence\n     * No checks are performed, just execution.\n     * @param {String} mcid\n     * @param {String} attr\n     * @param {int} millisecond\n     * @param {Object} incident\n     */\n\n  }, {\n    key: \"addElementToLane\",\n    value: function addElementToLane(mcid, attr, millisecond, incident) {\n      var _this = this;\n\n      var laneKey = helper.getLaneKey(mcid, attr);\n\n      this.incidentsById._set(incident.id, incident);\n\n      var laneElement = {\n        millisecond: millisecond,\n        id: incident.id\n      };\n      this.laneExists(mcid, attr, true);\n\n      var theLane = this.lanes._get(laneKey);\n\n      theLane.push(laneElement);\n      theLane = _sortBy(theLane, ['millisecond']);\n\n      this.lanes._set(laneKey, theLane); // indexing stuff\n\n\n      if (!this.belongingLaneKeysByAnimationId._hasOwnProperty(incident.id)) {\n        this.belongingLaneKeysByAnimationId._set(incident.id, []);\n      }\n\n      this.belongingLaneKeysByAnimationId._get(incident.id).push(laneKey); // indexing\n\n\n      var newAnimsIndex = _findIndex(theLane, function (item) {\n        return item.id === incident.id;\n      }); // helper.log(newAnimsIndex);\n      // step 1: set the intial values of the new Animation\n\n\n      if (newAnimsIndex === 0) {\n        // if the newly entered animation is the first of the lane\n        if (theLane.length > 1) {\n          // and it has other animations too\n          incident.setInitialValue(this.incidentsById._get(theLane[1].id).initialValue);\n        } else {\n          // else take it directly from the dom\n          var callback = function callback() {};\n\n          if (Object.prototype.hasOwnProperty.call(this.comboAttributes, attr)) {\n            callback = function callback(value) {\n              setInitialValueForCombo(theLane, _this.incidentsById, value, 0);\n            };\n          }\n\n          incident.setInitialValue(incident.calcInitialValue(callback));\n        }\n      } else {\n        incident.setInitialValue(this.incidentsById._get(theLane[newAnimsIndex - 1].id).animatedAttributeValue);\n      }\n      /* if the attribute of the lane is a compo attribute */\n\n\n      if (Object.prototype.hasOwnProperty.call(this.comboAttributes, attr)) {\n        var incidentInitialValues = incident.initialValue;\n        setInitialValueForCombo(theLane, this.incidentsById, incidentInitialValues, newAnimsIndex);\n      }\n\n      var onSuccessAction = function onSuccessAction() {}; // step 2: set the inital values of the following Animation (if any)\n\n\n      var that = this;\n\n      if (newAnimsIndex + 1 < theLane.length) {\n        onSuccessAction = function onSuccessAction() {\n          that.incidentsById._get(theLane[newAnimsIndex + 1].id).setInitialValue(incident.animatedAttributeValue);\n\n          if (that.incidentsById._get(theLane[newAnimsIndex + 1].id).gotContext) {\n            that.incidentsById._get(theLane[newAnimsIndex + 1].id).lastWish();\n\n            that.incidentsById._get(theLane[newAnimsIndex + 1].id).onGetContext();\n          }\n        };\n      }\n\n      onSuccessAction();\n    }\n    /**\n     * it justs updates the lane\n     * No checks are performed, just execution\n     * @param {array} affectedAnimationsIds\n     * @param {int} millisecondDelta\n     */\n\n  }, {\n    key: \"updateLane\",\n    value: function updateLane(affectedAnimationsIds, millisecondsDelta) {\n      var _this2 = this;\n\n      // first we group the affected animations by lanes\n      var affectedLanes = {};\n      var that = this;\n\n      for (var i = 0; i < affectedAnimationsIds.length; i++) {\n        var belongingLanes = this.belongingLaneKeysByAnimationId._get(affectedAnimationsIds[i]);\n\n        for (var j = 0; j < belongingLanes.length; j++) {\n          var laneKey = belongingLanes[j];\n\n          if (!Object.prototype.hasOwnProperty.call(affectedLanes, laneKey)) {\n            affectedLanes[laneKey] = {\n              animations: [],\n              lane: that.lanes._get(laneKey),\n              laneData: helper.getMCIDandAttrOutOfLaneKey(belongingLanes[j])\n            };\n          }\n\n          affectedLanes[laneKey].animations.push(affectedAnimationsIds[i]);\n        }\n      } // for each of the affected lanes\n\n\n      for (var _laneKey in affectedLanes) {\n        var affectedLane = affectedLanes[_laneKey];\n        var lane = affectedLane.lane;\n        var laneData = affectedLane.laneData;\n\n        var laneBeforeEdit = _sortBy(this.getLanesCopy(lane), ['millisecond']);\n\n        var isComboAttr = Object.prototype.hasOwnProperty.call(this.comboAttributes, laneData.attribute); // edit lane items millisecond\n\n        for (var k = 0; k < lane.length; k++) {\n          if (affectedLane.animations.indexOf(lane[k].id) >= 0) {\n            lane[k].millisecond += millisecondsDelta;\n          }\n        } // end for searching for the animations within the lane\n\n\n        var sortedLane = _sortBy(lane, ['millisecond']);\n\n        this.lanes._set(_laneKey, sortedLane);\n\n        lane = sortedLane;\n\n        var _loop = function _loop(_i2) {\n          var animationToCheck = affectedLane.animations[_i2];\n\n          var animationIndexBeforeEdit = _findIndex(laneBeforeEdit, function (item) {\n            return item.id === animationToCheck;\n          });\n\n          var animationIndexAfterEdit = _findIndex(lane, function (item) {\n            return item.id === animationToCheck;\n          });\n\n          var animation = _this2.incidentsById._get(lane[animationIndexAfterEdit].id);\n\n          if (animationIndexBeforeEdit !== animationIndexAfterEdit || animationIndexAfterEdit > 1) {\n            if (animationIndexBeforeEdit + 1 < lane.length) {\n              // if the animation was not the last animation on the lane before the edit\n              // we should take care of the initial values of the animation's previous successor\n              if (animationIndexBeforeEdit === 0) {\n                // if the edited animation was the first one before the edit\n                // pass its initial values to its previous successor as its new initial values\n                if (isComboAttr) {\n                  setInitialValueForCombo(lane, _this2.incidentsById, animation.initialValue, 0);\n                } else {\n                  _this2.incidentsById._get(laneBeforeEdit[1].id).setInitialValue(animation.initialValue);\n\n                  _this2.incidentsById._get(laneBeforeEdit[1].id).onGetContext();\n                }\n              } else {\n                // else if the edited animation was not the first one before the edit\n                // meaning its previous successor is not the first one on the lane after the edit\n                // just grab the target value of the new previous animation of the animation's previous successor and set it as initial value\n                if (isComboAttr) {\n                  var indexToAffect = animationIndexAfterEdit > animationIndexBeforeEdit ? animationIndexBeforeEdit : animationIndexAfterEdit;\n                  setInitialValueForCombo(lane, _this2.incidentsById, _this2.incidentsById._get(laneBeforeEdit[animationIndexBeforeEdit - 1].id).animatedAttributeValue, indexToAffect);\n                } else {\n                  _this2.incidentsById._get(laneBeforeEdit[animationIndexBeforeEdit + 1].id).setInitialValue(_this2.incidentsById._get(laneBeforeEdit[animationIndexBeforeEdit - 1].id).animatedAttributeValue);\n\n                  _this2.incidentsById._get(laneBeforeEdit[animationIndexBeforeEdit + 1].id).onGetContext();\n                }\n              }\n            } // for the edited animation itself now:\n\n\n            if (animationIndexAfterEdit === 0) {\n              // is it the first one (after edit)?\n              // get the initial values of the previously 0 indexed animation of the lane\n              if (isComboAttr) {\n                setInitialValueForCombo(lane, _this2.incidentsById, _this2.incidentsById._get(laneBeforeEdit[0].id).initialValue, animationIndexAfterEdit);\n              } else {\n                animation.setInitialValue(_this2.incidentsById._get(laneBeforeEdit[0].id).initialValue);\n                animation.onGetContext();\n              }\n            } else {\n              // else if it is not the first one after editd\n              // just grab the target value of the previous animation on the updated lane and set it as its initial value\n              if (isComboAttr) {\n                setInitialValueForCombo(lane, _this2.incidentsById, _this2.incidentsById._get(lane[animationIndexAfterEdit - 1].id).animatedAttributeValue, animationIndexAfterEdit);\n              } else {\n                animation.setInitialValue(_this2.incidentsById._get(lane[animationIndexAfterEdit - 1].id).animatedAttributeValue);\n                animation.onGetContext();\n              }\n            } // for its new next animation (if it has one)\n\n\n            if (animationIndexAfterEdit + 1 < lane.length) {\n              // set its initial value to equal the target value of the edited animation\n              if (isComboAttr) {\n                setInitialValueForCombo(lane, _this2.incidentsById, animation.animatedAttributeValue, animationIndexAfterEdit + 1);\n              } else {\n                _this2.incidentsById._get(lane[animationIndexAfterEdit + 1].id).setInitialValue(animation.animatedAttributeValue);\n\n                _this2.incidentsById._get(lane[animationIndexAfterEdit + 1].id).onGetContext();\n              }\n            }\n          }\n        };\n\n        for (var _i2 = 0; _i2 < affectedLane.animations.length; _i2++) {\n          _loop(_i2);\n        }\n      } // end for each of the belonging lanes of the animation\n\n    }\n    /**\n     * removes the list of animations as provided\n     * @param {array} removedAnimations - an array with the removed animations' ids\n     */\n\n  }, {\n    key: \"deleteAnimations\",\n    value: function deleteAnimations(removedAnimations) {\n      var affectedLanes = {};\n\n      for (var i = 0; i < removedAnimations.length; i++) {\n        var id = removedAnimations[i]; // for each lane the affected Animation appears in\n\n        var belongingLanes = this.belongingLaneKeysByAnimationId._get(id);\n\n        for (var j = 0; j < belongingLanes.length; j++) {\n          var lane = this.lanes._get(belongingLanes[j]);\n\n          var animationIndexBeforeEdit = -1;\n\n          for (var k = 0; k < lane.length; k++) {\n            if (lane[k].id === id) {\n              animationIndexBeforeEdit = k;\n              break;\n            }\n          } // helper.log(animationIndexBeforeEdit);\n\n\n          var animationToDelete = Object.assign({}, lane[animationIndexBeforeEdit]);\n\n          var animationObjectToDelete = this.incidentsById._get(animationToDelete.id);\n\n          var laneData = helper.getMCIDandAttrOutOfLaneKey(belongingLanes[j]); // gets the lane without the removed animation\n\n          var newLane = [];\n\n          for (var _k = 0; _k < lane.length; _k++) {\n            if (lane[_k].id != id) {\n              newLane.push(lane[_k]);\n            }\n          }\n\n          this.lanes._set(belongingLanes[j], newLane);\n\n          lane = this.lanes._get(belongingLanes[j]);\n\n          if (lane.length === 0) {\n            // in case there are no more animations on the lane any more we reset\n            // the lane by running the progress(0,0), so that the affected elements\n            // will get back to their original attribute value\n            animationObjectToDelete.onProgress(0, 0);\n\n            this.lanes._delete(belongingLanes[j]);\n\n            if (Object.prototype.hasOwnProperty.call(affectedLanes, belongingLanes[j])) {\n              delete affectedLanes[belongingLanes[j]];\n            }\n          } else {\n            affectedLanes[belongingLanes[j]] = helper.getMCIDandAttrOutOfLaneKey(belongingLanes[j]);\n\n            if (animationIndexBeforeEdit < lane.length && this.incidentsById._get(animationToDelete.id).initialValue !== false) {\n              if (Object.prototype.hasOwnProperty.call(this.comboAttributes, laneData.attribute)) {\n                setInitialValueForCombo(lane, this.incidentsById, this.incidentsById._get(animationToDelete.id).initialValue, animationIndexBeforeEdit);\n              } else {\n                this.incidentsById._get(lane[animationIndexBeforeEdit].id).setInitialValue(this.incidentsById._get(animationToDelete.id).initialValue);\n\n                this.incidentsById._get(lane[animationIndexBeforeEdit].id).onGetContext();\n              }\n            }\n          }\n        }\n\n        this.belongingLaneKeysByAnimationId._delete(removedAnimations[i]);\n      }\n\n      return affectedLanes;\n    }\n  }]);\n\n  return LanesHandler;\n}();\n\nmodule.exports = LanesHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DaGFubmVscy9BdHRyaWJ1dGUvTGFuZXNIYW5kbGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvQ2hhbm5lbHMvQXR0cmlidXRlL0xhbmVzSGFuZGxlci5qcz8zYzFlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBfZmlsdGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vbG9kYXNoLWN1c3RvbS1idWlsZC9tb2R1bGFyaXplL2xvZGFzaC5maWx0ZXIvaW5kZXgnKTtcblxudmFyIF9zb3J0QnkgPSByZXF1aXJlKCcuLi8uLi8uLi9sb2Rhc2gtY3VzdG9tLWJ1aWxkL21vZHVsYXJpemUvbG9kYXNoLnNvcnRieS9pbmRleCcpO1xuXG52YXIgX2ZpbmRJbmRleCA9IHJlcXVpcmUoJy4uLy4uLy4uL2xvZGFzaC1jdXN0b20tYnVpbGQvbW9kdWxhcml6ZS9sb2Rhc2guZmluZGluZGV4L2luZGV4Jyk7XG5cbnZhciBIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9fY29yZVV0aWxzL0hlbHBlcicpO1xuXG52YXIgaGVscGVyID0gbmV3IEhlbHBlcih7XG4gIGxvZ0xldmVsOiA0XG59KTtcblxudmFyIENvbGxlY3Rpb24gPSByZXF1aXJlKCcuL2hlbHBlcnMvQ29sbGVjdGlvbicpO1xuXG52YXIgU2FuZGJveExhbmVzID0gcmVxdWlyZSgnLi9oZWxwZXJzL1NhbmRib3hMYW5lcycpO1xuXG52YXIgU2FuZGJveENvbGxlY3Rpb24gPSByZXF1aXJlKCcuL2hlbHBlcnMvU2FuZGJveENvbGxlY3Rpb24nKTtcblxudmFyIFNhbmRib3hJbmNpZGVudHNCeUlkID0gcmVxdWlyZSgnLi9oZWxwZXJzL1NhbmRib3hJbmNpZGVudHNCeUlkJyk7XG5cbnZhciBzZXRJbml0aWFsVmFsdWVGb3JDb21ibyA9IHJlcXVpcmUoJy4vaGVscGVycy9Db21ib0F0dHJzQ2FzY2FkaW5nJyk7XG5cbnZhciBMYW5lc0hhbmRsZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBMYW5lc0hhbmRsZXIoKSB7XG4gICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMYW5lc0hhbmRsZXIpO1xuXG4gICAgLypcbiAgICAgKiBLZWVwcyB0aGUgbGFuZXMgb2YgdGhlIENoYW5uZWwgaW4gdGhlIGZvcm06XG4gICAgICoge1xuICAgICAqICA8bW90b3Jjb3J0ZXgtaWQ+XzxhdHRyaWJ1dGU+OiBbXG4gICAgICogICAgICB7XG4gICAgICogICAgICAgICAgaWQ6IHRoZSBpZCBvZiB0aGUgSW5jaWRlbnRcbiAgICAgKiAgICAgICAgICBtaWxsaXNlY29uZDogdGhlIG1pbGxpc2Vjb25kIG9mIHRoZSBjaGFubmVsIHRoaXMgQW5pbWF0aW9uICh0aGF0IGFmZmVjdHMgdGhlIHNlbGVjdG9yL2F0dHJpYnV0ZSBwYWlyKSBydW5zXG4gICAgICogICAgICB9XG4gICAgICogIF1cbiAgICAgKiB9XG4gICAgIC8qKiBAdHlwZSB7e319XG4gICAgICovXG4gICAgdGhpcy5sYW5lcyA9IG5ldyBDb2xsZWN0aW9uKHt9KTtcblxuICAgIGlmIChwcm9wcy5sYW5lcykge1xuICAgICAgdGhpcy5sYW5lcyA9IHByb3BzLmxhbmVzO1xuICAgIH1cblxuICAgIHRoaXMuY29tYm9BdHRyaWJ1dGVzID0ge307XG5cbiAgICBpZiAocHJvcHMuY29tYm9BdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICAgIHRoaXMuY29tYm9BdHRyaWJ1dGVzID0gcHJvcHMuY29tYm9BdHRyaWJ1dGVzO1xuICAgIH1cblxuICAgIHRoaXMucnVuVGltZUluZm8gPSBwcm9wcy5ydW5UaW1lSW5mbztcbiAgICAvKlxuICAgIEtlZXBzIGFuIGluZGV4aW5nIG9mIHRoZSBsYW5lcyBlYWNoIEFuaW1hdGlvbiBiZWxvbmdzIHRvLiBUaGUgZm9ybSBpcyB0aGUgZm9sbG93aW5nOlxuICAgIGJlbG9uZ2luZ0xhbmVLZXlzQnlBbmltYXRpb25JZDoge1xuICAgICAgICA8YW5pbWF0aW9uX2lkPjogW2xhbmVLZXkxLCBsYW5lS2V5MiwgLi4uXSxcbiAgICAgICAgPGFuaW1hdGlvbl9pZD46IFtsYW5lS2V5MiwgbGFuZUtleTMsIC4uLl0sXG4gICAgICAgIC4uLlxuICAgIH1cbiAgICAgKi9cblxuICAgIHRoaXMuYmVsb25naW5nTGFuZUtleXNCeUFuaW1hdGlvbklkID0gbmV3IENvbGxlY3Rpb24oe30pO1xuXG4gICAgaWYgKHByb3BzLmJlbG9uZ2luZ0xhbmVLZXlzQnlBbmltYXRpb25JZCkge1xuICAgICAgdGhpcy5iZWxvbmdpbmdMYW5lS2V5c0J5QW5pbWF0aW9uSWQgPSBwcm9wcy5iZWxvbmdpbmdMYW5lS2V5c0J5QW5pbWF0aW9uSWQ7XG4gICAgfVxuICAgIC8qXG4gICAga2VlcHMgYWxsIEluY2lkZW50cyAodGhhdCBhcHBlYXIgb24gdGhlIGxhbmVzKSBtYXBwZWQgb24gYSBrZXkgLSB2YWx1ZSBwYWlyXG4gICAgb2JqZWN0IG9uIHdoaWNoIHRoZSBrZXlzIGFyZSB0aGUgaWRzIGFuZCB0aGUgdmFsdWVzIHRoZSBjb3JyZXNwb25kaW5nIEluY2lkZW50cy5cbiAgICBUaGUgSW5jaWRlbnRzIG9mIHRoaXMgb2JqZWN0IGFyZSBDb250ZXh0QXdhcmVJbmNpZGVudHNcbiAgICAqL1xuXG5cbiAgICB0aGlzLmluY2lkZW50c0J5SWQgPSBuZXcgQ29sbGVjdGlvbih7fSk7XG5cbiAgICBpZiAocHJvcHMuaW5jaWRlbnRzQnlJZCkge1xuICAgICAgdGhpcy5pbmNpZGVudHNCeUlkID0gcHJvcHMuaW5jaWRlbnRzQnlJZDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIHJlc2l6ZXMgYWxsIHRoZSBsYW5lcyBvZiB0aGUgTGFuZXMgSGFuZGxlciBieSB0aGUgZHVyYXRpb25GcmFjdGlvbiBwcm92aWRlZC5cbiAgICogTm8gY2hlY2tzIGFyZSBwZXJmb3JtZWQuXG4gICAqIFRoaXMgbWV0aG9kIGlzIGJlZW4gaW52b2tlZCBpbiBjYXNlcyB3aGVyZSBhIGZ1bGwgQ2xpcCBnZXRzIHJlc2l6ZWQsIHNvIG5vIGNvbmZsaWN0IGNoZWNrcyBuZWVkIHRvXG4gICAqIHJ1bi5cbiAgICogQHBhcmFtIHtmbG9hdH0gZHVyYXRpb25GcmF0aW9uOiB0aGUgZnJhY3Rpb24gYmV0d2VlbiB0aGUgbmV3IGR1cmF0aW9uIGFuZCB0aGUgY3VycmVudFxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhMYW5lc0hhbmRsZXIsIFt7XG4gICAga2V5OiBcIl9yZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3Jlc2l6ZShkdXJhdGlvbkZyYWN0aW9uKSB7XG4gICAgICB2YXIga2V5cyA9IHRoaXMubGFuZXMuX2tleXMoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXG4gICAgICAgIHZhciB0aGVMYW5lID0gdGhpcy5sYW5lcy5fZ2V0KGtleSk7XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoZUxhbmUubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgdGhlTGFuZVtfaV0ubWlsbGlzZWNvbmQgPSB0aGVMYW5lW19pXS5taWxsaXNlY29uZCAqIGR1cmF0aW9uRnJhY3Rpb247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogaXQgY3JlYXRlcyBhIG5ldyBMYW5lc0hhbmRsZXIgdGhhdCBhY3RzIGFzIGEgc2FuYm94IGZvciB0ZXN0aW5nIGNoYW5nZXNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVRlc3RMYW5lc1NhbmJveFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVUZXN0TGFuZXNTYW5ib3goKSB7XG4gICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgIGxhbmVzOiBuZXcgU2FuZGJveExhbmVzKHRoaXMubGFuZXMuX2V4cG9ydCgpKSxcbiAgICAgICAgYmVsb25naW5nTGFuZUtleXNCeUFuaW1hdGlvbklkOiBuZXcgU2FuZGJveENvbGxlY3Rpb24odGhpcy5iZWxvbmdpbmdMYW5lS2V5c0J5QW5pbWF0aW9uSWQuX2V4cG9ydCgpKSxcbiAgICAgICAgaW5jaWRlbnRzQnlJZDogbmV3IFNhbmRib3hJbmNpZGVudHNCeUlkKHRoaXMuaW5jaWRlbnRzQnlJZC5fZXhwb3J0KCkpXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5jb21ib0F0dHJpYnV0ZXMpIHtcbiAgICAgICAgcHJvcHMuY29tYm9BdHRyaWJ1dGVzID0gdGhpcy5jb21ib0F0dHJpYnV0ZXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgTGFuZXNIYW5kbGVyKHByb3BzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TGFuZXNDb3B5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldExhbmVzQ29weShsYW5lKSB7XG4gICAgICB2YXIgbGFuZVRvUmV0dXJuID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFuZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsYW5lVG9SZXR1cm4ucHVzaCh7XG4gICAgICAgICAgaWQ6IGxhbmVbaV0uaWQsXG4gICAgICAgICAgbWlsbGlzZWNvbmQ6IGxhbmVbaV0ubWlsbGlzZWNvbmQgKiAxXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGFuZVRvUmV0dXJuO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRMYW5lRWxlbWVudHNDbG9uZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMYW5lRWxlbWVudHNDbG9uZShsYW5lRWxlbWVudCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGxhbmVFbGVtZW50LmlkLFxuICAgICAgICBtaWxsaXNlY29uZDogbGFuZUVsZW1lbnQubWlsbGlzZWNvbmQgKiAxXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhcHBseVNhbmRib3hDaGFuZ2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGx5U2FuZGJveENoYW5nZXMoU2FuYm94T2JqZWN0KSB7XG4gICAgICB0aGlzLmxhbmVzID0gbmV3IENvbGxlY3Rpb24oU2FuYm94T2JqZWN0LmxhbmVzLl9leHBvcnQoKSk7XG4gICAgICB0aGlzLmJlbG9uZ2luZ0xhbmVLZXlzQnlBbmltYXRpb25JZCA9IG5ldyBDb2xsZWN0aW9uKFNhbmJveE9iamVjdC5iZWxvbmdpbmdMYW5lS2V5c0J5QW5pbWF0aW9uSWQuX2V4cG9ydCgpKTtcbiAgICAgIHRoaXMuaW5jaWRlbnRzQnlJZCA9IG5ldyBDb2xsZWN0aW9uKFNhbmJveE9iamVjdC5pbmNpZGVudHNCeUlkLl9leHBvcnQoKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldExhbmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGFuZShtY2lkLCBhdHRyKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYW5lcy5fZ2V0KGhlbHBlci5nZXRMYW5lS2V5KG1jaWQsIGF0dHIpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRydWUgaWYgbGFuZSBleGlzdHMgb3IgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1jaWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0clxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaWZOb3RDcmVhdGVJdCAtIGlmIGlzIHNldCB0byB0cnVlIGFuZCB0aGUgbGFuZSBkb2Vzbid0IGV4aXN0IGl0IGNyZWF0ZXMgaXQgYnV0IHN0aWxsIHJldHVybmluZyBmYWxzZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGFuZUV4aXN0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsYW5lRXhpc3RzKG1jaWQsIGF0dHIpIHtcbiAgICAgIHZhciBpZk5vdENyZWF0ZUl0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcbiAgICAgIHZhciBsYW5lS2V5ID0gaGVscGVyLmdldExhbmVLZXkobWNpZCwgYXR0cik7XG5cbiAgICAgIGlmICghdGhpcy5sYW5lcy5faGFzT3duUHJvcGVydHkobGFuZUtleSkpIHtcbiAgICAgICAgaWYgKGlmTm90Q3JlYXRlSXQpIHtcbiAgICAgICAgICB0aGlzLmxhbmVzLl9zZXQobGFuZUtleSwgW10pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBuZXdBbmltIC0gYW4gb2JqZWN0IG9mIHRoZSBmb3JtIG9mIGEgbGFuZSBpdGVtICh3aXRoIGtleXMgXCJtaWxsaXNlY29uZFwiIGFuZCBcImluY2lkZW50XCJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWNpZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyXG4gICAgICogQHBhcmFtIHthcnJheX0gZXhjbHVkZUlkc0Zyb21DaGVjayAtIG9wdGlvbmFsLiBJZiBleGlzdHMgaXQgZXhjbHVkZXMgYWxsIHRoZSBpZHMgb2YgdGhpcyBhcnJheSBmcm9tIGNoZWNrLiBUaGlzXG4gICAgICogIHBhcmFtZXRlciBoYXMgYmVlbiBhZGRlZCBmb3IgdGhlIGVkaXQgY2hlY2tzIHdoZXJlIGFuIGFuaW1hdGlvbiBtaWdodCBvdmVybGFwIGFub3RoZXIgYW5pbWF0aW9uIHRoYXQgcGFydGljaXBhdGVzIG9uXG4gICAgICogIHRoZSBtb3ZlLCBzb21ldGhpbmcgdGhhdCBzaG91bGQgbm90IGhhcHBlbiBhcyB0aGUgZWRpdGVkIGFuaW1hdGlvbnMgcHJlLWV4aXN0ZWQgd2l0aG91dCBjb25mbGljdHMgYW5kIHRoZSBtb3ZlIG9mIGFsbFxuICAgICAqICBvZiB0aGVtIHRvZ2V0aGVyIGd1YXJhbnRlZXMgdGhhdCB0aGVyZSBpcyBnb2luZyB0byBiZSBubyBjb25mbGljdCBiZXR3ZWVuIHRoZW0gZXZlbiBhZnRlciB0aGUgZWRpdFxuICAgICAqIEBwYXJhbSB7aW50fSB0ZXN0RHVyYXRpb24gLSBvcHRpb25hbC4gVGhpcyBwYXJhbWV0ZXIgaXMgdXNlZCB3aGVuIHRoZSBjaGFubmVsIG5lZWRzIHRvIGFkZGNoZWNrIG92ZXJsYXBzIGFmdGVyIGR1cmF0aW9uXG4gICAgICogIGVkaXRzLCBzbyB0aGUgdGVzdER1cmF0aW9uIGlzIHBhc3NlZCAod2UgZG9uJ3Qgd2FudCB0byBwb2x1dGUgdGhlIG9yaWdpbmFsIGFuaW1hdGlvbiBvYmplY3QgYXMgaXQgcmVmZXJzIHRvIHRoZSByZWFsIG9uZSlcbiAgICAgKiBAcmV0dW5zIHthcnJheX0gLSBhIGxpc3Qgb2YgYWxsIG92ZXJsYXBwaW5nIGFuaW1hdGlvbnMgb2YgdGhlIGxhbmVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldE92ZXJsYXBwaW5nQW5pbXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T3ZlcmxhcHBpbmdBbmltcyhuZXdBbmltLCBtY2lkLCBhdHRyKSB7XG4gICAgICB2YXIgZXhjbHVkZUlkc0Zyb21DaGVjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogW107XG4gICAgICB2YXIgdGVzdER1cmF0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiBudWxsO1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICB2YXIgb3ZlcmxhcHBpbmdBbmltcyA9IF9maWx0ZXIodGhpcy5sYW5lcy5fZ2V0KGhlbHBlci5nZXRMYW5lS2V5KG1jaWQsIGF0dHIpKSwgZnVuY3Rpb24gKGV4aXN0aW5nQW5pbSkge1xuICAgICAgICB2YXIgZHVyYXRpb25Ub1VzZU9uQ2hlY2tzID0gbmV3QW5pbS5pbmNpZGVudC5kdXJhdGlvbjtcblxuICAgICAgICBpZiAodGVzdER1cmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICBkdXJhdGlvblRvVXNlT25DaGVja3MgPSB0ZXN0RHVyYXRpb247XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXhpc3RpbmdBbmltLmlkICE9IG5ld0FuaW0uaW5jaWRlbnQuaWQgJiYgZXhjbHVkZUlkc0Zyb21DaGVjay5pbmRleE9mKGV4aXN0aW5nQW5pbS5pZCkgPCAwICYmICggLy8gZXhpc3RpbmcgYW5pbSBzdGFydHMgd2l0aGluIHRoZSBuZXcgYW5pbSdzIGV4dGVuZFxuICAgICAgICBleGlzdGluZ0FuaW0ubWlsbGlzZWNvbmQgPj0gbmV3QW5pbS5taWxsaXNlY29uZCAmJiBleGlzdGluZ0FuaW0ubWlsbGlzZWNvbmQgPCBkdXJhdGlvblRvVXNlT25DaGVja3MgKyBuZXdBbmltLm1pbGxpc2Vjb25kIHx8IC8vIG9yIGVuZHMgd2l0aGluIHRoZSBuZXcgYW5pbSdzIGV4dGVuZFxuICAgICAgICBleGlzdGluZ0FuaW0ubWlsbGlzZWNvbmQgKyB0aGF0LmluY2lkZW50c0J5SWQuX2dldChleGlzdGluZ0FuaW0uaWQpLmR1cmF0aW9uID4gbmV3QW5pbS5taWxsaXNlY29uZCAmJiBleGlzdGluZ0FuaW0ubWlsbGlzZWNvbmQgKyB0aGF0LmluY2lkZW50c0J5SWQuX2dldChleGlzdGluZ0FuaW0uaWQpLmR1cmF0aW9uIDw9IGR1cmF0aW9uVG9Vc2VPbkNoZWNrcyArIG5ld0FuaW0ubWlsbGlzZWNvbmQgLy8gb3IgaXQgc3RhcnRzIGJlZm9yZSBhbmQgZW5kcyBhZnRlciB0aGUgbmV3IGFuaW0ncyBleHRlbmRcbiAgICAgICAgfHwgZXhpc3RpbmdBbmltLm1pbGxpc2Vjb25kIDwgbmV3QW5pbS5taWxsaXNlY29uZCAmJiBleGlzdGluZ0FuaW0ubWlsbGlzZWNvbmQgKyB0aGF0LmluY2lkZW50c0J5SWQuX2dldChleGlzdGluZ0FuaW0uaWQpLmR1cmF0aW9uID4gZHVyYXRpb25Ub1VzZU9uQ2hlY2tzICsgbmV3QW5pbS5taWxsaXNlY29uZCk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG92ZXJsYXBwaW5nQW5pbXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGl0IGp1c3RzIGFkZHMgdGhlIGxhbmUgaXRlbSB0byB0aGUgbGFuZSBhbmQgYWRqdXN0cyB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgdGhlIEFuaW1zIGluIHNlcXVlbmNlXG4gICAgICogTm8gY2hlY2tzIGFyZSBwZXJmb3JtZWQsIGp1c3QgZXhlY3V0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtY2lkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHJcbiAgICAgKiBAcGFyYW0ge2ludH0gbWlsbGlzZWNvbmRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5jaWRlbnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZEVsZW1lbnRUb0xhbmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRWxlbWVudFRvTGFuZShtY2lkLCBhdHRyLCBtaWxsaXNlY29uZCwgaW5jaWRlbnQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBsYW5lS2V5ID0gaGVscGVyLmdldExhbmVLZXkobWNpZCwgYXR0cik7XG5cbiAgICAgIHRoaXMuaW5jaWRlbnRzQnlJZC5fc2V0KGluY2lkZW50LmlkLCBpbmNpZGVudCk7XG5cbiAgICAgIHZhciBsYW5lRWxlbWVudCA9IHtcbiAgICAgICAgbWlsbGlzZWNvbmQ6IG1pbGxpc2Vjb25kLFxuICAgICAgICBpZDogaW5jaWRlbnQuaWRcbiAgICAgIH07XG4gICAgICB0aGlzLmxhbmVFeGlzdHMobWNpZCwgYXR0ciwgdHJ1ZSk7XG5cbiAgICAgIHZhciB0aGVMYW5lID0gdGhpcy5sYW5lcy5fZ2V0KGxhbmVLZXkpO1xuXG4gICAgICB0aGVMYW5lLnB1c2gobGFuZUVsZW1lbnQpO1xuICAgICAgdGhlTGFuZSA9IF9zb3J0QnkodGhlTGFuZSwgWydtaWxsaXNlY29uZCddKTtcblxuICAgICAgdGhpcy5sYW5lcy5fc2V0KGxhbmVLZXksIHRoZUxhbmUpOyAvLyBpbmRleGluZyBzdHVmZlxuXG5cbiAgICAgIGlmICghdGhpcy5iZWxvbmdpbmdMYW5lS2V5c0J5QW5pbWF0aW9uSWQuX2hhc093blByb3BlcnR5KGluY2lkZW50LmlkKSkge1xuICAgICAgICB0aGlzLmJlbG9uZ2luZ0xhbmVLZXlzQnlBbmltYXRpb25JZC5fc2V0KGluY2lkZW50LmlkLCBbXSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYmVsb25naW5nTGFuZUtleXNCeUFuaW1hdGlvbklkLl9nZXQoaW5jaWRlbnQuaWQpLnB1c2gobGFuZUtleSk7IC8vIGluZGV4aW5nXG5cblxuICAgICAgdmFyIG5ld0FuaW1zSW5kZXggPSBfZmluZEluZGV4KHRoZUxhbmUsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmlkID09PSBpbmNpZGVudC5pZDtcbiAgICAgIH0pOyAvLyBoZWxwZXIubG9nKG5ld0FuaW1zSW5kZXgpO1xuICAgICAgLy8gc3RlcCAxOiBzZXQgdGhlIGludGlhbCB2YWx1ZXMgb2YgdGhlIG5ldyBBbmltYXRpb25cblxuXG4gICAgICBpZiAobmV3QW5pbXNJbmRleCA9PT0gMCkge1xuICAgICAgICAvLyBpZiB0aGUgbmV3bHkgZW50ZXJlZCBhbmltYXRpb24gaXMgdGhlIGZpcnN0IG9mIHRoZSBsYW5lXG4gICAgICAgIGlmICh0aGVMYW5lLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAvLyBhbmQgaXQgaGFzIG90aGVyIGFuaW1hdGlvbnMgdG9vXG4gICAgICAgICAgaW5jaWRlbnQuc2V0SW5pdGlhbFZhbHVlKHRoaXMuaW5jaWRlbnRzQnlJZC5fZ2V0KHRoZUxhbmVbMV0uaWQpLmluaXRpYWxWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZWxzZSB0YWtlIGl0IGRpcmVjdGx5IGZyb20gdGhlIGRvbVxuICAgICAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uIGNhbGxiYWNrKCkge307XG5cbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY29tYm9BdHRyaWJ1dGVzLCBhdHRyKSkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiBjYWxsYmFjayh2YWx1ZSkge1xuICAgICAgICAgICAgICBzZXRJbml0aWFsVmFsdWVGb3JDb21ibyh0aGVMYW5lLCBfdGhpcy5pbmNpZGVudHNCeUlkLCB2YWx1ZSwgMCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGluY2lkZW50LnNldEluaXRpYWxWYWx1ZShpbmNpZGVudC5jYWxjSW5pdGlhbFZhbHVlKGNhbGxiYWNrKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluY2lkZW50LnNldEluaXRpYWxWYWx1ZSh0aGlzLmluY2lkZW50c0J5SWQuX2dldCh0aGVMYW5lW25ld0FuaW1zSW5kZXggLSAxXS5pZCkuYW5pbWF0ZWRBdHRyaWJ1dGVWYWx1ZSk7XG4gICAgICB9XG4gICAgICAvKiBpZiB0aGUgYXR0cmlidXRlIG9mIHRoZSBsYW5lIGlzIGEgY29tcG8gYXR0cmlidXRlICovXG5cblxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmNvbWJvQXR0cmlidXRlcywgYXR0cikpIHtcbiAgICAgICAgdmFyIGluY2lkZW50SW5pdGlhbFZhbHVlcyA9IGluY2lkZW50LmluaXRpYWxWYWx1ZTtcbiAgICAgICAgc2V0SW5pdGlhbFZhbHVlRm9yQ29tYm8odGhlTGFuZSwgdGhpcy5pbmNpZGVudHNCeUlkLCBpbmNpZGVudEluaXRpYWxWYWx1ZXMsIG5ld0FuaW1zSW5kZXgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb25TdWNjZXNzQWN0aW9uID0gZnVuY3Rpb24gb25TdWNjZXNzQWN0aW9uKCkge307IC8vIHN0ZXAgMjogc2V0IHRoZSBpbml0YWwgdmFsdWVzIG9mIHRoZSBmb2xsb3dpbmcgQW5pbWF0aW9uIChpZiBhbnkpXG5cblxuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICBpZiAobmV3QW5pbXNJbmRleCArIDEgPCB0aGVMYW5lLmxlbmd0aCkge1xuICAgICAgICBvblN1Y2Nlc3NBY3Rpb24gPSBmdW5jdGlvbiBvblN1Y2Nlc3NBY3Rpb24oKSB7XG4gICAgICAgICAgdGhhdC5pbmNpZGVudHNCeUlkLl9nZXQodGhlTGFuZVtuZXdBbmltc0luZGV4ICsgMV0uaWQpLnNldEluaXRpYWxWYWx1ZShpbmNpZGVudC5hbmltYXRlZEF0dHJpYnV0ZVZhbHVlKTtcblxuICAgICAgICAgIGlmICh0aGF0LmluY2lkZW50c0J5SWQuX2dldCh0aGVMYW5lW25ld0FuaW1zSW5kZXggKyAxXS5pZCkuZ290Q29udGV4dCkge1xuICAgICAgICAgICAgdGhhdC5pbmNpZGVudHNCeUlkLl9nZXQodGhlTGFuZVtuZXdBbmltc0luZGV4ICsgMV0uaWQpLmxhc3RXaXNoKCk7XG5cbiAgICAgICAgICAgIHRoYXQuaW5jaWRlbnRzQnlJZC5fZ2V0KHRoZUxhbmVbbmV3QW5pbXNJbmRleCArIDFdLmlkKS5vbkdldENvbnRleHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIG9uU3VjY2Vzc0FjdGlvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBpdCBqdXN0cyB1cGRhdGVzIHRoZSBsYW5lXG4gICAgICogTm8gY2hlY2tzIGFyZSBwZXJmb3JtZWQsIGp1c3QgZXhlY3V0aW9uXG4gICAgICogQHBhcmFtIHthcnJheX0gYWZmZWN0ZWRBbmltYXRpb25zSWRzXG4gICAgICogQHBhcmFtIHtpbnR9IG1pbGxpc2Vjb25kRGVsdGFcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUxhbmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlTGFuZShhZmZlY3RlZEFuaW1hdGlvbnNJZHMsIG1pbGxpc2Vjb25kc0RlbHRhKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgLy8gZmlyc3Qgd2UgZ3JvdXAgdGhlIGFmZmVjdGVkIGFuaW1hdGlvbnMgYnkgbGFuZXNcbiAgICAgIHZhciBhZmZlY3RlZExhbmVzID0ge307XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWZmZWN0ZWRBbmltYXRpb25zSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBiZWxvbmdpbmdMYW5lcyA9IHRoaXMuYmVsb25naW5nTGFuZUtleXNCeUFuaW1hdGlvbklkLl9nZXQoYWZmZWN0ZWRBbmltYXRpb25zSWRzW2ldKTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJlbG9uZ2luZ0xhbmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFyIGxhbmVLZXkgPSBiZWxvbmdpbmdMYW5lc1tqXTtcblxuICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFmZmVjdGVkTGFuZXMsIGxhbmVLZXkpKSB7XG4gICAgICAgICAgICBhZmZlY3RlZExhbmVzW2xhbmVLZXldID0ge1xuICAgICAgICAgICAgICBhbmltYXRpb25zOiBbXSxcbiAgICAgICAgICAgICAgbGFuZTogdGhhdC5sYW5lcy5fZ2V0KGxhbmVLZXkpLFxuICAgICAgICAgICAgICBsYW5lRGF0YTogaGVscGVyLmdldE1DSURhbmRBdHRyT3V0T2ZMYW5lS2V5KGJlbG9uZ2luZ0xhbmVzW2pdKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhZmZlY3RlZExhbmVzW2xhbmVLZXldLmFuaW1hdGlvbnMucHVzaChhZmZlY3RlZEFuaW1hdGlvbnNJZHNbaV0pO1xuICAgICAgICB9XG4gICAgICB9IC8vIGZvciBlYWNoIG9mIHRoZSBhZmZlY3RlZCBsYW5lc1xuXG5cbiAgICAgIGZvciAodmFyIF9sYW5lS2V5IGluIGFmZmVjdGVkTGFuZXMpIHtcbiAgICAgICAgdmFyIGFmZmVjdGVkTGFuZSA9IGFmZmVjdGVkTGFuZXNbX2xhbmVLZXldO1xuICAgICAgICB2YXIgbGFuZSA9IGFmZmVjdGVkTGFuZS5sYW5lO1xuICAgICAgICB2YXIgbGFuZURhdGEgPSBhZmZlY3RlZExhbmUubGFuZURhdGE7XG5cbiAgICAgICAgdmFyIGxhbmVCZWZvcmVFZGl0ID0gX3NvcnRCeSh0aGlzLmdldExhbmVzQ29weShsYW5lKSwgWydtaWxsaXNlY29uZCddKTtcblxuICAgICAgICB2YXIgaXNDb21ib0F0dHIgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jb21ib0F0dHJpYnV0ZXMsIGxhbmVEYXRhLmF0dHJpYnV0ZSk7IC8vIGVkaXQgbGFuZSBpdGVtcyBtaWxsaXNlY29uZFxuXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbGFuZS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgIGlmIChhZmZlY3RlZExhbmUuYW5pbWF0aW9ucy5pbmRleE9mKGxhbmVba10uaWQpID49IDApIHtcbiAgICAgICAgICAgIGxhbmVba10ubWlsbGlzZWNvbmQgKz0gbWlsbGlzZWNvbmRzRGVsdGE7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIGVuZCBmb3Igc2VhcmNoaW5nIGZvciB0aGUgYW5pbWF0aW9ucyB3aXRoaW4gdGhlIGxhbmVcblxuXG4gICAgICAgIHZhciBzb3J0ZWRMYW5lID0gX3NvcnRCeShsYW5lLCBbJ21pbGxpc2Vjb25kJ10pO1xuXG4gICAgICAgIHRoaXMubGFuZXMuX3NldChfbGFuZUtleSwgc29ydGVkTGFuZSk7XG5cbiAgICAgICAgbGFuZSA9IHNvcnRlZExhbmU7XG5cbiAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoX2kyKSB7XG4gICAgICAgICAgdmFyIGFuaW1hdGlvblRvQ2hlY2sgPSBhZmZlY3RlZExhbmUuYW5pbWF0aW9uc1tfaTJdO1xuXG4gICAgICAgICAgdmFyIGFuaW1hdGlvbkluZGV4QmVmb3JlRWRpdCA9IF9maW5kSW5kZXgobGFuZUJlZm9yZUVkaXQsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gYW5pbWF0aW9uVG9DaGVjaztcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZhciBhbmltYXRpb25JbmRleEFmdGVyRWRpdCA9IF9maW5kSW5kZXgobGFuZSwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSBhbmltYXRpb25Ub0NoZWNrO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IF90aGlzMi5pbmNpZGVudHNCeUlkLl9nZXQobGFuZVthbmltYXRpb25JbmRleEFmdGVyRWRpdF0uaWQpO1xuXG4gICAgICAgICAgaWYgKGFuaW1hdGlvbkluZGV4QmVmb3JlRWRpdCAhPT0gYW5pbWF0aW9uSW5kZXhBZnRlckVkaXQgfHwgYW5pbWF0aW9uSW5kZXhBZnRlckVkaXQgPiAxKSB7XG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uSW5kZXhCZWZvcmVFZGl0ICsgMSA8IGxhbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIC8vIGlmIHRoZSBhbmltYXRpb24gd2FzIG5vdCB0aGUgbGFzdCBhbmltYXRpb24gb24gdGhlIGxhbmUgYmVmb3JlIHRoZSBlZGl0XG4gICAgICAgICAgICAgIC8vIHdlIHNob3VsZCB0YWtlIGNhcmUgb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIHRoZSBhbmltYXRpb24ncyBwcmV2aW91cyBzdWNjZXNzb3JcbiAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbkluZGV4QmVmb3JlRWRpdCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBlZGl0ZWQgYW5pbWF0aW9uIHdhcyB0aGUgZmlyc3Qgb25lIGJlZm9yZSB0aGUgZWRpdFxuICAgICAgICAgICAgICAgIC8vIHBhc3MgaXRzIGluaXRpYWwgdmFsdWVzIHRvIGl0cyBwcmV2aW91cyBzdWNjZXNzb3IgYXMgaXRzIG5ldyBpbml0aWFsIHZhbHVlc1xuICAgICAgICAgICAgICAgIGlmIChpc0NvbWJvQXR0cikge1xuICAgICAgICAgICAgICAgICAgc2V0SW5pdGlhbFZhbHVlRm9yQ29tYm8obGFuZSwgX3RoaXMyLmluY2lkZW50c0J5SWQsIGFuaW1hdGlvbi5pbml0aWFsVmFsdWUsIDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBfdGhpczIuaW5jaWRlbnRzQnlJZC5fZ2V0KGxhbmVCZWZvcmVFZGl0WzFdLmlkKS5zZXRJbml0aWFsVmFsdWUoYW5pbWF0aW9uLmluaXRpYWxWYWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgIF90aGlzMi5pbmNpZGVudHNCeUlkLl9nZXQobGFuZUJlZm9yZUVkaXRbMV0uaWQpLm9uR2V0Q29udGV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlbHNlIGlmIHRoZSBlZGl0ZWQgYW5pbWF0aW9uIHdhcyBub3QgdGhlIGZpcnN0IG9uZSBiZWZvcmUgdGhlIGVkaXRcbiAgICAgICAgICAgICAgICAvLyBtZWFuaW5nIGl0cyBwcmV2aW91cyBzdWNjZXNzb3IgaXMgbm90IHRoZSBmaXJzdCBvbmUgb24gdGhlIGxhbmUgYWZ0ZXIgdGhlIGVkaXRcbiAgICAgICAgICAgICAgICAvLyBqdXN0IGdyYWIgdGhlIHRhcmdldCB2YWx1ZSBvZiB0aGUgbmV3IHByZXZpb3VzIGFuaW1hdGlvbiBvZiB0aGUgYW5pbWF0aW9uJ3MgcHJldmlvdXMgc3VjY2Vzc29yIGFuZCBzZXQgaXQgYXMgaW5pdGlhbCB2YWx1ZVxuICAgICAgICAgICAgICAgIGlmIChpc0NvbWJvQXR0cikge1xuICAgICAgICAgICAgICAgICAgdmFyIGluZGV4VG9BZmZlY3QgPSBhbmltYXRpb25JbmRleEFmdGVyRWRpdCA+IGFuaW1hdGlvbkluZGV4QmVmb3JlRWRpdCA/IGFuaW1hdGlvbkluZGV4QmVmb3JlRWRpdCA6IGFuaW1hdGlvbkluZGV4QWZ0ZXJFZGl0O1xuICAgICAgICAgICAgICAgICAgc2V0SW5pdGlhbFZhbHVlRm9yQ29tYm8obGFuZSwgX3RoaXMyLmluY2lkZW50c0J5SWQsIF90aGlzMi5pbmNpZGVudHNCeUlkLl9nZXQobGFuZUJlZm9yZUVkaXRbYW5pbWF0aW9uSW5kZXhCZWZvcmVFZGl0IC0gMV0uaWQpLmFuaW1hdGVkQXR0cmlidXRlVmFsdWUsIGluZGV4VG9BZmZlY3QpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBfdGhpczIuaW5jaWRlbnRzQnlJZC5fZ2V0KGxhbmVCZWZvcmVFZGl0W2FuaW1hdGlvbkluZGV4QmVmb3JlRWRpdCArIDFdLmlkKS5zZXRJbml0aWFsVmFsdWUoX3RoaXMyLmluY2lkZW50c0J5SWQuX2dldChsYW5lQmVmb3JlRWRpdFthbmltYXRpb25JbmRleEJlZm9yZUVkaXQgLSAxXS5pZCkuYW5pbWF0ZWRBdHRyaWJ1dGVWYWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgIF90aGlzMi5pbmNpZGVudHNCeUlkLl9nZXQobGFuZUJlZm9yZUVkaXRbYW5pbWF0aW9uSW5kZXhCZWZvcmVFZGl0ICsgMV0uaWQpLm9uR2V0Q29udGV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyBmb3IgdGhlIGVkaXRlZCBhbmltYXRpb24gaXRzZWxmIG5vdzpcblxuXG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uSW5kZXhBZnRlckVkaXQgPT09IDApIHtcbiAgICAgICAgICAgICAgLy8gaXMgaXQgdGhlIGZpcnN0IG9uZSAoYWZ0ZXIgZWRpdCk/XG4gICAgICAgICAgICAgIC8vIGdldCB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgdGhlIHByZXZpb3VzbHkgMCBpbmRleGVkIGFuaW1hdGlvbiBvZiB0aGUgbGFuZVxuICAgICAgICAgICAgICBpZiAoaXNDb21ib0F0dHIpIHtcbiAgICAgICAgICAgICAgICBzZXRJbml0aWFsVmFsdWVGb3JDb21ibyhsYW5lLCBfdGhpczIuaW5jaWRlbnRzQnlJZCwgX3RoaXMyLmluY2lkZW50c0J5SWQuX2dldChsYW5lQmVmb3JlRWRpdFswXS5pZCkuaW5pdGlhbFZhbHVlLCBhbmltYXRpb25JbmRleEFmdGVyRWRpdCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnNldEluaXRpYWxWYWx1ZShfdGhpczIuaW5jaWRlbnRzQnlJZC5fZ2V0KGxhbmVCZWZvcmVFZGl0WzBdLmlkKS5pbml0aWFsVmFsdWUpO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5vbkdldENvbnRleHQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gZWxzZSBpZiBpdCBpcyBub3QgdGhlIGZpcnN0IG9uZSBhZnRlciBlZGl0ZFxuICAgICAgICAgICAgICAvLyBqdXN0IGdyYWIgdGhlIHRhcmdldCB2YWx1ZSBvZiB0aGUgcHJldmlvdXMgYW5pbWF0aW9uIG9uIHRoZSB1cGRhdGVkIGxhbmUgYW5kIHNldCBpdCBhcyBpdHMgaW5pdGlhbCB2YWx1ZVxuICAgICAgICAgICAgICBpZiAoaXNDb21ib0F0dHIpIHtcbiAgICAgICAgICAgICAgICBzZXRJbml0aWFsVmFsdWVGb3JDb21ibyhsYW5lLCBfdGhpczIuaW5jaWRlbnRzQnlJZCwgX3RoaXMyLmluY2lkZW50c0J5SWQuX2dldChsYW5lW2FuaW1hdGlvbkluZGV4QWZ0ZXJFZGl0IC0gMV0uaWQpLmFuaW1hdGVkQXR0cmlidXRlVmFsdWUsIGFuaW1hdGlvbkluZGV4QWZ0ZXJFZGl0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uc2V0SW5pdGlhbFZhbHVlKF90aGlzMi5pbmNpZGVudHNCeUlkLl9nZXQobGFuZVthbmltYXRpb25JbmRleEFmdGVyRWRpdCAtIDFdLmlkKS5hbmltYXRlZEF0dHJpYnV0ZVZhbHVlKTtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24ub25HZXRDb250ZXh0KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gZm9yIGl0cyBuZXcgbmV4dCBhbmltYXRpb24gKGlmIGl0IGhhcyBvbmUpXG5cblxuICAgICAgICAgICAgaWYgKGFuaW1hdGlvbkluZGV4QWZ0ZXJFZGl0ICsgMSA8IGxhbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIC8vIHNldCBpdHMgaW5pdGlhbCB2YWx1ZSB0byBlcXVhbCB0aGUgdGFyZ2V0IHZhbHVlIG9mIHRoZSBlZGl0ZWQgYW5pbWF0aW9uXG4gICAgICAgICAgICAgIGlmIChpc0NvbWJvQXR0cikge1xuICAgICAgICAgICAgICAgIHNldEluaXRpYWxWYWx1ZUZvckNvbWJvKGxhbmUsIF90aGlzMi5pbmNpZGVudHNCeUlkLCBhbmltYXRpb24uYW5pbWF0ZWRBdHRyaWJ1dGVWYWx1ZSwgYW5pbWF0aW9uSW5kZXhBZnRlckVkaXQgKyAxKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpczIuaW5jaWRlbnRzQnlJZC5fZ2V0KGxhbmVbYW5pbWF0aW9uSW5kZXhBZnRlckVkaXQgKyAxXS5pZCkuc2V0SW5pdGlhbFZhbHVlKGFuaW1hdGlvbi5hbmltYXRlZEF0dHJpYnV0ZVZhbHVlKTtcblxuICAgICAgICAgICAgICAgIF90aGlzMi5pbmNpZGVudHNCeUlkLl9nZXQobGFuZVthbmltYXRpb25JbmRleEFmdGVyRWRpdCArIDFdLmlkKS5vbkdldENvbnRleHQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBhZmZlY3RlZExhbmUuYW5pbWF0aW9ucy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAgICAgX2xvb3AoX2kyKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBlbmQgZm9yIGVhY2ggb2YgdGhlIGJlbG9uZ2luZyBsYW5lcyBvZiB0aGUgYW5pbWF0aW9uXG5cbiAgICB9XG4gICAgLyoqXG4gICAgICogcmVtb3ZlcyB0aGUgbGlzdCBvZiBhbmltYXRpb25zIGFzIHByb3ZpZGVkXG4gICAgICogQHBhcmFtIHthcnJheX0gcmVtb3ZlZEFuaW1hdGlvbnMgLSBhbiBhcnJheSB3aXRoIHRoZSByZW1vdmVkIGFuaW1hdGlvbnMnIGlkc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlQW5pbWF0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVBbmltYXRpb25zKHJlbW92ZWRBbmltYXRpb25zKSB7XG4gICAgICB2YXIgYWZmZWN0ZWRMYW5lcyA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbW92ZWRBbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpZCA9IHJlbW92ZWRBbmltYXRpb25zW2ldOyAvLyBmb3IgZWFjaCBsYW5lIHRoZSBhZmZlY3RlZCBBbmltYXRpb24gYXBwZWFycyBpblxuXG4gICAgICAgIHZhciBiZWxvbmdpbmdMYW5lcyA9IHRoaXMuYmVsb25naW5nTGFuZUtleXNCeUFuaW1hdGlvbklkLl9nZXQoaWQpO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYmVsb25naW5nTGFuZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgbGFuZSA9IHRoaXMubGFuZXMuX2dldChiZWxvbmdpbmdMYW5lc1tqXSk7XG5cbiAgICAgICAgICB2YXIgYW5pbWF0aW9uSW5kZXhCZWZvcmVFZGl0ID0gLTE7XG5cbiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGxhbmUubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgIGlmIChsYW5lW2tdLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICBhbmltYXRpb25JbmRleEJlZm9yZUVkaXQgPSBrO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIGhlbHBlci5sb2coYW5pbWF0aW9uSW5kZXhCZWZvcmVFZGl0KTtcblxuXG4gICAgICAgICAgdmFyIGFuaW1hdGlvblRvRGVsZXRlID0gT2JqZWN0LmFzc2lnbih7fSwgbGFuZVthbmltYXRpb25JbmRleEJlZm9yZUVkaXRdKTtcblxuICAgICAgICAgIHZhciBhbmltYXRpb25PYmplY3RUb0RlbGV0ZSA9IHRoaXMuaW5jaWRlbnRzQnlJZC5fZ2V0KGFuaW1hdGlvblRvRGVsZXRlLmlkKTtcblxuICAgICAgICAgIHZhciBsYW5lRGF0YSA9IGhlbHBlci5nZXRNQ0lEYW5kQXR0ck91dE9mTGFuZUtleShiZWxvbmdpbmdMYW5lc1tqXSk7IC8vIGdldHMgdGhlIGxhbmUgd2l0aG91dCB0aGUgcmVtb3ZlZCBhbmltYXRpb25cblxuICAgICAgICAgIHZhciBuZXdMYW5lID0gW107XG5cbiAgICAgICAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbGFuZS5sZW5ndGg7IF9rKyspIHtcbiAgICAgICAgICAgIGlmIChsYW5lW19rXS5pZCAhPSBpZCkge1xuICAgICAgICAgICAgICBuZXdMYW5lLnB1c2gobGFuZVtfa10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMubGFuZXMuX3NldChiZWxvbmdpbmdMYW5lc1tqXSwgbmV3TGFuZSk7XG5cbiAgICAgICAgICBsYW5lID0gdGhpcy5sYW5lcy5fZ2V0KGJlbG9uZ2luZ0xhbmVzW2pdKTtcblxuICAgICAgICAgIGlmIChsYW5lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gaW4gY2FzZSB0aGVyZSBhcmUgbm8gbW9yZSBhbmltYXRpb25zIG9uIHRoZSBsYW5lIGFueSBtb3JlIHdlIHJlc2V0XG4gICAgICAgICAgICAvLyB0aGUgbGFuZSBieSBydW5uaW5nIHRoZSBwcm9ncmVzcygwLDApLCBzbyB0aGF0IHRoZSBhZmZlY3RlZCBlbGVtZW50c1xuICAgICAgICAgICAgLy8gd2lsbCBnZXQgYmFjayB0byB0aGVpciBvcmlnaW5hbCBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgICAgICAgIGFuaW1hdGlvbk9iamVjdFRvRGVsZXRlLm9uUHJvZ3Jlc3MoMCwgMCk7XG5cbiAgICAgICAgICAgIHRoaXMubGFuZXMuX2RlbGV0ZShiZWxvbmdpbmdMYW5lc1tqXSk7XG5cbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYWZmZWN0ZWRMYW5lcywgYmVsb25naW5nTGFuZXNbal0pKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBhZmZlY3RlZExhbmVzW2JlbG9uZ2luZ0xhbmVzW2pdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWZmZWN0ZWRMYW5lc1tiZWxvbmdpbmdMYW5lc1tqXV0gPSBoZWxwZXIuZ2V0TUNJRGFuZEF0dHJPdXRPZkxhbmVLZXkoYmVsb25naW5nTGFuZXNbal0pO1xuXG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uSW5kZXhCZWZvcmVFZGl0IDwgbGFuZS5sZW5ndGggJiYgdGhpcy5pbmNpZGVudHNCeUlkLl9nZXQoYW5pbWF0aW9uVG9EZWxldGUuaWQpLmluaXRpYWxWYWx1ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmNvbWJvQXR0cmlidXRlcywgbGFuZURhdGEuYXR0cmlidXRlKSkge1xuICAgICAgICAgICAgICAgIHNldEluaXRpYWxWYWx1ZUZvckNvbWJvKGxhbmUsIHRoaXMuaW5jaWRlbnRzQnlJZCwgdGhpcy5pbmNpZGVudHNCeUlkLl9nZXQoYW5pbWF0aW9uVG9EZWxldGUuaWQpLmluaXRpYWxWYWx1ZSwgYW5pbWF0aW9uSW5kZXhCZWZvcmVFZGl0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluY2lkZW50c0J5SWQuX2dldChsYW5lW2FuaW1hdGlvbkluZGV4QmVmb3JlRWRpdF0uaWQpLnNldEluaXRpYWxWYWx1ZSh0aGlzLmluY2lkZW50c0J5SWQuX2dldChhbmltYXRpb25Ub0RlbGV0ZS5pZCkuaW5pdGlhbFZhbHVlKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuaW5jaWRlbnRzQnlJZC5fZ2V0KGxhbmVbYW5pbWF0aW9uSW5kZXhCZWZvcmVFZGl0XS5pZCkub25HZXRDb250ZXh0KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJlbG9uZ2luZ0xhbmVLZXlzQnlBbmltYXRpb25JZC5fZGVsZXRlKHJlbW92ZWRBbmltYXRpb25zW2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFmZmVjdGVkTGFuZXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExhbmVzSGFuZGxlcjtcbn0oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBMYW5lc0hhbmRsZXI7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/LanesHandler.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/Collection.js":
/*!***********************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/Collection.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Collection =\n/*#__PURE__*/\nfunction () {\n  function Collection() {\n    var initialArray = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    _classCallCheck(this, Collection);\n\n    this.realArray = [];\n\n    if (initialArray != null) {\n      this.realArray = initialArray;\n    }\n  }\n\n  _createClass(Collection, [{\n    key: \"_hasOwnProperty\",\n    value: function _hasOwnProperty(key) {\n      return Object.prototype.hasOwnProperty.call(this.realArray, key);\n    }\n  }, {\n    key: \"_get\",\n    value: function _get(key) {\n      return this.realArray[key];\n    }\n  }, {\n    key: \"_set\",\n    value: function _set(key, value) {\n      this.realArray[key] = value;\n    }\n  }, {\n    key: \"_keys\",\n    value: function _keys() {\n      return Object.keys(this.realArray);\n    }\n  }, {\n    key: \"_delete\",\n    value: function _delete(key) {\n      return delete this.realArray[key];\n    }\n    /**\n     * exports a Collection object\n     */\n\n  }, {\n    key: \"_export\",\n    value: function _export() {\n      return this.realArray;\n    }\n  }]);\n\n  return Collection;\n}();\n\nmodule.exports = Collection;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DaGFubmVscy9BdHRyaWJ1dGUvaGVscGVycy9Db2xsZWN0aW9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvQ2hhbm5lbHMvQXR0cmlidXRlL2hlbHBlcnMvQ29sbGVjdGlvbi5qcz85NGM4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBDb2xsZWN0aW9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ29sbGVjdGlvbigpIHtcbiAgICB2YXIgaW5pdGlhbEFycmF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbGxlY3Rpb24pO1xuXG4gICAgdGhpcy5yZWFsQXJyYXkgPSBbXTtcblxuICAgIGlmIChpbml0aWFsQXJyYXkgIT0gbnVsbCkge1xuICAgICAgdGhpcy5yZWFsQXJyYXkgPSBpbml0aWFsQXJyYXk7XG4gICAgfVxuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENvbGxlY3Rpb24sIFt7XG4gICAga2V5OiBcIl9oYXNPd25Qcm9wZXJ0eVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFzT3duUHJvcGVydHkoa2V5KSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMucmVhbEFycmF5LCBrZXkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXQoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWFsQXJyYXlba2V5XTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3NldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMucmVhbEFycmF5W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2tleXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2tleXMoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5yZWFsQXJyYXkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZGVsZXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUoa2V5KSB7XG4gICAgICByZXR1cm4gZGVsZXRlIHRoaXMucmVhbEFycmF5W2tleV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGV4cG9ydHMgYSBDb2xsZWN0aW9uIG9iamVjdFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2V4cG9ydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZXhwb3J0KCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVhbEFycmF5O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDb2xsZWN0aW9uO1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbGxlY3Rpb247Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/Collection.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/ComboAttrsCascading.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/ComboAttrsCascading.js ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/*\nlane:\n     * [\n     *      {\n     *          id: the id of the Incident\n     *          millisecond: the millisecond of the channel this Animation (that affects the selector/attribute pair) runs\n     *      }\n     *  ]\n*/\nfunction updateFinalValues(initialValues, originalFinalValues, finalValues) {\n  // console.log(initialValues, originalFinalValues);\n  var change = false;\n\n  for (var key in initialValues.value) {\n    if (!Object.prototype.hasOwnProperty.call(originalFinalValues, key)) {\n      change = true;\n      finalValues.value[key] = initialValues.value[key];\n    }\n  }\n\n  return change;\n}\n/**\n * This function takes as input the index of the affected incident on the lane,\n * the lane and it re-calculates the\n * initial and final values of all the following incidents in the lane.\n * The function is used only in cases of combo attributes\n **/\n\n\nfunction setInitialValue(lane, incidentsById, newInitialValues, affectedIndex) {\n  var affectedItem = lane[affectedIndex];\n\n  var affectedIncident = incidentsById._get(affectedItem.id);\n\n  affectedIncident.setInitialValue(newInitialValues);\n  var change = updateFinalValues(affectedIncident.initialValue, affectedIncident.originalAnimatedAttributeValue, affectedIncident.animatedAttributeValue); // if the final values have changed according to the new initial values and there is\n  // a following incident on the lane\n\n  if (change && affectedIndex < lane.length - 1) {\n    affectedIncident.lastWish();\n    affectedIncident.onGetContext();\n    setInitialValue(lane, incidentsById, affectedIncident.animatedAttributeValue, affectedIndex + 1);\n  }\n}\n\nmodule.exports = setInitialValue;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DaGFubmVscy9BdHRyaWJ1dGUvaGVscGVycy9Db21ib0F0dHJzQ2FzY2FkaW5nLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvQ2hhbm5lbHMvQXR0cmlidXRlL2hlbHBlcnMvQ29tYm9BdHRyc0Nhc2NhZGluZy5qcz82NjI1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKlxubGFuZTpcbiAgICAgKiBbXG4gICAgICogICAgICB7XG4gICAgICogICAgICAgICAgaWQ6IHRoZSBpZCBvZiB0aGUgSW5jaWRlbnRcbiAgICAgKiAgICAgICAgICBtaWxsaXNlY29uZDogdGhlIG1pbGxpc2Vjb25kIG9mIHRoZSBjaGFubmVsIHRoaXMgQW5pbWF0aW9uICh0aGF0IGFmZmVjdHMgdGhlIHNlbGVjdG9yL2F0dHJpYnV0ZSBwYWlyKSBydW5zXG4gICAgICogICAgICB9XG4gICAgICogIF1cbiovXG5mdW5jdGlvbiB1cGRhdGVGaW5hbFZhbHVlcyhpbml0aWFsVmFsdWVzLCBvcmlnaW5hbEZpbmFsVmFsdWVzLCBmaW5hbFZhbHVlcykge1xuICAvLyBjb25zb2xlLmxvZyhpbml0aWFsVmFsdWVzLCBvcmlnaW5hbEZpbmFsVmFsdWVzKTtcbiAgdmFyIGNoYW5nZSA9IGZhbHNlO1xuXG4gIGZvciAodmFyIGtleSBpbiBpbml0aWFsVmFsdWVzLnZhbHVlKSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3JpZ2luYWxGaW5hbFZhbHVlcywga2V5KSkge1xuICAgICAgY2hhbmdlID0gdHJ1ZTtcbiAgICAgIGZpbmFsVmFsdWVzLnZhbHVlW2tleV0gPSBpbml0aWFsVmFsdWVzLnZhbHVlW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNoYW5nZTtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyBhcyBpbnB1dCB0aGUgaW5kZXggb2YgdGhlIGFmZmVjdGVkIGluY2lkZW50IG9uIHRoZSBsYW5lLFxuICogdGhlIGxhbmUgYW5kIGl0IHJlLWNhbGN1bGF0ZXMgdGhlXG4gKiBpbml0aWFsIGFuZCBmaW5hbCB2YWx1ZXMgb2YgYWxsIHRoZSBmb2xsb3dpbmcgaW5jaWRlbnRzIGluIHRoZSBsYW5lLlxuICogVGhlIGZ1bmN0aW9uIGlzIHVzZWQgb25seSBpbiBjYXNlcyBvZiBjb21ibyBhdHRyaWJ1dGVzXG4gKiovXG5cblxuZnVuY3Rpb24gc2V0SW5pdGlhbFZhbHVlKGxhbmUsIGluY2lkZW50c0J5SWQsIG5ld0luaXRpYWxWYWx1ZXMsIGFmZmVjdGVkSW5kZXgpIHtcbiAgdmFyIGFmZmVjdGVkSXRlbSA9IGxhbmVbYWZmZWN0ZWRJbmRleF07XG5cbiAgdmFyIGFmZmVjdGVkSW5jaWRlbnQgPSBpbmNpZGVudHNCeUlkLl9nZXQoYWZmZWN0ZWRJdGVtLmlkKTtcblxuICBhZmZlY3RlZEluY2lkZW50LnNldEluaXRpYWxWYWx1ZShuZXdJbml0aWFsVmFsdWVzKTtcbiAgdmFyIGNoYW5nZSA9IHVwZGF0ZUZpbmFsVmFsdWVzKGFmZmVjdGVkSW5jaWRlbnQuaW5pdGlhbFZhbHVlLCBhZmZlY3RlZEluY2lkZW50Lm9yaWdpbmFsQW5pbWF0ZWRBdHRyaWJ1dGVWYWx1ZSwgYWZmZWN0ZWRJbmNpZGVudC5hbmltYXRlZEF0dHJpYnV0ZVZhbHVlKTsgLy8gaWYgdGhlIGZpbmFsIHZhbHVlcyBoYXZlIGNoYW5nZWQgYWNjb3JkaW5nIHRvIHRoZSBuZXcgaW5pdGlhbCB2YWx1ZXMgYW5kIHRoZXJlIGlzXG4gIC8vIGEgZm9sbG93aW5nIGluY2lkZW50IG9uIHRoZSBsYW5lXG5cbiAgaWYgKGNoYW5nZSAmJiBhZmZlY3RlZEluZGV4IDwgbGFuZS5sZW5ndGggLSAxKSB7XG4gICAgYWZmZWN0ZWRJbmNpZGVudC5sYXN0V2lzaCgpO1xuICAgIGFmZmVjdGVkSW5jaWRlbnQub25HZXRDb250ZXh0KCk7XG4gICAgc2V0SW5pdGlhbFZhbHVlKGxhbmUsIGluY2lkZW50c0J5SWQsIGFmZmVjdGVkSW5jaWRlbnQuYW5pbWF0ZWRBdHRyaWJ1dGVWYWx1ZSwgYWZmZWN0ZWRJbmRleCArIDEpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0SW5pdGlhbFZhbHVlOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/ComboAttrsCascading.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/SandboxCollection.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/SandboxCollection.js ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * The goal of this class is to get an original array, provide all the functionality\n * of the Collection class but by keeping the originalArray clean as it was provided.\n */\nvar SandboxCollection =\n/*#__PURE__*/\nfunction () {\n  function SandboxCollection(originalArray) {\n    _classCallCheck(this, SandboxCollection);\n\n    this.originalArray = originalArray;\n    this.extraArray = {};\n    this.addedKeys = [];\n    this.removedKeys = [];\n  }\n\n  _createClass(SandboxCollection, [{\n    key: \"_hasOwnProperty\",\n    value: function _hasOwnProperty(key) {\n      return Object.prototype.hasOwnProperty.call(this.originalArray, key) || Object.prototype.hasOwnProperty.call(this.extraArray, key);\n    }\n  }, {\n    key: \"_get\",\n    value: function _get(key) {\n      if (Object.prototype.hasOwnProperty.call(this.extraArray, key)) {\n        return this.extraArray[key];\n      } else if (!Object.prototype.hasOwnProperty.call(this.originalArray, key)) {\n        return undefined;\n      } else {\n        this.extraArray[key] = Object.assign({}, this.originalArray[key]);\n        return this.extraArray[key];\n      }\n    }\n  }, {\n    key: \"_set\",\n    value: function _set(key, value) {\n      this.extraArray[key] = value;\n\n      if (!Object.prototype.hasOwnProperty.call(this.originalArray, key)) {\n        this.addedKeys.push(key);\n      }\n\n      var indexOnRemovedKeys = this.removedKeys.indexOf(key);\n\n      if (indexOnRemovedKeys > -1) {\n        this.removedKeys.splice(indexOnRemovedKeys, 1);\n      }\n    }\n  }, {\n    key: \"_keys\",\n    value: function _keys() {\n      var allKeys = Object.keys(this.originalArray).concat(this.addedKeys);\n\n      for (var i = 0; i < this.removedKeys.length; i++) {\n        var indexOnArray = this.removedKeys.indexOf(this.removedKeys[i]);\n        allKeys.splice(indexOnArray, 1);\n      }\n\n      return allKeys;\n    }\n  }, {\n    key: \"_delete\",\n    value: function _delete(key) {\n      var indexOnAddedKeys = this.addedKeys.indexOf(key);\n\n      if (indexOnAddedKeys > -1) {\n        this.addedKeys.splice(indexOnAddedKeys);\n        return delete this.extraArray[key];\n      } else {\n        return this.removedKeys.push(key);\n      }\n    }\n  }, {\n    key: \"_export\",\n    value: function _export() {\n      for (var key in this.extraArray) {\n        this.originalArray[key] = this.extraArray[key];\n      }\n\n      for (var i = 0; i < this.removedKeys.length; i++) {\n        delete this.originalArray[this.removedKeys[i]];\n      }\n\n      return this.originalArray;\n    }\n  }]);\n\n  return SandboxCollection;\n}();\n\nmodule.exports = SandboxCollection;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DaGFubmVscy9BdHRyaWJ1dGUvaGVscGVycy9TYW5kYm94Q29sbGVjdGlvbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L0NoYW5uZWxzL0F0dHJpYnV0ZS9oZWxwZXJzL1NhbmRib3hDb2xsZWN0aW9uLmpzPzZlOTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuLyoqXG4gKiBUaGUgZ29hbCBvZiB0aGlzIGNsYXNzIGlzIHRvIGdldCBhbiBvcmlnaW5hbCBhcnJheSwgcHJvdmlkZSBhbGwgdGhlIGZ1bmN0aW9uYWxpdHlcbiAqIG9mIHRoZSBDb2xsZWN0aW9uIGNsYXNzIGJ1dCBieSBrZWVwaW5nIHRoZSBvcmlnaW5hbEFycmF5IGNsZWFuIGFzIGl0IHdhcyBwcm92aWRlZC5cbiAqL1xudmFyIFNhbmRib3hDb2xsZWN0aW9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2FuZGJveENvbGxlY3Rpb24ob3JpZ2luYWxBcnJheSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTYW5kYm94Q29sbGVjdGlvbik7XG5cbiAgICB0aGlzLm9yaWdpbmFsQXJyYXkgPSBvcmlnaW5hbEFycmF5O1xuICAgIHRoaXMuZXh0cmFBcnJheSA9IHt9O1xuICAgIHRoaXMuYWRkZWRLZXlzID0gW107XG4gICAgdGhpcy5yZW1vdmVkS2V5cyA9IFtdO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNhbmRib3hDb2xsZWN0aW9uLCBbe1xuICAgIGtleTogXCJfaGFzT3duUHJvcGVydHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhc093blByb3BlcnR5KGtleSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLm9yaWdpbmFsQXJyYXksIGtleSkgfHwgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuZXh0cmFBcnJheSwga2V5KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0KGtleSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmV4dHJhQXJyYXksIGtleSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXh0cmFBcnJheVtrZXldO1xuICAgICAgfSBlbHNlIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMub3JpZ2luYWxBcnJheSwga2V5KSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5leHRyYUFycmF5W2tleV0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9yaWdpbmFsQXJyYXlba2V5XSk7XG4gICAgICAgIHJldHVybiB0aGlzLmV4dHJhQXJyYXlba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3NldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuZXh0cmFBcnJheVtrZXldID0gdmFsdWU7XG5cbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMub3JpZ2luYWxBcnJheSwga2V5KSkge1xuICAgICAgICB0aGlzLmFkZGVkS2V5cy5wdXNoKGtleSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBpbmRleE9uUmVtb3ZlZEtleXMgPSB0aGlzLnJlbW92ZWRLZXlzLmluZGV4T2Yoa2V5KTtcblxuICAgICAgaWYgKGluZGV4T25SZW1vdmVkS2V5cyA+IC0xKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlZEtleXMuc3BsaWNlKGluZGV4T25SZW1vdmVkS2V5cywgMSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9rZXlzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9rZXlzKCkge1xuICAgICAgdmFyIGFsbEtleXMgPSBPYmplY3Qua2V5cyh0aGlzLm9yaWdpbmFsQXJyYXkpLmNvbmNhdCh0aGlzLmFkZGVkS2V5cyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZW1vdmVkS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaW5kZXhPbkFycmF5ID0gdGhpcy5yZW1vdmVkS2V5cy5pbmRleE9mKHRoaXMucmVtb3ZlZEtleXNbaV0pO1xuICAgICAgICBhbGxLZXlzLnNwbGljZShpbmRleE9uQXJyYXksIDEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWxsS2V5cztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2RlbGV0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKGtleSkge1xuICAgICAgdmFyIGluZGV4T25BZGRlZEtleXMgPSB0aGlzLmFkZGVkS2V5cy5pbmRleE9mKGtleSk7XG5cbiAgICAgIGlmIChpbmRleE9uQWRkZWRLZXlzID4gLTEpIHtcbiAgICAgICAgdGhpcy5hZGRlZEtleXMuc3BsaWNlKGluZGV4T25BZGRlZEtleXMpO1xuICAgICAgICByZXR1cm4gZGVsZXRlIHRoaXMuZXh0cmFBcnJheVtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlZEtleXMucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZXhwb3J0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9leHBvcnQoKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5leHRyYUFycmF5KSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxBcnJheVtrZXldID0gdGhpcy5leHRyYUFycmF5W2tleV07XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZW1vdmVkS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBkZWxldGUgdGhpcy5vcmlnaW5hbEFycmF5W3RoaXMucmVtb3ZlZEtleXNbaV1dO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5vcmlnaW5hbEFycmF5O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTYW5kYm94Q29sbGVjdGlvbjtcbn0oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBTYW5kYm94Q29sbGVjdGlvbjsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/SandboxCollection.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/SandboxIncidentsById.js":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/SandboxIncidentsById.js ***!
  \*********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar SandboxCollection = __webpack_require__(/*! ./SandboxCollection */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/SandboxCollection.js\");\n\nvar SandboxIncidentsById =\n/*#__PURE__*/\nfunction (_SandboxCollection) {\n  _inherits(SandboxIncidentsById, _SandboxCollection);\n\n  function SandboxIncidentsById() {\n    _classCallCheck(this, SandboxIncidentsById);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SandboxIncidentsById).apply(this, arguments));\n  }\n\n  _createClass(SandboxIncidentsById, [{\n    key: \"_get\",\n    value: function _get(key) {\n      if (Object.prototype.hasOwnProperty.call(this.extraArray, key)) {\n        return this.extraArray[key];\n      } else if (!Object.prototype.hasOwnProperty.call(this.originalArray, key)) {\n        return undefined;\n      } else {\n        return this.originalArray[key];\n      }\n    }\n  }]);\n\n  return SandboxIncidentsById;\n}(SandboxCollection);\n\nmodule.exports = SandboxIncidentsById;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DaGFubmVscy9BdHRyaWJ1dGUvaGVscGVycy9TYW5kYm94SW5jaWRlbnRzQnlJZC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L0NoYW5uZWxzL0F0dHJpYnV0ZS9oZWxwZXJzL1NhbmRib3hJbmNpZGVudHNCeUlkLmpzPzQ4YzciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG52YXIgU2FuZGJveENvbGxlY3Rpb24gPSByZXF1aXJlKCcuL1NhbmRib3hDb2xsZWN0aW9uJyk7XG5cbnZhciBTYW5kYm94SW5jaWRlbnRzQnlJZCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1NhbmRib3hDb2xsZWN0aW9uKSB7XG4gIF9pbmhlcml0cyhTYW5kYm94SW5jaWRlbnRzQnlJZCwgX1NhbmRib3hDb2xsZWN0aW9uKTtcblxuICBmdW5jdGlvbiBTYW5kYm94SW5jaWRlbnRzQnlJZCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2FuZGJveEluY2lkZW50c0J5SWQpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihTYW5kYm94SW5jaWRlbnRzQnlJZCkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2FuZGJveEluY2lkZW50c0J5SWQsIFt7XG4gICAga2V5OiBcIl9nZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldChrZXkpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5leHRyYUFycmF5LCBrZXkpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4dHJhQXJyYXlba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLm9yaWdpbmFsQXJyYXksIGtleSkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsQXJyYXlba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2FuZGJveEluY2lkZW50c0J5SWQ7XG59KFNhbmRib3hDb2xsZWN0aW9uKTtcblxubW9kdWxlLmV4cG9ydHMgPSBTYW5kYm94SW5jaWRlbnRzQnlJZDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/SandboxIncidentsById.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/SandboxLanes.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/SandboxLanes.js ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar SandboxCollection = __webpack_require__(/*! ./SandboxCollection */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/SandboxCollection.js\");\n\nvar SandboxLanes =\n/*#__PURE__*/\nfunction (_SandboxCollection) {\n  _inherits(SandboxLanes, _SandboxCollection);\n\n  function SandboxLanes() {\n    _classCallCheck(this, SandboxLanes);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SandboxLanes).apply(this, arguments));\n  }\n\n  _createClass(SandboxLanes, [{\n    key: \"_get\",\n    value: function _get(key) {\n      if (Object.prototype.hasOwnProperty.call(this.extraArray, key)) {\n        return this.extraArray[key];\n      } else if (!Object.prototype.hasOwnProperty.call(this.originalArray, key)) {\n        return undefined;\n      } else {\n        this.extraArray[key] = [];\n\n        for (var i = 0; i < this.originalArray[key].length; i++) {\n          this.extraArray[key].push({\n            id: this.originalArray[key][i].id,\n            // incident: this.originalArray[key][i].incident,\n            millisecond: this.originalArray[key][i].millisecond * 1\n          });\n        }\n\n        return this.extraArray[key];\n      }\n    }\n  }]);\n\n  return SandboxLanes;\n}(SandboxCollection);\n\nmodule.exports = SandboxLanes;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DaGFubmVscy9BdHRyaWJ1dGUvaGVscGVycy9TYW5kYm94TGFuZXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DaGFubmVscy9BdHRyaWJ1dGUvaGVscGVycy9TYW5kYm94TGFuZXMuanM/YjZiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbnZhciBTYW5kYm94Q29sbGVjdGlvbiA9IHJlcXVpcmUoJy4vU2FuZGJveENvbGxlY3Rpb24nKTtcblxudmFyIFNhbmRib3hMYW5lcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1NhbmRib3hDb2xsZWN0aW9uKSB7XG4gIF9pbmhlcml0cyhTYW5kYm94TGFuZXMsIF9TYW5kYm94Q29sbGVjdGlvbik7XG5cbiAgZnVuY3Rpb24gU2FuZGJveExhbmVzKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTYW5kYm94TGFuZXMpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihTYW5kYm94TGFuZXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNhbmRib3hMYW5lcywgW3tcbiAgICBrZXk6IFwiX2dldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0KGtleSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmV4dHJhQXJyYXksIGtleSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXh0cmFBcnJheVtrZXldO1xuICAgICAgfSBlbHNlIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMub3JpZ2luYWxBcnJheSwga2V5KSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5leHRyYUFycmF5W2tleV0gPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3JpZ2luYWxBcnJheVtrZXldLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5leHRyYUFycmF5W2tleV0ucHVzaCh7XG4gICAgICAgICAgICBpZDogdGhpcy5vcmlnaW5hbEFycmF5W2tleV1baV0uaWQsXG4gICAgICAgICAgICAvLyBpbmNpZGVudDogdGhpcy5vcmlnaW5hbEFycmF5W2tleV1baV0uaW5jaWRlbnQsXG4gICAgICAgICAgICBtaWxsaXNlY29uZDogdGhpcy5vcmlnaW5hbEFycmF5W2tleV1baV0ubWlsbGlzZWNvbmQgKiAxXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5leHRyYUFycmF5W2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNhbmRib3hMYW5lcztcbn0oU2FuZGJveENvbGxlY3Rpb24pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNhbmRib3hMYW5lczsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/helpers/SandboxLanes.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Channels/Channel.js":
/*!**************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Channels/Channel.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Helper = __webpack_require__(/*! ../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar Channel =\n/*#__PURE__*/\nfunction () {\n  function Channel(props) {\n    _classCallCheck(this, Channel);\n\n    this.runTimeInfo = props.runTimeInfo;\n    this.context = props.context;\n    this.onInitialise();\n    this.getIncidentById = props.getIncidentById; // this.type = \"plain\";\n  }\n\n  _createClass(Channel, [{\n    key: \"onInitialise\",\n    value: function onInitialise() {}\n  }, {\n    key: \"_resize\",\n    value: function _resize() {\n      helper.log('Please overwite the _resize method of the Channel');\n    }\n    /**\n     * @param {array} incidents - A collection of Incidents in the form:\n     * {\n     *  millisecond\n     *  incident\n     *  id\n     * }\n     * @returns either:\n     *   {\n     *       result:true,\n     *       execute: // an array of functions that when executed it will add the Incidents on the Channels\n     *   }\n     *   or\n     *   {\n     *       result: false,\n     *       errors\n     *   }\n     */\n\n  }, {\n    key: \"addIncidents\",\n    value: function addIncidents(incidents) {\n      // first check the Incidents addition directly using the checkAddition method of the class\n      var result = this.checkAddition(incidents);\n\n      if (result.result === false) {\n        return {\n          result: false,\n          errors: result.errors\n        };\n      } else {\n        return {\n          result: true,\n          execute: result.execute\n        };\n      }\n    }\n    /**\n     * It initially checks if the edit is allowed and if it is it retuns an array of executable functions\n     * that apply the change\n     * @param {array} incidents - the list of the incidents to edit in an array format [object, object, ...]\n     * @param {int} millisecondsDelta - the milliseconds delta to apply to the incidents\n     * @returns {object} -\n     * either:\n     {\n        result: true,\n        execute: // array of functions to be executed in order to apply the edit\n     }\n     or\n     {\n         result: false,\n         errors: // an array including all the errors / conflicts found on edit\n     }\n    */\n\n  }, {\n    key: \"editIncidents\",\n    value: function editIncidents(incidents, millisecondsDelta) {\n      // first check the Incidents addition directly using the checkAddition method of the class\n      var result = this.checkEdit(incidents, millisecondsDelta);\n\n      if (result.result === false) {\n        return {\n          result: false,\n          errors: result.errors\n        };\n      } else {\n        return {\n          result: true,\n          execute: result.execute\n        };\n      }\n    }\n    /**\n     * Method to remove incidents\n     * @param {array} incidents - the ids of the incidents to remove in an array format\n     * @param {object} props\n     * @retuns {object} -\n     * either:\n     {\n        result: true,\n        execute: // array of functions to be executed in order to apply the edit\n     }\n     or\n     {\n         result: false,\n         errors: // an array including all the errors / conflicts found on edit\n     }\n    */\n\n  }, {\n    key: \"removeIncidents\",\n    value: function removeIncidents(incidents) {\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      // first check the Incidents addition directly using the checkAddition method of the class\n      var result = this.checkDelete(incidents, props);\n\n      if (result.result === false) {\n        return {\n          result: false,\n          errors: result.errors\n        };\n      } else {\n        return {\n          result: true,\n          execute: result.execute\n        };\n      }\n    }\n    /**\n     * On this method the user defines the specific rules that apply on the plugin itself and on the Incidents of the plugin itself\n     * The method should either return {result: true} or {result: false, errors:[{error-object}]}, where error-object has the structure:\n     *  {\n            incident: // reference to the Incident object that has bee discarded\n            error: // text\n        }\n    * @param {array} incidents - a colleciton of all incidents to be added on the form:\n    *\n        {\n            id\n            millisecond\n            incident\n        }\n    * @returns {object} -\n    * either:\n        {\n            result:true,\n            execute: // a function that when executed it will add the Incidents on the Channels\n        }\n        or\n        {\n            result: false,\n            errors\n        }\n    */\n\n  }, {\n    key: \"checkAddition\",\n    value: function checkAddition(incidents) {\n      // eslint-disable-line no-unused-vars\n      return {\n        result: true,\n        execute: function execute() {}\n      };\n    }\n  }, {\n    key: \"checkEdit\",\n    value: function checkEdit(incidentsArray, millisecondsDelta) {\n      // eslint-disable-line no-unused-vars\n      return {\n        result: true,\n        execute: function execute() {}\n      };\n    }\n  }, {\n    key: \"checkDelete\",\n    value: function checkDelete(incidentIds) {\n      // eslint-disable-line no-unused-vars\n      return {\n        result: true,\n        execute: function execute() {}\n      };\n    }\n  }, {\n    key: \"checkResizedIncidents\",\n    value: function checkResizedIncidents(incidents) {\n      // eslint-disable-line no-unused-vars\n      return {\n        result: true,\n        execute: function execute() {}\n      };\n    }\n  }, {\n    key: \"moveTo\",\n    value: function moveTo(from, to, contextId) {} // eslint-disable-line no-unused-vars\n\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return \"plain\";\n    }\n  }]);\n\n  return Channel;\n}();\n\nmodule.exports = Channel;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DaGFubmVscy9DaGFubmVsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvQ2hhbm5lbHMvQ2hhbm5lbC5qcz81MmUxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBIZWxwZXIgPSByZXF1aXJlKCcuLi9fY29yZVV0aWxzL0hlbHBlcicpO1xuXG52YXIgaGVscGVyID0gbmV3IEhlbHBlcigpO1xuXG52YXIgQ2hhbm5lbCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENoYW5uZWwocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhbm5lbCk7XG5cbiAgICB0aGlzLnJ1blRpbWVJbmZvID0gcHJvcHMucnVuVGltZUluZm87XG4gICAgdGhpcy5jb250ZXh0ID0gcHJvcHMuY29udGV4dDtcbiAgICB0aGlzLm9uSW5pdGlhbGlzZSgpO1xuICAgIHRoaXMuZ2V0SW5jaWRlbnRCeUlkID0gcHJvcHMuZ2V0SW5jaWRlbnRCeUlkOyAvLyB0aGlzLnR5cGUgPSBcInBsYWluXCI7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2hhbm5lbCwgW3tcbiAgICBrZXk6IFwib25Jbml0aWFsaXNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uSW5pdGlhbGlzZSgpIHt9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3Jlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzaXplKCkge1xuICAgICAgaGVscGVyLmxvZygnUGxlYXNlIG92ZXJ3aXRlIHRoZSBfcmVzaXplIG1ldGhvZCBvZiB0aGUgQ2hhbm5lbCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBpbmNpZGVudHMgLSBBIGNvbGxlY3Rpb24gb2YgSW5jaWRlbnRzIGluIHRoZSBmb3JtOlxuICAgICAqIHtcbiAgICAgKiAgbWlsbGlzZWNvbmRcbiAgICAgKiAgaW5jaWRlbnRcbiAgICAgKiAgaWRcbiAgICAgKiB9XG4gICAgICogQHJldHVybnMgZWl0aGVyOlxuICAgICAqICAge1xuICAgICAqICAgICAgIHJlc3VsdDp0cnVlLFxuICAgICAqICAgICAgIGV4ZWN1dGU6IC8vIGFuIGFycmF5IG9mIGZ1bmN0aW9ucyB0aGF0IHdoZW4gZXhlY3V0ZWQgaXQgd2lsbCBhZGQgdGhlIEluY2lkZW50cyBvbiB0aGUgQ2hhbm5lbHNcbiAgICAgKiAgIH1cbiAgICAgKiAgIG9yXG4gICAgICogICB7XG4gICAgICogICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgKiAgICAgICBlcnJvcnNcbiAgICAgKiAgIH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZEluY2lkZW50c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRJbmNpZGVudHMoaW5jaWRlbnRzKSB7XG4gICAgICAvLyBmaXJzdCBjaGVjayB0aGUgSW5jaWRlbnRzIGFkZGl0aW9uIGRpcmVjdGx5IHVzaW5nIHRoZSBjaGVja0FkZGl0aW9uIG1ldGhvZCBvZiB0aGUgY2xhc3NcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNoZWNrQWRkaXRpb24oaW5jaWRlbnRzKTtcblxuICAgICAgaWYgKHJlc3VsdC5yZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgICAgICBlcnJvcnM6IHJlc3VsdC5lcnJvcnNcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdWx0OiB0cnVlLFxuICAgICAgICAgIGV4ZWN1dGU6IHJlc3VsdC5leGVjdXRlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0IGluaXRpYWxseSBjaGVja3MgaWYgdGhlIGVkaXQgaXMgYWxsb3dlZCBhbmQgaWYgaXQgaXMgaXQgcmV0dW5zIGFuIGFycmF5IG9mIGV4ZWN1dGFibGUgZnVuY3Rpb25zXG4gICAgICogdGhhdCBhcHBseSB0aGUgY2hhbmdlXG4gICAgICogQHBhcmFtIHthcnJheX0gaW5jaWRlbnRzIC0gdGhlIGxpc3Qgb2YgdGhlIGluY2lkZW50cyB0byBlZGl0IGluIGFuIGFycmF5IGZvcm1hdCBbb2JqZWN0LCBvYmplY3QsIC4uLl1cbiAgICAgKiBAcGFyYW0ge2ludH0gbWlsbGlzZWNvbmRzRGVsdGEgLSB0aGUgbWlsbGlzZWNvbmRzIGRlbHRhIHRvIGFwcGx5IHRvIHRoZSBpbmNpZGVudHNcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtXG4gICAgICogZWl0aGVyOlxuICAgICB7XG4gICAgICAgIHJlc3VsdDogdHJ1ZSxcbiAgICAgICAgZXhlY3V0ZTogLy8gYXJyYXkgb2YgZnVuY3Rpb25zIHRvIGJlIGV4ZWN1dGVkIGluIG9yZGVyIHRvIGFwcGx5IHRoZSBlZGl0XG4gICAgIH1cbiAgICAgb3JcbiAgICAge1xuICAgICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgICAgIGVycm9yczogLy8gYW4gYXJyYXkgaW5jbHVkaW5nIGFsbCB0aGUgZXJyb3JzIC8gY29uZmxpY3RzIGZvdW5kIG9uIGVkaXRcbiAgICAgfVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJlZGl0SW5jaWRlbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVkaXRJbmNpZGVudHMoaW5jaWRlbnRzLCBtaWxsaXNlY29uZHNEZWx0YSkge1xuICAgICAgLy8gZmlyc3QgY2hlY2sgdGhlIEluY2lkZW50cyBhZGRpdGlvbiBkaXJlY3RseSB1c2luZyB0aGUgY2hlY2tBZGRpdGlvbiBtZXRob2Qgb2YgdGhlIGNsYXNzXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5jaGVja0VkaXQoaW5jaWRlbnRzLCBtaWxsaXNlY29uZHNEZWx0YSk7XG5cbiAgICAgIGlmIChyZXN1bHQucmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogZmFsc2UsXG4gICAgICAgICAgZXJyb3JzOiByZXN1bHQuZXJyb3JzXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogdHJ1ZSxcbiAgICAgICAgICBleGVjdXRlOiByZXN1bHQuZXhlY3V0ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gcmVtb3ZlIGluY2lkZW50c1xuICAgICAqIEBwYXJhbSB7YXJyYXl9IGluY2lkZW50cyAtIHRoZSBpZHMgb2YgdGhlIGluY2lkZW50cyB0byByZW1vdmUgaW4gYW4gYXJyYXkgZm9ybWF0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb3BzXG4gICAgICogQHJldHVucyB7b2JqZWN0fSAtXG4gICAgICogZWl0aGVyOlxuICAgICB7XG4gICAgICAgIHJlc3VsdDogdHJ1ZSxcbiAgICAgICAgZXhlY3V0ZTogLy8gYXJyYXkgb2YgZnVuY3Rpb25zIHRvIGJlIGV4ZWN1dGVkIGluIG9yZGVyIHRvIGFwcGx5IHRoZSBlZGl0XG4gICAgIH1cbiAgICAgb3JcbiAgICAge1xuICAgICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgICAgIGVycm9yczogLy8gYW4gYXJyYXkgaW5jbHVkaW5nIGFsbCB0aGUgZXJyb3JzIC8gY29uZmxpY3RzIGZvdW5kIG9uIGVkaXRcbiAgICAgfVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVJbmNpZGVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlSW5jaWRlbnRzKGluY2lkZW50cykge1xuICAgICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIC8vIGZpcnN0IGNoZWNrIHRoZSBJbmNpZGVudHMgYWRkaXRpb24gZGlyZWN0bHkgdXNpbmcgdGhlIGNoZWNrQWRkaXRpb24gbWV0aG9kIG9mIHRoZSBjbGFzc1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuY2hlY2tEZWxldGUoaW5jaWRlbnRzLCBwcm9wcyk7XG5cbiAgICAgIGlmIChyZXN1bHQucmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogZmFsc2UsXG4gICAgICAgICAgZXJyb3JzOiByZXN1bHQuZXJyb3JzXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogdHJ1ZSxcbiAgICAgICAgICBleGVjdXRlOiByZXN1bHQuZXhlY3V0ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbiB0aGlzIG1ldGhvZCB0aGUgdXNlciBkZWZpbmVzIHRoZSBzcGVjaWZpYyBydWxlcyB0aGF0IGFwcGx5IG9uIHRoZSBwbHVnaW4gaXRzZWxmIGFuZCBvbiB0aGUgSW5jaWRlbnRzIG9mIHRoZSBwbHVnaW4gaXRzZWxmXG4gICAgICogVGhlIG1ldGhvZCBzaG91bGQgZWl0aGVyIHJldHVybiB7cmVzdWx0OiB0cnVlfSBvciB7cmVzdWx0OiBmYWxzZSwgZXJyb3JzOlt7ZXJyb3Itb2JqZWN0fV19LCB3aGVyZSBlcnJvci1vYmplY3QgaGFzIHRoZSBzdHJ1Y3R1cmU6XG4gICAgICogIHtcbiAgICAgICAgICAgIGluY2lkZW50OiAvLyByZWZlcmVuY2UgdG8gdGhlIEluY2lkZW50IG9iamVjdCB0aGF0IGhhcyBiZWUgZGlzY2FyZGVkXG4gICAgICAgICAgICBlcnJvcjogLy8gdGV4dFxuICAgICAgICB9XG4gICAgKiBAcGFyYW0ge2FycmF5fSBpbmNpZGVudHMgLSBhIGNvbGxlY2l0b24gb2YgYWxsIGluY2lkZW50cyB0byBiZSBhZGRlZCBvbiB0aGUgZm9ybTpcbiAgICAqXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkXG4gICAgICAgICAgICBtaWxsaXNlY29uZFxuICAgICAgICAgICAgaW5jaWRlbnRcbiAgICAgICAgfVxuICAgICogQHJldHVybnMge29iamVjdH0gLVxuICAgICogZWl0aGVyOlxuICAgICAgICB7XG4gICAgICAgICAgICByZXN1bHQ6dHJ1ZSxcbiAgICAgICAgICAgIGV4ZWN1dGU6IC8vIGEgZnVuY3Rpb24gdGhhdCB3aGVuIGV4ZWN1dGVkIGl0IHdpbGwgYWRkIHRoZSBJbmNpZGVudHMgb24gdGhlIENoYW5uZWxzXG4gICAgICAgIH1cbiAgICAgICAgb3JcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yc1xuICAgICAgICB9XG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNoZWNrQWRkaXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tBZGRpdGlvbihpbmNpZGVudHMpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3VsdDogdHJ1ZSxcbiAgICAgICAgZXhlY3V0ZTogZnVuY3Rpb24gZXhlY3V0ZSgpIHt9XG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGVja0VkaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tFZGl0KGluY2lkZW50c0FycmF5LCBtaWxsaXNlY29uZHNEZWx0YSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdWx0OiB0cnVlLFxuICAgICAgICBleGVjdXRlOiBmdW5jdGlvbiBleGVjdXRlKCkge31cbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoZWNrRGVsZXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrRGVsZXRlKGluY2lkZW50SWRzKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN1bHQ6IHRydWUsXG4gICAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uIGV4ZWN1dGUoKSB7fVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tSZXNpemVkSW5jaWRlbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrUmVzaXplZEluY2lkZW50cyhpbmNpZGVudHMpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3VsdDogdHJ1ZSxcbiAgICAgICAgZXhlY3V0ZTogZnVuY3Rpb24gZXhlY3V0ZSgpIHt9XG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtb3ZlVG9cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbW92ZVRvKGZyb20sIHRvLCBjb250ZXh0SWQpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuICB9XSwgW3tcbiAgICBrZXk6IFwidHlwZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFwicGxhaW5cIjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2hhbm5lbDtcbn0oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBDaGFubmVsOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Channels/Channel.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Channels/Clip/ClipsChannel.js":
/*!************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Channels/Clip/ClipsChannel.js ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Helper = __webpack_require__(/*! ../../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar Channel = __webpack_require__(/*! ../Channel */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Channel.js\");\n\nvar _sortBy = __webpack_require__(/*! ../../../lodash-custom-build/modularize/lodash.sortby/index.js */ \"../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.sortby/index.js\");\n\nvar _filter = __webpack_require__(/*! ../../../lodash-custom-build/modularize/lodash.filter/index.js */ \"../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.filter/index.js\");\n\nvar ClipChannel =\n/*#__PURE__*/\nfunction (_Channel) {\n  _inherits(ClipChannel, _Channel);\n\n  function ClipChannel() {\n    _classCallCheck(this, ClipChannel);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ClipChannel).apply(this, arguments));\n  }\n\n  _createClass(ClipChannel, [{\n    key: \"onInitialise\",\n\n    /*\n    this.incidents is a collection of {incident, id, millisecond} objects always kept in order\n        from lower to higher millisecond\n    this.incidetnsById is an index of the incidents kept by id (this.incidents[incident-id] = Incident)\n    */\n    value: function onInitialise() {\n      this.incidents = [];\n      this.incidentsById = {};\n    }\n  }, {\n    key: \"_incidentById\",\n    value: function _incidentById(id) {\n      return this.incidentsById[id];\n    }\n  }, {\n    key: \"_resize\",\n    value: function _resize(durationFraction) {\n      for (var i = 0; i < this.incidents.length; i++) {\n        this.incidents[i].millisecond = this.incidents[i].millisecond * durationFraction;\n      }\n    }\n    /**\n    * @param {array} incidents - a colleciton of all incidents to be added on the form:\n    *\n        {\n            id\n            millisecond\n            incident\n        }\n    * @returns {object} -\n    * either:\n        {\n            result:true,\n            execute: // a function that when executed it will add the Incidents on the Channels\n        }\n        or\n        {\n            result: false,\n            errors\n        }\n    */\n\n  }, {\n    key: \"checkAddition\",\n    value: function checkAddition(incidents) {\n      var errors = [];\n      var candidateIncidentsById = {};\n      var incidentsToConcat = [];\n\n      for (var i = 0; i < incidents.length; i++) {\n        candidateIncidentsById[incidents[i].id] = incidents[i].incident;\n        incidentsToConcat.push({\n          id: incidents[i].id,\n          millisecond: incidents[i].millisecond\n        });\n\n        if (Object.prototype.hasOwnProperty.call(this.incidentsById, incidents[i].id)) {\n          helper.error(\"Incident with the id \".concat(incidents[i].id, \" already exists. Addition is rejected.\"));\n          errors.push({\n            type: 'Already existing id',\n            meta: {\n              id: incidents[i].id\n            }\n          });\n        }\n      }\n\n      if (errors.length > 0) {\n        return {\n          result: false,\n          errors: errors\n        };\n      }\n\n      var that = this;\n\n      var exec = function exec() {\n        that.incidentsById = Object.assign(that.incidentsById, candidateIncidentsById);\n        that.incidents = that.incidents.concat(incidentsToConcat);\n        that.incidents = _sortBy(that.incidents, [function (laneItem) {\n          return laneItem.millisecond;\n        }]);\n\n        for (var _i = 0; _i < incidents.length; _i++) {\n          that._incidentById(incidents[_i].id)._onGetContextOnce(that.context);\n        }\n      };\n\n      return {\n        result: true,\n        execute: exec\n      };\n    }\n    /**\n    @param {array} incidentsArray - A collection of the Incidetns to get edited in the form:\n    {\n        id\n        millisecond\n        incident\n    }\n    @param {int} millisecondsDelta- the delta of the star point of the provided incidents\n    */\n\n  }, {\n    key: \"checkEdit\",\n    value: function checkEdit(incidentsArray, millisecondsDelta) {\n      var that = this;\n\n      var exec = function exec() {\n        for (var i = 0; i < incidentsArray.length; i++) {\n          for (var j = 0; j < that.incidents.length; j++) {\n            if (that.incidents[j].id === incidentsArray[i].id) {\n              that.incidents[j].millisecond += millisecondsDelta;\n              break;\n            }\n          }\n        }\n\n        that.incidents = _sortBy(that.incidents, [function (laneItem) {\n          return laneItem.millisecond;\n        }]);\n      };\n\n      return {\n        result: true,\n        execute: exec\n      };\n    }\n  }, {\n    key: \"checkDelete\",\n    value: function checkDelete(incidentsArray) {\n      var that = this;\n      var incidentIds = [];\n\n      for (var i = 0; i < incidentsArray.length; i++) {\n        incidentIds.push(incidentsArray[i].id);\n      }\n\n      var exec = function exec() {\n        var newIncidents = _filter(that.incidents, function (incident) {\n          return incidentIds.indexOf(incident.id) === -1;\n        });\n\n        that.incidents = newIncidents;\n\n        for (var _i2 = 0; _i2 < incidentIds.length; _i2++) {\n          delete that.incidentsById[incidentIds[_i2]];\n        }\n      };\n\n      return {\n        result: true,\n        execute: exec\n      };\n    }\n    /**\n     * @param {array} incidents - [{id, start, end, startDelta}]\n     */\n\n  }, {\n    key: \"checkResizedIncidents\",\n    value: function checkResizedIncidents(incidents) {\n      var that = this;\n\n      var exec = function exec() {\n        for (var i = 0; i < incidents.length; i++) {\n          for (var j = 0; j < that.incidents.length; j++) {\n            if (that.incidents[j].id === incidents[i].id) {\n              that.incidents[j].millisecond += incidents[i].startDelta;\n              break;\n            }\n          }\n        }\n\n        that.incidents = _sortBy(that.incidents, [function (laneItem) {\n          return laneItem.millisecond;\n        }]);\n      };\n\n      return {\n        result: true,\n        execute: exec\n      };\n    }\n    /**\n     @param {int} from - the millisecond to start from\n     @param {int} to - the millisecond to go to\n     @param {string} contextId - the context id to move\n     @param {boolean} forceReset - set to true when we want full flash\n     */\n\n  }, {\n    key: \"moveTo\",\n    value: function moveTo(from, to, contextId) {\n      var forceReset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      if (forceReset === true) {\n        // incidents: [{id, millisecond}, {}, {}...]\n        for (var i = 0; i < this.incidents.length; i++) {\n          var laneItem = this.incidents[i];\n\n          var incident = this._incidentById(laneItem.id);\n\n          if (to < laneItem.millisecond) {\n            incident.onProgress(0, 0, contextId, true);\n          } else if (to > laneItem.millisecond + incident.duration) {\n            incident.onProgress(1, incident.duration, contextId, true);\n          } else {\n            incident.onProgress((to - laneItem.millisecond) / incident.duration, to - laneItem.millisecond, contextId, true);\n          }\n        }\n      } else {\n        var that = this;\n\n        var participatingItems = _filter(this.incidents, function (laneItem) {\n          return laneItem.millisecond + that._incidentById(laneItem.id).duration >= from && laneItem.millisecond + that._incidentById(laneItem.id).duration <= to || // it ends after from and before to millisecond\n          that._incidentById(laneItem.id).duration + laneItem.millisecond >= to && laneItem.millisecond <= to; // or it ends after the target millisecond but also starts before it\n        });\n\n        for (var _i3 = 0; _i3 < participatingItems.length; _i3++) {\n          var _laneItem = participatingItems[_i3];\n\n          var contextAwareClipIncident = this._incidentById(_laneItem.id); // onProgress(fraction, milliseconds, contextId, forceReset = false) {\n\n\n          var overcameEnd = (to - _laneItem.millisecond) / contextAwareClipIncident.duration >= 1;\n          var fraction = overcameEnd ? 1 : (to - _laneItem.millisecond) / contextAwareClipIncident.duration;\n          var millisecond = overcameEnd ? contextAwareClipIncident.duration : to - _laneItem.millisecond;\n          contextAwareClipIncident.onProgress(fraction, millisecond, contextId, false);\n        }\n      }\n\n      this.runTimeInfo.currentMillisecond = to;\n    }\n  }]);\n\n  return ClipChannel;\n}(Channel);\n\nmodule.exports = ClipChannel;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DaGFubmVscy9DbGlwL0NsaXBzQ2hhbm5lbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L0NoYW5uZWxzL0NsaXAvQ2xpcHNDaGFubmVsLmpzP2IxNjciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG52YXIgSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vX2NvcmVVdGlscy9IZWxwZXInKTtcblxudmFyIGhlbHBlciA9IG5ldyBIZWxwZXIoKTtcblxudmFyIENoYW5uZWwgPSByZXF1aXJlKCcuLi9DaGFubmVsJyk7XG5cbnZhciBfc29ydEJ5ID0gcmVxdWlyZSgnLi4vLi4vLi4vbG9kYXNoLWN1c3RvbS1idWlsZC9tb2R1bGFyaXplL2xvZGFzaC5zb3J0YnkvaW5kZXguanMnKTtcblxudmFyIF9maWx0ZXIgPSByZXF1aXJlKCcuLi8uLi8uLi9sb2Rhc2gtY3VzdG9tLWJ1aWxkL21vZHVsYXJpemUvbG9kYXNoLmZpbHRlci9pbmRleC5qcycpO1xuXG52YXIgQ2xpcENoYW5uZWwgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9DaGFubmVsKSB7XG4gIF9pbmhlcml0cyhDbGlwQ2hhbm5lbCwgX0NoYW5uZWwpO1xuXG4gIGZ1bmN0aW9uIENsaXBDaGFubmVsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwQ2hhbm5lbCk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKENsaXBDaGFubmVsKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDbGlwQ2hhbm5lbCwgW3tcbiAgICBrZXk6IFwib25Jbml0aWFsaXNlXCIsXG5cbiAgICAvKlxuICAgIHRoaXMuaW5jaWRlbnRzIGlzIGEgY29sbGVjdGlvbiBvZiB7aW5jaWRlbnQsIGlkLCBtaWxsaXNlY29uZH0gb2JqZWN0cyBhbHdheXMga2VwdCBpbiBvcmRlclxuICAgICAgICBmcm9tIGxvd2VyIHRvIGhpZ2hlciBtaWxsaXNlY29uZFxuICAgIHRoaXMuaW5jaWRldG5zQnlJZCBpcyBhbiBpbmRleCBvZiB0aGUgaW5jaWRlbnRzIGtlcHQgYnkgaWQgKHRoaXMuaW5jaWRlbnRzW2luY2lkZW50LWlkXSA9IEluY2lkZW50KVxuICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uSW5pdGlhbGlzZSgpIHtcbiAgICAgIHRoaXMuaW5jaWRlbnRzID0gW107XG4gICAgICB0aGlzLmluY2lkZW50c0J5SWQgPSB7fTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2luY2lkZW50QnlJZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5jaWRlbnRCeUlkKGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmNpZGVudHNCeUlkW2lkXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3Jlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzaXplKGR1cmF0aW9uRnJhY3Rpb24pIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pbmNpZGVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5pbmNpZGVudHNbaV0ubWlsbGlzZWNvbmQgPSB0aGlzLmluY2lkZW50c1tpXS5taWxsaXNlY29uZCAqIGR1cmF0aW9uRnJhY3Rpb247XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICogQHBhcmFtIHthcnJheX0gaW5jaWRlbnRzIC0gYSBjb2xsZWNpdG9uIG9mIGFsbCBpbmNpZGVudHMgdG8gYmUgYWRkZWQgb24gdGhlIGZvcm06XG4gICAgKlxuICAgICAgICB7XG4gICAgICAgICAgICBpZFxuICAgICAgICAgICAgbWlsbGlzZWNvbmRcbiAgICAgICAgICAgIGluY2lkZW50XG4gICAgICAgIH1cbiAgICAqIEByZXR1cm5zIHtvYmplY3R9IC1cbiAgICAqIGVpdGhlcjpcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0OnRydWUsXG4gICAgICAgICAgICBleGVjdXRlOiAvLyBhIGZ1bmN0aW9uIHRoYXQgd2hlbiBleGVjdXRlZCBpdCB3aWxsIGFkZCB0aGUgSW5jaWRlbnRzIG9uIHRoZSBDaGFubmVsc1xuICAgICAgICB9XG4gICAgICAgIG9yXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc3VsdDogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcnNcbiAgICAgICAgfVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjaGVja0FkZGl0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrQWRkaXRpb24oaW5jaWRlbnRzKSB7XG4gICAgICB2YXIgZXJyb3JzID0gW107XG4gICAgICB2YXIgY2FuZGlkYXRlSW5jaWRlbnRzQnlJZCA9IHt9O1xuICAgICAgdmFyIGluY2lkZW50c1RvQ29uY2F0ID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5jaWRlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNhbmRpZGF0ZUluY2lkZW50c0J5SWRbaW5jaWRlbnRzW2ldLmlkXSA9IGluY2lkZW50c1tpXS5pbmNpZGVudDtcbiAgICAgICAgaW5jaWRlbnRzVG9Db25jYXQucHVzaCh7XG4gICAgICAgICAgaWQ6IGluY2lkZW50c1tpXS5pZCxcbiAgICAgICAgICBtaWxsaXNlY29uZDogaW5jaWRlbnRzW2ldLm1pbGxpc2Vjb25kXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5pbmNpZGVudHNCeUlkLCBpbmNpZGVudHNbaV0uaWQpKSB7XG4gICAgICAgICAgaGVscGVyLmVycm9yKFwiSW5jaWRlbnQgd2l0aCB0aGUgaWQgXCIuY29uY2F0KGluY2lkZW50c1tpXS5pZCwgXCIgYWxyZWFkeSBleGlzdHMuIEFkZGl0aW9uIGlzIHJlamVjdGVkLlwiKSk7XG4gICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogJ0FscmVhZHkgZXhpc3RpbmcgaWQnLFxuICAgICAgICAgICAgbWV0YToge1xuICAgICAgICAgICAgICBpZDogaW5jaWRlbnRzW2ldLmlkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgICAgICBlcnJvcnM6IGVycm9yc1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgIHZhciBleGVjID0gZnVuY3Rpb24gZXhlYygpIHtcbiAgICAgICAgdGhhdC5pbmNpZGVudHNCeUlkID0gT2JqZWN0LmFzc2lnbih0aGF0LmluY2lkZW50c0J5SWQsIGNhbmRpZGF0ZUluY2lkZW50c0J5SWQpO1xuICAgICAgICB0aGF0LmluY2lkZW50cyA9IHRoYXQuaW5jaWRlbnRzLmNvbmNhdChpbmNpZGVudHNUb0NvbmNhdCk7XG4gICAgICAgIHRoYXQuaW5jaWRlbnRzID0gX3NvcnRCeSh0aGF0LmluY2lkZW50cywgW2Z1bmN0aW9uIChsYW5lSXRlbSkge1xuICAgICAgICAgIHJldHVybiBsYW5lSXRlbS5taWxsaXNlY29uZDtcbiAgICAgICAgfV0pO1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBpbmNpZGVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgdGhhdC5faW5jaWRlbnRCeUlkKGluY2lkZW50c1tfaV0uaWQpLl9vbkdldENvbnRleHRPbmNlKHRoYXQuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3VsdDogdHJ1ZSxcbiAgICAgICAgZXhlY3V0ZTogZXhlY1xuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgQHBhcmFtIHthcnJheX0gaW5jaWRlbnRzQXJyYXkgLSBBIGNvbGxlY3Rpb24gb2YgdGhlIEluY2lkZXRucyB0byBnZXQgZWRpdGVkIGluIHRoZSBmb3JtOlxuICAgIHtcbiAgICAgICAgaWRcbiAgICAgICAgbWlsbGlzZWNvbmRcbiAgICAgICAgaW5jaWRlbnRcbiAgICB9XG4gICAgQHBhcmFtIHtpbnR9IG1pbGxpc2Vjb25kc0RlbHRhLSB0aGUgZGVsdGEgb2YgdGhlIHN0YXIgcG9pbnQgb2YgdGhlIHByb3ZpZGVkIGluY2lkZW50c1xuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjaGVja0VkaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tFZGl0KGluY2lkZW50c0FycmF5LCBtaWxsaXNlY29uZHNEZWx0YSkge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICB2YXIgZXhlYyA9IGZ1bmN0aW9uIGV4ZWMoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5jaWRlbnRzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoYXQuaW5jaWRlbnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAodGhhdC5pbmNpZGVudHNbal0uaWQgPT09IGluY2lkZW50c0FycmF5W2ldLmlkKSB7XG4gICAgICAgICAgICAgIHRoYXQuaW5jaWRlbnRzW2pdLm1pbGxpc2Vjb25kICs9IG1pbGxpc2Vjb25kc0RlbHRhO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGF0LmluY2lkZW50cyA9IF9zb3J0QnkodGhhdC5pbmNpZGVudHMsIFtmdW5jdGlvbiAobGFuZUl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gbGFuZUl0ZW0ubWlsbGlzZWNvbmQ7XG4gICAgICAgIH1dKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3VsdDogdHJ1ZSxcbiAgICAgICAgZXhlY3V0ZTogZXhlY1xuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tEZWxldGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tEZWxldGUoaW5jaWRlbnRzQXJyYXkpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIHZhciBpbmNpZGVudElkcyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluY2lkZW50c0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGluY2lkZW50SWRzLnB1c2goaW5jaWRlbnRzQXJyYXlbaV0uaWQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXhlYyA9IGZ1bmN0aW9uIGV4ZWMoKSB7XG4gICAgICAgIHZhciBuZXdJbmNpZGVudHMgPSBfZmlsdGVyKHRoYXQuaW5jaWRlbnRzLCBmdW5jdGlvbiAoaW5jaWRlbnQpIHtcbiAgICAgICAgICByZXR1cm4gaW5jaWRlbnRJZHMuaW5kZXhPZihpbmNpZGVudC5pZCkgPT09IC0xO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGF0LmluY2lkZW50cyA9IG5ld0luY2lkZW50cztcblxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBpbmNpZGVudElkcy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAgICAgZGVsZXRlIHRoYXQuaW5jaWRlbnRzQnlJZFtpbmNpZGVudElkc1tfaTJdXTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdWx0OiB0cnVlLFxuICAgICAgICBleGVjdXRlOiBleGVjXG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBpbmNpZGVudHMgLSBbe2lkLCBzdGFydCwgZW5kLCBzdGFydERlbHRhfV1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNoZWNrUmVzaXplZEluY2lkZW50c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja1Jlc2l6ZWRJbmNpZGVudHMoaW5jaWRlbnRzKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgIHZhciBleGVjID0gZnVuY3Rpb24gZXhlYygpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmNpZGVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoYXQuaW5jaWRlbnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAodGhhdC5pbmNpZGVudHNbal0uaWQgPT09IGluY2lkZW50c1tpXS5pZCkge1xuICAgICAgICAgICAgICB0aGF0LmluY2lkZW50c1tqXS5taWxsaXNlY29uZCArPSBpbmNpZGVudHNbaV0uc3RhcnREZWx0YTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhhdC5pbmNpZGVudHMgPSBfc29ydEJ5KHRoYXQuaW5jaWRlbnRzLCBbZnVuY3Rpb24gKGxhbmVJdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGxhbmVJdGVtLm1pbGxpc2Vjb25kO1xuICAgICAgICB9XSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN1bHQ6IHRydWUsXG4gICAgICAgIGV4ZWN1dGU6IGV4ZWNcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICBAcGFyYW0ge2ludH0gZnJvbSAtIHRoZSBtaWxsaXNlY29uZCB0byBzdGFydCBmcm9tXG4gICAgIEBwYXJhbSB7aW50fSB0byAtIHRoZSBtaWxsaXNlY29uZCB0byBnbyB0b1xuICAgICBAcGFyYW0ge3N0cmluZ30gY29udGV4dElkIC0gdGhlIGNvbnRleHQgaWQgdG8gbW92ZVxuICAgICBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlUmVzZXQgLSBzZXQgdG8gdHJ1ZSB3aGVuIHdlIHdhbnQgZnVsbCBmbGFzaFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibW92ZVRvXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1vdmVUbyhmcm9tLCB0bywgY29udGV4dElkKSB7XG4gICAgICB2YXIgZm9yY2VSZXNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cbiAgICAgIGlmIChmb3JjZVJlc2V0ID09PSB0cnVlKSB7XG4gICAgICAgIC8vIGluY2lkZW50czogW3tpZCwgbWlsbGlzZWNvbmR9LCB7fSwge30uLi5dXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pbmNpZGVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgbGFuZUl0ZW0gPSB0aGlzLmluY2lkZW50c1tpXTtcblxuICAgICAgICAgIHZhciBpbmNpZGVudCA9IHRoaXMuX2luY2lkZW50QnlJZChsYW5lSXRlbS5pZCk7XG5cbiAgICAgICAgICBpZiAodG8gPCBsYW5lSXRlbS5taWxsaXNlY29uZCkge1xuICAgICAgICAgICAgaW5jaWRlbnQub25Qcm9ncmVzcygwLCAwLCBjb250ZXh0SWQsIHRydWUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodG8gPiBsYW5lSXRlbS5taWxsaXNlY29uZCArIGluY2lkZW50LmR1cmF0aW9uKSB7XG4gICAgICAgICAgICBpbmNpZGVudC5vblByb2dyZXNzKDEsIGluY2lkZW50LmR1cmF0aW9uLCBjb250ZXh0SWQsIHRydWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmNpZGVudC5vblByb2dyZXNzKCh0byAtIGxhbmVJdGVtLm1pbGxpc2Vjb25kKSAvIGluY2lkZW50LmR1cmF0aW9uLCB0byAtIGxhbmVJdGVtLm1pbGxpc2Vjb25kLCBjb250ZXh0SWQsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIHZhciBwYXJ0aWNpcGF0aW5nSXRlbXMgPSBfZmlsdGVyKHRoaXMuaW5jaWRlbnRzLCBmdW5jdGlvbiAobGFuZUl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gbGFuZUl0ZW0ubWlsbGlzZWNvbmQgKyB0aGF0Ll9pbmNpZGVudEJ5SWQobGFuZUl0ZW0uaWQpLmR1cmF0aW9uID49IGZyb20gJiYgbGFuZUl0ZW0ubWlsbGlzZWNvbmQgKyB0aGF0Ll9pbmNpZGVudEJ5SWQobGFuZUl0ZW0uaWQpLmR1cmF0aW9uIDw9IHRvIHx8IC8vIGl0IGVuZHMgYWZ0ZXIgZnJvbSBhbmQgYmVmb3JlIHRvIG1pbGxpc2Vjb25kXG4gICAgICAgICAgdGhhdC5faW5jaWRlbnRCeUlkKGxhbmVJdGVtLmlkKS5kdXJhdGlvbiArIGxhbmVJdGVtLm1pbGxpc2Vjb25kID49IHRvICYmIGxhbmVJdGVtLm1pbGxpc2Vjb25kIDw9IHRvOyAvLyBvciBpdCBlbmRzIGFmdGVyIHRoZSB0YXJnZXQgbWlsbGlzZWNvbmQgYnV0IGFsc28gc3RhcnRzIGJlZm9yZSBpdFxuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBwYXJ0aWNpcGF0aW5nSXRlbXMubGVuZ3RoOyBfaTMrKykge1xuICAgICAgICAgIHZhciBfbGFuZUl0ZW0gPSBwYXJ0aWNpcGF0aW5nSXRlbXNbX2kzXTtcblxuICAgICAgICAgIHZhciBjb250ZXh0QXdhcmVDbGlwSW5jaWRlbnQgPSB0aGlzLl9pbmNpZGVudEJ5SWQoX2xhbmVJdGVtLmlkKTsgLy8gb25Qcm9ncmVzcyhmcmFjdGlvbiwgbWlsbGlzZWNvbmRzLCBjb250ZXh0SWQsIGZvcmNlUmVzZXQgPSBmYWxzZSkge1xuXG5cbiAgICAgICAgICB2YXIgb3ZlcmNhbWVFbmQgPSAodG8gLSBfbGFuZUl0ZW0ubWlsbGlzZWNvbmQpIC8gY29udGV4dEF3YXJlQ2xpcEluY2lkZW50LmR1cmF0aW9uID49IDE7XG4gICAgICAgICAgdmFyIGZyYWN0aW9uID0gb3ZlcmNhbWVFbmQgPyAxIDogKHRvIC0gX2xhbmVJdGVtLm1pbGxpc2Vjb25kKSAvIGNvbnRleHRBd2FyZUNsaXBJbmNpZGVudC5kdXJhdGlvbjtcbiAgICAgICAgICB2YXIgbWlsbGlzZWNvbmQgPSBvdmVyY2FtZUVuZCA/IGNvbnRleHRBd2FyZUNsaXBJbmNpZGVudC5kdXJhdGlvbiA6IHRvIC0gX2xhbmVJdGVtLm1pbGxpc2Vjb25kO1xuICAgICAgICAgIGNvbnRleHRBd2FyZUNsaXBJbmNpZGVudC5vblByb2dyZXNzKGZyYWN0aW9uLCBtaWxsaXNlY29uZCwgY29udGV4dElkLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQgPSB0bztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2xpcENoYW5uZWw7XG59KENoYW5uZWwpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENsaXBDaGFubmVsOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Channels/Clip/ClipsChannel.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Channels/Media/AudioPlaybackChannel.js":
/*!*********************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Channels/Media/AudioPlaybackChannel.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar ClipsChannel = __webpack_require__(/*! ../Clip/ClipsChannel */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Clip/ClipsChannel.js\");\n\nvar _filter = __webpack_require__(/*! ../../../lodash-custom-build/modularize/lodash.filter/index.js */ \"../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.filter/index.js\");\n\nvar dataSeparator = \"|||\";\n\nvar Helper = __webpack_require__(/*! ../../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar AudioPlaybackChannel =\n/*#__PURE__*/\nfunction (_ClipsChannel) {\n  _inherits(AudioPlaybackChannel, _ClipsChannel);\n\n  function AudioPlaybackChannel(props) {\n    var _this;\n\n    _classCallCheck(this, AudioPlaybackChannel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AudioPlaybackChannel).call(this, props)); // keeps the list of the ids of MediaIncidents that are currently been played\n    // in the form `${id}|||$[contextId}`\n\n    _this.playingIncidentsIds = []; // when the Channel's Clip enters the transitional state the Channel ignores\n    // moveTos. When the transition ends though, no matter the currentMillisecond\n    // its Clip was it should recalc which sources to play as if we were going from\n    // 0 to the the target millisecond because of the different way the Playback operates\n    // (it has no onProgress). For this, it's very important to store the information\n    // that it entered the transitional state so on the next playing state moveTo\n    // to force as from ms 0.\n\n    _this.transitioned = false;\n    props.subscribe(helper.getAnId(), _this._stateChange.bind(_assertThisInitialized(_this)), 0, 1, true);\n    return _this;\n  }\n\n  _createClass(AudioPlaybackChannel, [{\n    key: \"_stateChange\",\n    value: function _stateChange(ms, state) {\n      if (state === \"paused\" || state === \"idle\" || state === \"blocked\") {\n        this._stopPlayingIncidents();\n\n        this.transitioned = true;\n      }\n    }\n  }, {\n    key: \"_stopPlayingIncidents\",\n    value: function _stopPlayingIncidents() {\n      for (var i = 0; i < this.playingIncidentsIds.length; i++) {\n        var incidentInfo = this.playingIncidentsIds[i].split(dataSeparator);\n\n        this._incidentById(incidentInfo[0]).stop(incidentInfo[1]);\n      }\n\n      this.playingIncidentsIds = [];\n    }\n    /**\n     @param {int} from - the millisecond to start from\n     @param {int} to - the millisecond to go to\n     @param {string} contextId - the context id to move\n     @param {boolean} forceReset - set to true when we want full flash\n     */\n\n  }, {\n    key: \"moveTo\",\n    value: function moveTo(from, to, contextId) {\n      var forceReset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      if (this.runTimeInfo.state === 'transitional' || forceReset === true) {\n        this.transitioned = true;\n\n        this._stopPlayingIncidents();\n\n        return;\n      } else {\n        if (this.transitioned === true) {\n          from = 0;\n          this.transitioned = false;\n        }\n      }\n\n      var that = this;\n\n      var startingAnims = _filter(this.incidents, function (laneItem) {\n        return laneItem.millisecond >= from && laneItem.millisecond < to && laneItem.millisecond + that._incidentById(laneItem.id).duration > to;\n      });\n\n      var finishingAnims = _filter(this.incidents, function (laneItem) {\n        return that._incidentById(laneItem.id).duration + laneItem.millisecond > from && that._incidentById(laneItem.id).duration + laneItem.millisecond <= to; // or it ends after the target millisecond but also starts before it\n      }); //console.log(this._incidentById);\n      // console.log(from, to);\n      // console.log(startingAnims);\n      // console.log(finishingAnims);\n\n\n      for (var i = 0; i < startingAnims.length; i++) {\n        var laneItem = startingAnims[i];\n\n        var MediaIncident = this._incidentById(laneItem.id); // onProgress(fraction, milliseconds, contextId, forceReset = false) {\n\n\n        var overcameEnd = (to - laneItem.millisecond) / MediaIncident.duration >= 1;\n        var fraction = overcameEnd ? 1 : (to - laneItem.millisecond) / MediaIncident.duration;\n        var millisecond = overcameEnd ? MediaIncident.duration : to - laneItem.millisecond;\n        var startAttempt = MediaIncident.play(fraction, millisecond, contextId);\n\n        if (startAttempt === true) {\n          this.playingIncidentsIds.push(\"\".concat(laneItem.id).concat(dataSeparator).concat(contextId));\n        }\n      }\n\n      for (var _i = 0; _i < finishingAnims.length; _i++) {\n        var _laneItem = finishingAnims[_i];\n\n        var _MediaIncident = this._incidentById(_laneItem.id);\n\n        _MediaIncident.stop(contextId);\n\n        var index = this.playingIncidentsIds.indexOf(\"\".concat(_laneItem.id).concat(dataSeparator).concat(contextId));\n\n        if (index > -1) {\n          this.playingIncidentsIds.splice(index, 1);\n        }\n      }\n\n      this.runTimeInfo.currentMillisecond = to;\n    }\n  }]);\n\n  return AudioPlaybackChannel;\n}(ClipsChannel);\n\nmodule.exports = AudioPlaybackChannel;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DaGFubmVscy9NZWRpYS9BdWRpb1BsYXliYWNrQ2hhbm5lbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L0NoYW5uZWxzL01lZGlhL0F1ZGlvUGxheWJhY2tDaGFubmVsLmpzPzk3ZTUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG52YXIgQ2xpcHNDaGFubmVsID0gcmVxdWlyZSgnLi4vQ2xpcC9DbGlwc0NoYW5uZWwnKTtcblxudmFyIF9maWx0ZXIgPSByZXF1aXJlKCcuLi8uLi8uLi9sb2Rhc2gtY3VzdG9tLWJ1aWxkL21vZHVsYXJpemUvbG9kYXNoLmZpbHRlci9pbmRleC5qcycpO1xuXG52YXIgZGF0YVNlcGFyYXRvciA9IFwifHx8XCI7XG5cbnZhciBIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9fY29yZVV0aWxzL0hlbHBlcicpO1xuXG52YXIgaGVscGVyID0gbmV3IEhlbHBlcigpO1xuXG52YXIgQXVkaW9QbGF5YmFja0NoYW5uZWwgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9DbGlwc0NoYW5uZWwpIHtcbiAgX2luaGVyaXRzKEF1ZGlvUGxheWJhY2tDaGFubmVsLCBfQ2xpcHNDaGFubmVsKTtcblxuICBmdW5jdGlvbiBBdWRpb1BsYXliYWNrQ2hhbm5lbChwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdWRpb1BsYXliYWNrQ2hhbm5lbCk7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihBdWRpb1BsYXliYWNrQ2hhbm5lbCkuY2FsbCh0aGlzLCBwcm9wcykpOyAvLyBrZWVwcyB0aGUgbGlzdCBvZiB0aGUgaWRzIG9mIE1lZGlhSW5jaWRlbnRzIHRoYXQgYXJlIGN1cnJlbnRseSBiZWVuIHBsYXllZFxuICAgIC8vIGluIHRoZSBmb3JtIGAke2lkfXx8fCRbY29udGV4dElkfWBcblxuICAgIF90aGlzLnBsYXlpbmdJbmNpZGVudHNJZHMgPSBbXTsgLy8gd2hlbiB0aGUgQ2hhbm5lbCdzIENsaXAgZW50ZXJzIHRoZSB0cmFuc2l0aW9uYWwgc3RhdGUgdGhlIENoYW5uZWwgaWdub3Jlc1xuICAgIC8vIG1vdmVUb3MuIFdoZW4gdGhlIHRyYW5zaXRpb24gZW5kcyB0aG91Z2gsIG5vIG1hdHRlciB0aGUgY3VycmVudE1pbGxpc2Vjb25kXG4gICAgLy8gaXRzIENsaXAgd2FzIGl0IHNob3VsZCByZWNhbGMgd2hpY2ggc291cmNlcyB0byBwbGF5IGFzIGlmIHdlIHdlcmUgZ29pbmcgZnJvbVxuICAgIC8vIDAgdG8gdGhlIHRoZSB0YXJnZXQgbWlsbGlzZWNvbmQgYmVjYXVzZSBvZiB0aGUgZGlmZmVyZW50IHdheSB0aGUgUGxheWJhY2sgb3BlcmF0ZXNcbiAgICAvLyAoaXQgaGFzIG5vIG9uUHJvZ3Jlc3MpLiBGb3IgdGhpcywgaXQncyB2ZXJ5IGltcG9ydGFudCB0byBzdG9yZSB0aGUgaW5mb3JtYXRpb25cbiAgICAvLyB0aGF0IGl0IGVudGVyZWQgdGhlIHRyYW5zaXRpb25hbCBzdGF0ZSBzbyBvbiB0aGUgbmV4dCBwbGF5aW5nIHN0YXRlIG1vdmVUb1xuICAgIC8vIHRvIGZvcmNlIGFzIGZyb20gbXMgMC5cblxuICAgIF90aGlzLnRyYW5zaXRpb25lZCA9IGZhbHNlO1xuICAgIHByb3BzLnN1YnNjcmliZShoZWxwZXIuZ2V0QW5JZCgpLCBfdGhpcy5fc3RhdGVDaGFuZ2UuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIDAsIDEsIHRydWUpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBdWRpb1BsYXliYWNrQ2hhbm5lbCwgW3tcbiAgICBrZXk6IFwiX3N0YXRlQ2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zdGF0ZUNoYW5nZShtcywgc3RhdGUpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gXCJwYXVzZWRcIiB8fCBzdGF0ZSA9PT0gXCJpZGxlXCIgfHwgc3RhdGUgPT09IFwiYmxvY2tlZFwiKSB7XG4gICAgICAgIHRoaXMuX3N0b3BQbGF5aW5nSW5jaWRlbnRzKCk7XG5cbiAgICAgICAgdGhpcy50cmFuc2l0aW9uZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc3RvcFBsYXlpbmdJbmNpZGVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3N0b3BQbGF5aW5nSW5jaWRlbnRzKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBsYXlpbmdJbmNpZGVudHNJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGluY2lkZW50SW5mbyA9IHRoaXMucGxheWluZ0luY2lkZW50c0lkc1tpXS5zcGxpdChkYXRhU2VwYXJhdG9yKTtcblxuICAgICAgICB0aGlzLl9pbmNpZGVudEJ5SWQoaW5jaWRlbnRJbmZvWzBdKS5zdG9wKGluY2lkZW50SW5mb1sxXSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucGxheWluZ0luY2lkZW50c0lkcyA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgQHBhcmFtIHtpbnR9IGZyb20gLSB0aGUgbWlsbGlzZWNvbmQgdG8gc3RhcnQgZnJvbVxuICAgICBAcGFyYW0ge2ludH0gdG8gLSB0aGUgbWlsbGlzZWNvbmQgdG8gZ28gdG9cbiAgICAgQHBhcmFtIHtzdHJpbmd9IGNvbnRleHRJZCAtIHRoZSBjb250ZXh0IGlkIHRvIG1vdmVcbiAgICAgQHBhcmFtIHtib29sZWFufSBmb3JjZVJlc2V0IC0gc2V0IHRvIHRydWUgd2hlbiB3ZSB3YW50IGZ1bGwgZmxhc2hcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1vdmVUb1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtb3ZlVG8oZnJvbSwgdG8sIGNvbnRleHRJZCkge1xuICAgICAgdmFyIGZvcmNlUmVzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xuXG4gICAgICBpZiAodGhpcy5ydW5UaW1lSW5mby5zdGF0ZSA9PT0gJ3RyYW5zaXRpb25hbCcgfHwgZm9yY2VSZXNldCA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnRyYW5zaXRpb25lZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fc3RvcFBsYXlpbmdJbmNpZGVudHMoKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy50cmFuc2l0aW9uZWQgPT09IHRydWUpIHtcbiAgICAgICAgICBmcm9tID0gMDtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25lZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgdmFyIHN0YXJ0aW5nQW5pbXMgPSBfZmlsdGVyKHRoaXMuaW5jaWRlbnRzLCBmdW5jdGlvbiAobGFuZUl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGxhbmVJdGVtLm1pbGxpc2Vjb25kID49IGZyb20gJiYgbGFuZUl0ZW0ubWlsbGlzZWNvbmQgPCB0byAmJiBsYW5lSXRlbS5taWxsaXNlY29uZCArIHRoYXQuX2luY2lkZW50QnlJZChsYW5lSXRlbS5pZCkuZHVyYXRpb24gPiB0bztcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZmluaXNoaW5nQW5pbXMgPSBfZmlsdGVyKHRoaXMuaW5jaWRlbnRzLCBmdW5jdGlvbiAobGFuZUl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHRoYXQuX2luY2lkZW50QnlJZChsYW5lSXRlbS5pZCkuZHVyYXRpb24gKyBsYW5lSXRlbS5taWxsaXNlY29uZCA+IGZyb20gJiYgdGhhdC5faW5jaWRlbnRCeUlkKGxhbmVJdGVtLmlkKS5kdXJhdGlvbiArIGxhbmVJdGVtLm1pbGxpc2Vjb25kIDw9IHRvOyAvLyBvciBpdCBlbmRzIGFmdGVyIHRoZSB0YXJnZXQgbWlsbGlzZWNvbmQgYnV0IGFsc28gc3RhcnRzIGJlZm9yZSBpdFxuICAgICAgfSk7IC8vY29uc29sZS5sb2codGhpcy5faW5jaWRlbnRCeUlkKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGZyb20sIHRvKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHN0YXJ0aW5nQW5pbXMpO1xuICAgICAgLy8gY29uc29sZS5sb2coZmluaXNoaW5nQW5pbXMpO1xuXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhcnRpbmdBbmltcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbGFuZUl0ZW0gPSBzdGFydGluZ0FuaW1zW2ldO1xuXG4gICAgICAgIHZhciBNZWRpYUluY2lkZW50ID0gdGhpcy5faW5jaWRlbnRCeUlkKGxhbmVJdGVtLmlkKTsgLy8gb25Qcm9ncmVzcyhmcmFjdGlvbiwgbWlsbGlzZWNvbmRzLCBjb250ZXh0SWQsIGZvcmNlUmVzZXQgPSBmYWxzZSkge1xuXG5cbiAgICAgICAgdmFyIG92ZXJjYW1lRW5kID0gKHRvIC0gbGFuZUl0ZW0ubWlsbGlzZWNvbmQpIC8gTWVkaWFJbmNpZGVudC5kdXJhdGlvbiA+PSAxO1xuICAgICAgICB2YXIgZnJhY3Rpb24gPSBvdmVyY2FtZUVuZCA/IDEgOiAodG8gLSBsYW5lSXRlbS5taWxsaXNlY29uZCkgLyBNZWRpYUluY2lkZW50LmR1cmF0aW9uO1xuICAgICAgICB2YXIgbWlsbGlzZWNvbmQgPSBvdmVyY2FtZUVuZCA/IE1lZGlhSW5jaWRlbnQuZHVyYXRpb24gOiB0byAtIGxhbmVJdGVtLm1pbGxpc2Vjb25kO1xuICAgICAgICB2YXIgc3RhcnRBdHRlbXB0ID0gTWVkaWFJbmNpZGVudC5wbGF5KGZyYWN0aW9uLCBtaWxsaXNlY29uZCwgY29udGV4dElkKTtcblxuICAgICAgICBpZiAoc3RhcnRBdHRlbXB0ID09PSB0cnVlKSB7XG4gICAgICAgICAgdGhpcy5wbGF5aW5nSW5jaWRlbnRzSWRzLnB1c2goXCJcIi5jb25jYXQobGFuZUl0ZW0uaWQpLmNvbmNhdChkYXRhU2VwYXJhdG9yKS5jb25jYXQoY29udGV4dElkKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGZpbmlzaGluZ0FuaW1zLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgX2xhbmVJdGVtID0gZmluaXNoaW5nQW5pbXNbX2ldO1xuXG4gICAgICAgIHZhciBfTWVkaWFJbmNpZGVudCA9IHRoaXMuX2luY2lkZW50QnlJZChfbGFuZUl0ZW0uaWQpO1xuXG4gICAgICAgIF9NZWRpYUluY2lkZW50LnN0b3AoY29udGV4dElkKTtcblxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLnBsYXlpbmdJbmNpZGVudHNJZHMuaW5kZXhPZihcIlwiLmNvbmNhdChfbGFuZUl0ZW0uaWQpLmNvbmNhdChkYXRhU2VwYXJhdG9yKS5jb25jYXQoY29udGV4dElkKSk7XG5cbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICB0aGlzLnBsYXlpbmdJbmNpZGVudHNJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnJ1blRpbWVJbmZvLmN1cnJlbnRNaWxsaXNlY29uZCA9IHRvO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBdWRpb1BsYXliYWNrQ2hhbm5lbDtcbn0oQ2xpcHNDaGFubmVsKTtcblxubW9kdWxlLmV4cG9ydHMgPSBBdWRpb1BsYXliYWNrQ2hhbm5lbDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Channels/Media/AudioPlaybackChannel.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Clip/ClipCopy.js":
/*!***********************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Clip/ClipCopy.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar MonoIncident = __webpack_require__(/*! ../BaseClasses/MonoIncident */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/MonoIncident.js\");\n\nvar Helper = __webpack_require__(/*! ../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar ClipCopy =\n/*#__PURE__*/\nfunction (_MonoIncident) {\n  _inherits(ClipCopy, _MonoIncident);\n\n  function ClipCopy(attrs, props, dna) {\n    var _this;\n\n    _classCallCheck(this, ClipCopy);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ClipCopy).call(this, attrs, props, dna));\n    _this.runTimeInfo = {\n      currentMillisecond: 0\n    };\n    return _this;\n  }\n\n  _createClass(ClipCopy, [{\n    key: \"lastWish\",\n    value: function lastWish() {\n      this.ownClip.ownContext.unmount();\n    }\n  }, {\n    key: \"onGetContext\",\n    value: function onGetContext() {\n      // In order to render itself on the given element first it needs the props (including html and css)\n      // from the real Clip it copies\n      var constructionArgs = this.DescriptiveIncident.realClip.exportConstructionArguments(); // it properly sets its own host on the props to use to initialise its own clip\n\n      var host = helper.getElementByMCID(this.context, this.mcid);\n\n      var hostedProps = _objectSpread({}, constructionArgs.props, {\n        selector: undefined,\n        host: host\n      }); // we create a clip because Clips on creation render and thus have their own context\n      // this.dna.descriptiveIncident.constructor.Incident keeps a reference to the non-audio real Clip\n      // Class. No audio is involved on this process\n\n\n      this.ownClip = new this.DescriptiveIncident.constructor.Incident(constructionArgs.attrs, hostedProps); // console.log(this.ownClip);\n      // flushes the realClip with its ownClip's context\n\n      this.DescriptiveIncident.realClip.addContext({\n        clipId: this.id,\n        context: this.ownClip.ownContext\n      }, true); // even though we have created an own clip, we have made no checks at all neither\n      // we added the incidents of the real clip to it. That is becuase playing and moving\n      // this clip copy means directly moving the real clip on the context of the own clip.\n      // So the only thing we need here is the context and nothing more.\n    }\n  }, {\n    key: \"onProgress\",\n    value: function onProgress(fraction, milliseconds) {\n      var forceReset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      for (var key in this.DescriptiveIncident.realClip.instantiatedChannels) {\n        var channel = this.DescriptiveIncident.realClip.instantiatedChannels[key];\n        channel.moveTo(this.runTimeInfo.currentMillisecond, milliseconds, this.id, forceReset);\n      }\n\n      this.runTimeInfo.currentMillisecond = milliseconds;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this.DescriptiveIncident.realClip.duration;\n    },\n    set: function set(milliseconds) {\n      this.DescriptiveIncident.realClip._resize(milliseconds / this.realClip.duration);\n    }\n  }]);\n\n  return ClipCopy;\n}(MonoIncident);\n\nmodule.exports = ClipCopy;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DbGlwL0NsaXBDb3B5LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvQ2xpcC9DbGlwQ29weS5qcz84NTk4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG52YXIgTW9ub0luY2lkZW50ID0gcmVxdWlyZSgnLi4vQmFzZUNsYXNzZXMvTW9ub0luY2lkZW50Jyk7XG5cbnZhciBIZWxwZXIgPSByZXF1aXJlKCcuLi9fY29yZVV0aWxzL0hlbHBlcicpO1xuXG52YXIgaGVscGVyID0gbmV3IEhlbHBlcigpO1xuXG52YXIgQ2xpcENvcHkgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Nb25vSW5jaWRlbnQpIHtcbiAgX2luaGVyaXRzKENsaXBDb3B5LCBfTW9ub0luY2lkZW50KTtcblxuICBmdW5jdGlvbiBDbGlwQ29weShhdHRycywgcHJvcHMsIGRuYSkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwQ29weSk7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihDbGlwQ29weSkuY2FsbCh0aGlzLCBhdHRycywgcHJvcHMsIGRuYSkpO1xuICAgIF90aGlzLnJ1blRpbWVJbmZvID0ge1xuICAgICAgY3VycmVudE1pbGxpc2Vjb25kOiAwXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2xpcENvcHksIFt7XG4gICAga2V5OiBcImxhc3RXaXNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxhc3RXaXNoKCkge1xuICAgICAgdGhpcy5vd25DbGlwLm93bkNvbnRleHQudW5tb3VudCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkdldENvbnRleHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25HZXRDb250ZXh0KCkge1xuICAgICAgLy8gSW4gb3JkZXIgdG8gcmVuZGVyIGl0c2VsZiBvbiB0aGUgZ2l2ZW4gZWxlbWVudCBmaXJzdCBpdCBuZWVkcyB0aGUgcHJvcHMgKGluY2x1ZGluZyBodG1sIGFuZCBjc3MpXG4gICAgICAvLyBmcm9tIHRoZSByZWFsIENsaXAgaXQgY29waWVzXG4gICAgICB2YXIgY29uc3RydWN0aW9uQXJncyA9IHRoaXMuRGVzY3JpcHRpdmVJbmNpZGVudC5yZWFsQ2xpcC5leHBvcnRDb25zdHJ1Y3Rpb25Bcmd1bWVudHMoKTsgLy8gaXQgcHJvcGVybHkgc2V0cyBpdHMgb3duIGhvc3Qgb24gdGhlIHByb3BzIHRvIHVzZSB0byBpbml0aWFsaXNlIGl0cyBvd24gY2xpcFxuXG4gICAgICB2YXIgaG9zdCA9IGhlbHBlci5nZXRFbGVtZW50QnlNQ0lEKHRoaXMuY29udGV4dCwgdGhpcy5tY2lkKTtcblxuICAgICAgdmFyIGhvc3RlZFByb3BzID0gX29iamVjdFNwcmVhZCh7fSwgY29uc3RydWN0aW9uQXJncy5wcm9wcywge1xuICAgICAgICBzZWxlY3RvcjogdW5kZWZpbmVkLFxuICAgICAgICBob3N0OiBob3N0XG4gICAgICB9KTsgLy8gd2UgY3JlYXRlIGEgY2xpcCBiZWNhdXNlIENsaXBzIG9uIGNyZWF0aW9uIHJlbmRlciBhbmQgdGh1cyBoYXZlIHRoZWlyIG93biBjb250ZXh0XG4gICAgICAvLyB0aGlzLmRuYS5kZXNjcmlwdGl2ZUluY2lkZW50LmNvbnN0cnVjdG9yLkluY2lkZW50IGtlZXBzIGEgcmVmZXJlbmNlIHRvIHRoZSBub24tYXVkaW8gcmVhbCBDbGlwXG4gICAgICAvLyBDbGFzcy4gTm8gYXVkaW8gaXMgaW52b2x2ZWQgb24gdGhpcyBwcm9jZXNzXG5cblxuICAgICAgdGhpcy5vd25DbGlwID0gbmV3IHRoaXMuRGVzY3JpcHRpdmVJbmNpZGVudC5jb25zdHJ1Y3Rvci5JbmNpZGVudChjb25zdHJ1Y3Rpb25BcmdzLmF0dHJzLCBob3N0ZWRQcm9wcyk7IC8vIGNvbnNvbGUubG9nKHRoaXMub3duQ2xpcCk7XG4gICAgICAvLyBmbHVzaGVzIHRoZSByZWFsQ2xpcCB3aXRoIGl0cyBvd25DbGlwJ3MgY29udGV4dFxuXG4gICAgICB0aGlzLkRlc2NyaXB0aXZlSW5jaWRlbnQucmVhbENsaXAuYWRkQ29udGV4dCh7XG4gICAgICAgIGNsaXBJZDogdGhpcy5pZCxcbiAgICAgICAgY29udGV4dDogdGhpcy5vd25DbGlwLm93bkNvbnRleHRcbiAgICAgIH0sIHRydWUpOyAvLyBldmVuIHRob3VnaCB3ZSBoYXZlIGNyZWF0ZWQgYW4gb3duIGNsaXAsIHdlIGhhdmUgbWFkZSBubyBjaGVja3MgYXQgYWxsIG5laXRoZXJcbiAgICAgIC8vIHdlIGFkZGVkIHRoZSBpbmNpZGVudHMgb2YgdGhlIHJlYWwgY2xpcCB0byBpdC4gVGhhdCBpcyBiZWN1YXNlIHBsYXlpbmcgYW5kIG1vdmluZ1xuICAgICAgLy8gdGhpcyBjbGlwIGNvcHkgbWVhbnMgZGlyZWN0bHkgbW92aW5nIHRoZSByZWFsIGNsaXAgb24gdGhlIGNvbnRleHQgb2YgdGhlIG93biBjbGlwLlxuICAgICAgLy8gU28gdGhlIG9ubHkgdGhpbmcgd2UgbmVlZCBoZXJlIGlzIHRoZSBjb250ZXh0IGFuZCBub3RoaW5nIG1vcmUuXG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUHJvZ3Jlc3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzcyhmcmFjdGlvbiwgbWlsbGlzZWNvbmRzKSB7XG4gICAgICB2YXIgZm9yY2VSZXNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLkRlc2NyaXB0aXZlSW5jaWRlbnQucmVhbENsaXAuaW5zdGFudGlhdGVkQ2hhbm5lbHMpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSB0aGlzLkRlc2NyaXB0aXZlSW5jaWRlbnQucmVhbENsaXAuaW5zdGFudGlhdGVkQ2hhbm5lbHNba2V5XTtcbiAgICAgICAgY2hhbm5lbC5tb3ZlVG8odGhpcy5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQsIG1pbGxpc2Vjb25kcywgdGhpcy5pZCwgZm9yY2VSZXNldCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kID0gbWlsbGlzZWNvbmRzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkdXJhdGlvblwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuRGVzY3JpcHRpdmVJbmNpZGVudC5yZWFsQ2xpcC5kdXJhdGlvbjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG1pbGxpc2Vjb25kcykge1xuICAgICAgdGhpcy5EZXNjcmlwdGl2ZUluY2lkZW50LnJlYWxDbGlwLl9yZXNpemUobWlsbGlzZWNvbmRzIC8gdGhpcy5yZWFsQ2xpcC5kdXJhdGlvbik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENsaXBDb3B5O1xufShNb25vSW5jaWRlbnQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENsaXBDb3B5OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Clip/ClipCopy.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Clip/DOMClip.js":
/*!**********************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Clip/DOMClip.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar conf = __webpack_require__(/*! ../_configuration/generalConf */ \"../node_modules/@kissmybutton/motorcortex/dist/_configuration/generalConf.js\"); // context handlers\n\n\nvar IframeContextHandler = __webpack_require__(/*! ./helpers/IframeContextHandler */ \"../node_modules/@kissmybutton/motorcortex/dist/Clip/helpers/IframeContextHandler.js\");\n\nvar WebComponentContextHandler = __webpack_require__(/*! ./helpers/WebComponentContextHandler */ \"../node_modules/@kissmybutton/motorcortex/dist/Clip/helpers/WebComponentContextHandler.js\");\n\nvar ExtendableClip = __webpack_require__(/*! ./ExtendableClip */ \"../node_modules/@kissmybutton/motorcortex/dist/Clip/ExtendableClip.js\");\n\nvar Clip =\n/*#__PURE__*/\nfunction (_ExtendableClip) {\n  _inherits(Clip, _ExtendableClip);\n\n  /**\n   * @param {object} props - an object that should contain all of the following keys:\n   * - html (the html template to render)\n   * - css (the css template of the isolated tree)\n   * - initParams (optional / the initialisation parameteres that will be passed both on the css and the html templates in order to render)\n   * - host (an Element object that will host the isolated tree)\n   * - containerParams (an object that holds parameters to affect the container of the isolated tree, e.g. width, height etc)\n   */\n  function Clip() {\n    var _this;\n\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var oldProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    _classCallCheck(this, Clip);\n\n    var attrsToPass, propsToUse;\n    /*\n    backwards compatibility. If the user doesn't pass a second argument on the constructor then this is\n    the new way of initialising a Group (only props).\n    */\n\n    if (oldProps === null) {\n      attrsToPass = {};\n      propsToUse = props;\n    } else {\n      // else, in case the user has passed two arguments then both should be used\n      attrsToPass = props;\n      propsToUse = oldProps;\n    }\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Clip).call(this, attrsToPass, propsToUse)); // that means the Clip is hosted or, in other words a host has been\n    // provided on the props (and not a selector)\n    // this.isHostedClip = true;\n\n    var clipType = conf.selfContainedContextHandler;\n    _this.clipType = clipType;\n    var ContextHanlder = null;\n\n    if (document.head.createShadowRoot || document.head.attachShadow) {\n      ContextHanlder = WebComponentContextHandler;\n    } else {\n      ContextHanlder = IframeContextHandler;\n    } // console.log(`this.id: ${this.id}, Class: ${this.constructor.name}, this.html: ${this.html}`)\n\n\n    var contextHanlder = new ContextHanlder(propsToUse);\n    _this.ownContext = _objectSpread({}, contextHanlder.context, {\n      isHostedClip: _this.isHostedClip\n    });\n    _this.iframe = contextHanlder.iframeElement;\n    _this.forceExportIncidents = true;\n\n    _this.onAfterRender();\n\n    return _this;\n  }\n\n  _createClass(Clip, [{\n    key: \"onAfterRender\",\n    value: function onAfterRender() {// implement here\n    }\n  }, {\n    key: \"exportConstructionArguments\",\n    value: function exportConstructionArguments() {\n      // TODO also export CSS and fonts taking in account the potential existance\n      // of them on the get methods\n      return {\n        attrs: this.attrs,\n        props: _objectSpread({}, this.props, {\n          host: undefined,\n          html: this.ownContext.rootElement.innerHTML\n        })\n      };\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.ownContext.clipContainer;\n    }\n  }]);\n\n  return Clip;\n}(ExtendableClip);\n\nmodule.exports = Clip;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DbGlwL0RPTUNsaXAuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DbGlwL0RPTUNsaXAuanM/ZmY0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxudmFyIGNvbmYgPSByZXF1aXJlKCcuLi9fY29uZmlndXJhdGlvbi9nZW5lcmFsQ29uZicpOyAvLyBjb250ZXh0IGhhbmRsZXJzXG5cblxudmFyIElmcmFtZUNvbnRleHRIYW5kbGVyID0gcmVxdWlyZSgnLi9oZWxwZXJzL0lmcmFtZUNvbnRleHRIYW5kbGVyJyk7XG5cbnZhciBXZWJDb21wb25lbnRDb250ZXh0SGFuZGxlciA9IHJlcXVpcmUoJy4vaGVscGVycy9XZWJDb21wb25lbnRDb250ZXh0SGFuZGxlcicpO1xuXG52YXIgRXh0ZW5kYWJsZUNsaXAgPSByZXF1aXJlKCcuL0V4dGVuZGFibGVDbGlwJyk7XG5cbnZhciBDbGlwID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfRXh0ZW5kYWJsZUNsaXApIHtcbiAgX2luaGVyaXRzKENsaXAsIF9FeHRlbmRhYmxlQ2xpcCk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyAtIGFuIG9iamVjdCB0aGF0IHNob3VsZCBjb250YWluIGFsbCBvZiB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAqIC0gaHRtbCAodGhlIGh0bWwgdGVtcGxhdGUgdG8gcmVuZGVyKVxuICAgKiAtIGNzcyAodGhlIGNzcyB0ZW1wbGF0ZSBvZiB0aGUgaXNvbGF0ZWQgdHJlZSlcbiAgICogLSBpbml0UGFyYW1zIChvcHRpb25hbCAvIHRoZSBpbml0aWFsaXNhdGlvbiBwYXJhbWV0ZXJlcyB0aGF0IHdpbGwgYmUgcGFzc2VkIGJvdGggb24gdGhlIGNzcyBhbmQgdGhlIGh0bWwgdGVtcGxhdGVzIGluIG9yZGVyIHRvIHJlbmRlcilcbiAgICogLSBob3N0IChhbiBFbGVtZW50IG9iamVjdCB0aGF0IHdpbGwgaG9zdCB0aGUgaXNvbGF0ZWQgdHJlZSlcbiAgICogLSBjb250YWluZXJQYXJhbXMgKGFuIG9iamVjdCB0aGF0IGhvbGRzIHBhcmFtZXRlcnMgdG8gYWZmZWN0IHRoZSBjb250YWluZXIgb2YgdGhlIGlzb2xhdGVkIHRyZWUsIGUuZy4gd2lkdGgsIGhlaWdodCBldGMpXG4gICAqL1xuICBmdW5jdGlvbiBDbGlwKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgdmFyIG9sZFByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBudWxsO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaXApO1xuXG4gICAgdmFyIGF0dHJzVG9QYXNzLCBwcm9wc1RvVXNlO1xuICAgIC8qXG4gICAgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuIElmIHRoZSB1c2VyIGRvZXNuJ3QgcGFzcyBhIHNlY29uZCBhcmd1bWVudCBvbiB0aGUgY29uc3RydWN0b3IgdGhlbiB0aGlzIGlzXG4gICAgdGhlIG5ldyB3YXkgb2YgaW5pdGlhbGlzaW5nIGEgR3JvdXAgKG9ubHkgcHJvcHMpLlxuICAgICovXG5cbiAgICBpZiAob2xkUHJvcHMgPT09IG51bGwpIHtcbiAgICAgIGF0dHJzVG9QYXNzID0ge307XG4gICAgICBwcm9wc1RvVXNlID0gcHJvcHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVsc2UsIGluIGNhc2UgdGhlIHVzZXIgaGFzIHBhc3NlZCB0d28gYXJndW1lbnRzIHRoZW4gYm90aCBzaG91bGQgYmUgdXNlZFxuICAgICAgYXR0cnNUb1Bhc3MgPSBwcm9wcztcbiAgICAgIHByb3BzVG9Vc2UgPSBvbGRQcm9wcztcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihDbGlwKS5jYWxsKHRoaXMsIGF0dHJzVG9QYXNzLCBwcm9wc1RvVXNlKSk7IC8vIHRoYXQgbWVhbnMgdGhlIENsaXAgaXMgaG9zdGVkIG9yLCBpbiBvdGhlciB3b3JkcyBhIGhvc3QgaGFzIGJlZW5cbiAgICAvLyBwcm92aWRlZCBvbiB0aGUgcHJvcHMgKGFuZCBub3QgYSBzZWxlY3RvcilcbiAgICAvLyB0aGlzLmlzSG9zdGVkQ2xpcCA9IHRydWU7XG5cbiAgICB2YXIgY2xpcFR5cGUgPSBjb25mLnNlbGZDb250YWluZWRDb250ZXh0SGFuZGxlcjtcbiAgICBfdGhpcy5jbGlwVHlwZSA9IGNsaXBUeXBlO1xuICAgIHZhciBDb250ZXh0SGFubGRlciA9IG51bGw7XG5cbiAgICBpZiAoZG9jdW1lbnQuaGVhZC5jcmVhdGVTaGFkb3dSb290IHx8IGRvY3VtZW50LmhlYWQuYXR0YWNoU2hhZG93KSB7XG4gICAgICBDb250ZXh0SGFubGRlciA9IFdlYkNvbXBvbmVudENvbnRleHRIYW5kbGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICBDb250ZXh0SGFubGRlciA9IElmcmFtZUNvbnRleHRIYW5kbGVyO1xuICAgIH0gLy8gY29uc29sZS5sb2coYHRoaXMuaWQ6ICR7dGhpcy5pZH0sIENsYXNzOiAke3RoaXMuY29uc3RydWN0b3IubmFtZX0sIHRoaXMuaHRtbDogJHt0aGlzLmh0bWx9YClcblxuXG4gICAgdmFyIGNvbnRleHRIYW5sZGVyID0gbmV3IENvbnRleHRIYW5sZGVyKHByb3BzVG9Vc2UpO1xuICAgIF90aGlzLm93bkNvbnRleHQgPSBfb2JqZWN0U3ByZWFkKHt9LCBjb250ZXh0SGFubGRlci5jb250ZXh0LCB7XG4gICAgICBpc0hvc3RlZENsaXA6IF90aGlzLmlzSG9zdGVkQ2xpcFxuICAgIH0pO1xuICAgIF90aGlzLmlmcmFtZSA9IGNvbnRleHRIYW5sZGVyLmlmcmFtZUVsZW1lbnQ7XG4gICAgX3RoaXMuZm9yY2VFeHBvcnRJbmNpZGVudHMgPSB0cnVlO1xuXG4gICAgX3RoaXMub25BZnRlclJlbmRlcigpO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENsaXAsIFt7XG4gICAga2V5OiBcIm9uQWZ0ZXJSZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25BZnRlclJlbmRlcigpIHsvLyBpbXBsZW1lbnQgaGVyZVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJleHBvcnRDb25zdHJ1Y3Rpb25Bcmd1bWVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXhwb3J0Q29uc3RydWN0aW9uQXJndW1lbnRzKCkge1xuICAgICAgLy8gVE9ETyBhbHNvIGV4cG9ydCBDU1MgYW5kIGZvbnRzIHRha2luZyBpbiBhY2NvdW50IHRoZSBwb3RlbnRpYWwgZXhpc3RhbmNlXG4gICAgICAvLyBvZiB0aGVtIG9uIHRoZSBnZXQgbWV0aG9kc1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYXR0cnM6IHRoaXMuYXR0cnMsXG4gICAgICAgIHByb3BzOiBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnByb3BzLCB7XG4gICAgICAgICAgaG9zdDogdW5kZWZpbmVkLFxuICAgICAgICAgIGh0bWw6IHRoaXMub3duQ29udGV4dC5yb290RWxlbWVudC5pbm5lckhUTUxcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJvb3RFbGVtZW50XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5vd25Db250ZXh0LmNsaXBDb250YWluZXI7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENsaXA7XG59KEV4dGVuZGFibGVDbGlwKTtcblxubW9kdWxlLmV4cG9ydHMgPSBDbGlwOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Clip/DOMClip.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Clip/ExtendableClip.js":
/*!*****************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Clip/ExtendableClip.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Helper = __webpack_require__(/*! ../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar Group = __webpack_require__(/*! ../BaseClasses/Group */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/Group.js\");\n\nvar selfContainedIncidentsNpmName = '@kissmybutton/self-contained-incidents'; // TODO remove this\n\nvar _TREECONST = __webpack_require__(/*! ../Tree/_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/_CONST.js\");\n\nvar ExtendableClip =\n/*#__PURE__*/\nfunction (_Group) {\n  _inherits(ExtendableClip, _Group);\n\n  /**\n   * @param {object} props - an object that should contain all of the following keys:\n   * - html (the html template to render)\n   * - css (the css template of the isolated tree)\n   * - initParams (optional / the initialisation parameteres that will be passed both on the css and the html templates in order to render)\n   * - host (an Element object that will host the isolated tree)\n   * - containerParams (an object that holds parameters to affect the container of the isolated tree, e.g. width, height etc)\n   * - type (optional, defaults to \"iframe\") the type of the Clip. It can be one of the:\n   *  - iframe\n   *  - plain\n   */\n  function ExtendableClip(attrs, props) {\n    var _this;\n\n    _classCallCheck(this, ExtendableClip);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ExtendableClip).call(this, attrs, props));\n    _this.attrs = attrs;\n    _this.props = props;\n    _this.isTheClip = true;\n    _this.blockingWaitings = {};\n    /**\n     * The cnannels attribute holds a list of all intantiated Channels of the Incidents belonging to the clip\n     * this attribute is only valuable when the Group becomes the Clip\n     * The format of the attribute is:\n     *  key-value pairs in the manner:\n     * <mc_plugin_npm_name>: Channel object\n     */\n\n    _this.instantiatedChannels = {};\n    _this.isHostedClip = true;\n    /**\n     * The instantiatedCopiesContexts is a key-value pairs colleciton holding the\n     * contexts of all instantiated ClipCopies\n     **/\n\n    _this.instantiatedCopiesContexts = {};\n\n    _this.onClipInitialise();\n\n    _this.runTimeInfo = _this.props.runTimeInfo;\n    _this.durationSubs = []; // the audioClip property defines wether the Clip is Audio or not. Defaults to false\n    // and should be overiten to true on Audio Clip\n\n    _this.audioClip = false;\n    return _this;\n  }\n\n  _createClass(ExtendableClip, [{\n    key: \"onClipInitialise\",\n    value: function onClipInitialise() {} // called when group gets initialised\n\n    /**\n     * This method is been called when a new ClipCopy enters the real tree successfully.\n     * @param {object} contextData - keys: clipId, context\n     **/\n\n  }, {\n    key: \"addContext\",\n    value: function addContext(contextData) {\n      this.instantiatedCopiesContexts[contextData.clipId] = contextData.context;\n      contextData.instantiatedCopiesContexts = this.instantiatedCopiesContexts;\n      var res = this.putMessageOnPipe('addContext', contextData, {}, {\n        selfExecute: false,\n        direction: _TREECONST._DIRECTIONS._DOWN\n      });\n      return res;\n    }\n    /*\n    ExtendableClip (as its name implies) is a Class that should be extended by\n    any specific kind of Clip, such as Fragmented or SCGroup. This method must\n    be overitten by the new Classes. This definition here is just for reference / help\n    purposes\n    */\n\n  }, {\n    key: \"exportConstructionArguments\",\n    value: function exportConstructionArguments() {\n      return {\n        attrs: this.attrs,\n        props: this.props\n      };\n    }\n    /**\n     * completely resizes the Clip without any checks\n     */\n\n  }, {\n    key: \"_resize\",\n    value: function _resize(durationFraction) {\n      for (var key in this.instantiatedChannels) {\n        this.instantiatedChannels[key]._resize(durationFraction);\n      }\n\n      this.setNewDuration(this.duration * durationFraction);\n\n      for (var i = 0; i < this.durationSubs.length; i++) {\n        this.durationSubs[i](this.duration);\n      }\n    }\n    /*********************************************************\n    Editing commands input methods\n    *********************************************************/\n\n    /**\n     * This command comes form the Clip's parent Descriptor class. The payload\n     * is identical to the payload that comes to the Description class:\n     * {\n     *  incident: the Descriptive Incident to be added\n     *  millisecond: the millisecond to add it\n     *  parentGroupId: the id of the Group to which we want to the Incident to\n     * }\n     */\n\n  }, {\n    key: \"addIncident\",\n    value: function addIncident(payload) {\n      var _this2 = this;\n\n      var candidates = this.putMessageOnPipe('addIncident', {\n        incident: payload.incident,\n        millisecond: payload.millisecond,\n        parentGroupId: payload.parentGroupId,\n        contextData: {\n          clipId: this.id,\n          context: this.context\n        },\n        audio: this.audioClip\n      }, payload.parentGroupId, {\n        selfExecute: true,\n        direction: _TREECONST._DIRECTIONS._DOWN\n      }); // concatenate candidates\n      // console.log(candidates);\n\n      var totalIncidentsByPlugin = {};\n\n      for (var i = 0; i < candidates.length; i++) {\n        var incidentsByPlugin = candidates[i].response.getIncidentsByChannel(candidates[i].positionDelta + payload.millisecond);\n\n        for (var pluginName in incidentsByPlugin) {\n          var _totalIncidentsByPlug;\n\n          if (!Object.prototype.hasOwnProperty.call(totalIncidentsByPlugin, pluginName)) {\n            totalIncidentsByPlugin[pluginName] = [];\n          }\n\n          (_totalIncidentsByPlug = totalIncidentsByPlugin[pluginName]).push.apply(_totalIncidentsByPlug, _toConsumableArray(incidentsByPlugin[pluginName]));\n        }\n      } // console.log(totalIncidentsByPlugin);\n\n\n      var res = this.checkAddition(totalIncidentsByPlugin);\n\n      if (res.result === true) {\n        var successCallback = function successCallback() {\n          res.execute(); // up to that point the only context Incident that has been initialised on the\n          // ContextAwareIncidents of the candidates is the original context of the\n          // ExtendableClip.\n\n          for (var _i = 0; _i < candidates.length; _i++) {\n            candidates[_i].responder.addChild(candidates[_i].response, payload.millisecond); // recalculate duration the groups that we added\n            // the incidents to along with their parents\n\n\n            candidates[_i].responder.putMessageOnPipe('recalcDuration', {}, 'Groups', {\n              selfExecute: true,\n              direction: _TREECONST._DIRECTIONS._UP\n            }); // we also need to add every existing (copied) context to the ContextAwareIncidents\n            // created on the candidates process\n\n\n            for (var contextKey in _this2.instantiatedCopiesContexts) {\n              candidates[_i].responder.putMessageOnPipe('addContext', {\n                clipId: contextKey,\n                context: _this2.instantiatedCopiesContexts[contextKey]\n              }, 'ContextAwareIncidents', {\n                selfExecute: false,\n                direction: _TREECONST._DIRECTIONS._DOWN\n              });\n            }\n          }\n        };\n\n        return {\n          result: true,\n          execute: successCallback\n        };\n      }\n\n      return res;\n    } // *******************************************************\n    // INCIDENTS MANAGEMENT METHODS\n    // POLYMORPHISM APPLIED. IF THE GROUP HAS NO PARENT IT ACTS AS A SCENE. IF THE GROUP HAS PARENT IT ACTS AS\n    // A \"TRANSPARENT GROUP\"\n\n    /**\n     * The method returns either:\n        {\n            result:true,\n            execute: // an array of functions that when executed it will add the Incidents on the Channels\n        }\n        or\n        {\n            result: false,\n            errors\n        }\n    */\n\n  }, {\n    key: \"checkAddition\",\n    value: function checkAddition(incidentsById) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"all-or-nothing\";\n      // prepare the return payload\n      var toReturnResult = true;\n      var toReturnErrors = [];\n      var toReturnExecutables = []; // for each key of the incidentsById object perform the check\n\n      for (var key in incidentsById) {\n        // if the clip had no channel instantiated for the specific key (plugin id) yet create it\n        if (!Object.prototype.hasOwnProperty.call(this.instantiatedChannels, key)) {\n          // intstantiate the channel of the plugin by using the reference to the class definition stored on\n          // the very first incident of the array\n          // console.log(incidentsById[key][0].incident.plugin_channel_class);\n          this.instantiatedChannels[key] = new incidentsById[key][0].incident.plugin_channel_class({\n            runTimeInfo: this.runTimeInfo,\n            context: this.context,\n            subscribe: this.props.subscribe // all channels can subscribe to state or current millisecond changes\n\n          });\n        } // perform the check\n\n\n        var pluginResult = this.instantiatedChannels[key].addIncidents(incidentsById[key], type);\n        toReturnResult = toReturnResult && pluginResult.result;\n\n        if (pluginResult.result === false) {\n          toReturnErrors = toReturnErrors.concat(pluginResult.errors);\n        } else {\n          toReturnExecutables.push(pluginResult.execute);\n        }\n      } // enf of iteration on the incidentsById keys\n\n\n      var toReturnExecute = function toReturnExecute() {\n        for (var i = 0; i < toReturnExecutables.length; i++) {\n          toReturnExecutables[i]();\n        }\n      };\n\n      var additionResult = {\n        result: toReturnResult,\n        errors: toReturnErrors,\n        execute: toReturnExecute\n      };\n      return additionResult;\n    }\n    /**\n     * This command comes form the Clip's parent Descriptor class. The payload\n     * is identical to the payload that comes to the Description class:\n     * {\n     *  incident: the Descriptive Incident to be repositioned\n     *  millisecond: the new millisecond to put it\n     *  parentGroupId: the id of the\n     * }\n     */\n\n  }, {\n    key: \"moveIncident\",\n    value: function moveIncident(payload) {\n      var candidates = this.putMessageOnPipe('moveIncident', {\n        incidentId: payload.id,\n        millisecond: payload.millisecond,\n        parentGroupId: payload.parentGroupId,\n        contextData: {\n          clipId: this.id,\n          context: this.context\n        },\n        audio: this.audioClip\n      }, payload.parentGroupId, {\n        selfExecute: true,\n        direction: _TREECONST._DIRECTIONS._DOWN\n      });\n      var totalIncidentsByPlugin = {};\n\n      for (var i = 0; i < candidates.length; i++) {\n        var incidentsByPlugin = candidates[i].response.getIncidentsByChannel(candidates[i].positionDelta + payload.millisecond);\n\n        for (var pluginName in incidentsByPlugin) {\n          var _totalIncidentsByPlug2;\n\n          if (!Object.prototype.hasOwnProperty.call(totalIncidentsByPlugin, pluginName)) {\n            totalIncidentsByPlugin[pluginName] = [];\n          }\n\n          (_totalIncidentsByPlug2 = totalIncidentsByPlugin[pluginName]).push.apply(_totalIncidentsByPlug2, _toConsumableArray(incidentsByPlugin[pluginName]));\n        }\n      }\n\n      var res = this.checkMove(totalIncidentsByPlugin, payload.positionDelta);\n\n      if (res.result === true) {\n        var successCallback = function successCallback() {\n          res.execute();\n\n          for (var _i2 = 0; _i2 < candidates.length; _i2++) {\n            candidates[_i2].responder.editPosition(candidates[_i2].response.id, payload.millisecond); // recalculate duration the groups that we added\n            // the incidents to along with their parents\n\n\n            candidates[_i2].responder.putMessageOnPipe('recalcDuration', {}, 'Groups', {\n              selfExecute: true,\n              direction: _TREECONST._DIRECTIONS._UP\n            });\n          }\n        };\n\n        return {\n          result: true,\n          execute: successCallback\n        };\n      }\n\n      return res;\n    }\n    /**\n     * The checkEdit method serves exactly what its name implies. To check if the edit of an Incident (edit of Incident's position given in milliseconds delta)\n     * is valid and accepted, according to the rules defined on the channels.\n     * The method boobles up until it reaches the Clip.\n     * @param {object} incident - the incident to edit\n     * @param {int} millisecondsDelta - the milliseconds delta of the Incident's start time\n     The method should return either:\n        {\n            result:true,\n            execute: // an array of functions that when executed it will edit the Incidents on the Channels\n        }\n        or\n        {\n            result: false,\n            errors\n        }\n    */\n\n  }, {\n    key: \"checkMove\",\n    value: function checkMove(incidentsById, millisecondsDelta) {\n      // prepare the return payload\n      var toReturnResult = true;\n      var toReturnErrors = [];\n      var toReturnExecutables = []; // for each key of the incidentsById object perform the check\n\n      for (var key in incidentsById) {\n        // perform the check\n        var pluginResult = this.instantiatedChannels[key].editIncidents(incidentsById[key], millisecondsDelta);\n        toReturnResult = toReturnResult && pluginResult.result;\n\n        if (pluginResult.result === false) {\n          toReturnErrors = toReturnErrors.concat(pluginResult.errors);\n        } else {\n          toReturnExecutables.push(pluginResult.execute);\n        }\n      } // enf of iteration on the incidentsById keys\n\n\n      var toReturnExecute = function toReturnExecute() {\n        for (var i = 0; i < toReturnExecutables.length; i++) {\n          toReturnExecutables[i]();\n        }\n      };\n\n      var editResult = {\n        result: toReturnResult,\n        errors: toReturnErrors,\n        execute: toReturnExecute\n      };\n      return editResult;\n    }\n  }, {\n    key: \"removeIncident\",\n    value: function removeIncident(payload) {\n      var candidates = this.putMessageOnPipe('removeIncident', {\n        incidentId: payload.id,\n        parentGroupId: payload.parentGroupId,\n        contextData: {\n          clipId: this.id,\n          context: this.context\n        },\n        audio: this.audioClip\n      }, payload.parentGroupId, {\n        selfExecute: true,\n        direction: _TREECONST._DIRECTIONS._DOWN\n      });\n      var totalIncidentsByPlugin = {};\n\n      for (var i = 0; i < candidates.length; i++) {\n        var incidentsByPlugin = candidates[i].response.getIncidentsByChannel();\n\n        for (var pluginName in incidentsByPlugin) {\n          var _totalIncidentsByPlug3;\n\n          if (!Object.prototype.hasOwnProperty.call(totalIncidentsByPlugin, pluginName)) {\n            totalIncidentsByPlugin[pluginName] = [];\n          }\n\n          (_totalIncidentsByPlug3 = totalIncidentsByPlugin[pluginName]).push.apply(_totalIncidentsByPlug3, _toConsumableArray(incidentsByPlugin[pluginName]));\n        }\n      }\n\n      var res = this.checkDelete(totalIncidentsByPlugin);\n\n      if (res.result === true) {\n        var successCallback = function successCallback() {\n          res.execute();\n\n          for (var _i3 = 0; _i3 < candidates.length; _i3++) {\n            candidates[_i3].responder.removeChild(candidates[_i3].response.id); // recalculate duration the groups that we added\n            // the incidents to along with their parents\n\n\n            candidates[_i3].responder.putMessageOnPipe('recalcDuration', {}, 'Groups', {\n              selfExecute: true,\n              direction: _TREECONST._DIRECTIONS._UP\n            });\n          }\n        };\n\n        return {\n          result: true,\n          execute: successCallback\n        };\n      }\n\n      return res;\n    }\n    /**\n     * The checkDelete method serves exactly what its name implies. To check if the deletion of an Incident\n     * is valid and accepted, according to the rules defined on the channels.\n     * The method boobles up until it reaches the Clip.\n     * @param {object} incident - the incident to edit\n      The result might be either:\n        {\n            result:true,\n            execute: // an array of functions that when executed it will remove the Incident on the Channels\n        }\n        or\n        {\n            result: false,\n            errors\n        }\n    */\n\n  }, {\n    key: \"checkDelete\",\n    value: function checkDelete(incidentsById) {\n      // prepare the return payload\n      var toReturnResult = true;\n      var toReturnErrors = [];\n      var toReturnExecutables = []; // for each key of the incidentsById object perform the check\n\n      for (var key in incidentsById) {\n        // perform the check\n        var pluginResult = this.instantiatedChannels[key].removeIncidents(incidentsById[key]);\n        toReturnResult = toReturnResult && pluginResult.result;\n\n        if (pluginResult.result === false) {\n          toReturnErrors = toReturnErrors.concat(pluginResult.errors);\n        } else {\n          toReturnExecutables.push(pluginResult.execute);\n        }\n      } // enf of iteration on the incidentsById keys\n\n\n      var toReturnExecute = function toReturnExecute() {\n        for (var i = 0; i < toReturnExecutables.length; i++) {\n          toReturnExecutables[i]();\n        }\n      };\n\n      var removeResult = {\n        result: toReturnResult,\n        errors: toReturnErrors,\n        execute: toReturnExecute\n      };\n      return removeResult;\n    }\n    /**\n     * This command comes form the Clip's parent Descriptor class. The payload\n     * is identical to the payload that comes to the Description class:\n     * {\n     *  id: the id of the Incident to resize\n     *  newSize: the milliseconds of the new duration\n     *  fraction: the division of the new duration to the current\n     * }\n     */\n\n  }, {\n    key: \"resizeIncident\",\n    value: function resizeIncident(payload) {\n      var candidates = this.putMessageOnPipe('resize', {\n        incidentId: payload.id,\n        newSize: payload.newSize,\n        fraction: payload.fraction,\n        contextData: {\n          clipId: this.id,\n          context: this.context\n        },\n        audio: this.audioClip\n      }, payload.id, {\n        selfExecute: false,\n        direction: _TREECONST._DIRECTIONS._DOWN\n      });\n      var totalIncidentsByPlugin = {};\n\n      for (var i = 0; i < candidates.length; i++) {\n        var incidentsByPlugin = candidates[i].response.getIncidentsByChannel(candidates[i].positionDelta);\n\n        for (var pluginName in incidentsByPlugin) {\n          var _totalIncidentsByPlug4;\n\n          if (!Object.prototype.hasOwnProperty.call(totalIncidentsByPlugin, pluginName)) {\n            totalIncidentsByPlugin[pluginName] = [];\n          }\n\n          (_totalIncidentsByPlug4 = totalIncidentsByPlugin[pluginName]).push.apply(_totalIncidentsByPlug4, _toConsumableArray(incidentsByPlugin[pluginName]));\n        }\n      }\n\n      var positionDelta = 0;\n\n      if (candidates.length > 0) {\n        positionDelta = candidates[0].positionDelta;\n      }\n\n      var res = this.checkResize(payload.fraction, totalIncidentsByPlugin, positionDelta);\n\n      if (res.result === true) {\n        var successCallback = function successCallback() {\n          res.execute();\n\n          for (var _i4 = 0; _i4 < candidates.length; _i4++) {\n            candidates[_i4].responder.setNewDuration(payload.newSize);\n          }\n        };\n\n        return {\n          result: true,\n          execute: successCallback\n        };\n      }\n\n      return res;\n    }\n    /**\n     * checks if a duration edit is feasible and doesn't cause conflicts\n     * @param {int} duration - the new duration\n     **/\n\n  }, {\n    key: \"checkResize\",\n    value: function checkResize(durationFraction, incidentsById) {\n      var adjustMillisecond = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      // prepare the return payload\n      var toReturnResult = true;\n      var toReturnErrors = [];\n      var toReturnExecutables = []; // for each key of the incidentsById object perform the check\n\n      for (var key in incidentsById) {\n        // perform the check\n        var adjustedIncidents = helper.systoleDiastoleProjections(incidentsById[key], durationFraction, adjustMillisecond);\n        var pluginResult = this.instantiatedChannels[key].checkResizedIncidents(adjustedIncidents);\n        toReturnResult = toReturnResult && pluginResult.result;\n\n        if (pluginResult.result === false) {\n          toReturnErrors = toReturnErrors.concat(pluginResult.errors);\n        } else {\n          toReturnExecutables.push(pluginResult.execute);\n        }\n      } // enf of iteration on the incidentsById keys\n\n\n      var toReturnExecute = function toReturnExecute() {\n        for (var i = 0; i < toReturnExecutables.length; i++) {\n          toReturnExecutables[i]();\n        }\n      };\n\n      var editResult = {\n        result: toReturnResult,\n        errors: toReturnErrors,\n        execute: toReturnExecute\n      };\n      return editResult;\n    }\n  }, {\n    key: \"getIncidentsByChannel\",\n\n    /**\n     * Returns an object with keys the keys of all the plugins Incidents of which appear in the\n     * tree of the Group. All Incidents are projected to the Group's timeline.\n     * The array includes the Group's projection too\n     */\n    value: function getIncidentsByChannel() {\n      var adjustMillisecond = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var incidentsByPlugin = {};\n      incidentsByPlugin[selfContainedIncidentsNpmName] = [{\n        millisecond: adjustMillisecond,\n        incident: this,\n        id: this.id\n      }];\n      return incidentsByPlugin;\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(newVal) {\n      this.volume = parseFloat(newVal); // this.putMessageOnPipe(pipeMessages._GAIN_CHANGE, { gain: newVal }, false, \"down\");\n    }\n    /**\n     * Eventhough Clips have their own context, still they might belong to another Clip's\n     * tree (CASI). In such a case this method gives the oportunity to set things up\n     * and do operations related with their parent's context (such as subscribing to audio effect nodes)\n     **/\n\n  }, {\n    key: \"_onGetContextOnce\",\n    value: function _onGetContextOnce(parentClipContext) {\n      return;\n    } // special recalcDuration handling so any potential clip copies update their trees\n\n  }, {\n    key: \"handleRecalcDuration\",\n    value: function handleRecalcDuration(target, payload) {\n      // eslint-disable-line no-unused-vars\n      if (this._calculateDuration()) {\n        for (var i = 0; i < this.durationSubs.length; i++) {\n          this.durationSubs[i](this.duration);\n        }\n      }\n\n      return true;\n    }\n    /**\n     * Method called on progress of the timed incident.\n     * @param {float} fraction - a number from 0 to 1 representing the fraction of duration covered\n     * @param {int} milliseconds - the number of milliseconds passed from start of the incident\n     * @param {string} contextId - defaults to the id of the realClip itself. Don't forget that a realClip\n     *      might belong to a selector Clip (so it's a Fragmented Clip), with many \"real\" ClipCopies. All ClipCopies hold\n     *      a reference to this Clip via their \"realClip\" property. Whenever any\n     *      of these ClipCopies progresses (via the onProgress method) calls\n     *      the \"onProgress\" of the realClip, passing their id so the ContextAwareIncidents\n     *      that will also progress via the Channels know which specific Incident to progress.\n     *      That's the result of keeping just one real tree, belonging always to the realClip\n     *      (either Fragmented or Hosted) ending to ContextAwareIncident leafs that\n     *      are the ones to hold the ClipCopies instances.\n     * @param {boolean} forceReset - set to true in cases we want full flash of the state\n     */\n\n  }, {\n    key: \"onProgress\",\n    value: function onProgress(fraction, milliseconds, contextId) {\n      var forceReset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      if (!contextId) {\n        contextId = this.id;\n      }\n\n      for (var key in this.instantiatedChannels) {\n        var channel = this.instantiatedChannels[key];\n        channel.moveTo(this.runTimeInfo.currentMillisecond, milliseconds, contextId, forceReset);\n      }\n    }\n  }, {\n    key: \"flash\",\n    value: function flash() {\n      for (var key in this.instantiatedChannels) {\n        var channel = this.instantiatedChannels[key];\n        channel.moveTo(0, this.runTimeInfo.currentMillisecond, this.id, true);\n      }\n    } // duration changes pub/sub\n\n  }, {\n    key: \"subscribeToDurationChange\",\n    value: function subscribeToDurationChange(method) {\n      this.durationSubs.push(method);\n    }\n    /********************************************************/\n\n    /******** BLOCKING WAITINGS SET / REMOVE ***************/\n\n  }, {\n    key: \"handleSetBlockingWaiting\",\n    value: function handleSetBlockingWaiting(target, payload) {\n      console.log('handling set blocking waiting');\n      console.log(payload);\n    }\n  }, {\n    key: \"handleRemoveBlockingWaiting\",\n    value: function handleRemoveBlockingWaiting(target, payload) {\n      console.log('handling remove blocking waiting');\n      console.log(payload);\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.ownContext;\n    }\n  }]);\n\n  return ExtendableClip;\n}(Group);\n\nmodule.exports = ExtendableClip;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DbGlwL0V4dGVuZGFibGVDbGlwLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvQ2xpcC9FeHRlbmRhYmxlQ2xpcC5qcz9jMDRjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxudmFyIEhlbHBlciA9IHJlcXVpcmUoJy4uL19jb3JlVXRpbHMvSGVscGVyJyk7XG5cbnZhciBoZWxwZXIgPSBuZXcgSGVscGVyKCk7XG5cbnZhciBHcm91cCA9IHJlcXVpcmUoJy4uL0Jhc2VDbGFzc2VzL0dyb3VwJyk7XG5cbnZhciBzZWxmQ29udGFpbmVkSW5jaWRlbnRzTnBtTmFtZSA9ICdAa2lzc215YnV0dG9uL3NlbGYtY29udGFpbmVkLWluY2lkZW50cyc7IC8vIFRPRE8gcmVtb3ZlIHRoaXNcblxudmFyIF9UUkVFQ09OU1QgPSByZXF1aXJlKCcuLi9UcmVlL19DT05TVCcpO1xuXG52YXIgRXh0ZW5kYWJsZUNsaXAgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Hcm91cCkge1xuICBfaW5oZXJpdHMoRXh0ZW5kYWJsZUNsaXAsIF9Hcm91cCk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyAtIGFuIG9iamVjdCB0aGF0IHNob3VsZCBjb250YWluIGFsbCBvZiB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAqIC0gaHRtbCAodGhlIGh0bWwgdGVtcGxhdGUgdG8gcmVuZGVyKVxuICAgKiAtIGNzcyAodGhlIGNzcyB0ZW1wbGF0ZSBvZiB0aGUgaXNvbGF0ZWQgdHJlZSlcbiAgICogLSBpbml0UGFyYW1zIChvcHRpb25hbCAvIHRoZSBpbml0aWFsaXNhdGlvbiBwYXJhbWV0ZXJlcyB0aGF0IHdpbGwgYmUgcGFzc2VkIGJvdGggb24gdGhlIGNzcyBhbmQgdGhlIGh0bWwgdGVtcGxhdGVzIGluIG9yZGVyIHRvIHJlbmRlcilcbiAgICogLSBob3N0IChhbiBFbGVtZW50IG9iamVjdCB0aGF0IHdpbGwgaG9zdCB0aGUgaXNvbGF0ZWQgdHJlZSlcbiAgICogLSBjb250YWluZXJQYXJhbXMgKGFuIG9iamVjdCB0aGF0IGhvbGRzIHBhcmFtZXRlcnMgdG8gYWZmZWN0IHRoZSBjb250YWluZXIgb2YgdGhlIGlzb2xhdGVkIHRyZWUsIGUuZy4gd2lkdGgsIGhlaWdodCBldGMpXG4gICAqIC0gdHlwZSAob3B0aW9uYWwsIGRlZmF1bHRzIHRvIFwiaWZyYW1lXCIpIHRoZSB0eXBlIG9mIHRoZSBDbGlwLiBJdCBjYW4gYmUgb25lIG9mIHRoZTpcbiAgICogIC0gaWZyYW1lXG4gICAqICAtIHBsYWluXG4gICAqL1xuICBmdW5jdGlvbiBFeHRlbmRhYmxlQ2xpcChhdHRycywgcHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXh0ZW5kYWJsZUNsaXApO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoRXh0ZW5kYWJsZUNsaXApLmNhbGwodGhpcywgYXR0cnMsIHByb3BzKSk7XG4gICAgX3RoaXMuYXR0cnMgPSBhdHRycztcbiAgICBfdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgIF90aGlzLmlzVGhlQ2xpcCA9IHRydWU7XG4gICAgX3RoaXMuYmxvY2tpbmdXYWl0aW5ncyA9IHt9O1xuICAgIC8qKlxuICAgICAqIFRoZSBjbmFubmVscyBhdHRyaWJ1dGUgaG9sZHMgYSBsaXN0IG9mIGFsbCBpbnRhbnRpYXRlZCBDaGFubmVscyBvZiB0aGUgSW5jaWRlbnRzIGJlbG9uZ2luZyB0byB0aGUgY2xpcFxuICAgICAqIHRoaXMgYXR0cmlidXRlIGlzIG9ubHkgdmFsdWFibGUgd2hlbiB0aGUgR3JvdXAgYmVjb21lcyB0aGUgQ2xpcFxuICAgICAqIFRoZSBmb3JtYXQgb2YgdGhlIGF0dHJpYnV0ZSBpczpcbiAgICAgKiAga2V5LXZhbHVlIHBhaXJzIGluIHRoZSBtYW5uZXI6XG4gICAgICogPG1jX3BsdWdpbl9ucG1fbmFtZT46IENoYW5uZWwgb2JqZWN0XG4gICAgICovXG5cbiAgICBfdGhpcy5pbnN0YW50aWF0ZWRDaGFubmVscyA9IHt9O1xuICAgIF90aGlzLmlzSG9zdGVkQ2xpcCA9IHRydWU7XG4gICAgLyoqXG4gICAgICogVGhlIGluc3RhbnRpYXRlZENvcGllc0NvbnRleHRzIGlzIGEga2V5LXZhbHVlIHBhaXJzIGNvbGxlY2l0b24gaG9sZGluZyB0aGVcbiAgICAgKiBjb250ZXh0cyBvZiBhbGwgaW5zdGFudGlhdGVkIENsaXBDb3BpZXNcbiAgICAgKiovXG5cbiAgICBfdGhpcy5pbnN0YW50aWF0ZWRDb3BpZXNDb250ZXh0cyA9IHt9O1xuXG4gICAgX3RoaXMub25DbGlwSW5pdGlhbGlzZSgpO1xuXG4gICAgX3RoaXMucnVuVGltZUluZm8gPSBfdGhpcy5wcm9wcy5ydW5UaW1lSW5mbztcbiAgICBfdGhpcy5kdXJhdGlvblN1YnMgPSBbXTsgLy8gdGhlIGF1ZGlvQ2xpcCBwcm9wZXJ0eSBkZWZpbmVzIHdldGhlciB0aGUgQ2xpcCBpcyBBdWRpbyBvciBub3QuIERlZmF1bHRzIHRvIGZhbHNlXG4gICAgLy8gYW5kIHNob3VsZCBiZSBvdmVyaXRlbiB0byB0cnVlIG9uIEF1ZGlvIENsaXBcblxuICAgIF90aGlzLmF1ZGlvQ2xpcCA9IGZhbHNlO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhFeHRlbmRhYmxlQ2xpcCwgW3tcbiAgICBrZXk6IFwib25DbGlwSW5pdGlhbGlzZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaXBJbml0aWFsaXNlKCkge30gLy8gY2FsbGVkIHdoZW4gZ3JvdXAgZ2V0cyBpbml0aWFsaXNlZFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgYmVlbiBjYWxsZWQgd2hlbiBhIG5ldyBDbGlwQ29weSBlbnRlcnMgdGhlIHJlYWwgdHJlZSBzdWNjZXNzZnVsbHkuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHREYXRhIC0ga2V5czogY2xpcElkLCBjb250ZXh0XG4gICAgICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkQ29udGV4dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRDb250ZXh0KGNvbnRleHREYXRhKSB7XG4gICAgICB0aGlzLmluc3RhbnRpYXRlZENvcGllc0NvbnRleHRzW2NvbnRleHREYXRhLmNsaXBJZF0gPSBjb250ZXh0RGF0YS5jb250ZXh0O1xuICAgICAgY29udGV4dERhdGEuaW5zdGFudGlhdGVkQ29waWVzQ29udGV4dHMgPSB0aGlzLmluc3RhbnRpYXRlZENvcGllc0NvbnRleHRzO1xuICAgICAgdmFyIHJlcyA9IHRoaXMucHV0TWVzc2FnZU9uUGlwZSgnYWRkQ29udGV4dCcsIGNvbnRleHREYXRhLCB7fSwge1xuICAgICAgICBzZWxmRXhlY3V0ZTogZmFsc2UsXG4gICAgICAgIGRpcmVjdGlvbjogX1RSRUVDT05TVC5fRElSRUNUSU9OUy5fRE9XTlxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICAvKlxuICAgIEV4dGVuZGFibGVDbGlwIChhcyBpdHMgbmFtZSBpbXBsaWVzKSBpcyBhIENsYXNzIHRoYXQgc2hvdWxkIGJlIGV4dGVuZGVkIGJ5XG4gICAgYW55IHNwZWNpZmljIGtpbmQgb2YgQ2xpcCwgc3VjaCBhcyBGcmFnbWVudGVkIG9yIFNDR3JvdXAuIFRoaXMgbWV0aG9kIG11c3RcbiAgICBiZSBvdmVyaXR0ZW4gYnkgdGhlIG5ldyBDbGFzc2VzLiBUaGlzIGRlZmluaXRpb24gaGVyZSBpcyBqdXN0IGZvciByZWZlcmVuY2UgLyBoZWxwXG4gICAgcHVycG9zZXNcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZXhwb3J0Q29uc3RydWN0aW9uQXJndW1lbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV4cG9ydENvbnN0cnVjdGlvbkFyZ3VtZW50cygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGF0dHJzOiB0aGlzLmF0dHJzLFxuICAgICAgICBwcm9wczogdGhpcy5wcm9wc1xuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY29tcGxldGVseSByZXNpemVzIHRoZSBDbGlwIHdpdGhvdXQgYW55IGNoZWNrc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3Jlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzaXplKGR1cmF0aW9uRnJhY3Rpb24pIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmluc3RhbnRpYXRlZENoYW5uZWxzKSB7XG4gICAgICAgIHRoaXMuaW5zdGFudGlhdGVkQ2hhbm5lbHNba2V5XS5fcmVzaXplKGR1cmF0aW9uRnJhY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldE5ld0R1cmF0aW9uKHRoaXMuZHVyYXRpb24gKiBkdXJhdGlvbkZyYWN0aW9uKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmR1cmF0aW9uU3Vicy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmR1cmF0aW9uU3Vic1tpXSh0aGlzLmR1cmF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIEVkaXRpbmcgY29tbWFuZHMgaW5wdXQgbWV0aG9kc1xuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIC8qKlxuICAgICAqIFRoaXMgY29tbWFuZCBjb21lcyBmb3JtIHRoZSBDbGlwJ3MgcGFyZW50IERlc2NyaXB0b3IgY2xhc3MuIFRoZSBwYXlsb2FkXG4gICAgICogaXMgaWRlbnRpY2FsIHRvIHRoZSBwYXlsb2FkIHRoYXQgY29tZXMgdG8gdGhlIERlc2NyaXB0aW9uIGNsYXNzOlxuICAgICAqIHtcbiAgICAgKiAgaW5jaWRlbnQ6IHRoZSBEZXNjcmlwdGl2ZSBJbmNpZGVudCB0byBiZSBhZGRlZFxuICAgICAqICBtaWxsaXNlY29uZDogdGhlIG1pbGxpc2Vjb25kIHRvIGFkZCBpdFxuICAgICAqICBwYXJlbnRHcm91cElkOiB0aGUgaWQgb2YgdGhlIEdyb3VwIHRvIHdoaWNoIHdlIHdhbnQgdG8gdGhlIEluY2lkZW50IHRvXG4gICAgICogfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkSW5jaWRlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkSW5jaWRlbnQocGF5bG9hZCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBjYW5kaWRhdGVzID0gdGhpcy5wdXRNZXNzYWdlT25QaXBlKCdhZGRJbmNpZGVudCcsIHtcbiAgICAgICAgaW5jaWRlbnQ6IHBheWxvYWQuaW5jaWRlbnQsXG4gICAgICAgIG1pbGxpc2Vjb25kOiBwYXlsb2FkLm1pbGxpc2Vjb25kLFxuICAgICAgICBwYXJlbnRHcm91cElkOiBwYXlsb2FkLnBhcmVudEdyb3VwSWQsXG4gICAgICAgIGNvbnRleHREYXRhOiB7XG4gICAgICAgICAgY2xpcElkOiB0aGlzLmlkLFxuICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dFxuICAgICAgICB9LFxuICAgICAgICBhdWRpbzogdGhpcy5hdWRpb0NsaXBcbiAgICAgIH0sIHBheWxvYWQucGFyZW50R3JvdXBJZCwge1xuICAgICAgICBzZWxmRXhlY3V0ZTogdHJ1ZSxcbiAgICAgICAgZGlyZWN0aW9uOiBfVFJFRUNPTlNULl9ESVJFQ1RJT05TLl9ET1dOXG4gICAgICB9KTsgLy8gY29uY2F0ZW5hdGUgY2FuZGlkYXRlc1xuICAgICAgLy8gY29uc29sZS5sb2coY2FuZGlkYXRlcyk7XG5cbiAgICAgIHZhciB0b3RhbEluY2lkZW50c0J5UGx1Z2luID0ge307XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FuZGlkYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaW5jaWRlbnRzQnlQbHVnaW4gPSBjYW5kaWRhdGVzW2ldLnJlc3BvbnNlLmdldEluY2lkZW50c0J5Q2hhbm5lbChjYW5kaWRhdGVzW2ldLnBvc2l0aW9uRGVsdGEgKyBwYXlsb2FkLm1pbGxpc2Vjb25kKTtcblxuICAgICAgICBmb3IgKHZhciBwbHVnaW5OYW1lIGluIGluY2lkZW50c0J5UGx1Z2luKSB7XG4gICAgICAgICAgdmFyIF90b3RhbEluY2lkZW50c0J5UGx1ZztcblxuICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRvdGFsSW5jaWRlbnRzQnlQbHVnaW4sIHBsdWdpbk5hbWUpKSB7XG4gICAgICAgICAgICB0b3RhbEluY2lkZW50c0J5UGx1Z2luW3BsdWdpbk5hbWVdID0gW107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgKF90b3RhbEluY2lkZW50c0J5UGx1ZyA9IHRvdGFsSW5jaWRlbnRzQnlQbHVnaW5bcGx1Z2luTmFtZV0pLnB1c2guYXBwbHkoX3RvdGFsSW5jaWRlbnRzQnlQbHVnLCBfdG9Db25zdW1hYmxlQXJyYXkoaW5jaWRlbnRzQnlQbHVnaW5bcGx1Z2luTmFtZV0pKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBjb25zb2xlLmxvZyh0b3RhbEluY2lkZW50c0J5UGx1Z2luKTtcblxuXG4gICAgICB2YXIgcmVzID0gdGhpcy5jaGVja0FkZGl0aW9uKHRvdGFsSW5jaWRlbnRzQnlQbHVnaW4pO1xuXG4gICAgICBpZiAocmVzLnJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICB2YXIgc3VjY2Vzc0NhbGxiYWNrID0gZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKCkge1xuICAgICAgICAgIHJlcy5leGVjdXRlKCk7IC8vIHVwIHRvIHRoYXQgcG9pbnQgdGhlIG9ubHkgY29udGV4dCBJbmNpZGVudCB0aGF0IGhhcyBiZWVuIGluaXRpYWxpc2VkIG9uIHRoZVxuICAgICAgICAgIC8vIENvbnRleHRBd2FyZUluY2lkZW50cyBvZiB0aGUgY2FuZGlkYXRlcyBpcyB0aGUgb3JpZ2luYWwgY29udGV4dCBvZiB0aGVcbiAgICAgICAgICAvLyBFeHRlbmRhYmxlQ2xpcC5cblxuICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBjYW5kaWRhdGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgY2FuZGlkYXRlc1tfaV0ucmVzcG9uZGVyLmFkZENoaWxkKGNhbmRpZGF0ZXNbX2ldLnJlc3BvbnNlLCBwYXlsb2FkLm1pbGxpc2Vjb25kKTsgLy8gcmVjYWxjdWxhdGUgZHVyYXRpb24gdGhlIGdyb3VwcyB0aGF0IHdlIGFkZGVkXG4gICAgICAgICAgICAvLyB0aGUgaW5jaWRlbnRzIHRvIGFsb25nIHdpdGggdGhlaXIgcGFyZW50c1xuXG5cbiAgICAgICAgICAgIGNhbmRpZGF0ZXNbX2ldLnJlc3BvbmRlci5wdXRNZXNzYWdlT25QaXBlKCdyZWNhbGNEdXJhdGlvbicsIHt9LCAnR3JvdXBzJywge1xuICAgICAgICAgICAgICBzZWxmRXhlY3V0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZGlyZWN0aW9uOiBfVFJFRUNPTlNULl9ESVJFQ1RJT05TLl9VUFxuICAgICAgICAgICAgfSk7IC8vIHdlIGFsc28gbmVlZCB0byBhZGQgZXZlcnkgZXhpc3RpbmcgKGNvcGllZCkgY29udGV4dCB0byB0aGUgQ29udGV4dEF3YXJlSW5jaWRlbnRzXG4gICAgICAgICAgICAvLyBjcmVhdGVkIG9uIHRoZSBjYW5kaWRhdGVzIHByb2Nlc3NcblxuXG4gICAgICAgICAgICBmb3IgKHZhciBjb250ZXh0S2V5IGluIF90aGlzMi5pbnN0YW50aWF0ZWRDb3BpZXNDb250ZXh0cykge1xuICAgICAgICAgICAgICBjYW5kaWRhdGVzW19pXS5yZXNwb25kZXIucHV0TWVzc2FnZU9uUGlwZSgnYWRkQ29udGV4dCcsIHtcbiAgICAgICAgICAgICAgICBjbGlwSWQ6IGNvbnRleHRLZXksXG4gICAgICAgICAgICAgICAgY29udGV4dDogX3RoaXMyLmluc3RhbnRpYXRlZENvcGllc0NvbnRleHRzW2NvbnRleHRLZXldXG4gICAgICAgICAgICAgIH0sICdDb250ZXh0QXdhcmVJbmNpZGVudHMnLCB7XG4gICAgICAgICAgICAgICAgc2VsZkV4ZWN1dGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogX1RSRUVDT05TVC5fRElSRUNUSU9OUy5fRE9XTlxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN1bHQ6IHRydWUsXG4gICAgICAgICAgZXhlY3V0ZTogc3VjY2Vzc0NhbGxiYWNrXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXM7XG4gICAgfSAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgLy8gSU5DSURFTlRTIE1BTkFHRU1FTlQgTUVUSE9EU1xuICAgIC8vIFBPTFlNT1JQSElTTSBBUFBMSUVELiBJRiBUSEUgR1JPVVAgSEFTIE5PIFBBUkVOVCBJVCBBQ1RTIEFTIEEgU0NFTkUuIElGIFRIRSBHUk9VUCBIQVMgUEFSRU5UIElUIEFDVFMgQVNcbiAgICAvLyBBIFwiVFJBTlNQQVJFTlQgR1JPVVBcIlxuXG4gICAgLyoqXG4gICAgICogVGhlIG1ldGhvZCByZXR1cm5zIGVpdGhlcjpcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0OnRydWUsXG4gICAgICAgICAgICBleGVjdXRlOiAvLyBhbiBhcnJheSBvZiBmdW5jdGlvbnMgdGhhdCB3aGVuIGV4ZWN1dGVkIGl0IHdpbGwgYWRkIHRoZSBJbmNpZGVudHMgb24gdGhlIENoYW5uZWxzXG4gICAgICAgIH1cbiAgICAgICAgb3JcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yc1xuICAgICAgICB9XG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNoZWNrQWRkaXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tBZGRpdGlvbihpbmNpZGVudHNCeUlkKSB7XG4gICAgICB2YXIgdHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogXCJhbGwtb3Itbm90aGluZ1wiO1xuICAgICAgLy8gcHJlcGFyZSB0aGUgcmV0dXJuIHBheWxvYWRcbiAgICAgIHZhciB0b1JldHVyblJlc3VsdCA9IHRydWU7XG4gICAgICB2YXIgdG9SZXR1cm5FcnJvcnMgPSBbXTtcbiAgICAgIHZhciB0b1JldHVybkV4ZWN1dGFibGVzID0gW107IC8vIGZvciBlYWNoIGtleSBvZiB0aGUgaW5jaWRlbnRzQnlJZCBvYmplY3QgcGVyZm9ybSB0aGUgY2hlY2tcblxuICAgICAgZm9yICh2YXIga2V5IGluIGluY2lkZW50c0J5SWQpIHtcbiAgICAgICAgLy8gaWYgdGhlIGNsaXAgaGFkIG5vIGNoYW5uZWwgaW5zdGFudGlhdGVkIGZvciB0aGUgc3BlY2lmaWMga2V5IChwbHVnaW4gaWQpIHlldCBjcmVhdGUgaXRcbiAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5pbnN0YW50aWF0ZWRDaGFubmVscywga2V5KSkge1xuICAgICAgICAgIC8vIGludHN0YW50aWF0ZSB0aGUgY2hhbm5lbCBvZiB0aGUgcGx1Z2luIGJ5IHVzaW5nIHRoZSByZWZlcmVuY2UgdG8gdGhlIGNsYXNzIGRlZmluaXRpb24gc3RvcmVkIG9uXG4gICAgICAgICAgLy8gdGhlIHZlcnkgZmlyc3QgaW5jaWRlbnQgb2YgdGhlIGFycmF5XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coaW5jaWRlbnRzQnlJZFtrZXldWzBdLmluY2lkZW50LnBsdWdpbl9jaGFubmVsX2NsYXNzKTtcbiAgICAgICAgICB0aGlzLmluc3RhbnRpYXRlZENoYW5uZWxzW2tleV0gPSBuZXcgaW5jaWRlbnRzQnlJZFtrZXldWzBdLmluY2lkZW50LnBsdWdpbl9jaGFubmVsX2NsYXNzKHtcbiAgICAgICAgICAgIHJ1blRpbWVJbmZvOiB0aGlzLnJ1blRpbWVJbmZvLFxuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgc3Vic2NyaWJlOiB0aGlzLnByb3BzLnN1YnNjcmliZSAvLyBhbGwgY2hhbm5lbHMgY2FuIHN1YnNjcmliZSB0byBzdGF0ZSBvciBjdXJyZW50IG1pbGxpc2Vjb25kIGNoYW5nZXNcblxuICAgICAgICAgIH0pO1xuICAgICAgICB9IC8vIHBlcmZvcm0gdGhlIGNoZWNrXG5cblxuICAgICAgICB2YXIgcGx1Z2luUmVzdWx0ID0gdGhpcy5pbnN0YW50aWF0ZWRDaGFubmVsc1trZXldLmFkZEluY2lkZW50cyhpbmNpZGVudHNCeUlkW2tleV0sIHR5cGUpO1xuICAgICAgICB0b1JldHVyblJlc3VsdCA9IHRvUmV0dXJuUmVzdWx0ICYmIHBsdWdpblJlc3VsdC5yZXN1bHQ7XG5cbiAgICAgICAgaWYgKHBsdWdpblJlc3VsdC5yZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdG9SZXR1cm5FcnJvcnMgPSB0b1JldHVybkVycm9ycy5jb25jYXQocGx1Z2luUmVzdWx0LmVycm9ycyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9SZXR1cm5FeGVjdXRhYmxlcy5wdXNoKHBsdWdpblJlc3VsdC5leGVjdXRlKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBlbmYgb2YgaXRlcmF0aW9uIG9uIHRoZSBpbmNpZGVudHNCeUlkIGtleXNcblxuXG4gICAgICB2YXIgdG9SZXR1cm5FeGVjdXRlID0gZnVuY3Rpb24gdG9SZXR1cm5FeGVjdXRlKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvUmV0dXJuRXhlY3V0YWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0b1JldHVybkV4ZWN1dGFibGVzW2ldKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBhZGRpdGlvblJlc3VsdCA9IHtcbiAgICAgICAgcmVzdWx0OiB0b1JldHVyblJlc3VsdCxcbiAgICAgICAgZXJyb3JzOiB0b1JldHVybkVycm9ycyxcbiAgICAgICAgZXhlY3V0ZTogdG9SZXR1cm5FeGVjdXRlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGFkZGl0aW9uUmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGNvbW1hbmQgY29tZXMgZm9ybSB0aGUgQ2xpcCdzIHBhcmVudCBEZXNjcmlwdG9yIGNsYXNzLiBUaGUgcGF5bG9hZFxuICAgICAqIGlzIGlkZW50aWNhbCB0byB0aGUgcGF5bG9hZCB0aGF0IGNvbWVzIHRvIHRoZSBEZXNjcmlwdGlvbiBjbGFzczpcbiAgICAgKiB7XG4gICAgICogIGluY2lkZW50OiB0aGUgRGVzY3JpcHRpdmUgSW5jaWRlbnQgdG8gYmUgcmVwb3NpdGlvbmVkXG4gICAgICogIG1pbGxpc2Vjb25kOiB0aGUgbmV3IG1pbGxpc2Vjb25kIHRvIHB1dCBpdFxuICAgICAqICBwYXJlbnRHcm91cElkOiB0aGUgaWQgb2YgdGhlXG4gICAgICogfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibW92ZUluY2lkZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1vdmVJbmNpZGVudChwYXlsb2FkKSB7XG4gICAgICB2YXIgY2FuZGlkYXRlcyA9IHRoaXMucHV0TWVzc2FnZU9uUGlwZSgnbW92ZUluY2lkZW50Jywge1xuICAgICAgICBpbmNpZGVudElkOiBwYXlsb2FkLmlkLFxuICAgICAgICBtaWxsaXNlY29uZDogcGF5bG9hZC5taWxsaXNlY29uZCxcbiAgICAgICAgcGFyZW50R3JvdXBJZDogcGF5bG9hZC5wYXJlbnRHcm91cElkLFxuICAgICAgICBjb250ZXh0RGF0YToge1xuICAgICAgICAgIGNsaXBJZDogdGhpcy5pZCxcbiAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHRcbiAgICAgICAgfSxcbiAgICAgICAgYXVkaW86IHRoaXMuYXVkaW9DbGlwXG4gICAgICB9LCBwYXlsb2FkLnBhcmVudEdyb3VwSWQsIHtcbiAgICAgICAgc2VsZkV4ZWN1dGU6IHRydWUsXG4gICAgICAgIGRpcmVjdGlvbjogX1RSRUVDT05TVC5fRElSRUNUSU9OUy5fRE9XTlxuICAgICAgfSk7XG4gICAgICB2YXIgdG90YWxJbmNpZGVudHNCeVBsdWdpbiA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbmRpZGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGluY2lkZW50c0J5UGx1Z2luID0gY2FuZGlkYXRlc1tpXS5yZXNwb25zZS5nZXRJbmNpZGVudHNCeUNoYW5uZWwoY2FuZGlkYXRlc1tpXS5wb3NpdGlvbkRlbHRhICsgcGF5bG9hZC5taWxsaXNlY29uZCk7XG5cbiAgICAgICAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBpbmNpZGVudHNCeVBsdWdpbikge1xuICAgICAgICAgIHZhciBfdG90YWxJbmNpZGVudHNCeVBsdWcyO1xuXG4gICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodG90YWxJbmNpZGVudHNCeVBsdWdpbiwgcGx1Z2luTmFtZSkpIHtcbiAgICAgICAgICAgIHRvdGFsSW5jaWRlbnRzQnlQbHVnaW5bcGx1Z2luTmFtZV0gPSBbXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAoX3RvdGFsSW5jaWRlbnRzQnlQbHVnMiA9IHRvdGFsSW5jaWRlbnRzQnlQbHVnaW5bcGx1Z2luTmFtZV0pLnB1c2guYXBwbHkoX3RvdGFsSW5jaWRlbnRzQnlQbHVnMiwgX3RvQ29uc3VtYWJsZUFycmF5KGluY2lkZW50c0J5UGx1Z2luW3BsdWdpbk5hbWVdKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHJlcyA9IHRoaXMuY2hlY2tNb3ZlKHRvdGFsSW5jaWRlbnRzQnlQbHVnaW4sIHBheWxvYWQucG9zaXRpb25EZWx0YSk7XG5cbiAgICAgIGlmIChyZXMucmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIHZhciBzdWNjZXNzQ2FsbGJhY2sgPSBmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2soKSB7XG4gICAgICAgICAgcmVzLmV4ZWN1dGUoKTtcblxuICAgICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGNhbmRpZGF0ZXMubGVuZ3RoOyBfaTIrKykge1xuICAgICAgICAgICAgY2FuZGlkYXRlc1tfaTJdLnJlc3BvbmRlci5lZGl0UG9zaXRpb24oY2FuZGlkYXRlc1tfaTJdLnJlc3BvbnNlLmlkLCBwYXlsb2FkLm1pbGxpc2Vjb25kKTsgLy8gcmVjYWxjdWxhdGUgZHVyYXRpb24gdGhlIGdyb3VwcyB0aGF0IHdlIGFkZGVkXG4gICAgICAgICAgICAvLyB0aGUgaW5jaWRlbnRzIHRvIGFsb25nIHdpdGggdGhlaXIgcGFyZW50c1xuXG5cbiAgICAgICAgICAgIGNhbmRpZGF0ZXNbX2kyXS5yZXNwb25kZXIucHV0TWVzc2FnZU9uUGlwZSgncmVjYWxjRHVyYXRpb24nLCB7fSwgJ0dyb3VwcycsIHtcbiAgICAgICAgICAgICAgc2VsZkV4ZWN1dGU6IHRydWUsXG4gICAgICAgICAgICAgIGRpcmVjdGlvbjogX1RSRUVDT05TVC5fRElSRUNUSU9OUy5fVVBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogdHJ1ZSxcbiAgICAgICAgICBleGVjdXRlOiBzdWNjZXNzQ2FsbGJhY2tcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGNoZWNrRWRpdCBtZXRob2Qgc2VydmVzIGV4YWN0bHkgd2hhdCBpdHMgbmFtZSBpbXBsaWVzLiBUbyBjaGVjayBpZiB0aGUgZWRpdCBvZiBhbiBJbmNpZGVudCAoZWRpdCBvZiBJbmNpZGVudCdzIHBvc2l0aW9uIGdpdmVuIGluIG1pbGxpc2Vjb25kcyBkZWx0YSlcbiAgICAgKiBpcyB2YWxpZCBhbmQgYWNjZXB0ZWQsIGFjY29yZGluZyB0byB0aGUgcnVsZXMgZGVmaW5lZCBvbiB0aGUgY2hhbm5lbHMuXG4gICAgICogVGhlIG1ldGhvZCBib29ibGVzIHVwIHVudGlsIGl0IHJlYWNoZXMgdGhlIENsaXAuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGluY2lkZW50IC0gdGhlIGluY2lkZW50IHRvIGVkaXRcbiAgICAgKiBAcGFyYW0ge2ludH0gbWlsbGlzZWNvbmRzRGVsdGEgLSB0aGUgbWlsbGlzZWNvbmRzIGRlbHRhIG9mIHRoZSBJbmNpZGVudCdzIHN0YXJ0IHRpbWVcbiAgICAgVGhlIG1ldGhvZCBzaG91bGQgcmV0dXJuIGVpdGhlcjpcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0OnRydWUsXG4gICAgICAgICAgICBleGVjdXRlOiAvLyBhbiBhcnJheSBvZiBmdW5jdGlvbnMgdGhhdCB3aGVuIGV4ZWN1dGVkIGl0IHdpbGwgZWRpdCB0aGUgSW5jaWRlbnRzIG9uIHRoZSBDaGFubmVsc1xuICAgICAgICB9XG4gICAgICAgIG9yXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc3VsdDogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcnNcbiAgICAgICAgfVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjaGVja01vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tNb3ZlKGluY2lkZW50c0J5SWQsIG1pbGxpc2Vjb25kc0RlbHRhKSB7XG4gICAgICAvLyBwcmVwYXJlIHRoZSByZXR1cm4gcGF5bG9hZFxuICAgICAgdmFyIHRvUmV0dXJuUmVzdWx0ID0gdHJ1ZTtcbiAgICAgIHZhciB0b1JldHVybkVycm9ycyA9IFtdO1xuICAgICAgdmFyIHRvUmV0dXJuRXhlY3V0YWJsZXMgPSBbXTsgLy8gZm9yIGVhY2gga2V5IG9mIHRoZSBpbmNpZGVudHNCeUlkIG9iamVjdCBwZXJmb3JtIHRoZSBjaGVja1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gaW5jaWRlbnRzQnlJZCkge1xuICAgICAgICAvLyBwZXJmb3JtIHRoZSBjaGVja1xuICAgICAgICB2YXIgcGx1Z2luUmVzdWx0ID0gdGhpcy5pbnN0YW50aWF0ZWRDaGFubmVsc1trZXldLmVkaXRJbmNpZGVudHMoaW5jaWRlbnRzQnlJZFtrZXldLCBtaWxsaXNlY29uZHNEZWx0YSk7XG4gICAgICAgIHRvUmV0dXJuUmVzdWx0ID0gdG9SZXR1cm5SZXN1bHQgJiYgcGx1Z2luUmVzdWx0LnJlc3VsdDtcblxuICAgICAgICBpZiAocGx1Z2luUmVzdWx0LnJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0b1JldHVybkVycm9ycyA9IHRvUmV0dXJuRXJyb3JzLmNvbmNhdChwbHVnaW5SZXN1bHQuZXJyb3JzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b1JldHVybkV4ZWN1dGFibGVzLnB1c2gocGx1Z2luUmVzdWx0LmV4ZWN1dGUpO1xuICAgICAgICB9XG4gICAgICB9IC8vIGVuZiBvZiBpdGVyYXRpb24gb24gdGhlIGluY2lkZW50c0J5SWQga2V5c1xuXG5cbiAgICAgIHZhciB0b1JldHVybkV4ZWN1dGUgPSBmdW5jdGlvbiB0b1JldHVybkV4ZWN1dGUoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9SZXR1cm5FeGVjdXRhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRvUmV0dXJuRXhlY3V0YWJsZXNbaV0oKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIGVkaXRSZXN1bHQgPSB7XG4gICAgICAgIHJlc3VsdDogdG9SZXR1cm5SZXN1bHQsXG4gICAgICAgIGVycm9yczogdG9SZXR1cm5FcnJvcnMsXG4gICAgICAgIGV4ZWN1dGU6IHRvUmV0dXJuRXhlY3V0ZVxuICAgICAgfTtcbiAgICAgIHJldHVybiBlZGl0UmVzdWx0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVJbmNpZGVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVJbmNpZGVudChwYXlsb2FkKSB7XG4gICAgICB2YXIgY2FuZGlkYXRlcyA9IHRoaXMucHV0TWVzc2FnZU9uUGlwZSgncmVtb3ZlSW5jaWRlbnQnLCB7XG4gICAgICAgIGluY2lkZW50SWQ6IHBheWxvYWQuaWQsXG4gICAgICAgIHBhcmVudEdyb3VwSWQ6IHBheWxvYWQucGFyZW50R3JvdXBJZCxcbiAgICAgICAgY29udGV4dERhdGE6IHtcbiAgICAgICAgICBjbGlwSWQ6IHRoaXMuaWQsXG4gICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0XG4gICAgICAgIH0sXG4gICAgICAgIGF1ZGlvOiB0aGlzLmF1ZGlvQ2xpcFxuICAgICAgfSwgcGF5bG9hZC5wYXJlbnRHcm91cElkLCB7XG4gICAgICAgIHNlbGZFeGVjdXRlOiB0cnVlLFxuICAgICAgICBkaXJlY3Rpb246IF9UUkVFQ09OU1QuX0RJUkVDVElPTlMuX0RPV05cbiAgICAgIH0pO1xuICAgICAgdmFyIHRvdGFsSW5jaWRlbnRzQnlQbHVnaW4gPSB7fTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYW5kaWRhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpbmNpZGVudHNCeVBsdWdpbiA9IGNhbmRpZGF0ZXNbaV0ucmVzcG9uc2UuZ2V0SW5jaWRlbnRzQnlDaGFubmVsKCk7XG5cbiAgICAgICAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBpbmNpZGVudHNCeVBsdWdpbikge1xuICAgICAgICAgIHZhciBfdG90YWxJbmNpZGVudHNCeVBsdWczO1xuXG4gICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodG90YWxJbmNpZGVudHNCeVBsdWdpbiwgcGx1Z2luTmFtZSkpIHtcbiAgICAgICAgICAgIHRvdGFsSW5jaWRlbnRzQnlQbHVnaW5bcGx1Z2luTmFtZV0gPSBbXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAoX3RvdGFsSW5jaWRlbnRzQnlQbHVnMyA9IHRvdGFsSW5jaWRlbnRzQnlQbHVnaW5bcGx1Z2luTmFtZV0pLnB1c2guYXBwbHkoX3RvdGFsSW5jaWRlbnRzQnlQbHVnMywgX3RvQ29uc3VtYWJsZUFycmF5KGluY2lkZW50c0J5UGx1Z2luW3BsdWdpbk5hbWVdKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHJlcyA9IHRoaXMuY2hlY2tEZWxldGUodG90YWxJbmNpZGVudHNCeVBsdWdpbik7XG5cbiAgICAgIGlmIChyZXMucmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIHZhciBzdWNjZXNzQ2FsbGJhY2sgPSBmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2soKSB7XG4gICAgICAgICAgcmVzLmV4ZWN1dGUoKTtcblxuICAgICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IGNhbmRpZGF0ZXMubGVuZ3RoOyBfaTMrKykge1xuICAgICAgICAgICAgY2FuZGlkYXRlc1tfaTNdLnJlc3BvbmRlci5yZW1vdmVDaGlsZChjYW5kaWRhdGVzW19pM10ucmVzcG9uc2UuaWQpOyAvLyByZWNhbGN1bGF0ZSBkdXJhdGlvbiB0aGUgZ3JvdXBzIHRoYXQgd2UgYWRkZWRcbiAgICAgICAgICAgIC8vIHRoZSBpbmNpZGVudHMgdG8gYWxvbmcgd2l0aCB0aGVpciBwYXJlbnRzXG5cblxuICAgICAgICAgICAgY2FuZGlkYXRlc1tfaTNdLnJlc3BvbmRlci5wdXRNZXNzYWdlT25QaXBlKCdyZWNhbGNEdXJhdGlvbicsIHt9LCAnR3JvdXBzJywge1xuICAgICAgICAgICAgICBzZWxmRXhlY3V0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZGlyZWN0aW9uOiBfVFJFRUNPTlNULl9ESVJFQ1RJT05TLl9VUFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdWx0OiB0cnVlLFxuICAgICAgICAgIGV4ZWN1dGU6IHN1Y2Nlc3NDYWxsYmFja1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY2hlY2tEZWxldGUgbWV0aG9kIHNlcnZlcyBleGFjdGx5IHdoYXQgaXRzIG5hbWUgaW1wbGllcy4gVG8gY2hlY2sgaWYgdGhlIGRlbGV0aW9uIG9mIGFuIEluY2lkZW50XG4gICAgICogaXMgdmFsaWQgYW5kIGFjY2VwdGVkLCBhY2NvcmRpbmcgdG8gdGhlIHJ1bGVzIGRlZmluZWQgb24gdGhlIGNoYW5uZWxzLlxuICAgICAqIFRoZSBtZXRob2QgYm9vYmxlcyB1cCB1bnRpbCBpdCByZWFjaGVzIHRoZSBDbGlwLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBpbmNpZGVudCAtIHRoZSBpbmNpZGVudCB0byBlZGl0XG4gICAgICBUaGUgcmVzdWx0IG1pZ2h0IGJlIGVpdGhlcjpcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0OnRydWUsXG4gICAgICAgICAgICBleGVjdXRlOiAvLyBhbiBhcnJheSBvZiBmdW5jdGlvbnMgdGhhdCB3aGVuIGV4ZWN1dGVkIGl0IHdpbGwgcmVtb3ZlIHRoZSBJbmNpZGVudCBvbiB0aGUgQ2hhbm5lbHNcbiAgICAgICAgfVxuICAgICAgICBvclxuICAgICAgICB7XG4gICAgICAgICAgICByZXN1bHQ6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3JzXG4gICAgICAgIH1cbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tEZWxldGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tEZWxldGUoaW5jaWRlbnRzQnlJZCkge1xuICAgICAgLy8gcHJlcGFyZSB0aGUgcmV0dXJuIHBheWxvYWRcbiAgICAgIHZhciB0b1JldHVyblJlc3VsdCA9IHRydWU7XG4gICAgICB2YXIgdG9SZXR1cm5FcnJvcnMgPSBbXTtcbiAgICAgIHZhciB0b1JldHVybkV4ZWN1dGFibGVzID0gW107IC8vIGZvciBlYWNoIGtleSBvZiB0aGUgaW5jaWRlbnRzQnlJZCBvYmplY3QgcGVyZm9ybSB0aGUgY2hlY2tcblxuICAgICAgZm9yICh2YXIga2V5IGluIGluY2lkZW50c0J5SWQpIHtcbiAgICAgICAgLy8gcGVyZm9ybSB0aGUgY2hlY2tcbiAgICAgICAgdmFyIHBsdWdpblJlc3VsdCA9IHRoaXMuaW5zdGFudGlhdGVkQ2hhbm5lbHNba2V5XS5yZW1vdmVJbmNpZGVudHMoaW5jaWRlbnRzQnlJZFtrZXldKTtcbiAgICAgICAgdG9SZXR1cm5SZXN1bHQgPSB0b1JldHVyblJlc3VsdCAmJiBwbHVnaW5SZXN1bHQucmVzdWx0O1xuXG4gICAgICAgIGlmIChwbHVnaW5SZXN1bHQucmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgIHRvUmV0dXJuRXJyb3JzID0gdG9SZXR1cm5FcnJvcnMuY29uY2F0KHBsdWdpblJlc3VsdC5lcnJvcnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvUmV0dXJuRXhlY3V0YWJsZXMucHVzaChwbHVnaW5SZXN1bHQuZXhlY3V0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gZW5mIG9mIGl0ZXJhdGlvbiBvbiB0aGUgaW5jaWRlbnRzQnlJZCBrZXlzXG5cblxuICAgICAgdmFyIHRvUmV0dXJuRXhlY3V0ZSA9IGZ1bmN0aW9uIHRvUmV0dXJuRXhlY3V0ZSgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b1JldHVybkV4ZWN1dGFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdG9SZXR1cm5FeGVjdXRhYmxlc1tpXSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgcmVtb3ZlUmVzdWx0ID0ge1xuICAgICAgICByZXN1bHQ6IHRvUmV0dXJuUmVzdWx0LFxuICAgICAgICBlcnJvcnM6IHRvUmV0dXJuRXJyb3JzLFxuICAgICAgICBleGVjdXRlOiB0b1JldHVybkV4ZWN1dGVcbiAgICAgIH07XG4gICAgICByZXR1cm4gcmVtb3ZlUmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGNvbW1hbmQgY29tZXMgZm9ybSB0aGUgQ2xpcCdzIHBhcmVudCBEZXNjcmlwdG9yIGNsYXNzLiBUaGUgcGF5bG9hZFxuICAgICAqIGlzIGlkZW50aWNhbCB0byB0aGUgcGF5bG9hZCB0aGF0IGNvbWVzIHRvIHRoZSBEZXNjcmlwdGlvbiBjbGFzczpcbiAgICAgKiB7XG4gICAgICogIGlkOiB0aGUgaWQgb2YgdGhlIEluY2lkZW50IHRvIHJlc2l6ZVxuICAgICAqICBuZXdTaXplOiB0aGUgbWlsbGlzZWNvbmRzIG9mIHRoZSBuZXcgZHVyYXRpb25cbiAgICAgKiAgZnJhY3Rpb246IHRoZSBkaXZpc2lvbiBvZiB0aGUgbmV3IGR1cmF0aW9uIHRvIHRoZSBjdXJyZW50XG4gICAgICogfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVzaXplSW5jaWRlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplSW5jaWRlbnQocGF5bG9hZCkge1xuICAgICAgdmFyIGNhbmRpZGF0ZXMgPSB0aGlzLnB1dE1lc3NhZ2VPblBpcGUoJ3Jlc2l6ZScsIHtcbiAgICAgICAgaW5jaWRlbnRJZDogcGF5bG9hZC5pZCxcbiAgICAgICAgbmV3U2l6ZTogcGF5bG9hZC5uZXdTaXplLFxuICAgICAgICBmcmFjdGlvbjogcGF5bG9hZC5mcmFjdGlvbixcbiAgICAgICAgY29udGV4dERhdGE6IHtcbiAgICAgICAgICBjbGlwSWQ6IHRoaXMuaWQsXG4gICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0XG4gICAgICAgIH0sXG4gICAgICAgIGF1ZGlvOiB0aGlzLmF1ZGlvQ2xpcFxuICAgICAgfSwgcGF5bG9hZC5pZCwge1xuICAgICAgICBzZWxmRXhlY3V0ZTogZmFsc2UsXG4gICAgICAgIGRpcmVjdGlvbjogX1RSRUVDT05TVC5fRElSRUNUSU9OUy5fRE9XTlxuICAgICAgfSk7XG4gICAgICB2YXIgdG90YWxJbmNpZGVudHNCeVBsdWdpbiA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbmRpZGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGluY2lkZW50c0J5UGx1Z2luID0gY2FuZGlkYXRlc1tpXS5yZXNwb25zZS5nZXRJbmNpZGVudHNCeUNoYW5uZWwoY2FuZGlkYXRlc1tpXS5wb3NpdGlvbkRlbHRhKTtcblxuICAgICAgICBmb3IgKHZhciBwbHVnaW5OYW1lIGluIGluY2lkZW50c0J5UGx1Z2luKSB7XG4gICAgICAgICAgdmFyIF90b3RhbEluY2lkZW50c0J5UGx1ZzQ7XG5cbiAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0b3RhbEluY2lkZW50c0J5UGx1Z2luLCBwbHVnaW5OYW1lKSkge1xuICAgICAgICAgICAgdG90YWxJbmNpZGVudHNCeVBsdWdpbltwbHVnaW5OYW1lXSA9IFtdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIChfdG90YWxJbmNpZGVudHNCeVBsdWc0ID0gdG90YWxJbmNpZGVudHNCeVBsdWdpbltwbHVnaW5OYW1lXSkucHVzaC5hcHBseShfdG90YWxJbmNpZGVudHNCeVBsdWc0LCBfdG9Db25zdW1hYmxlQXJyYXkoaW5jaWRlbnRzQnlQbHVnaW5bcGx1Z2luTmFtZV0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgcG9zaXRpb25EZWx0YSA9IDA7XG5cbiAgICAgIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcG9zaXRpb25EZWx0YSA9IGNhbmRpZGF0ZXNbMF0ucG9zaXRpb25EZWx0YTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlcyA9IHRoaXMuY2hlY2tSZXNpemUocGF5bG9hZC5mcmFjdGlvbiwgdG90YWxJbmNpZGVudHNCeVBsdWdpbiwgcG9zaXRpb25EZWx0YSk7XG5cbiAgICAgIGlmIChyZXMucmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIHZhciBzdWNjZXNzQ2FsbGJhY2sgPSBmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2soKSB7XG4gICAgICAgICAgcmVzLmV4ZWN1dGUoKTtcblxuICAgICAgICAgIGZvciAodmFyIF9pNCA9IDA7IF9pNCA8IGNhbmRpZGF0ZXMubGVuZ3RoOyBfaTQrKykge1xuICAgICAgICAgICAgY2FuZGlkYXRlc1tfaTRdLnJlc3BvbmRlci5zZXROZXdEdXJhdGlvbihwYXlsb2FkLm5ld1NpemUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogdHJ1ZSxcbiAgICAgICAgICBleGVjdXRlOiBzdWNjZXNzQ2FsbGJhY2tcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2hlY2tzIGlmIGEgZHVyYXRpb24gZWRpdCBpcyBmZWFzaWJsZSBhbmQgZG9lc24ndCBjYXVzZSBjb25mbGljdHNcbiAgICAgKiBAcGFyYW0ge2ludH0gZHVyYXRpb24gLSB0aGUgbmV3IGR1cmF0aW9uXG4gICAgICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tSZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tSZXNpemUoZHVyYXRpb25GcmFjdGlvbiwgaW5jaWRlbnRzQnlJZCkge1xuICAgICAgdmFyIGFkanVzdE1pbGxpc2Vjb25kID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgICAgLy8gcHJlcGFyZSB0aGUgcmV0dXJuIHBheWxvYWRcbiAgICAgIHZhciB0b1JldHVyblJlc3VsdCA9IHRydWU7XG4gICAgICB2YXIgdG9SZXR1cm5FcnJvcnMgPSBbXTtcbiAgICAgIHZhciB0b1JldHVybkV4ZWN1dGFibGVzID0gW107IC8vIGZvciBlYWNoIGtleSBvZiB0aGUgaW5jaWRlbnRzQnlJZCBvYmplY3QgcGVyZm9ybSB0aGUgY2hlY2tcblxuICAgICAgZm9yICh2YXIga2V5IGluIGluY2lkZW50c0J5SWQpIHtcbiAgICAgICAgLy8gcGVyZm9ybSB0aGUgY2hlY2tcbiAgICAgICAgdmFyIGFkanVzdGVkSW5jaWRlbnRzID0gaGVscGVyLnN5c3RvbGVEaWFzdG9sZVByb2plY3Rpb25zKGluY2lkZW50c0J5SWRba2V5XSwgZHVyYXRpb25GcmFjdGlvbiwgYWRqdXN0TWlsbGlzZWNvbmQpO1xuICAgICAgICB2YXIgcGx1Z2luUmVzdWx0ID0gdGhpcy5pbnN0YW50aWF0ZWRDaGFubmVsc1trZXldLmNoZWNrUmVzaXplZEluY2lkZW50cyhhZGp1c3RlZEluY2lkZW50cyk7XG4gICAgICAgIHRvUmV0dXJuUmVzdWx0ID0gdG9SZXR1cm5SZXN1bHQgJiYgcGx1Z2luUmVzdWx0LnJlc3VsdDtcblxuICAgICAgICBpZiAocGx1Z2luUmVzdWx0LnJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0b1JldHVybkVycm9ycyA9IHRvUmV0dXJuRXJyb3JzLmNvbmNhdChwbHVnaW5SZXN1bHQuZXJyb3JzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b1JldHVybkV4ZWN1dGFibGVzLnB1c2gocGx1Z2luUmVzdWx0LmV4ZWN1dGUpO1xuICAgICAgICB9XG4gICAgICB9IC8vIGVuZiBvZiBpdGVyYXRpb24gb24gdGhlIGluY2lkZW50c0J5SWQga2V5c1xuXG5cbiAgICAgIHZhciB0b1JldHVybkV4ZWN1dGUgPSBmdW5jdGlvbiB0b1JldHVybkV4ZWN1dGUoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9SZXR1cm5FeGVjdXRhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRvUmV0dXJuRXhlY3V0YWJsZXNbaV0oKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIGVkaXRSZXN1bHQgPSB7XG4gICAgICAgIHJlc3VsdDogdG9SZXR1cm5SZXN1bHQsXG4gICAgICAgIGVycm9yczogdG9SZXR1cm5FcnJvcnMsXG4gICAgICAgIGV4ZWN1dGU6IHRvUmV0dXJuRXhlY3V0ZVxuICAgICAgfTtcbiAgICAgIHJldHVybiBlZGl0UmVzdWx0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRJbmNpZGVudHNCeUNoYW5uZWxcIixcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGgga2V5cyB0aGUga2V5cyBvZiBhbGwgdGhlIHBsdWdpbnMgSW5jaWRlbnRzIG9mIHdoaWNoIGFwcGVhciBpbiB0aGVcbiAgICAgKiB0cmVlIG9mIHRoZSBHcm91cC4gQWxsIEluY2lkZW50cyBhcmUgcHJvamVjdGVkIHRvIHRoZSBHcm91cCdzIHRpbWVsaW5lLlxuICAgICAqIFRoZSBhcnJheSBpbmNsdWRlcyB0aGUgR3JvdXAncyBwcm9qZWN0aW9uIHRvb1xuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbmNpZGVudHNCeUNoYW5uZWwoKSB7XG4gICAgICB2YXIgYWRqdXN0TWlsbGlzZWNvbmQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICB2YXIgaW5jaWRlbnRzQnlQbHVnaW4gPSB7fTtcbiAgICAgIGluY2lkZW50c0J5UGx1Z2luW3NlbGZDb250YWluZWRJbmNpZGVudHNOcG1OYW1lXSA9IFt7XG4gICAgICAgIG1pbGxpc2Vjb25kOiBhZGp1c3RNaWxsaXNlY29uZCxcbiAgICAgICAgaW5jaWRlbnQ6IHRoaXMsXG4gICAgICAgIGlkOiB0aGlzLmlkXG4gICAgICB9XTtcbiAgICAgIHJldHVybiBpbmNpZGVudHNCeVBsdWdpbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Vm9sdW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZvbHVtZShuZXdWYWwpIHtcbiAgICAgIHRoaXMudm9sdW1lID0gcGFyc2VGbG9hdChuZXdWYWwpOyAvLyB0aGlzLnB1dE1lc3NhZ2VPblBpcGUocGlwZU1lc3NhZ2VzLl9HQUlOX0NIQU5HRSwgeyBnYWluOiBuZXdWYWwgfSwgZmFsc2UsIFwiZG93blwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXZlbnRob3VnaCBDbGlwcyBoYXZlIHRoZWlyIG93biBjb250ZXh0LCBzdGlsbCB0aGV5IG1pZ2h0IGJlbG9uZyB0byBhbm90aGVyIENsaXAnc1xuICAgICAqIHRyZWUgKENBU0kpLiBJbiBzdWNoIGEgY2FzZSB0aGlzIG1ldGhvZCBnaXZlcyB0aGUgb3BvcnR1bml0eSB0byBzZXQgdGhpbmdzIHVwXG4gICAgICogYW5kIGRvIG9wZXJhdGlvbnMgcmVsYXRlZCB3aXRoIHRoZWlyIHBhcmVudCdzIGNvbnRleHQgKHN1Y2ggYXMgc3Vic2NyaWJpbmcgdG8gYXVkaW8gZWZmZWN0IG5vZGVzKVxuICAgICAqKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9vbkdldENvbnRleHRPbmNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkdldENvbnRleHRPbmNlKHBhcmVudENsaXBDb250ZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBzcGVjaWFsIHJlY2FsY0R1cmF0aW9uIGhhbmRsaW5nIHNvIGFueSBwb3RlbnRpYWwgY2xpcCBjb3BpZXMgdXBkYXRlIHRoZWlyIHRyZWVzXG5cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVSZWNhbGNEdXJhdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVSZWNhbGNEdXJhdGlvbih0YXJnZXQsIHBheWxvYWQpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIGlmICh0aGlzLl9jYWxjdWxhdGVEdXJhdGlvbigpKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kdXJhdGlvblN1YnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0aGlzLmR1cmF0aW9uU3Vic1tpXSh0aGlzLmR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIGNhbGxlZCBvbiBwcm9ncmVzcyBvZiB0aGUgdGltZWQgaW5jaWRlbnQuXG4gICAgICogQHBhcmFtIHtmbG9hdH0gZnJhY3Rpb24gLSBhIG51bWJlciBmcm9tIDAgdG8gMSByZXByZXNlbnRpbmcgdGhlIGZyYWN0aW9uIG9mIGR1cmF0aW9uIGNvdmVyZWRcbiAgICAgKiBAcGFyYW0ge2ludH0gbWlsbGlzZWNvbmRzIC0gdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgcGFzc2VkIGZyb20gc3RhcnQgb2YgdGhlIGluY2lkZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRleHRJZCAtIGRlZmF1bHRzIHRvIHRoZSBpZCBvZiB0aGUgcmVhbENsaXAgaXRzZWxmLiBEb24ndCBmb3JnZXQgdGhhdCBhIHJlYWxDbGlwXG4gICAgICogICAgICBtaWdodCBiZWxvbmcgdG8gYSBzZWxlY3RvciBDbGlwIChzbyBpdCdzIGEgRnJhZ21lbnRlZCBDbGlwKSwgd2l0aCBtYW55IFwicmVhbFwiIENsaXBDb3BpZXMuIEFsbCBDbGlwQ29waWVzIGhvbGRcbiAgICAgKiAgICAgIGEgcmVmZXJlbmNlIHRvIHRoaXMgQ2xpcCB2aWEgdGhlaXIgXCJyZWFsQ2xpcFwiIHByb3BlcnR5LiBXaGVuZXZlciBhbnlcbiAgICAgKiAgICAgIG9mIHRoZXNlIENsaXBDb3BpZXMgcHJvZ3Jlc3NlcyAodmlhIHRoZSBvblByb2dyZXNzIG1ldGhvZCkgY2FsbHNcbiAgICAgKiAgICAgIHRoZSBcIm9uUHJvZ3Jlc3NcIiBvZiB0aGUgcmVhbENsaXAsIHBhc3NpbmcgdGhlaXIgaWQgc28gdGhlIENvbnRleHRBd2FyZUluY2lkZW50c1xuICAgICAqICAgICAgdGhhdCB3aWxsIGFsc28gcHJvZ3Jlc3MgdmlhIHRoZSBDaGFubmVscyBrbm93IHdoaWNoIHNwZWNpZmljIEluY2lkZW50IHRvIHByb2dyZXNzLlxuICAgICAqICAgICAgVGhhdCdzIHRoZSByZXN1bHQgb2Yga2VlcGluZyBqdXN0IG9uZSByZWFsIHRyZWUsIGJlbG9uZ2luZyBhbHdheXMgdG8gdGhlIHJlYWxDbGlwXG4gICAgICogICAgICAoZWl0aGVyIEZyYWdtZW50ZWQgb3IgSG9zdGVkKSBlbmRpbmcgdG8gQ29udGV4dEF3YXJlSW5jaWRlbnQgbGVhZnMgdGhhdFxuICAgICAqICAgICAgYXJlIHRoZSBvbmVzIHRvIGhvbGQgdGhlIENsaXBDb3BpZXMgaW5zdGFuY2VzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9yY2VSZXNldCAtIHNldCB0byB0cnVlIGluIGNhc2VzIHdlIHdhbnQgZnVsbCBmbGFzaCBvZiB0aGUgc3RhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uUHJvZ3Jlc3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzcyhmcmFjdGlvbiwgbWlsbGlzZWNvbmRzLCBjb250ZXh0SWQpIHtcbiAgICAgIHZhciBmb3JjZVJlc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuICAgICAgaWYgKCFjb250ZXh0SWQpIHtcbiAgICAgICAgY29udGV4dElkID0gdGhpcy5pZDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuaW5zdGFudGlhdGVkQ2hhbm5lbHMpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSB0aGlzLmluc3RhbnRpYXRlZENoYW5uZWxzW2tleV07XG4gICAgICAgIGNoYW5uZWwubW92ZVRvKHRoaXMucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kLCBtaWxsaXNlY29uZHMsIGNvbnRleHRJZCwgZm9yY2VSZXNldCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZsYXNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZsYXNoKCkge1xuICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuaW5zdGFudGlhdGVkQ2hhbm5lbHMpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSB0aGlzLmluc3RhbnRpYXRlZENoYW5uZWxzW2tleV07XG4gICAgICAgIGNoYW5uZWwubW92ZVRvKDAsIHRoaXMucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kLCB0aGlzLmlkLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9IC8vIGR1cmF0aW9uIGNoYW5nZXMgcHViL3N1YlxuXG4gIH0sIHtcbiAgICBrZXk6IFwic3Vic2NyaWJlVG9EdXJhdGlvbkNoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJzY3JpYmVUb0R1cmF0aW9uQ2hhbmdlKG1ldGhvZCkge1xuICAgICAgdGhpcy5kdXJhdGlvblN1YnMucHVzaChtZXRob2QpO1xuICAgIH1cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAvKioqKioqKiogQkxPQ0tJTkcgV0FJVElOR1MgU0VUIC8gUkVNT1ZFICoqKioqKioqKioqKioqKi9cblxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZVNldEJsb2NraW5nV2FpdGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTZXRCbG9ja2luZ1dhaXRpbmcodGFyZ2V0LCBwYXlsb2FkKSB7XG4gICAgICBjb25zb2xlLmxvZygnaGFuZGxpbmcgc2V0IGJsb2NraW5nIHdhaXRpbmcnKTtcbiAgICAgIGNvbnNvbGUubG9nKHBheWxvYWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVSZW1vdmVCbG9ja2luZ1dhaXRpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlQmxvY2tpbmdXYWl0aW5nKHRhcmdldCwgcGF5bG9hZCkge1xuICAgICAgY29uc29sZS5sb2coJ2hhbmRsaW5nIHJlbW92ZSBibG9ja2luZyB3YWl0aW5nJyk7XG4gICAgICBjb25zb2xlLmxvZyhwYXlsb2FkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29udGV4dFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMub3duQ29udGV4dDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRXh0ZW5kYWJsZUNsaXA7XG59KEdyb3VwKTtcblxubW9kdWxlLmV4cG9ydHMgPSBFeHRlbmRhYmxlQ2xpcDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Clip/ExtendableClip.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Clip/FragmentedClip.js":
/*!*****************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Clip/FragmentedClip.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar HTMLFragmentContextHandler = __webpack_require__(/*! ./helpers/HTMLFragmentContextHandler */ \"../node_modules/@kissmybutton/motorcortex/dist/Clip/helpers/HTMLFragmentContextHandler.js\");\n\nvar ExtendableClip = __webpack_require__(/*! ./ExtendableClip */ \"../node_modules/@kissmybutton/motorcortex/dist/Clip/ExtendableClip.js\");\n\nvar FragmentedClip =\n/*#__PURE__*/\nfunction (_ExtendableClip) {\n  _inherits(FragmentedClip, _ExtendableClip);\n\n  function FragmentedClip() {\n    var _this;\n\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var oldProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    _classCallCheck(this, FragmentedClip);\n\n    var attrsToPass, propsToUse;\n    /*\n    backwards compatibility. If the user doesn't pass a second argument on the constructor then this is\n    the new way of initialising a Group (only props).\n    */\n\n    if (oldProps === null) {\n      attrsToPass = {};\n      propsToUse = props;\n    } else {\n      // else, in case the user has passed two arguments then both should be used\n      attrsToPass = props;\n      propsToUse = oldProps;\n    }\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FragmentedClip).call(this, attrsToPass, propsToUse));\n    var contextHanlder = new HTMLFragmentContextHandler(_objectSpread({}, propsToUse, {\n      html: Object.prototype.hasOwnProperty.call(propsToUse, \"html\") ? propsToUse.html : _this.html,\n      css: Object.prototype.hasOwnProperty.call(propsToUse, \"css\") ? propsToUse.css : _this.css,\n      fonts: Object.prototype.hasOwnProperty.call(propsToUse, \"fonts\") ? propsToUse.fonts : _this.fonts\n    }));\n    _this.ownContext = _objectSpread({}, contextHanlder.context, {\n      isHostedClip: false\n    });\n    _this.iframe = contextHanlder.iframeElement;\n    _this.forceExportIncidents = true;\n\n    _this.onDOMCLipInitialise(); // as soon as a Fragmented Clip is been intialised that means the Descriptive\n    // Clip has a selector and not a host. Thus is not a hosted clip\n    // this.isHostedClip = false;\n\n\n    return _this;\n  }\n\n  _createClass(FragmentedClip, [{\n    key: \"exportConstructionArguments\",\n    value: function exportConstructionArguments() {\n      // TODO also export CSS and fonts taking in account the potential existance\n      // of them on the get methods\n      // console.log(this.ownContext.rootElement.innerHTML);\n      return {\n        attrs: this.attrs,\n        props: _objectSpread({}, this.props, {\n          html: this.ownContext.rootElement.innerHTML\n        })\n      };\n    }\n  }, {\n    key: \"onDOMCLipInitialise\",\n    value: function onDOMCLipInitialise() {// implement here\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.ownContext.clipContainer;\n    }\n  }]);\n\n  return FragmentedClip;\n}(ExtendableClip);\n\nmodule.exports = FragmentedClip;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DbGlwL0ZyYWdtZW50ZWRDbGlwLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvQ2xpcC9GcmFnbWVudGVkQ2xpcC5qcz8wMzI4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG52YXIgSFRNTEZyYWdtZW50Q29udGV4dEhhbmRsZXIgPSByZXF1aXJlKCcuL2hlbHBlcnMvSFRNTEZyYWdtZW50Q29udGV4dEhhbmRsZXInKTtcblxudmFyIEV4dGVuZGFibGVDbGlwID0gcmVxdWlyZSgnLi9FeHRlbmRhYmxlQ2xpcCcpO1xuXG52YXIgRnJhZ21lbnRlZENsaXAgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9FeHRlbmRhYmxlQ2xpcCkge1xuICBfaW5oZXJpdHMoRnJhZ21lbnRlZENsaXAsIF9FeHRlbmRhYmxlQ2xpcCk7XG5cbiAgZnVuY3Rpb24gRnJhZ21lbnRlZENsaXAoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB2YXIgb2xkUHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG51bGw7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRnJhZ21lbnRlZENsaXApO1xuXG4gICAgdmFyIGF0dHJzVG9QYXNzLCBwcm9wc1RvVXNlO1xuICAgIC8qXG4gICAgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuIElmIHRoZSB1c2VyIGRvZXNuJ3QgcGFzcyBhIHNlY29uZCBhcmd1bWVudCBvbiB0aGUgY29uc3RydWN0b3IgdGhlbiB0aGlzIGlzXG4gICAgdGhlIG5ldyB3YXkgb2YgaW5pdGlhbGlzaW5nIGEgR3JvdXAgKG9ubHkgcHJvcHMpLlxuICAgICovXG5cbiAgICBpZiAob2xkUHJvcHMgPT09IG51bGwpIHtcbiAgICAgIGF0dHJzVG9QYXNzID0ge307XG4gICAgICBwcm9wc1RvVXNlID0gcHJvcHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVsc2UsIGluIGNhc2UgdGhlIHVzZXIgaGFzIHBhc3NlZCB0d28gYXJndW1lbnRzIHRoZW4gYm90aCBzaG91bGQgYmUgdXNlZFxuICAgICAgYXR0cnNUb1Bhc3MgPSBwcm9wcztcbiAgICAgIHByb3BzVG9Vc2UgPSBvbGRQcm9wcztcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihGcmFnbWVudGVkQ2xpcCkuY2FsbCh0aGlzLCBhdHRyc1RvUGFzcywgcHJvcHNUb1VzZSkpO1xuICAgIHZhciBjb250ZXh0SGFubGRlciA9IG5ldyBIVE1MRnJhZ21lbnRDb250ZXh0SGFuZGxlcihfb2JqZWN0U3ByZWFkKHt9LCBwcm9wc1RvVXNlLCB7XG4gICAgICBodG1sOiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHNUb1VzZSwgXCJodG1sXCIpID8gcHJvcHNUb1VzZS5odG1sIDogX3RoaXMuaHRtbCxcbiAgICAgIGNzczogT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzVG9Vc2UsIFwiY3NzXCIpID8gcHJvcHNUb1VzZS5jc3MgOiBfdGhpcy5jc3MsXG4gICAgICBmb250czogT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzVG9Vc2UsIFwiZm9udHNcIikgPyBwcm9wc1RvVXNlLmZvbnRzIDogX3RoaXMuZm9udHNcbiAgICB9KSk7XG4gICAgX3RoaXMub3duQ29udGV4dCA9IF9vYmplY3RTcHJlYWQoe30sIGNvbnRleHRIYW5sZGVyLmNvbnRleHQsIHtcbiAgICAgIGlzSG9zdGVkQ2xpcDogZmFsc2VcbiAgICB9KTtcbiAgICBfdGhpcy5pZnJhbWUgPSBjb250ZXh0SGFubGRlci5pZnJhbWVFbGVtZW50O1xuICAgIF90aGlzLmZvcmNlRXhwb3J0SW5jaWRlbnRzID0gdHJ1ZTtcblxuICAgIF90aGlzLm9uRE9NQ0xpcEluaXRpYWxpc2UoKTsgLy8gYXMgc29vbiBhcyBhIEZyYWdtZW50ZWQgQ2xpcCBpcyBiZWVuIGludGlhbGlzZWQgdGhhdCBtZWFucyB0aGUgRGVzY3JpcHRpdmVcbiAgICAvLyBDbGlwIGhhcyBhIHNlbGVjdG9yIGFuZCBub3QgYSBob3N0LiBUaHVzIGlzIG5vdCBhIGhvc3RlZCBjbGlwXG4gICAgLy8gdGhpcy5pc0hvc3RlZENsaXAgPSBmYWxzZTtcblxuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEZyYWdtZW50ZWRDbGlwLCBbe1xuICAgIGtleTogXCJleHBvcnRDb25zdHJ1Y3Rpb25Bcmd1bWVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXhwb3J0Q29uc3RydWN0aW9uQXJndW1lbnRzKCkge1xuICAgICAgLy8gVE9ETyBhbHNvIGV4cG9ydCBDU1MgYW5kIGZvbnRzIHRha2luZyBpbiBhY2NvdW50IHRoZSBwb3RlbnRpYWwgZXhpc3RhbmNlXG4gICAgICAvLyBvZiB0aGVtIG9uIHRoZSBnZXQgbWV0aG9kc1xuICAgICAgLy8gY29uc29sZS5sb2codGhpcy5vd25Db250ZXh0LnJvb3RFbGVtZW50LmlubmVySFRNTCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhdHRyczogdGhpcy5hdHRycyxcbiAgICAgICAgcHJvcHM6IF9vYmplY3RTcHJlYWQoe30sIHRoaXMucHJvcHMsIHtcbiAgICAgICAgICBodG1sOiB0aGlzLm93bkNvbnRleHQucm9vdEVsZW1lbnQuaW5uZXJIVE1MXG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkRPTUNMaXBJbml0aWFsaXNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRE9NQ0xpcEluaXRpYWxpc2UoKSB7Ly8gaW1wbGVtZW50IGhlcmVcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicm9vdEVsZW1lbnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm93bkNvbnRleHQuY2xpcENvbnRhaW5lcjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRnJhZ21lbnRlZENsaXA7XG59KEV4dGVuZGFibGVDbGlwKTtcblxubW9kdWxlLmV4cG9ydHMgPSBGcmFnbWVudGVkQ2xpcDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Clip/FragmentedClip.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Clip/NullClip.js":
/*!***********************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Clip/NullClip.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar NullClip =\n/*#__PURE__*/\nfunction () {\n  function NullClip() {\n    _classCallCheck(this, NullClip);\n  }\n\n  _createClass(NullClip, [{\n    key: \"addIncident\",\n    value: function addIncident() {\n      return {\n        result: true,\n        execute: function execute() {}\n      };\n    }\n  }, {\n    key: \"moveIncident\",\n    value: function moveIncident() {\n      return {\n        result: true,\n        execute: function execute() {}\n      };\n    }\n  }, {\n    key: \"removeIncident\",\n    value: function removeIncident() {\n      return {\n        result: true,\n        execute: function execute() {}\n      };\n    }\n  }, {\n    key: \"resizeIncident\",\n    value: function resizeIncident() {\n      return {\n        result: true,\n        execute: function execute() {}\n      };\n    }\n  }, {\n    key: \"flash\",\n    value: function flash() {}\n  }, {\n    key: \"_resize\",\n    value: function _resize() {}\n  }, {\n    key: \"onProgress\",\n    value: function onProgress() {}\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return 0;\n    }\n  }]);\n\n  return NullClip;\n}();\n\nmodule.exports = NullClip;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DbGlwL051bGxDbGlwLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvQ2xpcC9OdWxsQ2xpcC5qcz8wOTU0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBOdWxsQ2xpcCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE51bGxDbGlwKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOdWxsQ2xpcCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTnVsbENsaXAsIFt7XG4gICAga2V5OiBcImFkZEluY2lkZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEluY2lkZW50KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdWx0OiB0cnVlLFxuICAgICAgICBleGVjdXRlOiBmdW5jdGlvbiBleGVjdXRlKCkge31cbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1vdmVJbmNpZGVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtb3ZlSW5jaWRlbnQoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN1bHQ6IHRydWUsXG4gICAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uIGV4ZWN1dGUoKSB7fVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlSW5jaWRlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlSW5jaWRlbnQoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN1bHQ6IHRydWUsXG4gICAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uIGV4ZWN1dGUoKSB7fVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVzaXplSW5jaWRlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplSW5jaWRlbnQoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN1bHQ6IHRydWUsXG4gICAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uIGV4ZWN1dGUoKSB7fVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmxhc2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmxhc2goKSB7fVxuICB9LCB7XG4gICAga2V5OiBcIl9yZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3Jlc2l6ZSgpIHt9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Qcm9ncmVzc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblByb2dyZXNzKCkge31cbiAgfSwge1xuICAgIGtleTogXCJkdXJhdGlvblwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE51bGxDbGlwO1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE51bGxDbGlwOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Clip/NullClip.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Clip/Playable.js":
/*!***********************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Clip/Playable.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Helper = __webpack_require__(/*! ../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar DescriptiveGroup = __webpack_require__(/*! ../DescriptiveIncidents/DescriptiveGroup */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveGroup.js\");\n\nvar _TREECONST = __webpack_require__(/*! ../Tree/_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/_CONST.js\");\n\nvar Playable =\n/*#__PURE__*/\nfunction (_DescriptiveGroup) {\n  _inherits(Playable, _DescriptiveGroup);\n\n  function Playable(attrs, props) {\n    var _this;\n\n    _classCallCheck(this, Playable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Playable).call(this, attrs, props));\n    _this.runTimeInfo = {\n      currentMillisecond: 0,\n      state: 'idle' // supported states: idle, playing, paused, blocked, armed\n\n    };\n    /**\n      @member {object} - listeners are functions to be executed on time change of the Clip.\n      It has the following format:\n     listeners: {\n        listener_id: {\n                 funct : the function to be executed\n                 threshold : the threshold of delta\n                 roundTo : round millisecond\n             },\n             listener_id: {\n                 funct : the function to be executed\n                 threshold : the threshold of delta\n                 roundTo : round millisecond\n             },\n             ...\n       }\n       */\n\n    _this.listeners = {}; // previousTimeStamp is a property holding the last timestamp that the\n    // requestAnimationFrame ran\n\n    _this.previousTimeStamp = -1;\n    _this.speed = 1;\n    return _this;\n  }\n  /*********************** execution methods  *********************\n   ****************************************************************/\n\n\n  _createClass(Playable, [{\n    key: \"_setState\",\n    value: function _setState(newState) {\n      if (newState != this.runTimeInfo.state) {\n        this.runTimeInfo.state = newState; // the only timer and the only responsible for Clip execution is the Clip\n        // All Incidents contained on a Clip are been executed by the Clip itself via its channels.\n        // Thus, the only Incidents that need to know about the state of the root Clip\n        // at any time are only the Clips\n\n        this.putMessageOnPipe('setState', newState, 'Clips', {\n          selfExecute: false,\n          direction: _TREECONST._DIRECTIONS._DOWN\n        });\n\n        for (var key in this.listeners) {\n          var listner = this.listeners[key];\n          listner.funct(this.runTimeInfo.currentMillisecond, newState);\n        }\n      }\n    }\n  }, {\n    key: \"handleSetState\",\n    value: function handleSetState(target, payload) {\n      this._setState(payload);\n    } // execution methods\n\n  }, {\n    key: \"play\",\n    value: function play() {\n      var _this2 = this;\n\n      var debug = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (this.runTimeInfo.state === 'idle' || this.runTimeInfo.state === 'paused' || this.runTimeInfo.state === 'armed' || this.runTimeInfo.state === 'transitional' || this.runTimeInfo.state === \"blocked\") {\n        if (this.runTimeInfo.state === 'paused') {\n          var delta = new Date().getTime() - this.pauseMoment;\n          this.previousTimeStamp += delta;\n        }\n\n        this._setState('playing');\n\n        this.onPlay();\n\n        if (debug === false) {\n          window.requestAnimationFrame(function (timestamp) {\n            _this2.step(timestamp);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      if (this.runTimeInfo.state === 'playing') {\n        this._setState('paused');\n\n        this.pauseMoment = new Date().getTime();\n        this.onWait();\n      }\n    }\n    /* armed state means the Clip is on paused state after transition */\n\n  }, {\n    key: \"arm\",\n    value: function arm() {\n      if (this.runTimeInfo.state === 'transitional') {\n        this._setState('armed');\n      }\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      this._setState('idle');\n\n      this.previousTimeStamp = -1;\n      this.runTimeInfo.currentMillisecond = 0;\n    }\n    /* in order to start a journey via the TimeCapsule the Playable needs first to stop */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this._setState('transitional');\n\n      this.previousTimeStamp = -1;\n    }\n  }, {\n    key: \"block\",\n    value: function block() {\n      this._setState('blocked');\n\n      this.previousTimeStamp = -1;\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {}\n  }, {\n    key: \"onWait\",\n    value: function onWait() {}\n  }, {\n    key: \"playableProgress\",\n    value: function playableProgress(fraction, millisecond) {\n      if (this.isTheRootClip) {\n        for (var key in this.listeners) {\n          var listner = this.listeners[key]; // if the listener is only for state change continue\n\n          if (listner.onlyOnStateChange === true) {\n            continue;\n          } // console.log(`Math.abs(${milliseconds} + ${listner.cavaDelta} - ${this.runTimeInfo.currentMillisecond}) > ${listner.threshold}`);\n\n\n          if (Math.abs(millisecond + listner.cavaDelta - this.runTimeInfo.currentMillisecond) > listner.threshold) {\n            listner.funct(helper.roundNumberTo(millisecond, listner.roundTo), this.runTimeInfo.state);\n            listner.cavaDelta = 0;\n          } else {\n            listner.cavaDelta += Math.abs(millisecond - this.runTimeInfo.currentMillisecond);\n          }\n        }\n\n        this.onProgress(fraction, millisecond);\n        this.runTimeInfo.currentMillisecond = millisecond;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"step\",\n    // *******************************************************\n    // STEP FUNCTION\n    value: function step(timestamp) {\n      var debug = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (this.runTimeInfo.state !== 'playing') {\n        return;\n      }\n\n      var that = this;\n\n      if (this.previousTimeStamp === -1) {\n        this.previousTimeStamp = timestamp;\n      } // progressStep is the progress made from previousTimeStamp both in milliseconds and in fraction [0 to 1]\n\n\n      var progress = {\n        milliseconds: Math.round(this.runTimeInfo.currentMillisecond + (timestamp - this.previousTimeStamp) * this.speed),\n        fraction: (this.runTimeInfo.currentMillisecond + (timestamp - this.previousTimeStamp) * this.speed) / this.duration\n      };\n\n      if (progress.fraction >= 1) {\n        this.playableProgress(1, this.duration);\n        this.complete();\n        return;\n      } else if (progress.fraction < 0) {\n        this.playableProgress(0, 0);\n        this.complete(); // this.broadcastEvent('state-change', { oldState: \"playing\", newState: \"idle\" });\n\n        return;\n      }\n\n      this.playableProgress(progress.fraction, progress.milliseconds);\n      this.previousTimeStamp = timestamp;\n\n      if (debug === false) {\n        window.requestAnimationFrame(that.step.bind(that));\n      }\n    } // ************ PUB SUB ********************\n    // *****************************************\n\n    /**\n      By subscribing a module can get notified about changes on the Clip's time\n      subscribe method subscribes a function to the time change dispatcher. As Clip uses requestAnimationFrame for its timing\n      each cyrcle / step gets the current time and subtracts the previous time so it know how many milliseconds has elapsed\n      since last step. Subscribers can set to get informed about time changes only if the delta is greater than a given\n      number (e.g. greater than 300ms). That property is passed as the second argument \"threshold\".\n      Finally if any of the subscribers want the Scene to provide back a rounded number of the milliseconds. Options:\n        - 1 (round it on its actual units\n       - 10 (round it on tenths)\n       - 100 (round it on hundreds)\n       - 1000 (round it on thousands)\n      the first argument provides an id to the listener for future reference (deletion etc)\n      the second argument is a function that takes two arguments: millisecond, state (current millisecond of the Scene\n      and the state of it  */\n\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(id, funct, threshold, roundTo) {\n      var onlyOnStateChange = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n      if (!threshold) {\n        threshold = 0;\n      }\n\n      if (!roundTo) {\n        roundTo = 1; // round second to its units, meaning leave it as it is\n      }\n\n      this.listeners[id] = {\n        funct: funct,\n        threshold: threshold,\n        roundTo: roundTo,\n        cavaDelta: 0,\n        onlyOnStateChange: onlyOnStateChange\n      };\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(id) {\n      if (Object.prototype.hasOwnProperty.call(this.listeners, id)) {\n        delete this.listeners[id];\n      }\n    }\n  }, {\n    key: \"subscribeToDurationChange\",\n    value: function subscribeToDurationChange(funct) {\n      if (this.isTheRootClip) {\n        this.realClip.subscribeToDurationChange(funct);\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"executionSpeed\",\n    set: function set(speed) {\n      if (!this.isTheRootClip) {\n        return false;\n      }\n\n      this.speed = parseFloat(speed);\n    }\n  }]);\n\n  return Playable;\n}(DescriptiveGroup);\n\nmodule.exports = Playable;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DbGlwL1BsYXlhYmxlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvQ2xpcC9QbGF5YWJsZS5qcz9mYjMzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxudmFyIEhlbHBlciA9IHJlcXVpcmUoJy4uL19jb3JlVXRpbHMvSGVscGVyJyk7XG5cbnZhciBoZWxwZXIgPSBuZXcgSGVscGVyKCk7XG5cbnZhciBEZXNjcmlwdGl2ZUdyb3VwID0gcmVxdWlyZSgnLi4vRGVzY3JpcHRpdmVJbmNpZGVudHMvRGVzY3JpcHRpdmVHcm91cCcpO1xuXG52YXIgX1RSRUVDT05TVCA9IHJlcXVpcmUoJy4uL1RyZWUvX0NPTlNUJyk7XG5cbnZhciBQbGF5YWJsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0Rlc2NyaXB0aXZlR3JvdXApIHtcbiAgX2luaGVyaXRzKFBsYXlhYmxlLCBfRGVzY3JpcHRpdmVHcm91cCk7XG5cbiAgZnVuY3Rpb24gUGxheWFibGUoYXR0cnMsIHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBsYXlhYmxlKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFBsYXlhYmxlKS5jYWxsKHRoaXMsIGF0dHJzLCBwcm9wcykpO1xuICAgIF90aGlzLnJ1blRpbWVJbmZvID0ge1xuICAgICAgY3VycmVudE1pbGxpc2Vjb25kOiAwLFxuICAgICAgc3RhdGU6ICdpZGxlJyAvLyBzdXBwb3J0ZWQgc3RhdGVzOiBpZGxlLCBwbGF5aW5nLCBwYXVzZWQsIGJsb2NrZWQsIGFybWVkXG5cbiAgICB9O1xuICAgIC8qKlxuICAgICAgQG1lbWJlciB7b2JqZWN0fSAtIGxpc3RlbmVycyBhcmUgZnVuY3Rpb25zIHRvIGJlIGV4ZWN1dGVkIG9uIHRpbWUgY2hhbmdlIG9mIHRoZSBDbGlwLlxuICAgICAgSXQgaGFzIHRoZSBmb2xsb3dpbmcgZm9ybWF0OlxuICAgICBsaXN0ZW5lcnM6IHtcbiAgICAgICAgbGlzdGVuZXJfaWQ6IHtcbiAgICAgICAgICAgICAgICAgZnVuY3QgOiB0aGUgZnVuY3Rpb24gdG8gYmUgZXhlY3V0ZWRcbiAgICAgICAgICAgICAgICAgdGhyZXNob2xkIDogdGhlIHRocmVzaG9sZCBvZiBkZWx0YVxuICAgICAgICAgICAgICAgICByb3VuZFRvIDogcm91bmQgbWlsbGlzZWNvbmRcbiAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgIGxpc3RlbmVyX2lkOiB7XG4gICAgICAgICAgICAgICAgIGZ1bmN0IDogdGhlIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkXG4gICAgICAgICAgICAgICAgIHRocmVzaG9sZCA6IHRoZSB0aHJlc2hvbGQgb2YgZGVsdGFcbiAgICAgICAgICAgICAgICAgcm91bmRUbyA6IHJvdW5kIG1pbGxpc2Vjb25kXG4gICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAuLi5cbiAgICAgICB9XG4gICAgICAgKi9cblxuICAgIF90aGlzLmxpc3RlbmVycyA9IHt9OyAvLyBwcmV2aW91c1RpbWVTdGFtcCBpcyBhIHByb3BlcnR5IGhvbGRpbmcgdGhlIGxhc3QgdGltZXN0YW1wIHRoYXQgdGhlXG4gICAgLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHJhblxuXG4gICAgX3RoaXMucHJldmlvdXNUaW1lU3RhbXAgPSAtMTtcbiAgICBfdGhpcy5zcGVlZCA9IDE7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKioqKioqKioqKioqKioqKioqKioqKiBleGVjdXRpb24gbWV0aG9kcyAgKioqKioqKioqKioqKioqKioqKioqXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFBsYXlhYmxlLCBbe1xuICAgIGtleTogXCJfc2V0U3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFN0YXRlKG5ld1N0YXRlKSB7XG4gICAgICBpZiAobmV3U3RhdGUgIT0gdGhpcy5ydW5UaW1lSW5mby5zdGF0ZSkge1xuICAgICAgICB0aGlzLnJ1blRpbWVJbmZvLnN0YXRlID0gbmV3U3RhdGU7IC8vIHRoZSBvbmx5IHRpbWVyIGFuZCB0aGUgb25seSByZXNwb25zaWJsZSBmb3IgQ2xpcCBleGVjdXRpb24gaXMgdGhlIENsaXBcbiAgICAgICAgLy8gQWxsIEluY2lkZW50cyBjb250YWluZWQgb24gYSBDbGlwIGFyZSBiZWVuIGV4ZWN1dGVkIGJ5IHRoZSBDbGlwIGl0c2VsZiB2aWEgaXRzIGNoYW5uZWxzLlxuICAgICAgICAvLyBUaHVzLCB0aGUgb25seSBJbmNpZGVudHMgdGhhdCBuZWVkIHRvIGtub3cgYWJvdXQgdGhlIHN0YXRlIG9mIHRoZSByb290IENsaXBcbiAgICAgICAgLy8gYXQgYW55IHRpbWUgYXJlIG9ubHkgdGhlIENsaXBzXG5cbiAgICAgICAgdGhpcy5wdXRNZXNzYWdlT25QaXBlKCdzZXRTdGF0ZScsIG5ld1N0YXRlLCAnQ2xpcHMnLCB7XG4gICAgICAgICAgc2VsZkV4ZWN1dGU6IGZhbHNlLFxuICAgICAgICAgIGRpcmVjdGlvbjogX1RSRUVDT05TVC5fRElSRUNUSU9OUy5fRE9XTlxuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5saXN0ZW5lcnMpIHtcbiAgICAgICAgICB2YXIgbGlzdG5lciA9IHRoaXMubGlzdGVuZXJzW2tleV07XG4gICAgICAgICAgbGlzdG5lci5mdW5jdCh0aGlzLnJ1blRpbWVJbmZvLmN1cnJlbnRNaWxsaXNlY29uZCwgbmV3U3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZVNldFN0YXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNldFN0YXRlKHRhcmdldCwgcGF5bG9hZCkge1xuICAgICAgdGhpcy5fc2V0U3RhdGUocGF5bG9hZCk7XG4gICAgfSAvLyBleGVjdXRpb24gbWV0aG9kc1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicGxheVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwbGF5KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBkZWJ1ZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICAgIGlmICh0aGlzLnJ1blRpbWVJbmZvLnN0YXRlID09PSAnaWRsZScgfHwgdGhpcy5ydW5UaW1lSW5mby5zdGF0ZSA9PT0gJ3BhdXNlZCcgfHwgdGhpcy5ydW5UaW1lSW5mby5zdGF0ZSA9PT0gJ2FybWVkJyB8fCB0aGlzLnJ1blRpbWVJbmZvLnN0YXRlID09PSAndHJhbnNpdGlvbmFsJyB8fCB0aGlzLnJ1blRpbWVJbmZvLnN0YXRlID09PSBcImJsb2NrZWRcIikge1xuICAgICAgICBpZiAodGhpcy5ydW5UaW1lSW5mby5zdGF0ZSA9PT0gJ3BhdXNlZCcpIHtcbiAgICAgICAgICB2YXIgZGVsdGEgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRoaXMucGF1c2VNb21lbnQ7XG4gICAgICAgICAgdGhpcy5wcmV2aW91c1RpbWVTdGFtcCArPSBkZWx0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldFN0YXRlKCdwbGF5aW5nJyk7XG5cbiAgICAgICAgdGhpcy5vblBsYXkoKTtcblxuICAgICAgICBpZiAoZGVidWcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAodGltZXN0YW1wKSB7XG4gICAgICAgICAgICBfdGhpczIuc3RlcCh0aW1lc3RhbXApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInBhdXNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgaWYgKHRoaXMucnVuVGltZUluZm8uc3RhdGUgPT09ICdwbGF5aW5nJykge1xuICAgICAgICB0aGlzLl9zZXRTdGF0ZSgncGF1c2VkJyk7XG5cbiAgICAgICAgdGhpcy5wYXVzZU1vbWVudCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB0aGlzLm9uV2FpdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiBhcm1lZCBzdGF0ZSBtZWFucyB0aGUgQ2xpcCBpcyBvbiBwYXVzZWQgc3RhdGUgYWZ0ZXIgdHJhbnNpdGlvbiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYXJtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFybSgpIHtcbiAgICAgIGlmICh0aGlzLnJ1blRpbWVJbmZvLnN0YXRlID09PSAndHJhbnNpdGlvbmFsJykge1xuICAgICAgICB0aGlzLl9zZXRTdGF0ZSgnYXJtZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcGxldGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICB0aGlzLl9zZXRTdGF0ZSgnaWRsZScpO1xuXG4gICAgICB0aGlzLnByZXZpb3VzVGltZVN0YW1wID0gLTE7XG4gICAgICB0aGlzLnJ1blRpbWVJbmZvLmN1cnJlbnRNaWxsaXNlY29uZCA9IDA7XG4gICAgfVxuICAgIC8qIGluIG9yZGVyIHRvIHN0YXJ0IGEgam91cm5leSB2aWEgdGhlIFRpbWVDYXBzdWxlIHRoZSBQbGF5YWJsZSBuZWVkcyBmaXJzdCB0byBzdG9wICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzdG9wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICB0aGlzLl9zZXRTdGF0ZSgndHJhbnNpdGlvbmFsJyk7XG5cbiAgICAgIHRoaXMucHJldmlvdXNUaW1lU3RhbXAgPSAtMTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYmxvY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYmxvY2soKSB7XG4gICAgICB0aGlzLl9zZXRTdGF0ZSgnYmxvY2tlZCcpO1xuXG4gICAgICB0aGlzLnByZXZpb3VzVGltZVN0YW1wID0gLTE7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUGxheVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblBsYXkoKSB7fVxuICB9LCB7XG4gICAga2V5OiBcIm9uV2FpdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbldhaXQoKSB7fVxuICB9LCB7XG4gICAga2V5OiBcInBsYXlhYmxlUHJvZ3Jlc3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGxheWFibGVQcm9ncmVzcyhmcmFjdGlvbiwgbWlsbGlzZWNvbmQpIHtcbiAgICAgIGlmICh0aGlzLmlzVGhlUm9vdENsaXApIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMubGlzdGVuZXJzKSB7XG4gICAgICAgICAgdmFyIGxpc3RuZXIgPSB0aGlzLmxpc3RlbmVyc1trZXldOyAvLyBpZiB0aGUgbGlzdGVuZXIgaXMgb25seSBmb3Igc3RhdGUgY2hhbmdlIGNvbnRpbnVlXG5cbiAgICAgICAgICBpZiAobGlzdG5lci5vbmx5T25TdGF0ZUNoYW5nZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSAvLyBjb25zb2xlLmxvZyhgTWF0aC5hYnMoJHttaWxsaXNlY29uZHN9ICsgJHtsaXN0bmVyLmNhdmFEZWx0YX0gLSAke3RoaXMucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kfSkgPiAke2xpc3RuZXIudGhyZXNob2xkfWApO1xuXG5cbiAgICAgICAgICBpZiAoTWF0aC5hYnMobWlsbGlzZWNvbmQgKyBsaXN0bmVyLmNhdmFEZWx0YSAtIHRoaXMucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kKSA+IGxpc3RuZXIudGhyZXNob2xkKSB7XG4gICAgICAgICAgICBsaXN0bmVyLmZ1bmN0KGhlbHBlci5yb3VuZE51bWJlclRvKG1pbGxpc2Vjb25kLCBsaXN0bmVyLnJvdW5kVG8pLCB0aGlzLnJ1blRpbWVJbmZvLnN0YXRlKTtcbiAgICAgICAgICAgIGxpc3RuZXIuY2F2YURlbHRhID0gMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGlzdG5lci5jYXZhRGVsdGEgKz0gTWF0aC5hYnMobWlsbGlzZWNvbmQgLSB0aGlzLnJ1blRpbWVJbmZvLmN1cnJlbnRNaWxsaXNlY29uZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vblByb2dyZXNzKGZyYWN0aW9uLCBtaWxsaXNlY29uZCk7XG4gICAgICAgIHRoaXMucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kID0gbWlsbGlzZWNvbmQ7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0ZXBcIixcbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgLy8gU1RFUCBGVU5DVElPTlxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdGVwKHRpbWVzdGFtcCkge1xuICAgICAgdmFyIGRlYnVnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICAgICAgaWYgKHRoaXMucnVuVGltZUluZm8uc3RhdGUgIT09ICdwbGF5aW5nJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMucHJldmlvdXNUaW1lU3RhbXAgPT09IC0xKSB7XG4gICAgICAgIHRoaXMucHJldmlvdXNUaW1lU3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgICB9IC8vIHByb2dyZXNzU3RlcCBpcyB0aGUgcHJvZ3Jlc3MgbWFkZSBmcm9tIHByZXZpb3VzVGltZVN0YW1wIGJvdGggaW4gbWlsbGlzZWNvbmRzIGFuZCBpbiBmcmFjdGlvbiBbMCB0byAxXVxuXG5cbiAgICAgIHZhciBwcm9ncmVzcyA9IHtcbiAgICAgICAgbWlsbGlzZWNvbmRzOiBNYXRoLnJvdW5kKHRoaXMucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kICsgKHRpbWVzdGFtcCAtIHRoaXMucHJldmlvdXNUaW1lU3RhbXApICogdGhpcy5zcGVlZCksXG4gICAgICAgIGZyYWN0aW9uOiAodGhpcy5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQgKyAodGltZXN0YW1wIC0gdGhpcy5wcmV2aW91c1RpbWVTdGFtcCkgKiB0aGlzLnNwZWVkKSAvIHRoaXMuZHVyYXRpb25cbiAgICAgIH07XG5cbiAgICAgIGlmIChwcm9ncmVzcy5mcmFjdGlvbiA+PSAxKSB7XG4gICAgICAgIHRoaXMucGxheWFibGVQcm9ncmVzcygxLCB0aGlzLmR1cmF0aW9uKTtcbiAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKHByb2dyZXNzLmZyYWN0aW9uIDwgMCkge1xuICAgICAgICB0aGlzLnBsYXlhYmxlUHJvZ3Jlc3MoMCwgMCk7XG4gICAgICAgIHRoaXMuY29tcGxldGUoKTsgLy8gdGhpcy5icm9hZGNhc3RFdmVudCgnc3RhdGUtY2hhbmdlJywgeyBvbGRTdGF0ZTogXCJwbGF5aW5nXCIsIG5ld1N0YXRlOiBcImlkbGVcIiB9KTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMucGxheWFibGVQcm9ncmVzcyhwcm9ncmVzcy5mcmFjdGlvbiwgcHJvZ3Jlc3MubWlsbGlzZWNvbmRzKTtcbiAgICAgIHRoaXMucHJldmlvdXNUaW1lU3RhbXAgPSB0aW1lc3RhbXA7XG5cbiAgICAgIGlmIChkZWJ1ZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGF0LnN0ZXAuYmluZCh0aGF0KSk7XG4gICAgICB9XG4gICAgfSAvLyAqKioqKioqKioqKiogUFVCIFNVQiAqKioqKioqKioqKioqKioqKioqKlxuICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgICAvKipcbiAgICAgIEJ5IHN1YnNjcmliaW5nIGEgbW9kdWxlIGNhbiBnZXQgbm90aWZpZWQgYWJvdXQgY2hhbmdlcyBvbiB0aGUgQ2xpcCdzIHRpbWVcbiAgICAgIHN1YnNjcmliZSBtZXRob2Qgc3Vic2NyaWJlcyBhIGZ1bmN0aW9uIHRvIHRoZSB0aW1lIGNoYW5nZSBkaXNwYXRjaGVyLiBBcyBDbGlwIHVzZXMgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGZvciBpdHMgdGltaW5nXG4gICAgICBlYWNoIGN5cmNsZSAvIHN0ZXAgZ2V0cyB0aGUgY3VycmVudCB0aW1lIGFuZCBzdWJ0cmFjdHMgdGhlIHByZXZpb3VzIHRpbWUgc28gaXQga25vdyBob3cgbWFueSBtaWxsaXNlY29uZHMgaGFzIGVsYXBzZWRcbiAgICAgIHNpbmNlIGxhc3Qgc3RlcC4gU3Vic2NyaWJlcnMgY2FuIHNldCB0byBnZXQgaW5mb3JtZWQgYWJvdXQgdGltZSBjaGFuZ2VzIG9ubHkgaWYgdGhlIGRlbHRhIGlzIGdyZWF0ZXIgdGhhbiBhIGdpdmVuXG4gICAgICBudW1iZXIgKGUuZy4gZ3JlYXRlciB0aGFuIDMwMG1zKS4gVGhhdCBwcm9wZXJ0eSBpcyBwYXNzZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBcInRocmVzaG9sZFwiLlxuICAgICAgRmluYWxseSBpZiBhbnkgb2YgdGhlIHN1YnNjcmliZXJzIHdhbnQgdGhlIFNjZW5lIHRvIHByb3ZpZGUgYmFjayBhIHJvdW5kZWQgbnVtYmVyIG9mIHRoZSBtaWxsaXNlY29uZHMuIE9wdGlvbnM6XG4gICAgICAgIC0gMSAocm91bmQgaXQgb24gaXRzIGFjdHVhbCB1bml0c1xuICAgICAgIC0gMTAgKHJvdW5kIGl0IG9uIHRlbnRocylcbiAgICAgICAtIDEwMCAocm91bmQgaXQgb24gaHVuZHJlZHMpXG4gICAgICAgLSAxMDAwIChyb3VuZCBpdCBvbiB0aG91c2FuZHMpXG4gICAgICB0aGUgZmlyc3QgYXJndW1lbnQgcHJvdmlkZXMgYW4gaWQgdG8gdGhlIGxpc3RlbmVyIGZvciBmdXR1cmUgcmVmZXJlbmNlIChkZWxldGlvbiBldGMpXG4gICAgICB0aGUgc2Vjb25kIGFyZ3VtZW50IGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyB0d28gYXJndW1lbnRzOiBtaWxsaXNlY29uZCwgc3RhdGUgKGN1cnJlbnQgbWlsbGlzZWNvbmQgb2YgdGhlIFNjZW5lXG4gICAgICBhbmQgdGhlIHN0YXRlIG9mIGl0ICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3Vic2NyaWJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1YnNjcmliZShpZCwgZnVuY3QsIHRocmVzaG9sZCwgcm91bmRUbykge1xuICAgICAgdmFyIG9ubHlPblN0YXRlQ2hhbmdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiBmYWxzZTtcblxuICAgICAgaWYgKCF0aHJlc2hvbGQpIHtcbiAgICAgICAgdGhyZXNob2xkID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFyb3VuZFRvKSB7XG4gICAgICAgIHJvdW5kVG8gPSAxOyAvLyByb3VuZCBzZWNvbmQgdG8gaXRzIHVuaXRzLCBtZWFuaW5nIGxlYXZlIGl0IGFzIGl0IGlzXG4gICAgICB9XG5cbiAgICAgIHRoaXMubGlzdGVuZXJzW2lkXSA9IHtcbiAgICAgICAgZnVuY3Q6IGZ1bmN0LFxuICAgICAgICB0aHJlc2hvbGQ6IHRocmVzaG9sZCxcbiAgICAgICAgcm91bmRUbzogcm91bmRUbyxcbiAgICAgICAgY2F2YURlbHRhOiAwLFxuICAgICAgICBvbmx5T25TdGF0ZUNoYW5nZTogb25seU9uU3RhdGVDaGFuZ2VcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVuc3Vic2NyaWJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKGlkKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMubGlzdGVuZXJzLCBpZCkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMubGlzdGVuZXJzW2lkXTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3Vic2NyaWJlVG9EdXJhdGlvbkNoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJzY3JpYmVUb0R1cmF0aW9uQ2hhbmdlKGZ1bmN0KSB7XG4gICAgICBpZiAodGhpcy5pc1RoZVJvb3RDbGlwKSB7XG4gICAgICAgIHRoaXMucmVhbENsaXAuc3Vic2NyaWJlVG9EdXJhdGlvbkNoYW5nZShmdW5jdCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImV4ZWN1dGlvblNwZWVkXCIsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoc3BlZWQpIHtcbiAgICAgIGlmICghdGhpcy5pc1RoZVJvb3RDbGlwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zcGVlZCA9IHBhcnNlRmxvYXQoc3BlZWQpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQbGF5YWJsZTtcbn0oRGVzY3JpcHRpdmVHcm91cCk7XG5cbm1vZHVsZS5leHBvcnRzID0gUGxheWFibGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Clip/Playable.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Clip/RootClipClone.js":
/*!****************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Clip/RootClipClone.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Helper = __webpack_require__(/*! ../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n/*\ndna: {\n    host\n    descriptiveIncident\n}\n*/\n\nvar ClipClone =\n/*#__PURE__*/\nfunction () {\n  function ClipClone(dna) {\n    _classCallCheck(this, ClipClone);\n\n    this.runTimeInfo = {\n      currentMillisecond: 0\n    };\n    this.id = helper.getAnId();\n    this.realClip = dna.descriptiveIncident.realClip; // In order to render itself on the given element first it needs the props (including html and css)\n    // from the real Clip it copies\n\n    var constructionArgs = dna.descriptiveIncident.realClip.exportConstructionArguments(); // it properly sets its own host on the props to use to initialise its own clip\n\n    var hostedProps = _objectSpread({}, constructionArgs.props, {\n      selector: undefined,\n      host: dna.host,\n      id: this.id\n    }); // we create a clip because Clips on creation render and thus have their own context\n\n\n    this.ownClip = new dna.descriptiveIncident.constructor.Incident(constructionArgs.attrs, hostedProps); // flushes the realClip with its ownClip's context\n\n    dna.descriptiveIncident.realClip.addContext({\n      clipId: this.id,\n      context: this.ownClip.ownContext,\n      synchronize: dna.synchronize\n    }, true);\n  }\n\n  _createClass(ClipClone, [{\n    key: \"onProgress\",\n    value: function onProgress(fraction, milliseconds) {\n      var forceReset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      for (var key in this.realClip.instantiatedChannels) {\n        var channel = this.realClip.instantiatedChannels[key];\n        channel.moveTo(this.runTimeInfo.currentMillisecond, milliseconds, this.id, forceReset);\n      }\n\n      this.runTimeInfo.currentMillisecond = milliseconds;\n    }\n  }]);\n\n  return ClipClone;\n}();\n\nmodule.exports = ClipClone;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DbGlwL1Jvb3RDbGlwQ2xvbmUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DbGlwL1Jvb3RDbGlwQ2xvbmUuanM/NjNiMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBIZWxwZXIgPSByZXF1aXJlKCcuLi9fY29yZVV0aWxzL0hlbHBlcicpO1xuXG52YXIgaGVscGVyID0gbmV3IEhlbHBlcigpO1xuLypcbmRuYToge1xuICAgIGhvc3RcbiAgICBkZXNjcmlwdGl2ZUluY2lkZW50XG59XG4qL1xuXG52YXIgQ2xpcENsb25lID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2xpcENsb25lKGRuYSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwQ2xvbmUpO1xuXG4gICAgdGhpcy5ydW5UaW1lSW5mbyA9IHtcbiAgICAgIGN1cnJlbnRNaWxsaXNlY29uZDogMFxuICAgIH07XG4gICAgdGhpcy5pZCA9IGhlbHBlci5nZXRBbklkKCk7XG4gICAgdGhpcy5yZWFsQ2xpcCA9IGRuYS5kZXNjcmlwdGl2ZUluY2lkZW50LnJlYWxDbGlwOyAvLyBJbiBvcmRlciB0byByZW5kZXIgaXRzZWxmIG9uIHRoZSBnaXZlbiBlbGVtZW50IGZpcnN0IGl0IG5lZWRzIHRoZSBwcm9wcyAoaW5jbHVkaW5nIGh0bWwgYW5kIGNzcylcbiAgICAvLyBmcm9tIHRoZSByZWFsIENsaXAgaXQgY29waWVzXG5cbiAgICB2YXIgY29uc3RydWN0aW9uQXJncyA9IGRuYS5kZXNjcmlwdGl2ZUluY2lkZW50LnJlYWxDbGlwLmV4cG9ydENvbnN0cnVjdGlvbkFyZ3VtZW50cygpOyAvLyBpdCBwcm9wZXJseSBzZXRzIGl0cyBvd24gaG9zdCBvbiB0aGUgcHJvcHMgdG8gdXNlIHRvIGluaXRpYWxpc2UgaXRzIG93biBjbGlwXG5cbiAgICB2YXIgaG9zdGVkUHJvcHMgPSBfb2JqZWN0U3ByZWFkKHt9LCBjb25zdHJ1Y3Rpb25BcmdzLnByb3BzLCB7XG4gICAgICBzZWxlY3RvcjogdW5kZWZpbmVkLFxuICAgICAgaG9zdDogZG5hLmhvc3QsXG4gICAgICBpZDogdGhpcy5pZFxuICAgIH0pOyAvLyB3ZSBjcmVhdGUgYSBjbGlwIGJlY2F1c2UgQ2xpcHMgb24gY3JlYXRpb24gcmVuZGVyIGFuZCB0aHVzIGhhdmUgdGhlaXIgb3duIGNvbnRleHRcblxuXG4gICAgdGhpcy5vd25DbGlwID0gbmV3IGRuYS5kZXNjcmlwdGl2ZUluY2lkZW50LmNvbnN0cnVjdG9yLkluY2lkZW50KGNvbnN0cnVjdGlvbkFyZ3MuYXR0cnMsIGhvc3RlZFByb3BzKTsgLy8gZmx1c2hlcyB0aGUgcmVhbENsaXAgd2l0aCBpdHMgb3duQ2xpcCdzIGNvbnRleHRcblxuICAgIGRuYS5kZXNjcmlwdGl2ZUluY2lkZW50LnJlYWxDbGlwLmFkZENvbnRleHQoe1xuICAgICAgY2xpcElkOiB0aGlzLmlkLFxuICAgICAgY29udGV4dDogdGhpcy5vd25DbGlwLm93bkNvbnRleHQsXG4gICAgICBzeW5jaHJvbml6ZTogZG5hLnN5bmNocm9uaXplXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2xpcENsb25lLCBbe1xuICAgIGtleTogXCJvblByb2dyZXNzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUHJvZ3Jlc3MoZnJhY3Rpb24sIG1pbGxpc2Vjb25kcykge1xuICAgICAgdmFyIGZvcmNlUmVzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5yZWFsQ2xpcC5pbnN0YW50aWF0ZWRDaGFubmVscykge1xuICAgICAgICB2YXIgY2hhbm5lbCA9IHRoaXMucmVhbENsaXAuaW5zdGFudGlhdGVkQ2hhbm5lbHNba2V5XTtcbiAgICAgICAgY2hhbm5lbC5tb3ZlVG8odGhpcy5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQsIG1pbGxpc2Vjb25kcywgdGhpcy5pZCwgZm9yY2VSZXNldCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kID0gbWlsbGlzZWNvbmRzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDbGlwQ2xvbmU7XG59KCk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2xpcENsb25lOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Clip/RootClipClone.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Clip/helpers/HTMLFragmentContextHandler.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Clip/helpers/HTMLFragmentContextHandler.js ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Helper = __webpack_require__(/*! ../../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar conf = __webpack_require__(/*! ../../_configuration/generalConf */ \"../node_modules/@kissmybutton/motorcortex/dist/_configuration/generalConf.js\");\n\nvar HTMLFragmentContextHandler =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {object} props - an object that should contain all of the following keys:\n   * - html (the html template to render)\n   * - css (the css template of the isolated tree)\n   * - initParams (optional / the initialisation parameteres that will be passed both on the css and the html templates in order to render)\n   * - host (an Element object that will host the isolated tree)\n   * - containerParams (an object that holds parameters to affect the container of the isolated tree, e.g. width, height etc)\n   */\n  function HTMLFragmentContextHandler() {\n    var originalProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, HTMLFragmentContextHandler);\n\n    var props = Object.assign({}, originalProps);\n\n    if (!helper.isObject(props)) {\n      helper.error(\"HTMLFragmentContextHandler expects an object on its constructor. \".concat(_typeof(props), \" passed\"));\n      return false;\n    }\n\n    if (!Object.prototype.hasOwnProperty.call(props, \"html\")) {\n      props.html = '';\n    }\n\n    this.isDOM = true;\n    var fragment = document.createDocumentFragment();\n    var wrapper = document.createElement('div');\n\n    if (Object.prototype.hasOwnProperty.call(props, \"containerParams\")) {\n      if (Object.prototype.hasOwnProperty.call(props, \"width\")) {\n        wrapper.style.width = props.containerParams.width;\n      }\n\n      if (Object.prototype.hasOwnProperty.call(props, \"height\")) {\n        wrapper.style.height = props.containerParams.height;\n      }\n    }\n\n    wrapper.innerHTML = helper.renderTemplate(props.html, {\n      params: props.initParams\n    });\n    fragment.appendChild(wrapper);\n    wrapper.style.overflow = \"hidden\";\n    this.rootElement = wrapper;\n    this.context = {\n      document: document,\n      window: window,\n      clipContainer: this.rootElement,\n      rootElement: wrapper,\n      unmount: function unmount() {\n        props.host.removeChild(fragment);\n      },\n      getElements: this.getElements.bind(this),\n      getMCID: this.getMCID.bind(this),\n      setMCID: this.setMCID.bind(this),\n      getElementSelectorByMCID: this.getElementSelectorByMCID.bind(this),\n      getElementByMCID: this.getElementByMCID.bind(this),\n      fragment: true\n    };\n    this.elementsByMCID = {};\n  }\n\n  _createClass(HTMLFragmentContextHandler, [{\n    key: \"getElementByMCID\",\n    value: function getElementByMCID(mcid) {\n      if (Object.prototype.hasOwnProperty.call(this.elementsByMCID, mcid)) {\n        return this.elementsByMCID[mcid];\n      } else {\n        var element = this.context.rootElement.querySelector(this.getElementSelectorByMCID(mcid));\n        this.elementsByMCID[mcid] = element;\n        return element;\n      }\n    }\n  }, {\n    key: \"getElements\",\n    value: function getElements(selector) {\n      return Array.from(this.context.rootElement.querySelectorAll(selector));\n    }\n  }, {\n    key: \"getMCID\",\n    value: function getMCID(element) {\n      return element.getAttribute(conf.elements_data_attribute_name);\n    }\n  }, {\n    key: \"setMCID\",\n    value: function setMCID(element, mcid) {\n      element.setAttribute(conf.elements_data_attribute_name, mcid);\n    }\n  }, {\n    key: \"getElementSelectorByMCID\",\n    value: function getElementSelectorByMCID(mcid) {\n      return '[' + conf.elements_data_attribute_name + '=\"' + mcid + '\"]';\n    }\n  }]);\n\n  return HTMLFragmentContextHandler;\n}();\n\nmodule.exports = HTMLFragmentContextHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DbGlwL2hlbHBlcnMvSFRNTEZyYWdtZW50Q29udGV4dEhhbmRsZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DbGlwL2hlbHBlcnMvSFRNTEZyYWdtZW50Q29udGV4dEhhbmRsZXIuanM/ZjQ2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vX2NvcmVVdGlscy9IZWxwZXInKTtcblxudmFyIGhlbHBlciA9IG5ldyBIZWxwZXIoKTtcblxudmFyIGNvbmYgPSByZXF1aXJlKCcuLi8uLi9fY29uZmlndXJhdGlvbi9nZW5lcmFsQ29uZicpO1xuXG52YXIgSFRNTEZyYWdtZW50Q29udGV4dEhhbmRsZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtvYmplY3R9IHByb3BzIC0gYW4gb2JqZWN0IHRoYXQgc2hvdWxkIGNvbnRhaW4gYWxsIG9mIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICogLSBodG1sICh0aGUgaHRtbCB0ZW1wbGF0ZSB0byByZW5kZXIpXG4gICAqIC0gY3NzICh0aGUgY3NzIHRlbXBsYXRlIG9mIHRoZSBpc29sYXRlZCB0cmVlKVxuICAgKiAtIGluaXRQYXJhbXMgKG9wdGlvbmFsIC8gdGhlIGluaXRpYWxpc2F0aW9uIHBhcmFtZXRlcmVzIHRoYXQgd2lsbCBiZSBwYXNzZWQgYm90aCBvbiB0aGUgY3NzIGFuZCB0aGUgaHRtbCB0ZW1wbGF0ZXMgaW4gb3JkZXIgdG8gcmVuZGVyKVxuICAgKiAtIGhvc3QgKGFuIEVsZW1lbnQgb2JqZWN0IHRoYXQgd2lsbCBob3N0IHRoZSBpc29sYXRlZCB0cmVlKVxuICAgKiAtIGNvbnRhaW5lclBhcmFtcyAoYW4gb2JqZWN0IHRoYXQgaG9sZHMgcGFyYW1ldGVycyB0byBhZmZlY3QgdGhlIGNvbnRhaW5lciBvZiB0aGUgaXNvbGF0ZWQgdHJlZSwgZS5nLiB3aWR0aCwgaGVpZ2h0IGV0YylcbiAgICovXG4gIGZ1bmN0aW9uIEhUTUxGcmFnbWVudENvbnRleHRIYW5kbGVyKCkge1xuICAgIHZhciBvcmlnaW5hbFByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIVE1MRnJhZ21lbnRDb250ZXh0SGFuZGxlcik7XG5cbiAgICB2YXIgcHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCBvcmlnaW5hbFByb3BzKTtcblxuICAgIGlmICghaGVscGVyLmlzT2JqZWN0KHByb3BzKSkge1xuICAgICAgaGVscGVyLmVycm9yKFwiSFRNTEZyYWdtZW50Q29udGV4dEhhbmRsZXIgZXhwZWN0cyBhbiBvYmplY3Qgb24gaXRzIGNvbnN0cnVjdG9yLiBcIi5jb25jYXQoX3R5cGVvZihwcm9wcyksIFwiIHBhc3NlZFwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIFwiaHRtbFwiKSkge1xuICAgICAgcHJvcHMuaHRtbCA9ICcnO1xuICAgIH1cblxuICAgIHRoaXMuaXNET00gPSB0cnVlO1xuICAgIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgXCJjb250YWluZXJQYXJhbXNcIikpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIFwid2lkdGhcIikpIHtcbiAgICAgICAgd3JhcHBlci5zdHlsZS53aWR0aCA9IHByb3BzLmNvbnRhaW5lclBhcmFtcy53aWR0aDtcbiAgICAgIH1cblxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgXCJoZWlnaHRcIikpIHtcbiAgICAgICAgd3JhcHBlci5zdHlsZS5oZWlnaHQgPSBwcm9wcy5jb250YWluZXJQYXJhbXMuaGVpZ2h0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gaGVscGVyLnJlbmRlclRlbXBsYXRlKHByb3BzLmh0bWwsIHtcbiAgICAgIHBhcmFtczogcHJvcHMuaW5pdFBhcmFtc1xuICAgIH0pO1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHdyYXBwZXIpO1xuICAgIHdyYXBwZXIuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIHRoaXMucm9vdEVsZW1lbnQgPSB3cmFwcGVyO1xuICAgIHRoaXMuY29udGV4dCA9IHtcbiAgICAgIGRvY3VtZW50OiBkb2N1bWVudCxcbiAgICAgIHdpbmRvdzogd2luZG93LFxuICAgICAgY2xpcENvbnRhaW5lcjogdGhpcy5yb290RWxlbWVudCxcbiAgICAgIHJvb3RFbGVtZW50OiB3cmFwcGVyLFxuICAgICAgdW5tb3VudDogZnVuY3Rpb24gdW5tb3VudCgpIHtcbiAgICAgICAgcHJvcHMuaG9zdC5yZW1vdmVDaGlsZChmcmFnbWVudCk7XG4gICAgICB9LFxuICAgICAgZ2V0RWxlbWVudHM6IHRoaXMuZ2V0RWxlbWVudHMuYmluZCh0aGlzKSxcbiAgICAgIGdldE1DSUQ6IHRoaXMuZ2V0TUNJRC5iaW5kKHRoaXMpLFxuICAgICAgc2V0TUNJRDogdGhpcy5zZXRNQ0lELmJpbmQodGhpcyksXG4gICAgICBnZXRFbGVtZW50U2VsZWN0b3JCeU1DSUQ6IHRoaXMuZ2V0RWxlbWVudFNlbGVjdG9yQnlNQ0lELmJpbmQodGhpcyksXG4gICAgICBnZXRFbGVtZW50QnlNQ0lEOiB0aGlzLmdldEVsZW1lbnRCeU1DSUQuYmluZCh0aGlzKSxcbiAgICAgIGZyYWdtZW50OiB0cnVlXG4gICAgfTtcbiAgICB0aGlzLmVsZW1lbnRzQnlNQ0lEID0ge307XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSFRNTEZyYWdtZW50Q29udGV4dEhhbmRsZXIsIFt7XG4gICAga2V5OiBcImdldEVsZW1lbnRCeU1DSURcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RWxlbWVudEJ5TUNJRChtY2lkKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuZWxlbWVudHNCeU1DSUQsIG1jaWQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzQnlNQ0lEW21jaWRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmNvbnRleHQucm9vdEVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmdldEVsZW1lbnRTZWxlY3RvckJ5TUNJRChtY2lkKSk7XG4gICAgICAgIHRoaXMuZWxlbWVudHNCeU1DSURbbWNpZF0gPSBlbGVtZW50O1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RWxlbWVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RWxlbWVudHMoc2VsZWN0b3IpIHtcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuY29udGV4dC5yb290RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldE1DSURcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TUNJRChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoY29uZi5lbGVtZW50c19kYXRhX2F0dHJpYnV0ZV9uYW1lKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0TUNJRFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRNQ0lEKGVsZW1lbnQsIG1jaWQpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGNvbmYuZWxlbWVudHNfZGF0YV9hdHRyaWJ1dGVfbmFtZSwgbWNpZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEVsZW1lbnRTZWxlY3RvckJ5TUNJRFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFbGVtZW50U2VsZWN0b3JCeU1DSUQobWNpZCkge1xuICAgICAgcmV0dXJuICdbJyArIGNvbmYuZWxlbWVudHNfZGF0YV9hdHRyaWJ1dGVfbmFtZSArICc9XCInICsgbWNpZCArICdcIl0nO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBIVE1MRnJhZ21lbnRDb250ZXh0SGFuZGxlcjtcbn0oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBIVE1MRnJhZ21lbnRDb250ZXh0SGFuZGxlcjsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Clip/helpers/HTMLFragmentContextHandler.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Clip/helpers/IframeContextHandler.js":
/*!*******************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Clip/helpers/IframeContextHandler.js ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/*\niframe[seamless]{\n    background-color: transparent;\n    border: 0px none transparent;\n    padding: 0px;\n    overflow: hidden;\n}\n\nmight need more work for IE. See here: https://stackoverflow.com/a/29209248\n*/\nvar Helper = __webpack_require__(/*! ../../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar conf = __webpack_require__(/*! ../../_configuration/generalConf */ \"../node_modules/@kissmybutton/motorcortex/dist/_configuration/generalConf.js\");\n\nvar IframeContextHandler =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {object} props - an object that should contain all of the following keys:\n   * - html (the html template to render)\n   * - css (the css template of the isolated tree)\n   * - initParams (optional / the initialisation parameteres that will be passed both on the css and the html templates in order to render)\n   * - host (an Element object that will host the isolated tree)\n   * - containerParams (an object that holds parameters to affect the container of the isolated tree, e.g. width, height etc)\n   */\n  function IframeContextHandler() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, IframeContextHandler);\n\n    if (!helper.isObject(props)) {\n      helper.error(\"ContextHandler expects an object on its constructor. \".concat(_typeof(props), \" passed\"));\n      return false;\n    }\n\n    if (!Object.prototype.hasOwnProperty.call(props, 'html')) {\n      helper.error(\"ContextHandler expects the html key on its constructor properties which is missing\");\n      return false;\n    }\n\n    if (!Object.prototype.hasOwnProperty.call(props, 'css')) {\n      helper.error(\"ContextHandler expects the css key on its constructor properties which is missing\");\n      return false;\n    }\n\n    if (!Object.prototype.hasOwnProperty.call(props, 'initParams')) {\n      helper.info(\"ContextHandler got null initParams\");\n    }\n\n    if (!Object.prototype.hasOwnProperty.call(props, 'host')) {\n      helper.error(\"ContextHandler expects the host key on its constructor properties which is missing\");\n      return false;\n    }\n\n    this.isDOM = true;\n    var ownerDocument = props.host.ownerDocument;\n\n    if (!ownerDocument.getElementById(\"@kissmybutton/motorcortex/iframeContextHandler/css\")) {\n      var seamlessCSS = \"\\n            iframe[seamless]{\\n                background-color: transparent;\\n                border: 0px none transparent;\\n                padding: 0px;\\n                overflow: hidden;\\n            }\\n            \";\n      var iframesCSS = ownerDocument.createElement('style');\n      iframesCSS.id = \"@kissmybutton/motorcortex/iframeContextHandler/css\";\n      iframesCSS.type = 'text/css';\n      var Head = ownerDocument.head || ownerDocument.getElementsByTagName('head')[0];\n\n      if (iframesCSS.styleSheet) {\n        iframesCSS.styleSheet.cssText = seamlessCSS;\n      } else {\n        iframesCSS.appendChild(ownerDocument.createTextNode(seamlessCSS));\n      }\n\n      Head.appendChild(iframesCSS);\n    } // Create an iframe:\n\n\n    var iframe = ownerDocument.createElement('iframe');\n    props.host.appendChild(iframe);\n    iframe.setAttribute(\"seamless\", \"seamless\");\n\n    if (Object.prototype.hasOwnProperty.call(props, 'containerParams')) {\n      if (Object.prototype.hasOwnProperty.call(props.containerParams, 'width')) {\n        iframe.setAttribute('width', props.containerParams.width);\n      }\n\n      if (Object.prototype.hasOwnProperty.call(props.containerParams, 'height')) {\n        iframe.setAttribute('height', props.containerParams.height);\n      }\n    } // Initialise the iframe\n\n\n    iframe.src = ''; // Put it in the document (but hidden):\n\n    var iframeDocument = iframe.contentWindow || iframe.contentDocument;\n\n    if (iframeDocument.document) {\n      iframeDocument = iframeDocument.document;\n    }\n\n    iframeDocument.write(helper.renderTemplate(props.html, {\n      params: props.initParams\n    }));\n    var bodyFixCSS = \"\\n        body{\\n            padding:0;\\n            margin:0;\\n        }\\n        \";\n    var styleTag = iframeDocument.createElement('style');\n    styleTag.type = 'text/css';\n\n    if (styleTag.styleSheet) {\n      styleTag.styleSheet.cssText = helper.renderTemplate(props.css, {\n        params: props.initParams\n      }) + bodyFixCSS;\n    } else {\n      styleTag.appendChild(ownerDocument.createTextNode(props.css + bodyFixCSS));\n    }\n\n    var head = iframeDocument.head || iframeDocument.getElementsByTagName('head')[0];\n    head.appendChild(styleTag);\n\n    if (Object.prototype.hasOwnProperty.call(props, 'fonts')) {\n      for (var i = 0; i < props.fonts.length; i++) {\n        var theFont = props.fonts[i];\n\n        if (theFont.type === \"google-font\") {\n          var fontTag = iframeDocument.createElement('link');\n          fontTag.setAttribute('rel', 'stylesheet');\n          fontTag.setAttribute('src', theFont.src);\n          head.appendChild(fontTag);\n        }\n      }\n    }\n\n    this.rootElement = iframe;\n    iframeDocument.close();\n    this.context = {\n      document: iframeDocument,\n      window: iframe.contentWindow || iframe,\n      clipContainer: iframe,\n      rootElement: iframeDocument.body,\n      unmount: function unmount() {\n        props.host.removeChild(iframe);\n      },\n      getElements: this.getElements.bind(this),\n      getMCID: this.getMCID.bind(this),\n      setMCID: this.setMCID.bind(this),\n      getElementSelectorByMCID: this.getElementSelectorByMCID.bind(this),\n      getElementByMCID: this.getElementByMCID.bind(this)\n    };\n    this.elementsByMCID = {};\n  }\n\n  _createClass(IframeContextHandler, [{\n    key: \"getElementByMCID\",\n    value: function getElementByMCID(mcid) {\n      if (Object.prototype.hasOwnProperty.call(this.elementsByMCID, mcid)) {\n        return this.elementsByMCID[mcid];\n      } else {\n        var element = this.context.rootElement.querySelector(this.getElementSelectorByMCID(mcid));\n        this.elementsByMCID[mcid] = element;\n        return element;\n      }\n    }\n  }, {\n    key: \"getElements\",\n    value: function getElements(selector) {\n      return Array.from(this.context.rootElement.querySelectorAll(selector));\n    }\n  }, {\n    key: \"getMCID\",\n    value: function getMCID(element) {\n      return element.getAttribute(conf.elements_data_attribute_name);\n    }\n  }, {\n    key: \"setMCID\",\n    value: function setMCID(element, mcid) {\n      element.setAttribute(conf.elements_data_attribute_name, mcid);\n    }\n  }, {\n    key: \"getElementSelectorByMCID\",\n    value: function getElementSelectorByMCID(mcid) {\n      return '[' + conf.elements_data_attribute_name + '=\"' + mcid + '\"]';\n    }\n  }]);\n\n  return IframeContextHandler;\n}();\n\nmodule.exports = IframeContextHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DbGlwL2hlbHBlcnMvSWZyYW1lQ29udGV4dEhhbmRsZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DbGlwL2hlbHBlcnMvSWZyYW1lQ29udGV4dEhhbmRsZXIuanM/ODUwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vKlxuaWZyYW1lW3NlYW1sZXNzXXtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICBib3JkZXI6IDBweCBub25lIHRyYW5zcGFyZW50O1xuICAgIHBhZGRpbmc6IDBweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG5taWdodCBuZWVkIG1vcmUgd29yayBmb3IgSUUuIFNlZSBoZXJlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjkyMDkyNDhcbiovXG52YXIgSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vX2NvcmVVdGlscy9IZWxwZXInKTtcblxudmFyIGhlbHBlciA9IG5ldyBIZWxwZXIoKTtcblxudmFyIGNvbmYgPSByZXF1aXJlKCcuLi8uLi9fY29uZmlndXJhdGlvbi9nZW5lcmFsQ29uZicpO1xuXG52YXIgSWZyYW1lQ29udGV4dEhhbmRsZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtvYmplY3R9IHByb3BzIC0gYW4gb2JqZWN0IHRoYXQgc2hvdWxkIGNvbnRhaW4gYWxsIG9mIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICogLSBodG1sICh0aGUgaHRtbCB0ZW1wbGF0ZSB0byByZW5kZXIpXG4gICAqIC0gY3NzICh0aGUgY3NzIHRlbXBsYXRlIG9mIHRoZSBpc29sYXRlZCB0cmVlKVxuICAgKiAtIGluaXRQYXJhbXMgKG9wdGlvbmFsIC8gdGhlIGluaXRpYWxpc2F0aW9uIHBhcmFtZXRlcmVzIHRoYXQgd2lsbCBiZSBwYXNzZWQgYm90aCBvbiB0aGUgY3NzIGFuZCB0aGUgaHRtbCB0ZW1wbGF0ZXMgaW4gb3JkZXIgdG8gcmVuZGVyKVxuICAgKiAtIGhvc3QgKGFuIEVsZW1lbnQgb2JqZWN0IHRoYXQgd2lsbCBob3N0IHRoZSBpc29sYXRlZCB0cmVlKVxuICAgKiAtIGNvbnRhaW5lclBhcmFtcyAoYW4gb2JqZWN0IHRoYXQgaG9sZHMgcGFyYW1ldGVycyB0byBhZmZlY3QgdGhlIGNvbnRhaW5lciBvZiB0aGUgaXNvbGF0ZWQgdHJlZSwgZS5nLiB3aWR0aCwgaGVpZ2h0IGV0YylcbiAgICovXG4gIGZ1bmN0aW9uIElmcmFtZUNvbnRleHRIYW5kbGVyKCkge1xuICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSWZyYW1lQ29udGV4dEhhbmRsZXIpO1xuXG4gICAgaWYgKCFoZWxwZXIuaXNPYmplY3QocHJvcHMpKSB7XG4gICAgICBoZWxwZXIuZXJyb3IoXCJDb250ZXh0SGFuZGxlciBleHBlY3RzIGFuIG9iamVjdCBvbiBpdHMgY29uc3RydWN0b3IuIFwiLmNvbmNhdChfdHlwZW9mKHByb3BzKSwgXCIgcGFzc2VkXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgJ2h0bWwnKSkge1xuICAgICAgaGVscGVyLmVycm9yKFwiQ29udGV4dEhhbmRsZXIgZXhwZWN0cyB0aGUgaHRtbCBrZXkgb24gaXRzIGNvbnN0cnVjdG9yIHByb3BlcnRpZXMgd2hpY2ggaXMgbWlzc2luZ1wiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgJ2NzcycpKSB7XG4gICAgICBoZWxwZXIuZXJyb3IoXCJDb250ZXh0SGFuZGxlciBleHBlY3RzIHRoZSBjc3Mga2V5IG9uIGl0cyBjb25zdHJ1Y3RvciBwcm9wZXJ0aWVzIHdoaWNoIGlzIG1pc3NpbmdcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsICdpbml0UGFyYW1zJykpIHtcbiAgICAgIGhlbHBlci5pbmZvKFwiQ29udGV4dEhhbmRsZXIgZ290IG51bGwgaW5pdFBhcmFtc1wiKTtcbiAgICB9XG5cbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgJ2hvc3QnKSkge1xuICAgICAgaGVscGVyLmVycm9yKFwiQ29udGV4dEhhbmRsZXIgZXhwZWN0cyB0aGUgaG9zdCBrZXkgb24gaXRzIGNvbnN0cnVjdG9yIHByb3BlcnRpZXMgd2hpY2ggaXMgbWlzc2luZ1wiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmlzRE9NID0gdHJ1ZTtcbiAgICB2YXIgb3duZXJEb2N1bWVudCA9IHByb3BzLmhvc3Qub3duZXJEb2N1bWVudDtcblxuICAgIGlmICghb3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkBraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvaWZyYW1lQ29udGV4dEhhbmRsZXIvY3NzXCIpKSB7XG4gICAgICB2YXIgc2VhbWxlc3NDU1MgPSBcIlxcbiAgICAgICAgICAgIGlmcmFtZVtzZWFtbGVzc117XFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICAgICAgICAgICAgICBib3JkZXI6IDBweCBub25lIHRyYW5zcGFyZW50O1xcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwcHg7XFxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIFwiO1xuICAgICAgdmFyIGlmcmFtZXNDU1MgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBpZnJhbWVzQ1NTLmlkID0gXCJAa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2lmcmFtZUNvbnRleHRIYW5kbGVyL2Nzc1wiO1xuICAgICAgaWZyYW1lc0NTUy50eXBlID0gJ3RleHQvY3NzJztcbiAgICAgIHZhciBIZWFkID0gb3duZXJEb2N1bWVudC5oZWFkIHx8IG93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcblxuICAgICAgaWYgKGlmcmFtZXNDU1Muc3R5bGVTaGVldCkge1xuICAgICAgICBpZnJhbWVzQ1NTLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHNlYW1sZXNzQ1NTO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWZyYW1lc0NTUy5hcHBlbmRDaGlsZChvd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHNlYW1sZXNzQ1NTKSk7XG4gICAgICB9XG5cbiAgICAgIEhlYWQuYXBwZW5kQ2hpbGQoaWZyYW1lc0NTUyk7XG4gICAgfSAvLyBDcmVhdGUgYW4gaWZyYW1lOlxuXG5cbiAgICB2YXIgaWZyYW1lID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICBwcm9wcy5ob3N0LmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcInNlYW1sZXNzXCIsIFwic2VhbWxlc3NcIik7XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCAnY29udGFpbmVyUGFyYW1zJykpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMuY29udGFpbmVyUGFyYW1zLCAnd2lkdGgnKSkge1xuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHByb3BzLmNvbnRhaW5lclBhcmFtcy53aWR0aCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMuY29udGFpbmVyUGFyYW1zLCAnaGVpZ2h0JykpIHtcbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgcHJvcHMuY29udGFpbmVyUGFyYW1zLmhlaWdodCk7XG4gICAgICB9XG4gICAgfSAvLyBJbml0aWFsaXNlIHRoZSBpZnJhbWVcblxuXG4gICAgaWZyYW1lLnNyYyA9ICcnOyAvLyBQdXQgaXQgaW4gdGhlIGRvY3VtZW50IChidXQgaGlkZGVuKTpcblxuICAgIHZhciBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93IHx8IGlmcmFtZS5jb250ZW50RG9jdW1lbnQ7XG5cbiAgICBpZiAoaWZyYW1lRG9jdW1lbnQuZG9jdW1lbnQpIHtcbiAgICAgIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lRG9jdW1lbnQuZG9jdW1lbnQ7XG4gICAgfVxuXG4gICAgaWZyYW1lRG9jdW1lbnQud3JpdGUoaGVscGVyLnJlbmRlclRlbXBsYXRlKHByb3BzLmh0bWwsIHtcbiAgICAgIHBhcmFtczogcHJvcHMuaW5pdFBhcmFtc1xuICAgIH0pKTtcbiAgICB2YXIgYm9keUZpeENTUyA9IFwiXFxuICAgICAgICBib2R5e1xcbiAgICAgICAgICAgIHBhZGRpbmc6MDtcXG4gICAgICAgICAgICBtYXJnaW46MDtcXG4gICAgICAgIH1cXG4gICAgICAgIFwiO1xuICAgIHZhciBzdHlsZVRhZyA9IGlmcmFtZURvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGVUYWcudHlwZSA9ICd0ZXh0L2Nzcyc7XG5cbiAgICBpZiAoc3R5bGVUYWcuc3R5bGVTaGVldCkge1xuICAgICAgc3R5bGVUYWcuc3R5bGVTaGVldC5jc3NUZXh0ID0gaGVscGVyLnJlbmRlclRlbXBsYXRlKHByb3BzLmNzcywge1xuICAgICAgICBwYXJhbXM6IHByb3BzLmluaXRQYXJhbXNcbiAgICAgIH0pICsgYm9keUZpeENTUztcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVUYWcuYXBwZW5kQ2hpbGQob3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShwcm9wcy5jc3MgKyBib2R5Rml4Q1NTKSk7XG4gICAgfVxuXG4gICAgdmFyIGhlYWQgPSBpZnJhbWVEb2N1bWVudC5oZWFkIHx8IGlmcmFtZURvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZVRhZyk7XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCAnZm9udHMnKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5mb250cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdGhlRm9udCA9IHByb3BzLmZvbnRzW2ldO1xuXG4gICAgICAgIGlmICh0aGVGb250LnR5cGUgPT09IFwiZ29vZ2xlLWZvbnRcIikge1xuICAgICAgICAgIHZhciBmb250VGFnID0gaWZyYW1lRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgICAgICAgIGZvbnRUYWcuc2V0QXR0cmlidXRlKCdyZWwnLCAnc3R5bGVzaGVldCcpO1xuICAgICAgICAgIGZvbnRUYWcuc2V0QXR0cmlidXRlKCdzcmMnLCB0aGVGb250LnNyYyk7XG4gICAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChmb250VGFnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucm9vdEVsZW1lbnQgPSBpZnJhbWU7XG4gICAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgICB0aGlzLmNvbnRleHQgPSB7XG4gICAgICBkb2N1bWVudDogaWZyYW1lRG9jdW1lbnQsXG4gICAgICB3aW5kb3c6IGlmcmFtZS5jb250ZW50V2luZG93IHx8IGlmcmFtZSxcbiAgICAgIGNsaXBDb250YWluZXI6IGlmcmFtZSxcbiAgICAgIHJvb3RFbGVtZW50OiBpZnJhbWVEb2N1bWVudC5ib2R5LFxuICAgICAgdW5tb3VudDogZnVuY3Rpb24gdW5tb3VudCgpIHtcbiAgICAgICAgcHJvcHMuaG9zdC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgICAgfSxcbiAgICAgIGdldEVsZW1lbnRzOiB0aGlzLmdldEVsZW1lbnRzLmJpbmQodGhpcyksXG4gICAgICBnZXRNQ0lEOiB0aGlzLmdldE1DSUQuYmluZCh0aGlzKSxcbiAgICAgIHNldE1DSUQ6IHRoaXMuc2V0TUNJRC5iaW5kKHRoaXMpLFxuICAgICAgZ2V0RWxlbWVudFNlbGVjdG9yQnlNQ0lEOiB0aGlzLmdldEVsZW1lbnRTZWxlY3RvckJ5TUNJRC5iaW5kKHRoaXMpLFxuICAgICAgZ2V0RWxlbWVudEJ5TUNJRDogdGhpcy5nZXRFbGVtZW50QnlNQ0lELmJpbmQodGhpcylcbiAgICB9O1xuICAgIHRoaXMuZWxlbWVudHNCeU1DSUQgPSB7fTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhJZnJhbWVDb250ZXh0SGFuZGxlciwgW3tcbiAgICBrZXk6IFwiZ2V0RWxlbWVudEJ5TUNJRFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFbGVtZW50QnlNQ0lEKG1jaWQpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5lbGVtZW50c0J5TUNJRCwgbWNpZCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNCeU1DSURbbWNpZF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuY29udGV4dC5yb290RWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuZ2V0RWxlbWVudFNlbGVjdG9yQnlNQ0lEKG1jaWQpKTtcbiAgICAgICAgdGhpcy5lbGVtZW50c0J5TUNJRFttY2lkXSA9IGVsZW1lbnQ7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRFbGVtZW50c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFbGVtZW50cyhzZWxlY3Rvcikge1xuICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jb250ZXh0LnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TUNJRFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNQ0lEKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShjb25mLmVsZW1lbnRzX2RhdGFfYXR0cmlidXRlX25hbWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRNQ0lEXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1DSUQoZWxlbWVudCwgbWNpZCkge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoY29uZi5lbGVtZW50c19kYXRhX2F0dHJpYnV0ZV9uYW1lLCBtY2lkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RWxlbWVudFNlbGVjdG9yQnlNQ0lEXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVsZW1lbnRTZWxlY3RvckJ5TUNJRChtY2lkKSB7XG4gICAgICByZXR1cm4gJ1snICsgY29uZi5lbGVtZW50c19kYXRhX2F0dHJpYnV0ZV9uYW1lICsgJz1cIicgKyBtY2lkICsgJ1wiXSc7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIElmcmFtZUNvbnRleHRIYW5kbGVyO1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IElmcmFtZUNvbnRleHRIYW5kbGVyOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Clip/helpers/IframeContextHandler.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Clip/helpers/WebComponentContextHandler.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Clip/helpers/WebComponentContextHandler.js ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/*\niframe[seamless]{\n    background-color: transparent;\n    border: 0px none transparent;\n    padding: 0px;\n    overflow: hidden;\n}\n\nmight need more work for IE. See here: https://stackoverflow.com/a/29209248\n*/\nvar Helper = __webpack_require__(/*! ../../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar conf = __webpack_require__(/*! ../../_configuration/generalConf */ \"../node_modules/@kissmybutton/motorcortex/dist/_configuration/generalConf.js\");\n\nvar WebComponentContextHandler =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {object} props - an object that should contain all of the following keys:\n   * - html (the html template to render)\n   * - css (the css template of the isolated tree)\n   * - initParams (optional / the initialisation parameteres that will be passed both on the css and the html templates in order to render)\n   * - host (an Element object that will host the isolated tree)\n   * - containerParams (an object that holds parameters to affect the container of the isolated tree, e.g. width, height etc)\n   */\n  function WebComponentContextHandler() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, WebComponentContextHandler);\n\n    if (!helper.isObject(props)) {\n      helper.error(\"ContextHandler expects an object on its constructor. \".concat(_typeof(props), \" passed\"));\n      return false;\n    }\n\n    if (!Object.prototype.hasOwnProperty.call(props, \"html\")) {\n      helper.error(\"ContextHandler expects the html key on its constructor properties which is missing\");\n      return false;\n    }\n\n    if (!Object.prototype.hasOwnProperty.call(props, \"css\")) {\n      helper.error(\"ContextHandler expects the css key on its constructor properties which is missing\");\n      return false;\n    }\n\n    if (!Object.prototype.hasOwnProperty.call(props, \"host\")) {\n      helper.error(\"ContextHandler expects the host key on its constructor properties which is missing\");\n      return false;\n    }\n\n    this.isDOM = true;\n    var shadow = props.host.attachShadow({\n      mode: 'closed'\n    });\n    var wrapper = document.createElement('div');\n\n    if (Object.prototype.hasOwnProperty.call(props, \"containerParams\")) {\n      if (Object.prototype.hasOwnProperty.call(props.containerParams, \"width\")) {\n        wrapper.style.width = props.containerParams.width;\n      }\n\n      if (Object.prototype.hasOwnProperty.call(props.containerParams, \"height\")) {\n        wrapper.style.height = props.containerParams.height;\n      }\n    }\n\n    wrapper.innerHTML = helper.renderTemplate(props.html + '<slot></slot>', {\n      params: props.initParams\n    });\n    shadow.appendChild(wrapper);\n    var styleTag = document.createElement('style');\n    styleTag.type = 'text/css';\n\n    if (styleTag.styleSheet) {\n      styleTag.styleSheet.cssText = helper.renderTemplate(props.css, {\n        params: props.initParams\n      });\n    } else {\n      styleTag.appendChild(document.createTextNode(props.css));\n    }\n\n    shadow.appendChild(styleTag);\n\n    if (Object.prototype.hasOwnProperty.call(props, \"fonts\")) {\n      for (var i = 0; i < props.fonts.length; i++) {\n        var theFont = props.fonts[i];\n\n        if (theFont.type === \"google-font\") {\n          var fontTag = document.createElement('link');\n          fontTag.setAttribute('rel', 'stylesheet');\n          fontTag.setAttribute('src', theFont.src);\n          shadow.appendChild(fontTag);\n        }\n      }\n    }\n\n    wrapper.style.overflow = \"hidden\";\n    this.rootElement = wrapper;\n    this.context = {\n      document: document,\n      window: window,\n      clipContainer: this.rootElement,\n      rootElement: wrapper,\n      unmount: function unmount() {\n        try {\n          props.host.removeChild(shadow);\n        } catch (er) {\n          helper.warning('The element of the Clip to be removed seems not to exist any more');\n        }\n      },\n      getElements: this.getElements.bind(this),\n      getMCID: this.getMCID.bind(this),\n      setMCID: this.setMCID.bind(this),\n      getElementSelectorByMCID: this.getElementSelectorByMCID.bind(this),\n      getElementByMCID: this.getElementByMCID.bind(this)\n    };\n    this.elementsByMCID = {};\n  }\n\n  _createClass(WebComponentContextHandler, [{\n    key: \"getElementByMCID\",\n    value: function getElementByMCID(mcid) {\n      if (Object.prototype.hasOwnProperty.call(this.elementsByMCID, mcid)) {\n        return this.elementsByMCID[mcid];\n      } else {\n        var element = this.context.rootElement.querySelector(this.getElementSelectorByMCID(mcid));\n        this.elementsByMCID[mcid] = element;\n        return element;\n      }\n    }\n  }, {\n    key: \"getElements\",\n    value: function getElements(selector) {\n      return Array.from(this.context.rootElement.querySelectorAll(selector));\n    }\n  }, {\n    key: \"getMCID\",\n    value: function getMCID(element) {\n      return element.getAttribute(conf.elements_data_attribute_name);\n    }\n  }, {\n    key: \"setMCID\",\n    value: function setMCID(element, mcid) {\n      element.setAttribute(conf.elements_data_attribute_name, mcid);\n    }\n  }, {\n    key: \"getElementSelectorByMCID\",\n    value: function getElementSelectorByMCID(mcid) {\n      return '[' + conf.elements_data_attribute_name + '=\"' + mcid + '\"]';\n    }\n  }]);\n\n  return WebComponentContextHandler;\n}();\n\nmodule.exports = WebComponentContextHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DbGlwL2hlbHBlcnMvV2ViQ29tcG9uZW50Q29udGV4dEhhbmRsZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9DbGlwL2hlbHBlcnMvV2ViQ29tcG9uZW50Q29udGV4dEhhbmRsZXIuanM/YjlhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vKlxuaWZyYW1lW3NlYW1sZXNzXXtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICBib3JkZXI6IDBweCBub25lIHRyYW5zcGFyZW50O1xuICAgIHBhZGRpbmc6IDBweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG5taWdodCBuZWVkIG1vcmUgd29yayBmb3IgSUUuIFNlZSBoZXJlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjkyMDkyNDhcbiovXG52YXIgSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vX2NvcmVVdGlscy9IZWxwZXInKTtcblxudmFyIGhlbHBlciA9IG5ldyBIZWxwZXIoKTtcblxudmFyIGNvbmYgPSByZXF1aXJlKCcuLi8uLi9fY29uZmlndXJhdGlvbi9nZW5lcmFsQ29uZicpO1xuXG52YXIgV2ViQ29tcG9uZW50Q29udGV4dEhhbmRsZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtvYmplY3R9IHByb3BzIC0gYW4gb2JqZWN0IHRoYXQgc2hvdWxkIGNvbnRhaW4gYWxsIG9mIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICogLSBodG1sICh0aGUgaHRtbCB0ZW1wbGF0ZSB0byByZW5kZXIpXG4gICAqIC0gY3NzICh0aGUgY3NzIHRlbXBsYXRlIG9mIHRoZSBpc29sYXRlZCB0cmVlKVxuICAgKiAtIGluaXRQYXJhbXMgKG9wdGlvbmFsIC8gdGhlIGluaXRpYWxpc2F0aW9uIHBhcmFtZXRlcmVzIHRoYXQgd2lsbCBiZSBwYXNzZWQgYm90aCBvbiB0aGUgY3NzIGFuZCB0aGUgaHRtbCB0ZW1wbGF0ZXMgaW4gb3JkZXIgdG8gcmVuZGVyKVxuICAgKiAtIGhvc3QgKGFuIEVsZW1lbnQgb2JqZWN0IHRoYXQgd2lsbCBob3N0IHRoZSBpc29sYXRlZCB0cmVlKVxuICAgKiAtIGNvbnRhaW5lclBhcmFtcyAoYW4gb2JqZWN0IHRoYXQgaG9sZHMgcGFyYW1ldGVycyB0byBhZmZlY3QgdGhlIGNvbnRhaW5lciBvZiB0aGUgaXNvbGF0ZWQgdHJlZSwgZS5nLiB3aWR0aCwgaGVpZ2h0IGV0YylcbiAgICovXG4gIGZ1bmN0aW9uIFdlYkNvbXBvbmVudENvbnRleHRIYW5kbGVyKCkge1xuICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViQ29tcG9uZW50Q29udGV4dEhhbmRsZXIpO1xuXG4gICAgaWYgKCFoZWxwZXIuaXNPYmplY3QocHJvcHMpKSB7XG4gICAgICBoZWxwZXIuZXJyb3IoXCJDb250ZXh0SGFuZGxlciBleHBlY3RzIGFuIG9iamVjdCBvbiBpdHMgY29uc3RydWN0b3IuIFwiLmNvbmNhdChfdHlwZW9mKHByb3BzKSwgXCIgcGFzc2VkXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgXCJodG1sXCIpKSB7XG4gICAgICBoZWxwZXIuZXJyb3IoXCJDb250ZXh0SGFuZGxlciBleHBlY3RzIHRoZSBodG1sIGtleSBvbiBpdHMgY29uc3RydWN0b3IgcHJvcGVydGllcyB3aGljaCBpcyBtaXNzaW5nXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBcImNzc1wiKSkge1xuICAgICAgaGVscGVyLmVycm9yKFwiQ29udGV4dEhhbmRsZXIgZXhwZWN0cyB0aGUgY3NzIGtleSBvbiBpdHMgY29uc3RydWN0b3IgcHJvcGVydGllcyB3aGljaCBpcyBtaXNzaW5nXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBcImhvc3RcIikpIHtcbiAgICAgIGhlbHBlci5lcnJvcihcIkNvbnRleHRIYW5kbGVyIGV4cGVjdHMgdGhlIGhvc3Qga2V5IG9uIGl0cyBjb25zdHJ1Y3RvciBwcm9wZXJ0aWVzIHdoaWNoIGlzIG1pc3NpbmdcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5pc0RPTSA9IHRydWU7XG4gICAgdmFyIHNoYWRvdyA9IHByb3BzLmhvc3QuYXR0YWNoU2hhZG93KHtcbiAgICAgIG1vZGU6ICdjbG9zZWQnXG4gICAgfSk7XG4gICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIFwiY29udGFpbmVyUGFyYW1zXCIpKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLmNvbnRhaW5lclBhcmFtcywgXCJ3aWR0aFwiKSkge1xuICAgICAgICB3cmFwcGVyLnN0eWxlLndpZHRoID0gcHJvcHMuY29udGFpbmVyUGFyYW1zLndpZHRoO1xuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLmNvbnRhaW5lclBhcmFtcywgXCJoZWlnaHRcIikpIHtcbiAgICAgICAgd3JhcHBlci5zdHlsZS5oZWlnaHQgPSBwcm9wcy5jb250YWluZXJQYXJhbXMuaGVpZ2h0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gaGVscGVyLnJlbmRlclRlbXBsYXRlKHByb3BzLmh0bWwgKyAnPHNsb3Q+PC9zbG90PicsIHtcbiAgICAgIHBhcmFtczogcHJvcHMuaW5pdFBhcmFtc1xuICAgIH0pO1xuICAgIHNoYWRvdy5hcHBlbmRDaGlsZCh3cmFwcGVyKTtcbiAgICB2YXIgc3R5bGVUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlVGFnLnR5cGUgPSAndGV4dC9jc3MnO1xuXG4gICAgaWYgKHN0eWxlVGFnLnN0eWxlU2hlZXQpIHtcbiAgICAgIHN0eWxlVGFnLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGhlbHBlci5yZW5kZXJUZW1wbGF0ZShwcm9wcy5jc3MsIHtcbiAgICAgICAgcGFyYW1zOiBwcm9wcy5pbml0UGFyYW1zXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVUYWcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocHJvcHMuY3NzKSk7XG4gICAgfVxuXG4gICAgc2hhZG93LmFwcGVuZENoaWxkKHN0eWxlVGFnKTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIFwiZm9udHNcIikpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMuZm9udHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRoZUZvbnQgPSBwcm9wcy5mb250c1tpXTtcblxuICAgICAgICBpZiAodGhlRm9udC50eXBlID09PSBcImdvb2dsZS1mb250XCIpIHtcbiAgICAgICAgICB2YXIgZm9udFRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgICAgICBmb250VGFnLnNldEF0dHJpYnV0ZSgncmVsJywgJ3N0eWxlc2hlZXQnKTtcbiAgICAgICAgICBmb250VGFnLnNldEF0dHJpYnV0ZSgnc3JjJywgdGhlRm9udC5zcmMpO1xuICAgICAgICAgIHNoYWRvdy5hcHBlbmRDaGlsZChmb250VGFnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHdyYXBwZXIuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIHRoaXMucm9vdEVsZW1lbnQgPSB3cmFwcGVyO1xuICAgIHRoaXMuY29udGV4dCA9IHtcbiAgICAgIGRvY3VtZW50OiBkb2N1bWVudCxcbiAgICAgIHdpbmRvdzogd2luZG93LFxuICAgICAgY2xpcENvbnRhaW5lcjogdGhpcy5yb290RWxlbWVudCxcbiAgICAgIHJvb3RFbGVtZW50OiB3cmFwcGVyLFxuICAgICAgdW5tb3VudDogZnVuY3Rpb24gdW5tb3VudCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBwcm9wcy5ob3N0LnJlbW92ZUNoaWxkKHNoYWRvdyk7XG4gICAgICAgIH0gY2F0Y2ggKGVyKSB7XG4gICAgICAgICAgaGVscGVyLndhcm5pbmcoJ1RoZSBlbGVtZW50IG9mIHRoZSBDbGlwIHRvIGJlIHJlbW92ZWQgc2VlbXMgbm90IHRvIGV4aXN0IGFueSBtb3JlJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZXRFbGVtZW50czogdGhpcy5nZXRFbGVtZW50cy5iaW5kKHRoaXMpLFxuICAgICAgZ2V0TUNJRDogdGhpcy5nZXRNQ0lELmJpbmQodGhpcyksXG4gICAgICBzZXRNQ0lEOiB0aGlzLnNldE1DSUQuYmluZCh0aGlzKSxcbiAgICAgIGdldEVsZW1lbnRTZWxlY3RvckJ5TUNJRDogdGhpcy5nZXRFbGVtZW50U2VsZWN0b3JCeU1DSUQuYmluZCh0aGlzKSxcbiAgICAgIGdldEVsZW1lbnRCeU1DSUQ6IHRoaXMuZ2V0RWxlbWVudEJ5TUNJRC5iaW5kKHRoaXMpXG4gICAgfTtcbiAgICB0aGlzLmVsZW1lbnRzQnlNQ0lEID0ge307XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoV2ViQ29tcG9uZW50Q29udGV4dEhhbmRsZXIsIFt7XG4gICAga2V5OiBcImdldEVsZW1lbnRCeU1DSURcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RWxlbWVudEJ5TUNJRChtY2lkKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuZWxlbWVudHNCeU1DSUQsIG1jaWQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzQnlNQ0lEW21jaWRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmNvbnRleHQucm9vdEVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmdldEVsZW1lbnRTZWxlY3RvckJ5TUNJRChtY2lkKSk7XG4gICAgICAgIHRoaXMuZWxlbWVudHNCeU1DSURbbWNpZF0gPSBlbGVtZW50O1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RWxlbWVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RWxlbWVudHMoc2VsZWN0b3IpIHtcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuY29udGV4dC5yb290RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldE1DSURcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TUNJRChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoY29uZi5lbGVtZW50c19kYXRhX2F0dHJpYnV0ZV9uYW1lKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0TUNJRFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRNQ0lEKGVsZW1lbnQsIG1jaWQpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGNvbmYuZWxlbWVudHNfZGF0YV9hdHRyaWJ1dGVfbmFtZSwgbWNpZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEVsZW1lbnRTZWxlY3RvckJ5TUNJRFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFbGVtZW50U2VsZWN0b3JCeU1DSUQobWNpZCkge1xuICAgICAgcmV0dXJuICdbJyArIGNvbmYuZWxlbWVudHNfZGF0YV9hdHRyaWJ1dGVfbmFtZSArICc9XCInICsgbWNpZCArICdcIl0nO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBXZWJDb21wb25lbnRDb250ZXh0SGFuZGxlcjtcbn0oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBXZWJDb21wb25lbnRDb250ZXh0SGFuZGxlcjsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Clip/helpers/WebComponentContextHandler.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveAudioClip.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveAudioClip.js ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar DescriptiveClip = __webpack_require__(/*! ./DescriptiveClip */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveClip.js\");\n\nvar DescriptiveAudioClip =\n/*#__PURE__*/\nfunction (_DescriptiveClip) {\n  _inherits(DescriptiveAudioClip, _DescriptiveClip);\n\n  function DescriptiveAudioClip(audioSources) {\n    var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    _classCallCheck(this, DescriptiveAudioClip);\n\n    var propsToPass = {\n      audio: 'only',\n      audioSources: audioSources\n    };\n\n    if (id !== null) {\n      propsToPass.id = id;\n    }\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DescriptiveAudioClip).call(this, propsToPass));\n  }\n\n  return DescriptiveAudioClip;\n}(DescriptiveClip);\n\nmodule.exports = DescriptiveAudioClip;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9EZXNjcmlwdGl2ZUluY2lkZW50cy9EZXNjcmlwdGl2ZUF1ZGlvQ2xpcC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L0Rlc2NyaXB0aXZlSW5jaWRlbnRzL0Rlc2NyaXB0aXZlQXVkaW9DbGlwLmpzPzVlZWUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxudmFyIERlc2NyaXB0aXZlQ2xpcCA9IHJlcXVpcmUoJy4vRGVzY3JpcHRpdmVDbGlwJyk7XG5cbnZhciBEZXNjcmlwdGl2ZUF1ZGlvQ2xpcCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0Rlc2NyaXB0aXZlQ2xpcCkge1xuICBfaW5oZXJpdHMoRGVzY3JpcHRpdmVBdWRpb0NsaXAsIF9EZXNjcmlwdGl2ZUNsaXApO1xuXG4gIGZ1bmN0aW9uIERlc2NyaXB0aXZlQXVkaW9DbGlwKGF1ZGlvU291cmNlcykge1xuICAgIHZhciBpZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbnVsbDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEZXNjcmlwdGl2ZUF1ZGlvQ2xpcCk7XG5cbiAgICB2YXIgcHJvcHNUb1Bhc3MgPSB7XG4gICAgICBhdWRpbzogJ29ubHknLFxuICAgICAgYXVkaW9Tb3VyY2VzOiBhdWRpb1NvdXJjZXNcbiAgICB9O1xuXG4gICAgaWYgKGlkICE9PSBudWxsKSB7XG4gICAgICBwcm9wc1RvUGFzcy5pZCA9IGlkO1xuICAgIH1cblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoRGVzY3JpcHRpdmVBdWRpb0NsaXApLmNhbGwodGhpcywgcHJvcHNUb1Bhc3MpKTtcbiAgfVxuXG4gIHJldHVybiBEZXNjcmlwdGl2ZUF1ZGlvQ2xpcDtcbn0oRGVzY3JpcHRpdmVDbGlwKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEZXNjcmlwdGl2ZUF1ZGlvQ2xpcDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveAudioClip.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveClip.js":
/*!**********************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveClip.js ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Playable = __webpack_require__(/*! ../Clip/Playable */ \"../node_modules/@kissmybutton/motorcortex/dist/Clip/Playable.js\");\n\nvar _TREECONST = __webpack_require__(/*! ../Tree/_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/_CONST.js\");\n\nvar FragmentedClip = __webpack_require__(/*! ../Clip/FragmentedClip */ \"../node_modules/@kissmybutton/motorcortex/dist/Clip/FragmentedClip.js\");\n\nvar Clip = __webpack_require__(/*! ../Clip/DOMClip */ \"../node_modules/@kissmybutton/motorcortex/dist/Clip/DOMClip.js\");\n\nvar Channel = __webpack_require__(/*! ../Channels/Clip/ClipsChannel */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Clip/ClipsChannel.js\");\n\nvar incidentFromIngredients = __webpack_require__(/*! ../IncidentFromDefinition/incidentFromIngredients */ \"../node_modules/@kissmybutton/motorcortex/dist/IncidentFromDefinition/incidentFromIngredients.js\");\n\nvar ClipClone = __webpack_require__(/*! ../Clip/RootClipClone */ \"../node_modules/@kissmybutton/motorcortex/dist/Clip/RootClipClone.js\");\n\nvar AudioClip = __webpack_require__(/*! ../Audio/AudioClip */ \"../node_modules/@kissmybutton/motorcortex/dist/Audio/AudioClip.js\");\n\nvar NullClip = __webpack_require__(/*! ../Clip/NullClip */ \"../node_modules/@kissmybutton/motorcortex/dist/Clip/NullClip.js\");\n/**\n * Along with the expected props for the Clip on the props support the audio key.\n * The audio can take one of the 3 following values:\n * - \"on\": The Clip has audio enabled\n * - \"off\": The Clip has audio disabled\n * - \"only\": The Clip is only audio\n *\n * Also, in the case audio is on or only the user should pass the \"audioSources\"\n * key containing all the audio sources they want to pass on the Audio Context\n * of their clip. Please check AudioClip for details on the expected format\n **/\n\n\nvar DescriptiveClip =\n/*#__PURE__*/\nfunction (_Playable) {\n  _inherits(DescriptiveClip, _Playable);\n\n  function DescriptiveClip(attrs) {\n    var _this;\n\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    _classCallCheck(this, DescriptiveClip);\n\n    var attrsToPass, propsToUse;\n\n    if (props === null) {\n      attrsToPass = {};\n      propsToUse = attrs;\n    } else {\n      // else, in case the user has passed two arguments then both should be used\n      attrsToPass = attrs;\n      propsToUse = props;\n    }\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DescriptiveClip).call(this, attrsToPass, propsToUse)); // isTheRootClip defines whether the Clip is the root or not. It depends on\n    // the host or selector parameter passed on props (if host is present then\n    // the Clip is the root Clip while if the Clip gets initialised by a selector\n    // is not)\n\n    _this.isTheRootClip = false; // check if\n\n    var ingredients = {\n      id: _this.id,\n      attrs: attrsToPass,\n      props: _objectSpread({}, propsToUse, {\n        html: Object.prototype.hasOwnProperty.call(propsToUse, \"html\") ? propsToUse.html : _this.html,\n        css: Object.prototype.hasOwnProperty.call(propsToUse, \"css\") ? propsToUse.css : _this.css,\n        fonts: Object.prototype.hasOwnProperty.call(propsToUse, \"fonts\") ? propsToUse.fonts : _this.fonts,\n        runTimeInfo: _this.runTimeInfo,\n        subscribe: _this.subscribe.bind(_assertThisInitialized(_this))\n      }),\n      plugin_npm_name: _this.constructor.plugin_npm_name,\n      Channel: _this.constructor.Channel,\n      DescriptiveIncident: _assertThisInitialized(_this)\n    }; // Decide what kind of audio (or non-audio) Clip we are dealing with\n\n    _this.audio = \"on\";\n\n    if (Object.prototype.hasOwnProperty.call(_this.constructor, 'audio')) {\n      _this.audio = _this.constructor.audio;\n    }\n\n    if (Object.prototype.hasOwnProperty.call(propsToUse, 'audio')) {\n      _this.audio = propsToUse.audio;\n    } // decide if this is the root clip\n\n\n    if (Object.prototype.hasOwnProperty.call(propsToUse, \"selector\") && propsToUse.selector !== undefined) {\n      ingredients.Incident = FragmentedClip; // TODO it doesn't take in account the get html and get css of the Descriptive Clip\n    } else if (_this.audio === \"only\" && _this.props.root !== true) {\n      // audioClips can never be the root\n      _this.isTheRootClip = false;\n    } else {\n      _this.isTheRootClip = true;\n      /*\n      blockingWaitings are been triggered by Incidents when there is the\n      need to halt the Clip's execution and wait. As an example a blocking\n      waiting can be set by an Audio Playback Incident when the audio has\n      not been loaded yet.\n      Each blocking waiting has an id and via the same id the waiting can be\n      unblocked.\n      The blockingWaitings property of the root Clip is a collection with\n      keys the blocking waitings ids and values the description of each waiting\n      which consists of:\n      {\n          id\n          description\n          incidentId\n      }\n      The blocking waitings are triggered by real Incidents living on the real\n      Clips of the Descriptive Clip (either the audioClip or the realClip).\n      The root that a waiting set or unset follows is from any real incident\n      up to its ContextAware Incident and from there\n      up to the real Clip and from thre to its DescriptiveTree and from there\n      all the way up to the root Descriptive Clip.\n      Blocking waitings must always be triggered on the \"onProgress\" or on\n      the \"play\" methods of Incidents. Setting a blocking waiting from anywhere\n      else is an error\n      */\n\n      _this.blockingWaitings = {};\n      ingredients.Incident = _this.constructor.Incident;\n    } // we initialise real and audio clips of the Clip by checking the static audio\n    // property\n    // the property this.audio helps incidentFromDescription identify if the Incident\n    // participates or not on the audioClip. By default is \"on\" but if the props.audio is set to off\n    // it turns to \"off\" so the DC gets totally ignored on the addition process on audio clip\n\n    /* The audio value is set in the following manner\n        - first we check if the Class has a static audio parameter and if yes we keep it\n        - then we check if this.props has the audio key and if yes we keep this one\n        - otherwise we use the default (\"on\")\n    */\n\n\n    if (_this.audio === 'on' || _this.audio === 'off') {\n      _this.realClip = incidentFromIngredients(ingredients);\n    } else {\n      _this.realClip = new NullClip();\n    }\n\n    if (_this.audio === 'on' || _this.audio === 'only') {\n      var audioIngredients = {\n        id: _this.id,\n        attrs: {},\n        props: {\n          audioSources: propsToUse.audioSources,\n          runTimeInfo: _this.runTimeInfo,\n          subscribe: _this.subscribe.bind(_assertThisInitialized(_this))\n        },\n        plugin_npm_name: _this.constructor.plugin_npm_name,\n        Channel: _this.constructor.Channel,\n        Incident: AudioClip,\n        DescriptiveIncident: _assertThisInitialized(_this)\n      };\n      _this.audioClip = incidentFromIngredients(audioIngredients);\n    } else {\n      _this.audio = false;\n      _this.audioClip = new NullClip();\n    } // passiveAddition is a flag property indicating that any Incident to be\n    // added to the Clip will be passive. It initialises with value = false\n    // on DescriptiveGroup where it's originaly defined.\n    // Here we change its value just before the buildTree method execution\n    // so all Incidents added on it get the \"passive\" flag and don't get\n    // exported on the exportDefinition method. Once the buildTree method\n    // finishes we set it back to its original value (false)\n\n\n    _this.passiveAddition = true;\n\n    _this._buildTree();\n\n    _this.passiveAddition = false;\n    return _this;\n  }\n\n  _createClass(DescriptiveClip, [{\n    key: \"_buildTree\",\n\n    /*\n    the _buildTree method acts as a proxy to the buildTree method defined by the\n    developers. The reason for this is that the actual buildTree method should\n    be executed in different order on Groups and on Clips (that extend Groups).\n    Calling the super on constructor fires the _buildTree execution on the\n    Group's constructor but this breaks on Clip as the realClip has not been\n    initialised yet.\n    */\n    value: function _buildTree() {\n      if (this.realClip === undefined) {\n        return;\n      }\n\n      this.buildTree();\n    }\n    /**\n     * When the resize command is given directly to a DescriptiveClip no checks\n     * need to be performed.\n     * DescriptiveClip directly invokes the _resize method of ExtendableClip which\n     * resizes the full clip\n     */\n\n  }, {\n    key: \"resize\",\n    value: function resize(newSize) {\n      this.realClip._resize(newSize / this.duration);\n\n      this.audioClip._resize(newSize / this.duration);\n\n      this.duration = newSize;\n      this.putMessageOnPipe('recalcDuration', {}, 'Groups', {\n        selfExecute: false,\n        direction: _TREECONST._DIRECTIONS._UP\n      });\n      this.putMessageOnPipe('flash', {}, 'RootClip', {\n        selfExecute: true,\n        direction: _TREECONST._DIRECTIONS._UP\n      });\n      return {\n        result: true\n      };\n    }\n    /*************************** HANDLING METHODS *******************************/\n\n  }, {\n    key: \"handleCheckForClip\",\n    value: function handleCheckForClip(target, payload) {\n      // eslint-disable-line no-unused-vars\n      return true;\n    }\n  }, {\n    key: \"handleCheckAddition\",\n    value: function handleCheckAddition(target, payload) {\n      /* Is the responsibility of the DescriptiveClip to pass the addition request\n      to its real clip and expect for a response. */\n      var res = this.realClip.addIncident(payload);\n      var audioRes = this.audioClip.addIncident(payload);\n\n      if (res.result === true && audioRes.result === true) {\n        res.execute();\n        audioRes.execute();\n        this.putMessageOnPipe('flash', {}, 'RootClip', {\n          selfExecute: true,\n          direction: _TREECONST._DIRECTIONS._UP\n        });\n        return {\n          result: true\n        };\n      }\n\n      return res;\n    }\n  }, {\n    key: \"handleCheckMove\",\n    value: function handleCheckMove(target, payload) {\n      var res = this.realClip.moveIncident(payload);\n      var audioRes = this.audioClip.moveIncident(payload);\n\n      if (res.result === true && audioRes.result === true) {\n        res.execute();\n        audioRes.execute();\n        this.putMessageOnPipe('flash', {}, 'RootClip', {\n          selfExecute: true,\n          direction: _TREECONST._DIRECTIONS._UP\n        });\n        return {\n          result: true\n        };\n      }\n\n      return res;\n    }\n  }, {\n    key: \"handleCheckDeletion\",\n    value: function handleCheckDeletion(target, payload) {\n      var res = this.realClip.removeIncident(payload);\n      var audioRes = this.audioClip.removeIncident(payload);\n\n      if (res.result === true && audioRes.result === true) {\n        res.execute();\n        audioRes.execute();\n        this.putMessageOnPipe('flash', {}, 'RootClip', {\n          selfExecute: true,\n          direction: _TREECONST._DIRECTIONS._UP\n        });\n        return {\n          result: true\n        };\n      }\n\n      return res;\n    }\n  }, {\n    key: \"handleCheckResize\",\n    value: function handleCheckResize(target, payload) {\n      var res = this.realClip.resizeIncident(payload);\n      var audioRes = this.audioClip.resizeIncident(payload);\n\n      if (res.result === true && audioRes.result === true) {\n        res.execute();\n        audioRes.execute();\n        this.putMessageOnPipe('flash', {}, 'RootClip', {\n          selfExecute: true,\n          direction: _TREECONST._DIRECTIONS._UP\n        });\n        return {\n          result: true\n        };\n      }\n\n      return res;\n    }\n  }, {\n    key: \"handleFlash\",\n    value: function handleFlash(target, payload) {\n      // eslint-disable-line no-unused-vars\n      if (this.isTheRootClip) {\n        this.flash();\n      } else {\n        return this.bypass();\n      }\n    }\n    /****************** BLOCKING WAITINGS HANDLING **************************/\n\n    /***********************************************************************/\n\n  }, {\n    key: \"handleSetBlock\",\n    value: function handleSetBlock(target, payload) {\n      // only accepts blocks if is the root clip and if it's playing\n      if (this.isTheRootClip) {\n        if (this.runTimeInfo.state === \"transitional\") {\n          return;\n        }\n\n        this.statusBeforeBlock = this.runTimeInfo.state;\n        this.blockingWaitings[payload.id] = payload;\n        this.block();\n      } else {\n        return this.bypass();\n      }\n    }\n  }, {\n    key: \"handleUnBlock\",\n    value: function handleUnBlock(target, payload) {\n      if (this.isTheRootClip) {\n        if (Object.prototype.hasOwnProperty.call(this.blockingWaitings, payload.id)) {\n          delete this.blockingWaitings[payload.id];\n\n          if (Object.keys(this.blockingWaitings).length === 0) {\n            if (this.statusBeforeBlock === \"playing\") {\n              this.previousTimeStamp = -1;\n              this.play();\n            } else {\n              this.arm();\n            }\n          }\n        }\n      } else {\n        return this.bypass();\n      }\n    }\n    /* empty blocking waitings on transition start */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      _get(_getPrototypeOf(DescriptiveClip.prototype), \"stop\", this).call(this);\n\n      this.blockingWaitings = {};\n    }\n    /***********************************************************************/\n\n    /***********************************************************************/\n\n  }, {\n    key: \"onProgress\",\n    value: function onProgress(fraction, millisecond) {\n      this.realClip.onProgress(fraction, millisecond);\n      this.audioClip.onProgress(fraction, millisecond);\n    }\n    /*************************************************************/\n\n  }, {\n    key: \"paste\",\n    value: function paste(host) {\n      if (this.isTheRootClip) {\n        var clipClone = new ClipClone({\n          host: host,\n          descriptiveIncident: this\n        });\n        return clipClone;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"flash\",\n    value: function flash() {\n      this.realClip.flash();\n    }\n  }, {\n    key: \"selectorToPassToChildren\",\n    get: function get() {\n      return null; // the Clip (any Clip) resets the selection cascading\n    }\n  }, {\n    key: \"inheritedSelector\",\n    get: function get() {\n      return this._inheritedSelector;\n    },\n    set: function set(value) {\n      this._inheritedSelector = value;\n    }\n  }, {\n    key: \"html\",\n    get: function get() {\n      return '';\n    }\n  }, {\n    key: \"css\",\n    get: function get() {\n      return '';\n    }\n  }, {\n    key: \"fonts\",\n    get: function get() {\n      return [];\n    }\n  }]);\n\n  return DescriptiveClip;\n}(Playable);\n\n_defineProperty(DescriptiveClip, \"isClip\", true);\n\n_defineProperty(DescriptiveClip, \"Incident\", Clip);\n\n_defineProperty(DescriptiveClip, \"plugin_npm_name\", \"@kissmybutton/self-contained-incidents\");\n\n_defineProperty(DescriptiveClip, \"Channel\", Channel);\n\n_defineProperty(DescriptiveClip, \"ClassName\", \"Clip\");\n\nmodule.exports = DescriptiveClip;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9EZXNjcmlwdGl2ZUluY2lkZW50cy9EZXNjcmlwdGl2ZUNsaXAuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9EZXNjcmlwdGl2ZUluY2lkZW50cy9EZXNjcmlwdGl2ZUNsaXAuanM/OWI4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ICE9PSBcInVuZGVmaW5lZFwiICYmIFJlZmxlY3QuZ2V0KSB7IF9nZXQgPSBSZWZsZWN0LmdldDsgfSBlbHNlIHsgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTsgaWYgKCFiYXNlKSByZXR1cm47IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7IGlmIChkZXNjLmdldCkgeyByZXR1cm4gZGVzYy5nZXQuY2FsbChyZWNlaXZlcik7IH0gcmV0dXJuIGRlc2MudmFsdWU7IH07IH0gcmV0dXJuIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIgfHwgdGFyZ2V0KTsgfVxuXG5mdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShvYmplY3QsIHByb3BlcnR5KSB7IHdoaWxlICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpKSB7IG9iamVjdCA9IF9nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhazsgfSByZXR1cm4gb2JqZWN0OyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxudmFyIFBsYXlhYmxlID0gcmVxdWlyZSgnLi4vQ2xpcC9QbGF5YWJsZScpO1xuXG52YXIgX1RSRUVDT05TVCA9IHJlcXVpcmUoJy4uL1RyZWUvX0NPTlNUJyk7XG5cbnZhciBGcmFnbWVudGVkQ2xpcCA9IHJlcXVpcmUoJy4uL0NsaXAvRnJhZ21lbnRlZENsaXAnKTtcblxudmFyIENsaXAgPSByZXF1aXJlKCcuLi9DbGlwL0RPTUNsaXAnKTtcblxudmFyIENoYW5uZWwgPSByZXF1aXJlKCcuLi9DaGFubmVscy9DbGlwL0NsaXBzQ2hhbm5lbCcpO1xuXG52YXIgaW5jaWRlbnRGcm9tSW5ncmVkaWVudHMgPSByZXF1aXJlKCcuLi9JbmNpZGVudEZyb21EZWZpbml0aW9uL2luY2lkZW50RnJvbUluZ3JlZGllbnRzJyk7XG5cbnZhciBDbGlwQ2xvbmUgPSByZXF1aXJlKCcuLi9DbGlwL1Jvb3RDbGlwQ2xvbmUnKTtcblxudmFyIEF1ZGlvQ2xpcCA9IHJlcXVpcmUoJy4uL0F1ZGlvL0F1ZGlvQ2xpcCcpO1xuXG52YXIgTnVsbENsaXAgPSByZXF1aXJlKCcuLi9DbGlwL051bGxDbGlwJyk7XG4vKipcbiAqIEFsb25nIHdpdGggdGhlIGV4cGVjdGVkIHByb3BzIGZvciB0aGUgQ2xpcCBvbiB0aGUgcHJvcHMgc3VwcG9ydCB0aGUgYXVkaW8ga2V5LlxuICogVGhlIGF1ZGlvIGNhbiB0YWtlIG9uZSBvZiB0aGUgMyBmb2xsb3dpbmcgdmFsdWVzOlxuICogLSBcIm9uXCI6IFRoZSBDbGlwIGhhcyBhdWRpbyBlbmFibGVkXG4gKiAtIFwib2ZmXCI6IFRoZSBDbGlwIGhhcyBhdWRpbyBkaXNhYmxlZFxuICogLSBcIm9ubHlcIjogVGhlIENsaXAgaXMgb25seSBhdWRpb1xuICpcbiAqIEFsc28sIGluIHRoZSBjYXNlIGF1ZGlvIGlzIG9uIG9yIG9ubHkgdGhlIHVzZXIgc2hvdWxkIHBhc3MgdGhlIFwiYXVkaW9Tb3VyY2VzXCJcbiAqIGtleSBjb250YWluaW5nIGFsbCB0aGUgYXVkaW8gc291cmNlcyB0aGV5IHdhbnQgdG8gcGFzcyBvbiB0aGUgQXVkaW8gQ29udGV4dFxuICogb2YgdGhlaXIgY2xpcC4gUGxlYXNlIGNoZWNrIEF1ZGlvQ2xpcCBmb3IgZGV0YWlscyBvbiB0aGUgZXhwZWN0ZWQgZm9ybWF0XG4gKiovXG5cblxudmFyIERlc2NyaXB0aXZlQ2xpcCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1BsYXlhYmxlKSB7XG4gIF9pbmhlcml0cyhEZXNjcmlwdGl2ZUNsaXAsIF9QbGF5YWJsZSk7XG5cbiAgZnVuY3Rpb24gRGVzY3JpcHRpdmVDbGlwKGF0dHJzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBudWxsO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERlc2NyaXB0aXZlQ2xpcCk7XG5cbiAgICB2YXIgYXR0cnNUb1Bhc3MsIHByb3BzVG9Vc2U7XG5cbiAgICBpZiAocHJvcHMgPT09IG51bGwpIHtcbiAgICAgIGF0dHJzVG9QYXNzID0ge307XG4gICAgICBwcm9wc1RvVXNlID0gYXR0cnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVsc2UsIGluIGNhc2UgdGhlIHVzZXIgaGFzIHBhc3NlZCB0d28gYXJndW1lbnRzIHRoZW4gYm90aCBzaG91bGQgYmUgdXNlZFxuICAgICAgYXR0cnNUb1Bhc3MgPSBhdHRycztcbiAgICAgIHByb3BzVG9Vc2UgPSBwcm9wcztcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihEZXNjcmlwdGl2ZUNsaXApLmNhbGwodGhpcywgYXR0cnNUb1Bhc3MsIHByb3BzVG9Vc2UpKTsgLy8gaXNUaGVSb290Q2xpcCBkZWZpbmVzIHdoZXRoZXIgdGhlIENsaXAgaXMgdGhlIHJvb3Qgb3Igbm90LiBJdCBkZXBlbmRzIG9uXG4gICAgLy8gdGhlIGhvc3Qgb3Igc2VsZWN0b3IgcGFyYW1ldGVyIHBhc3NlZCBvbiBwcm9wcyAoaWYgaG9zdCBpcyBwcmVzZW50IHRoZW5cbiAgICAvLyB0aGUgQ2xpcCBpcyB0aGUgcm9vdCBDbGlwIHdoaWxlIGlmIHRoZSBDbGlwIGdldHMgaW5pdGlhbGlzZWQgYnkgYSBzZWxlY3RvclxuICAgIC8vIGlzIG5vdClcblxuICAgIF90aGlzLmlzVGhlUm9vdENsaXAgPSBmYWxzZTsgLy8gY2hlY2sgaWZcblxuICAgIHZhciBpbmdyZWRpZW50cyA9IHtcbiAgICAgIGlkOiBfdGhpcy5pZCxcbiAgICAgIGF0dHJzOiBhdHRyc1RvUGFzcyxcbiAgICAgIHByb3BzOiBfb2JqZWN0U3ByZWFkKHt9LCBwcm9wc1RvVXNlLCB7XG4gICAgICAgIGh0bWw6IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wc1RvVXNlLCBcImh0bWxcIikgPyBwcm9wc1RvVXNlLmh0bWwgOiBfdGhpcy5odG1sLFxuICAgICAgICBjc3M6IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wc1RvVXNlLCBcImNzc1wiKSA/IHByb3BzVG9Vc2UuY3NzIDogX3RoaXMuY3NzLFxuICAgICAgICBmb250czogT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzVG9Vc2UsIFwiZm9udHNcIikgPyBwcm9wc1RvVXNlLmZvbnRzIDogX3RoaXMuZm9udHMsXG4gICAgICAgIHJ1blRpbWVJbmZvOiBfdGhpcy5ydW5UaW1lSW5mbyxcbiAgICAgICAgc3Vic2NyaWJlOiBfdGhpcy5zdWJzY3JpYmUuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSlcbiAgICAgIH0pLFxuICAgICAgcGx1Z2luX25wbV9uYW1lOiBfdGhpcy5jb25zdHJ1Y3Rvci5wbHVnaW5fbnBtX25hbWUsXG4gICAgICBDaGFubmVsOiBfdGhpcy5jb25zdHJ1Y3Rvci5DaGFubmVsLFxuICAgICAgRGVzY3JpcHRpdmVJbmNpZGVudDogX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcylcbiAgICB9OyAvLyBEZWNpZGUgd2hhdCBraW5kIG9mIGF1ZGlvIChvciBub24tYXVkaW8pIENsaXAgd2UgYXJlIGRlYWxpbmcgd2l0aFxuXG4gICAgX3RoaXMuYXVkaW8gPSBcIm9uXCI7XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF90aGlzLmNvbnN0cnVjdG9yLCAnYXVkaW8nKSkge1xuICAgICAgX3RoaXMuYXVkaW8gPSBfdGhpcy5jb25zdHJ1Y3Rvci5hdWRpbztcbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzVG9Vc2UsICdhdWRpbycpKSB7XG4gICAgICBfdGhpcy5hdWRpbyA9IHByb3BzVG9Vc2UuYXVkaW87XG4gICAgfSAvLyBkZWNpZGUgaWYgdGhpcyBpcyB0aGUgcm9vdCBjbGlwXG5cblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHNUb1VzZSwgXCJzZWxlY3RvclwiKSAmJiBwcm9wc1RvVXNlLnNlbGVjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGluZ3JlZGllbnRzLkluY2lkZW50ID0gRnJhZ21lbnRlZENsaXA7IC8vIFRPRE8gaXQgZG9lc24ndCB0YWtlIGluIGFjY291bnQgdGhlIGdldCBodG1sIGFuZCBnZXQgY3NzIG9mIHRoZSBEZXNjcmlwdGl2ZSBDbGlwXG4gICAgfSBlbHNlIGlmIChfdGhpcy5hdWRpbyA9PT0gXCJvbmx5XCIgJiYgX3RoaXMucHJvcHMucm9vdCAhPT0gdHJ1ZSkge1xuICAgICAgLy8gYXVkaW9DbGlwcyBjYW4gbmV2ZXIgYmUgdGhlIHJvb3RcbiAgICAgIF90aGlzLmlzVGhlUm9vdENsaXAgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMuaXNUaGVSb290Q2xpcCA9IHRydWU7XG4gICAgICAvKlxuICAgICAgYmxvY2tpbmdXYWl0aW5ncyBhcmUgYmVlbiB0cmlnZ2VyZWQgYnkgSW5jaWRlbnRzIHdoZW4gdGhlcmUgaXMgdGhlXG4gICAgICBuZWVkIHRvIGhhbHQgdGhlIENsaXAncyBleGVjdXRpb24gYW5kIHdhaXQuIEFzIGFuIGV4YW1wbGUgYSBibG9ja2luZ1xuICAgICAgd2FpdGluZyBjYW4gYmUgc2V0IGJ5IGFuIEF1ZGlvIFBsYXliYWNrIEluY2lkZW50IHdoZW4gdGhlIGF1ZGlvIGhhc1xuICAgICAgbm90IGJlZW4gbG9hZGVkIHlldC5cbiAgICAgIEVhY2ggYmxvY2tpbmcgd2FpdGluZyBoYXMgYW4gaWQgYW5kIHZpYSB0aGUgc2FtZSBpZCB0aGUgd2FpdGluZyBjYW4gYmVcbiAgICAgIHVuYmxvY2tlZC5cbiAgICAgIFRoZSBibG9ja2luZ1dhaXRpbmdzIHByb3BlcnR5IG9mIHRoZSByb290IENsaXAgaXMgYSBjb2xsZWN0aW9uIHdpdGhcbiAgICAgIGtleXMgdGhlIGJsb2NraW5nIHdhaXRpbmdzIGlkcyBhbmQgdmFsdWVzIHRoZSBkZXNjcmlwdGlvbiBvZiBlYWNoIHdhaXRpbmdcbiAgICAgIHdoaWNoIGNvbnNpc3RzIG9mOlxuICAgICAge1xuICAgICAgICAgIGlkXG4gICAgICAgICAgZGVzY3JpcHRpb25cbiAgICAgICAgICBpbmNpZGVudElkXG4gICAgICB9XG4gICAgICBUaGUgYmxvY2tpbmcgd2FpdGluZ3MgYXJlIHRyaWdnZXJlZCBieSByZWFsIEluY2lkZW50cyBsaXZpbmcgb24gdGhlIHJlYWxcbiAgICAgIENsaXBzIG9mIHRoZSBEZXNjcmlwdGl2ZSBDbGlwIChlaXRoZXIgdGhlIGF1ZGlvQ2xpcCBvciB0aGUgcmVhbENsaXApLlxuICAgICAgVGhlIHJvb3QgdGhhdCBhIHdhaXRpbmcgc2V0IG9yIHVuc2V0IGZvbGxvd3MgaXMgZnJvbSBhbnkgcmVhbCBpbmNpZGVudFxuICAgICAgdXAgdG8gaXRzIENvbnRleHRBd2FyZSBJbmNpZGVudCBhbmQgZnJvbSB0aGVyZVxuICAgICAgdXAgdG8gdGhlIHJlYWwgQ2xpcCBhbmQgZnJvbSB0aHJlIHRvIGl0cyBEZXNjcmlwdGl2ZVRyZWUgYW5kIGZyb20gdGhlcmVcbiAgICAgIGFsbCB0aGUgd2F5IHVwIHRvIHRoZSByb290IERlc2NyaXB0aXZlIENsaXAuXG4gICAgICBCbG9ja2luZyB3YWl0aW5ncyBtdXN0IGFsd2F5cyBiZSB0cmlnZ2VyZWQgb24gdGhlIFwib25Qcm9ncmVzc1wiIG9yIG9uXG4gICAgICB0aGUgXCJwbGF5XCIgbWV0aG9kcyBvZiBJbmNpZGVudHMuIFNldHRpbmcgYSBibG9ja2luZyB3YWl0aW5nIGZyb20gYW55d2hlcmVcbiAgICAgIGVsc2UgaXMgYW4gZXJyb3JcbiAgICAgICovXG5cbiAgICAgIF90aGlzLmJsb2NraW5nV2FpdGluZ3MgPSB7fTtcbiAgICAgIGluZ3JlZGllbnRzLkluY2lkZW50ID0gX3RoaXMuY29uc3RydWN0b3IuSW5jaWRlbnQ7XG4gICAgfSAvLyB3ZSBpbml0aWFsaXNlIHJlYWwgYW5kIGF1ZGlvIGNsaXBzIG9mIHRoZSBDbGlwIGJ5IGNoZWNraW5nIHRoZSBzdGF0aWMgYXVkaW9cbiAgICAvLyBwcm9wZXJ0eVxuICAgIC8vIHRoZSBwcm9wZXJ0eSB0aGlzLmF1ZGlvIGhlbHBzIGluY2lkZW50RnJvbURlc2NyaXB0aW9uIGlkZW50aWZ5IGlmIHRoZSBJbmNpZGVudFxuICAgIC8vIHBhcnRpY2lwYXRlcyBvciBub3Qgb24gdGhlIGF1ZGlvQ2xpcC4gQnkgZGVmYXVsdCBpcyBcIm9uXCIgYnV0IGlmIHRoZSBwcm9wcy5hdWRpbyBpcyBzZXQgdG8gb2ZmXG4gICAgLy8gaXQgdHVybnMgdG8gXCJvZmZcIiBzbyB0aGUgREMgZ2V0cyB0b3RhbGx5IGlnbm9yZWQgb24gdGhlIGFkZGl0aW9uIHByb2Nlc3Mgb24gYXVkaW8gY2xpcFxuXG4gICAgLyogVGhlIGF1ZGlvIHZhbHVlIGlzIHNldCBpbiB0aGUgZm9sbG93aW5nIG1hbm5lclxuICAgICAgICAtIGZpcnN0IHdlIGNoZWNrIGlmIHRoZSBDbGFzcyBoYXMgYSBzdGF0aWMgYXVkaW8gcGFyYW1ldGVyIGFuZCBpZiB5ZXMgd2Uga2VlcCBpdFxuICAgICAgICAtIHRoZW4gd2UgY2hlY2sgaWYgdGhpcy5wcm9wcyBoYXMgdGhlIGF1ZGlvIGtleSBhbmQgaWYgeWVzIHdlIGtlZXAgdGhpcyBvbmVcbiAgICAgICAgLSBvdGhlcndpc2Ugd2UgdXNlIHRoZSBkZWZhdWx0IChcIm9uXCIpXG4gICAgKi9cblxuXG4gICAgaWYgKF90aGlzLmF1ZGlvID09PSAnb24nIHx8IF90aGlzLmF1ZGlvID09PSAnb2ZmJykge1xuICAgICAgX3RoaXMucmVhbENsaXAgPSBpbmNpZGVudEZyb21JbmdyZWRpZW50cyhpbmdyZWRpZW50cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLnJlYWxDbGlwID0gbmV3IE51bGxDbGlwKCk7XG4gICAgfVxuXG4gICAgaWYgKF90aGlzLmF1ZGlvID09PSAnb24nIHx8IF90aGlzLmF1ZGlvID09PSAnb25seScpIHtcbiAgICAgIHZhciBhdWRpb0luZ3JlZGllbnRzID0ge1xuICAgICAgICBpZDogX3RoaXMuaWQsXG4gICAgICAgIGF0dHJzOiB7fSxcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBhdWRpb1NvdXJjZXM6IHByb3BzVG9Vc2UuYXVkaW9Tb3VyY2VzLFxuICAgICAgICAgIHJ1blRpbWVJbmZvOiBfdGhpcy5ydW5UaW1lSW5mbyxcbiAgICAgICAgICBzdWJzY3JpYmU6IF90aGlzLnN1YnNjcmliZS5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKVxuICAgICAgICB9LFxuICAgICAgICBwbHVnaW5fbnBtX25hbWU6IF90aGlzLmNvbnN0cnVjdG9yLnBsdWdpbl9ucG1fbmFtZSxcbiAgICAgICAgQ2hhbm5lbDogX3RoaXMuY29uc3RydWN0b3IuQ2hhbm5lbCxcbiAgICAgICAgSW5jaWRlbnQ6IEF1ZGlvQ2xpcCxcbiAgICAgICAgRGVzY3JpcHRpdmVJbmNpZGVudDogX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcylcbiAgICAgIH07XG4gICAgICBfdGhpcy5hdWRpb0NsaXAgPSBpbmNpZGVudEZyb21JbmdyZWRpZW50cyhhdWRpb0luZ3JlZGllbnRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMuYXVkaW8gPSBmYWxzZTtcbiAgICAgIF90aGlzLmF1ZGlvQ2xpcCA9IG5ldyBOdWxsQ2xpcCgpO1xuICAgIH0gLy8gcGFzc2l2ZUFkZGl0aW9uIGlzIGEgZmxhZyBwcm9wZXJ0eSBpbmRpY2F0aW5nIHRoYXQgYW55IEluY2lkZW50IHRvIGJlXG4gICAgLy8gYWRkZWQgdG8gdGhlIENsaXAgd2lsbCBiZSBwYXNzaXZlLiBJdCBpbml0aWFsaXNlcyB3aXRoIHZhbHVlID0gZmFsc2VcbiAgICAvLyBvbiBEZXNjcmlwdGl2ZUdyb3VwIHdoZXJlIGl0J3Mgb3JpZ2luYWx5IGRlZmluZWQuXG4gICAgLy8gSGVyZSB3ZSBjaGFuZ2UgaXRzIHZhbHVlIGp1c3QgYmVmb3JlIHRoZSBidWlsZFRyZWUgbWV0aG9kIGV4ZWN1dGlvblxuICAgIC8vIHNvIGFsbCBJbmNpZGVudHMgYWRkZWQgb24gaXQgZ2V0IHRoZSBcInBhc3NpdmVcIiBmbGFnIGFuZCBkb24ndCBnZXRcbiAgICAvLyBleHBvcnRlZCBvbiB0aGUgZXhwb3J0RGVmaW5pdGlvbiBtZXRob2QuIE9uY2UgdGhlIGJ1aWxkVHJlZSBtZXRob2RcbiAgICAvLyBmaW5pc2hlcyB3ZSBzZXQgaXQgYmFjayB0byBpdHMgb3JpZ2luYWwgdmFsdWUgKGZhbHNlKVxuXG5cbiAgICBfdGhpcy5wYXNzaXZlQWRkaXRpb24gPSB0cnVlO1xuXG4gICAgX3RoaXMuX2J1aWxkVHJlZSgpO1xuXG4gICAgX3RoaXMucGFzc2l2ZUFkZGl0aW9uID0gZmFsc2U7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERlc2NyaXB0aXZlQ2xpcCwgW3tcbiAgICBrZXk6IFwiX2J1aWxkVHJlZVwiLFxuXG4gICAgLypcbiAgICB0aGUgX2J1aWxkVHJlZSBtZXRob2QgYWN0cyBhcyBhIHByb3h5IHRvIHRoZSBidWlsZFRyZWUgbWV0aG9kIGRlZmluZWQgYnkgdGhlXG4gICAgZGV2ZWxvcGVycy4gVGhlIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGF0IHRoZSBhY3R1YWwgYnVpbGRUcmVlIG1ldGhvZCBzaG91bGRcbiAgICBiZSBleGVjdXRlZCBpbiBkaWZmZXJlbnQgb3JkZXIgb24gR3JvdXBzIGFuZCBvbiBDbGlwcyAodGhhdCBleHRlbmQgR3JvdXBzKS5cbiAgICBDYWxsaW5nIHRoZSBzdXBlciBvbiBjb25zdHJ1Y3RvciBmaXJlcyB0aGUgX2J1aWxkVHJlZSBleGVjdXRpb24gb24gdGhlXG4gICAgR3JvdXAncyBjb25zdHJ1Y3RvciBidXQgdGhpcyBicmVha3Mgb24gQ2xpcCBhcyB0aGUgcmVhbENsaXAgaGFzIG5vdCBiZWVuXG4gICAgaW5pdGlhbGlzZWQgeWV0LlxuICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9idWlsZFRyZWUoKSB7XG4gICAgICBpZiAodGhpcy5yZWFsQ2xpcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5idWlsZFRyZWUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgcmVzaXplIGNvbW1hbmQgaXMgZ2l2ZW4gZGlyZWN0bHkgdG8gYSBEZXNjcmlwdGl2ZUNsaXAgbm8gY2hlY2tzXG4gICAgICogbmVlZCB0byBiZSBwZXJmb3JtZWQuXG4gICAgICogRGVzY3JpcHRpdmVDbGlwIGRpcmVjdGx5IGludm9rZXMgdGhlIF9yZXNpemUgbWV0aG9kIG9mIEV4dGVuZGFibGVDbGlwIHdoaWNoXG4gICAgICogcmVzaXplcyB0aGUgZnVsbCBjbGlwXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKG5ld1NpemUpIHtcbiAgICAgIHRoaXMucmVhbENsaXAuX3Jlc2l6ZShuZXdTaXplIC8gdGhpcy5kdXJhdGlvbik7XG5cbiAgICAgIHRoaXMuYXVkaW9DbGlwLl9yZXNpemUobmV3U2l6ZSAvIHRoaXMuZHVyYXRpb24pO1xuXG4gICAgICB0aGlzLmR1cmF0aW9uID0gbmV3U2l6ZTtcbiAgICAgIHRoaXMucHV0TWVzc2FnZU9uUGlwZSgncmVjYWxjRHVyYXRpb24nLCB7fSwgJ0dyb3VwcycsIHtcbiAgICAgICAgc2VsZkV4ZWN1dGU6IGZhbHNlLFxuICAgICAgICBkaXJlY3Rpb246IF9UUkVFQ09OU1QuX0RJUkVDVElPTlMuX1VQXG4gICAgICB9KTtcbiAgICAgIHRoaXMucHV0TWVzc2FnZU9uUGlwZSgnZmxhc2gnLCB7fSwgJ1Jvb3RDbGlwJywge1xuICAgICAgICBzZWxmRXhlY3V0ZTogdHJ1ZSxcbiAgICAgICAgZGlyZWN0aW9uOiBfVFJFRUNPTlNULl9ESVJFQ1RJT05TLl9VUFxuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN1bHQ6IHRydWVcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKiogSEFORExJTkcgTUVUSE9EUyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlQ2hlY2tGb3JDbGlwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNoZWNrRm9yQ2xpcCh0YXJnZXQsIHBheWxvYWQpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVDaGVja0FkZGl0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNoZWNrQWRkaXRpb24odGFyZ2V0LCBwYXlsb2FkKSB7XG4gICAgICAvKiBJcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgdGhlIERlc2NyaXB0aXZlQ2xpcCB0byBwYXNzIHRoZSBhZGRpdGlvbiByZXF1ZXN0XG4gICAgICB0byBpdHMgcmVhbCBjbGlwIGFuZCBleHBlY3QgZm9yIGEgcmVzcG9uc2UuICovXG4gICAgICB2YXIgcmVzID0gdGhpcy5yZWFsQ2xpcC5hZGRJbmNpZGVudChwYXlsb2FkKTtcbiAgICAgIHZhciBhdWRpb1JlcyA9IHRoaXMuYXVkaW9DbGlwLmFkZEluY2lkZW50KHBheWxvYWQpO1xuXG4gICAgICBpZiAocmVzLnJlc3VsdCA9PT0gdHJ1ZSAmJiBhdWRpb1Jlcy5yZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgcmVzLmV4ZWN1dGUoKTtcbiAgICAgICAgYXVkaW9SZXMuZXhlY3V0ZSgpO1xuICAgICAgICB0aGlzLnB1dE1lc3NhZ2VPblBpcGUoJ2ZsYXNoJywge30sICdSb290Q2xpcCcsIHtcbiAgICAgICAgICBzZWxmRXhlY3V0ZTogdHJ1ZSxcbiAgICAgICAgICBkaXJlY3Rpb246IF9UUkVFQ09OU1QuX0RJUkVDVElPTlMuX1VQXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVDaGVja01vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ2hlY2tNb3ZlKHRhcmdldCwgcGF5bG9hZCkge1xuICAgICAgdmFyIHJlcyA9IHRoaXMucmVhbENsaXAubW92ZUluY2lkZW50KHBheWxvYWQpO1xuICAgICAgdmFyIGF1ZGlvUmVzID0gdGhpcy5hdWRpb0NsaXAubW92ZUluY2lkZW50KHBheWxvYWQpO1xuXG4gICAgICBpZiAocmVzLnJlc3VsdCA9PT0gdHJ1ZSAmJiBhdWRpb1Jlcy5yZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgcmVzLmV4ZWN1dGUoKTtcbiAgICAgICAgYXVkaW9SZXMuZXhlY3V0ZSgpO1xuICAgICAgICB0aGlzLnB1dE1lc3NhZ2VPblBpcGUoJ2ZsYXNoJywge30sICdSb290Q2xpcCcsIHtcbiAgICAgICAgICBzZWxmRXhlY3V0ZTogdHJ1ZSxcbiAgICAgICAgICBkaXJlY3Rpb246IF9UUkVFQ09OU1QuX0RJUkVDVElPTlMuX1VQXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVDaGVja0RlbGV0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNoZWNrRGVsZXRpb24odGFyZ2V0LCBwYXlsb2FkKSB7XG4gICAgICB2YXIgcmVzID0gdGhpcy5yZWFsQ2xpcC5yZW1vdmVJbmNpZGVudChwYXlsb2FkKTtcbiAgICAgIHZhciBhdWRpb1JlcyA9IHRoaXMuYXVkaW9DbGlwLnJlbW92ZUluY2lkZW50KHBheWxvYWQpO1xuXG4gICAgICBpZiAocmVzLnJlc3VsdCA9PT0gdHJ1ZSAmJiBhdWRpb1Jlcy5yZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgcmVzLmV4ZWN1dGUoKTtcbiAgICAgICAgYXVkaW9SZXMuZXhlY3V0ZSgpO1xuICAgICAgICB0aGlzLnB1dE1lc3NhZ2VPblBpcGUoJ2ZsYXNoJywge30sICdSb290Q2xpcCcsIHtcbiAgICAgICAgICBzZWxmRXhlY3V0ZTogdHJ1ZSxcbiAgICAgICAgICBkaXJlY3Rpb246IF9UUkVFQ09OU1QuX0RJUkVDVElPTlMuX1VQXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVDaGVja1Jlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDaGVja1Jlc2l6ZSh0YXJnZXQsIHBheWxvYWQpIHtcbiAgICAgIHZhciByZXMgPSB0aGlzLnJlYWxDbGlwLnJlc2l6ZUluY2lkZW50KHBheWxvYWQpO1xuICAgICAgdmFyIGF1ZGlvUmVzID0gdGhpcy5hdWRpb0NsaXAucmVzaXplSW5jaWRlbnQocGF5bG9hZCk7XG5cbiAgICAgIGlmIChyZXMucmVzdWx0ID09PSB0cnVlICYmIGF1ZGlvUmVzLnJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICByZXMuZXhlY3V0ZSgpO1xuICAgICAgICBhdWRpb1Jlcy5leGVjdXRlKCk7XG4gICAgICAgIHRoaXMucHV0TWVzc2FnZU9uUGlwZSgnZmxhc2gnLCB7fSwgJ1Jvb3RDbGlwJywge1xuICAgICAgICAgIHNlbGZFeGVjdXRlOiB0cnVlLFxuICAgICAgICAgIGRpcmVjdGlvbjogX1RSRUVDT05TVC5fRElSRUNUSU9OUy5fVVBcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdWx0OiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZUZsYXNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUZsYXNoKHRhcmdldCwgcGF5bG9hZCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgaWYgKHRoaXMuaXNUaGVSb290Q2xpcCkge1xuICAgICAgICB0aGlzLmZsYXNoKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5ieXBhc3MoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqKioqKioqKioqKioqKioqKiBCTE9DS0lORyBXQUlUSU5HUyBIQU5ETElORyAqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZVNldEJsb2NrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNldEJsb2NrKHRhcmdldCwgcGF5bG9hZCkge1xuICAgICAgLy8gb25seSBhY2NlcHRzIGJsb2NrcyBpZiBpcyB0aGUgcm9vdCBjbGlwIGFuZCBpZiBpdCdzIHBsYXlpbmdcbiAgICAgIGlmICh0aGlzLmlzVGhlUm9vdENsaXApIHtcbiAgICAgICAgaWYgKHRoaXMucnVuVGltZUluZm8uc3RhdGUgPT09IFwidHJhbnNpdGlvbmFsXCIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXR1c0JlZm9yZUJsb2NrID0gdGhpcy5ydW5UaW1lSW5mby5zdGF0ZTtcbiAgICAgICAgdGhpcy5ibG9ja2luZ1dhaXRpbmdzW3BheWxvYWQuaWRdID0gcGF5bG9hZDtcbiAgICAgICAgdGhpcy5ibG9jaygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnlwYXNzKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZVVuQmxvY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlVW5CbG9jayh0YXJnZXQsIHBheWxvYWQpIHtcbiAgICAgIGlmICh0aGlzLmlzVGhlUm9vdENsaXApIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmJsb2NraW5nV2FpdGluZ3MsIHBheWxvYWQuaWQpKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuYmxvY2tpbmdXYWl0aW5nc1twYXlsb2FkLmlkXTtcblxuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmJsb2NraW5nV2FpdGluZ3MpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzQmVmb3JlQmxvY2sgPT09IFwicGxheWluZ1wiKSB7XG4gICAgICAgICAgICAgIHRoaXMucHJldmlvdXNUaW1lU3RhbXAgPSAtMTtcbiAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmFybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnlwYXNzKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qIGVtcHR5IGJsb2NraW5nIHdhaXRpbmdzIG9uIHRyYW5zaXRpb24gc3RhcnQgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInN0b3BcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKERlc2NyaXB0aXZlQ2xpcC5wcm90b3R5cGUpLCBcInN0b3BcIiwgdGhpcykuY2FsbCh0aGlzKTtcblxuICAgICAgdGhpcy5ibG9ja2luZ1dhaXRpbmdzID0ge307XG4gICAgfVxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uUHJvZ3Jlc3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzcyhmcmFjdGlvbiwgbWlsbGlzZWNvbmQpIHtcbiAgICAgIHRoaXMucmVhbENsaXAub25Qcm9ncmVzcyhmcmFjdGlvbiwgbWlsbGlzZWNvbmQpO1xuICAgICAgdGhpcy5hdWRpb0NsaXAub25Qcm9ncmVzcyhmcmFjdGlvbiwgbWlsbGlzZWNvbmQpO1xuICAgIH1cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICB9LCB7XG4gICAga2V5OiBcInBhc3RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhc3RlKGhvc3QpIHtcbiAgICAgIGlmICh0aGlzLmlzVGhlUm9vdENsaXApIHtcbiAgICAgICAgdmFyIGNsaXBDbG9uZSA9IG5ldyBDbGlwQ2xvbmUoe1xuICAgICAgICAgIGhvc3Q6IGhvc3QsXG4gICAgICAgICAgZGVzY3JpcHRpdmVJbmNpZGVudDogdGhpc1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNsaXBDbG9uZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZsYXNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZsYXNoKCkge1xuICAgICAgdGhpcy5yZWFsQ2xpcC5mbGFzaCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZWxlY3RvclRvUGFzc1RvQ2hpbGRyZW5cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBudWxsOyAvLyB0aGUgQ2xpcCAoYW55IENsaXApIHJlc2V0cyB0aGUgc2VsZWN0aW9uIGNhc2NhZGluZ1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbmhlcml0ZWRTZWxlY3RvclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2luaGVyaXRlZFNlbGVjdG9yO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMuX2luaGVyaXRlZFNlbGVjdG9yID0gdmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImh0bWxcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3NzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvbnRzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIERlc2NyaXB0aXZlQ2xpcDtcbn0oUGxheWFibGUpO1xuXG5fZGVmaW5lUHJvcGVydHkoRGVzY3JpcHRpdmVDbGlwLCBcImlzQ2xpcFwiLCB0cnVlKTtcblxuX2RlZmluZVByb3BlcnR5KERlc2NyaXB0aXZlQ2xpcCwgXCJJbmNpZGVudFwiLCBDbGlwKTtcblxuX2RlZmluZVByb3BlcnR5KERlc2NyaXB0aXZlQ2xpcCwgXCJwbHVnaW5fbnBtX25hbWVcIiwgXCJAa2lzc215YnV0dG9uL3NlbGYtY29udGFpbmVkLWluY2lkZW50c1wiKTtcblxuX2RlZmluZVByb3BlcnR5KERlc2NyaXB0aXZlQ2xpcCwgXCJDaGFubmVsXCIsIENoYW5uZWwpO1xuXG5fZGVmaW5lUHJvcGVydHkoRGVzY3JpcHRpdmVDbGlwLCBcIkNsYXNzTmFtZVwiLCBcIkNsaXBcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gRGVzY3JpcHRpdmVDbGlwOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveClip.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveGroup.js":
/*!***********************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveGroup.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _CONST = __webpack_require__(/*! ./_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/_CONST.js\");\n\nvar _TREECONST = __webpack_require__(/*! ../Tree/_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/_CONST.js\");\n\nvar Node = __webpack_require__(/*! ../Tree/Node */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/Node.js\");\n\nvar resize = __webpack_require__(/*! ./decorators/resize */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/resize.js\");\n\nvar editAttributes = __webpack_require__(/*! ./decorators/editAttributes */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/editAttributes.js\");\n\nvar editProperties = __webpack_require__(/*! ./decorators/editProperties */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/editProperties.js\");\n\nvar selectorGetter = __webpack_require__(/*! ./decorators/selector */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/selector.js\");\n\nvar Group = __webpack_require__(/*! ../BaseClasses/Group */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/Group.js\");\n\nvar Channel = __webpack_require__(/*! ../Channels/Channel */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Channel.js\");\n\nvar DescriptiveGroup = _decorate(null, function (_initialize, _Node) {\n  var DescriptiveGroup =\n  /*#__PURE__*/\n  function (_Node2) {\n    _inherits(DescriptiveGroup, _Node2);\n\n    function DescriptiveGroup() {\n      var _this;\n\n      var attrs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      _classCallCheck(this, DescriptiveGroup);\n\n      if (props === null) {\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(DescriptiveGroup).call(this, attrs));\n\n        _initialize(_assertThisInitialized(_this));\n\n        _this.attrs = {};\n        _this.props = attrs;\n      } else {\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(DescriptiveGroup).call(this, props));\n\n        _initialize(_assertThisInitialized(_this));\n\n        _this.attrs = attrs;\n        _this.props = props;\n      }\n\n      _this._inheritedSelector = null; // passiveAddition is a flag property indicating that any Incident to be\n      // added to the Clip will be passive. It initialises with value = false\n      // on DescriptiveGroup where it's originaly defined.\n      // Here we change its value just before the buildTree method execution\n      // so all Incidents added on it get the \"passive\" flag and don't get\n      // exported on the exportDefinition method. Once the buildTree method\n      // finishes we set it back to its original value (false)\n\n      _this.passiveAddition = true;\n\n      _this._buildTree();\n\n      _this.passiveAddition = false;\n      return _possibleConstructorReturn(_this);\n    }\n\n    return DescriptiveGroup;\n  }(_Node);\n\n  return {\n    F: DescriptiveGroup,\n    d: [{\n      kind: \"field\",\n      \"static\": true,\n      key: \"Incident\",\n      value: function value() {\n        return Group;\n      }\n    }, {\n      kind: \"field\",\n      \"static\": true,\n      key: \"plugin_npm_name\",\n      value: function value() {\n        return \"motor-cortex-js\";\n      }\n    }, {\n      kind: \"field\",\n      \"static\": true,\n      key: \"Channel\",\n      value: function value() {\n        return Channel;\n      }\n    }, {\n      kind: \"field\",\n      \"static\": true,\n      key: \"ClassName\",\n      value: function value() {\n        return \"Group\";\n      }\n    }, {\n      kind: \"method\",\n      decorators: [editAttributes],\n      key: \"editAttributes\",\n      value: function editAttributes() {}\n    }, {\n      kind: \"method\",\n      decorators: [editProperties],\n      key: \"editProperties\",\n      value: function editProperties() {}\n    }, {\n      kind: \"method\",\n      decorators: [resize],\n      key: \"resize\",\n      value: function resize() {}\n    }, {\n      kind: \"method\",\n      decorators: [selectorGetter],\n      key: \"selector\",\n      value: function selector() {}\n    }, {\n      kind: \"method\",\n      key: \"_buildTree\",\n      value: function _buildTree() {\n        this.buildTree();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_rebuildTree\",\n      value: function _rebuildTree() {\n        // remove all direct passive incidents as they might be dependent on the edited attrs/props\n        for (var id in this.children) {\n          var theChild = this.children[id];\n\n          if (theChild.leaf.passive === true) {\n            this.removeIncident(theChild.id);\n          }\n        } // run buildTree again\n\n\n        this.passiveAddition = true;\n        this.buildTree();\n        this.passiveAddition = false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"buildTree\",\n      value: function buildTree() {}\n    }, {\n      kind: \"method\",\n      key: \"manageEditAttrProps\",\n      value: function manageEditAttrProps(newAttrs, type) {\n        // get a permanent reference to its parent node\n        var parentNode = this.parentNode; // get the position of the Incident within its parent\n\n        var position = parentNode.getLeafPosition(this.id); // keep a backup of the current attrs / props\n\n        var oldAttrs = JSON.parse(JSON.stringify(this[type]));\n        this[type] = newAttrs; // first detach the Incident from its parent\n\n        parentNode.removeIncident(this.id); // remove all direct passive incidents as they might be dependent on the edited attrs/props\n\n        this._rebuildTree(); // try to add the altered Group\n\n\n        var res = parentNode.addIncident(this, position);\n\n        if (res.result === false) {\n          this[type] = oldAttrs;\n\n          this._rebuildTree();\n\n          parentNode.addIncident(this, position);\n          return res;\n        }\n\n        return res;\n      }\n    }, {\n      kind: \"method\",\n      key: \"detachFromParent\",\n      value: function detachFromParent() {\n        _get(_getPrototypeOf(DescriptiveGroup.prototype), \"detachFromParent\", this).call(this);\n\n        this.inheritedSelector = null;\n      }\n    }, {\n      kind: \"get\",\n      key: \"inheritedSelector\",\n      value: function inheritedSelector() {\n        return this._inheritedSelector;\n      }\n    }, {\n      kind: \"set\",\n      key: \"inheritedSelector\",\n      value: function inheritedSelector(value) {\n        this._inheritedSelector = value;\n\n        for (var id in this.children) {\n          var theChild = this.children[id].leaf;\n          theChild.inheritedSelector = this.selector();\n        }\n      }\n    }, {\n      kind: \"get\",\n      key: \"selectorToPassToChildren\",\n      value: function selectorToPassToChildren() {\n        return this.selector();\n      }\n      /**\n       * The purpose of this method is to export a portable definition that can be\n       * later used in order to rebuild the Inicdent at any time\n       */\n\n    }, {\n      kind: \"method\",\n      key: \"exportDefinition\",\n      value: function exportDefinition() {\n        var toReturn = {\n          ClassName: this.constructor.ClassName,\n          plugin_npm_name: this.constructor.plugin_npm_name,\n          attrs: this.attrs,\n          props: this.props,\n          incidents: {}\n        };\n\n        for (var id in this.children) {\n          var theChild = this.children[id];\n\n          if (theChild.leaf.passive === true) {\n            continue;\n          }\n\n          toReturn.incidents[id] = {\n            id: theChild.id,\n            position: theChild.position,\n            leaf: theChild.leaf.exportDefinition()\n          };\n        }\n\n        return toReturn;\n      }\n    }, {\n      kind: \"method\",\n      key: \"addIncident\",\n      value: function addIncident(descriptiveIncident, position) {\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n          check: true\n        };\n        descriptiveIncident.inheritedSelector = this.selectorToPassToChildren;\n\n        if (options.check === true) {\n          var initialCheck = _get(_getPrototypeOf(DescriptiveGroup.prototype), \"checkAddition\", this).call(this, descriptiveIncident, position);\n\n          if (initialCheck.result === false) {\n            descriptiveIncident.inheritedSelector = null;\n            return initialCheck;\n          }\n          /* Check for null or relative selector Incidents with no inherited selector */\n\n\n          var checkIfBelongsToClip = this.putMessageOnPipe('checkForClip', {}, _CONST._TARGETTYPES._DECISIONAUTHORITY, {\n            selfExecute: true,\n            direction: _TREECONST._DIRECTIONS._UP\n          });\n\n          if (checkIfBelongsToClip.response === true) {\n            // if the Group belongs on a Clip\n            var selectorsCheck = descriptiveIncident.putMessageOnPipe('checkForInvalidSelectors', {}, null, {\n              selfExecute: true,\n              direction: _TREECONST._DIRECTIONS._DOWN\n            });\n\n            if (selectorsCheck.length > 0) {\n              var errors = [];\n\n              for (var i = 0; i < selectorsCheck.length; i++) {\n                errors.push(selectorsCheck[i].response);\n              }\n\n              return {\n                result: false,\n                errors: errors\n              };\n            }\n          } // sends the check request to its root, either a headless root or a Descriptive Clip\n\n\n          var mcCheck = this.putMessageOnPipe('checkAddition', {\n            incident: descriptiveIncident,\n            millisecond: position,\n            parentGroupId: this.id\n          }, _CONST._TARGETTYPES._DECISIONAUTHORITY, {\n            selfExecute: true,\n            direction: _TREECONST._DIRECTIONS._UP\n          });\n\n          if (mcCheck.response.result === false) {\n            descriptiveIncident.inheritedSelector = null;\n            return mcCheck.response;\n          }\n        } // if the passiveAddition flag is true we set the passive flag of the Incident\n        // to true before adding it to our Group\n\n\n        if (this.passiveAddition === true) {\n          descriptiveIncident.passive = true;\n        }\n\n        var res = this.addChild(descriptiveIncident, position);\n\n        if (res.result === false) {\n          descriptiveIncident.inheritedSelector = null;\n        }\n\n        return res;\n      }\n      /**\n       * @param input - can either be object or id\n       **/\n\n    }, {\n      kind: \"method\",\n      key: \"moveIncident\",\n      value: function moveIncident(input, position) {\n        var id = input;\n\n        if (_typeof(input) === \"object\") {\n          id = input.id;\n        }\n\n        var initialCheck = _get(_getPrototypeOf(DescriptiveGroup.prototype), \"checkEditPosition\", this).call(this, id, position);\n\n        if (initialCheck.result === false) {\n          return initialCheck;\n        }\n\n        var originalPosition = this.getLeafPosition(id);\n        var positionDelta = position - originalPosition;\n\n        if (positionDelta === 0) {\n          return {\n            result: true\n          };\n        }\n\n        var mcCheck = this.putMessageOnPipe('checkMove', {\n          id: id,\n          millisecond: position,\n          positionDelta: positionDelta,\n          parentGroupId: this.id\n        }, _CONST._TARGETTYPES._DECISIONAUTHORITY, {\n          selfExecute: true,\n          direction: _TREECONST._DIRECTIONS._UP\n        });\n\n        if (mcCheck.response.result === false) {\n          return mcCheck.response;\n        }\n\n        var res = this.editPosition(id, position);\n        return res;\n      }\n    }, {\n      kind: \"method\",\n      key: \"removeIncident\",\n      value: function removeIncident(input) {\n        var id = input;\n\n        if (_typeof(input) === \"object\") {\n          id = input.id;\n        }\n\n        var initialCheck = _get(_getPrototypeOf(DescriptiveGroup.prototype), \"checkRemoveChild\", this).call(this, id);\n\n        if (initialCheck.result === false) {\n          return initialCheck;\n        }\n\n        var mcCheck = this.putMessageOnPipe('checkDeletion', {\n          id: id,\n          parentGroupId: this.id\n        }, _CONST._TARGETTYPES._DECISIONAUTHORITY, {\n          selfExecute: true,\n          direction: _TREECONST._DIRECTIONS._UP\n        });\n\n        if (mcCheck.response.result === false) {\n          return mcCheck.response;\n        }\n\n        var res = this.removeChild(id);\n        return res;\n      }\n      /*************************** HANDLING METHODS *******************************/\n\n    }, {\n      kind: \"method\",\n      key: \"handleCheckForClip\",\n      value: function handleCheckForClip(target, payload) {\n        // eslint-disable-line no-unused-vars\n        if (this.hasParent) {\n          return this.bypass();\n        }\n\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"handleCheckAddition\",\n      value: function handleCheckAddition(target, payload) {\n        // eslint-disable-line no-unused-vars\n\n        /*\n        The DescriptiveGroup handles the checkAddition command which has the UP\n        direction. If the DG has a parent it forwards the command to it. If not\n        it just returns true, as it is a deadless tree\n        */\n        if (this.hasParent) {\n          return this.bypass();\n        }\n\n        return {\n          result: true\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"handleCheckMove\",\n      value: function handleCheckMove(target, payload) {\n        // eslint-disable-line no-unused-vars\n        if (this.hasParent) {\n          return this.bypass();\n        }\n\n        return {\n          result: true\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"handleCheckDeletion\",\n      value: function handleCheckDeletion(target, payload) {\n        // eslint-disable-line no-unused-vars\n        if (this.hasParent) {\n          return this.bypass();\n        }\n\n        return {\n          result: true\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"handleCheckResize\",\n      value: function handleCheckResize(target, payload) {\n        // eslint-disable-line no-unused-vars\n        if (this.hasParent) {\n          return this.bypass();\n        }\n\n        return {\n          result: true\n        };\n      }\n    }]\n  };\n}, Node);\n\nmodule.exports = DescriptiveGroup;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9EZXNjcmlwdGl2ZUluY2lkZW50cy9EZXNjcmlwdGl2ZUdyb3VwLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvRGVzY3JpcHRpdmVJbmNpZGVudHMvRGVzY3JpcHRpdmVHcm91cC5qcz9mNjIzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfZGVjb3JhdGUoZGVjb3JhdG9ycywgZmFjdG9yeSwgc3VwZXJDbGFzcywgbWl4aW5zKSB7IHZhciBhcGkgPSBfZ2V0RGVjb3JhdG9yc0FwaSgpOyBpZiAobWl4aW5zKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7IGFwaSA9IG1peGluc1tpXShhcGkpOyB9IH0gdmFyIHIgPSBmYWN0b3J5KGZ1bmN0aW9uIGluaXRpYWxpemUoTykgeyBhcGkuaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHMoTywgZGVjb3JhdGVkLmVsZW1lbnRzKTsgfSwgc3VwZXJDbGFzcyk7IHZhciBkZWNvcmF0ZWQgPSBhcGkuZGVjb3JhdGVDbGFzcyhfY29hbGVzY2VDbGFzc0VsZW1lbnRzKHIuZC5tYXAoX2NyZWF0ZUVsZW1lbnREZXNjcmlwdG9yKSksIGRlY29yYXRvcnMpOyBhcGkuaW5pdGlhbGl6ZUNsYXNzRWxlbWVudHMoci5GLCBkZWNvcmF0ZWQuZWxlbWVudHMpOyByZXR1cm4gYXBpLnJ1bkNsYXNzRmluaXNoZXJzKHIuRiwgZGVjb3JhdGVkLmZpbmlzaGVycyk7IH1cblxuZnVuY3Rpb24gX2dldERlY29yYXRvcnNBcGkoKSB7IF9nZXREZWNvcmF0b3JzQXBpID0gZnVuY3Rpb24gX2dldERlY29yYXRvcnNBcGkoKSB7IHJldHVybiBhcGk7IH07IHZhciBhcGkgPSB7IGVsZW1lbnRzRGVmaW5pdGlvbk9yZGVyOiBbW1wibWV0aG9kXCJdLCBbXCJmaWVsZFwiXV0sIGluaXRpYWxpemVJbnN0YW5jZUVsZW1lbnRzOiBmdW5jdGlvbiBpbml0aWFsaXplSW5zdGFuY2VFbGVtZW50cyhPLCBlbGVtZW50cykgeyBbXCJtZXRob2RcIiwgXCJmaWVsZFwiXS5mb3JFYWNoKGZ1bmN0aW9uIChraW5kKSB7IGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgaWYgKGVsZW1lbnQua2luZCA9PT0ga2luZCAmJiBlbGVtZW50LnBsYWNlbWVudCA9PT0gXCJvd25cIikgeyB0aGlzLmRlZmluZUNsYXNzRWxlbWVudChPLCBlbGVtZW50KTsgfSB9LCB0aGlzKTsgfSwgdGhpcyk7IH0sIGluaXRpYWxpemVDbGFzc0VsZW1lbnRzOiBmdW5jdGlvbiBpbml0aWFsaXplQ2xhc3NFbGVtZW50cyhGLCBlbGVtZW50cykgeyB2YXIgcHJvdG8gPSBGLnByb3RvdHlwZTsgW1wibWV0aG9kXCIsIFwiZmllbGRcIl0uZm9yRWFjaChmdW5jdGlvbiAoa2luZCkgeyBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IHZhciBwbGFjZW1lbnQgPSBlbGVtZW50LnBsYWNlbWVudDsgaWYgKGVsZW1lbnQua2luZCA9PT0ga2luZCAmJiAocGxhY2VtZW50ID09PSBcInN0YXRpY1wiIHx8IHBsYWNlbWVudCA9PT0gXCJwcm90b3R5cGVcIikpIHsgdmFyIHJlY2VpdmVyID0gcGxhY2VtZW50ID09PSBcInN0YXRpY1wiID8gRiA6IHByb3RvOyB0aGlzLmRlZmluZUNsYXNzRWxlbWVudChyZWNlaXZlciwgZWxlbWVudCk7IH0gfSwgdGhpcyk7IH0sIHRoaXMpOyB9LCBkZWZpbmVDbGFzc0VsZW1lbnQ6IGZ1bmN0aW9uIGRlZmluZUNsYXNzRWxlbWVudChyZWNlaXZlciwgZWxlbWVudCkgeyB2YXIgZGVzY3JpcHRvciA9IGVsZW1lbnQuZGVzY3JpcHRvcjsgaWYgKGVsZW1lbnQua2luZCA9PT0gXCJmaWVsZFwiKSB7IHZhciBpbml0aWFsaXplciA9IGVsZW1lbnQuaW5pdGlhbGl6ZXI7IGRlc2NyaXB0b3IgPSB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHZhbHVlOiBpbml0aWFsaXplciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdGlhbGl6ZXIuY2FsbChyZWNlaXZlcikgfTsgfSBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIGVsZW1lbnQua2V5LCBkZXNjcmlwdG9yKTsgfSwgZGVjb3JhdGVDbGFzczogZnVuY3Rpb24gZGVjb3JhdGVDbGFzcyhlbGVtZW50cywgZGVjb3JhdG9ycykgeyB2YXIgbmV3RWxlbWVudHMgPSBbXTsgdmFyIGZpbmlzaGVycyA9IFtdOyB2YXIgcGxhY2VtZW50cyA9IHsgXCJzdGF0aWNcIjogW10sIHByb3RvdHlwZTogW10sIG93bjogW10gfTsgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgeyB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7IH0sIHRoaXMpOyBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IGlmICghX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHJldHVybiBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnQpOyB2YXIgZWxlbWVudEZpbmlzaGVyc0V4dHJhcyA9IHRoaXMuZGVjb3JhdGVFbGVtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpOyBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZWxlbWVudCk7IG5ld0VsZW1lbnRzLnB1c2guYXBwbHkobmV3RWxlbWVudHMsIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZXh0cmFzKTsgZmluaXNoZXJzLnB1c2guYXBwbHkoZmluaXNoZXJzLCBlbGVtZW50RmluaXNoZXJzRXh0cmFzLmZpbmlzaGVycyk7IH0sIHRoaXMpOyBpZiAoIWRlY29yYXRvcnMpIHsgcmV0dXJuIHsgZWxlbWVudHM6IG5ld0VsZW1lbnRzLCBmaW5pc2hlcnM6IGZpbmlzaGVycyB9OyB9IHZhciByZXN1bHQgPSB0aGlzLmRlY29yYXRlQ29uc3RydWN0b3IobmV3RWxlbWVudHMsIGRlY29yYXRvcnMpOyBmaW5pc2hlcnMucHVzaC5hcHBseShmaW5pc2hlcnMsIHJlc3VsdC5maW5pc2hlcnMpOyByZXN1bHQuZmluaXNoZXJzID0gZmluaXNoZXJzOyByZXR1cm4gcmVzdWx0OyB9LCBhZGRFbGVtZW50UGxhY2VtZW50OiBmdW5jdGlvbiBhZGRFbGVtZW50UGxhY2VtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMsIHNpbGVudCkgeyB2YXIga2V5cyA9IHBsYWNlbWVudHNbZWxlbWVudC5wbGFjZW1lbnRdOyBpZiAoIXNpbGVudCAmJiBrZXlzLmluZGV4T2YoZWxlbWVudC5rZXkpICE9PSAtMSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRHVwbGljYXRlZCBlbGVtZW50IChcIiArIGVsZW1lbnQua2V5ICsgXCIpXCIpOyB9IGtleXMucHVzaChlbGVtZW50LmtleSk7IH0sIGRlY29yYXRlRWxlbWVudDogZnVuY3Rpb24gZGVjb3JhdGVFbGVtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpIHsgdmFyIGV4dHJhcyA9IFtdOyB2YXIgZmluaXNoZXJzID0gW107IGZvciAodmFyIGRlY29yYXRvcnMgPSBlbGVtZW50LmRlY29yYXRvcnMsIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7IHZhciBrZXlzID0gcGxhY2VtZW50c1tlbGVtZW50LnBsYWNlbWVudF07IGtleXMuc3BsaWNlKGtleXMuaW5kZXhPZihlbGVtZW50LmtleSksIDEpOyB2YXIgZWxlbWVudE9iamVjdCA9IHRoaXMuZnJvbUVsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnQpOyB2YXIgZWxlbWVudEZpbmlzaGVyRXh0cmFzID0gdGhpcy50b0VsZW1lbnRGaW5pc2hlckV4dHJhcygoMCwgZGVjb3JhdG9yc1tpXSkoZWxlbWVudE9iamVjdCkgfHwgZWxlbWVudE9iamVjdCk7IGVsZW1lbnQgPSBlbGVtZW50RmluaXNoZXJFeHRyYXMuZWxlbWVudDsgdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpOyBpZiAoZWxlbWVudEZpbmlzaGVyRXh0cmFzLmZpbmlzaGVyKSB7IGZpbmlzaGVycy5wdXNoKGVsZW1lbnRGaW5pc2hlckV4dHJhcy5maW5pc2hlcik7IH0gdmFyIG5ld0V4dHJhcyA9IGVsZW1lbnRGaW5pc2hlckV4dHJhcy5leHRyYXM7IGlmIChuZXdFeHRyYXMpIHsgZm9yICh2YXIgaiA9IDA7IGogPCBuZXdFeHRyYXMubGVuZ3RoOyBqKyspIHsgdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KG5ld0V4dHJhc1tqXSwgcGxhY2VtZW50cyk7IH0gZXh0cmFzLnB1c2guYXBwbHkoZXh0cmFzLCBuZXdFeHRyYXMpOyB9IH0gcmV0dXJuIHsgZWxlbWVudDogZWxlbWVudCwgZmluaXNoZXJzOiBmaW5pc2hlcnMsIGV4dHJhczogZXh0cmFzIH07IH0sIGRlY29yYXRlQ29uc3RydWN0b3I6IGZ1bmN0aW9uIGRlY29yYXRlQ29uc3RydWN0b3IoZWxlbWVudHMsIGRlY29yYXRvcnMpIHsgdmFyIGZpbmlzaGVycyA9IFtdOyBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgeyB2YXIgb2JqID0gdGhpcy5mcm9tQ2xhc3NEZXNjcmlwdG9yKGVsZW1lbnRzKTsgdmFyIGVsZW1lbnRzQW5kRmluaXNoZXIgPSB0aGlzLnRvQ2xhc3NEZXNjcmlwdG9yKCgwLCBkZWNvcmF0b3JzW2ldKShvYmopIHx8IG9iaik7IGlmIChlbGVtZW50c0FuZEZpbmlzaGVyLmZpbmlzaGVyICE9PSB1bmRlZmluZWQpIHsgZmluaXNoZXJzLnB1c2goZWxlbWVudHNBbmRGaW5pc2hlci5maW5pc2hlcik7IH0gaWYgKGVsZW1lbnRzQW5kRmluaXNoZXIuZWxlbWVudHMgIT09IHVuZGVmaW5lZCkgeyBlbGVtZW50cyA9IGVsZW1lbnRzQW5kRmluaXNoZXIuZWxlbWVudHM7IGZvciAodmFyIGogPSAwOyBqIDwgZWxlbWVudHMubGVuZ3RoIC0gMTsgaisrKSB7IGZvciAodmFyIGsgPSBqICsgMTsgayA8IGVsZW1lbnRzLmxlbmd0aDsgaysrKSB7IGlmIChlbGVtZW50c1tqXS5rZXkgPT09IGVsZW1lbnRzW2tdLmtleSAmJiBlbGVtZW50c1tqXS5wbGFjZW1lbnQgPT09IGVsZW1lbnRzW2tdLnBsYWNlbWVudCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRHVwbGljYXRlZCBlbGVtZW50IChcIiArIGVsZW1lbnRzW2pdLmtleSArIFwiKVwiKTsgfSB9IH0gfSB9IHJldHVybiB7IGVsZW1lbnRzOiBlbGVtZW50cywgZmluaXNoZXJzOiBmaW5pc2hlcnMgfTsgfSwgZnJvbUVsZW1lbnREZXNjcmlwdG9yOiBmdW5jdGlvbiBmcm9tRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudCkgeyB2YXIgb2JqID0geyBraW5kOiBlbGVtZW50LmtpbmQsIGtleTogZWxlbWVudC5rZXksIHBsYWNlbWVudDogZWxlbWVudC5wbGFjZW1lbnQsIGRlc2NyaXB0b3I6IGVsZW1lbnQuZGVzY3JpcHRvciB9OyB2YXIgZGVzYyA9IHsgdmFsdWU6IFwiRGVzY3JpcHRvclwiLCBjb25maWd1cmFibGU6IHRydWUgfTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgU3ltYm9sLnRvU3RyaW5nVGFnLCBkZXNjKTsgaWYgKGVsZW1lbnQua2luZCA9PT0gXCJmaWVsZFwiKSBvYmouaW5pdGlhbGl6ZXIgPSBlbGVtZW50LmluaXRpYWxpemVyOyByZXR1cm4gb2JqOyB9LCB0b0VsZW1lbnREZXNjcmlwdG9yczogZnVuY3Rpb24gdG9FbGVtZW50RGVzY3JpcHRvcnMoZWxlbWVudE9iamVjdHMpIHsgaWYgKGVsZW1lbnRPYmplY3RzID09PSB1bmRlZmluZWQpIHJldHVybjsgcmV0dXJuIF90b0FycmF5KGVsZW1lbnRPYmplY3RzKS5tYXAoZnVuY3Rpb24gKGVsZW1lbnRPYmplY3QpIHsgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImZpbmlzaGVyXCIsIFwiQW4gZWxlbWVudCBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZWxlbWVudE9iamVjdCwgXCJleHRyYXNcIiwgXCJBbiBlbGVtZW50IGRlc2NyaXB0b3JcIik7IHJldHVybiBlbGVtZW50OyB9LCB0aGlzKTsgfSwgdG9FbGVtZW50RGVzY3JpcHRvcjogZnVuY3Rpb24gdG9FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50T2JqZWN0KSB7IHZhciBraW5kID0gU3RyaW5nKGVsZW1lbnRPYmplY3Qua2luZCk7IGlmIChraW5kICE9PSBcIm1ldGhvZFwiICYmIGtpbmQgIT09IFwiZmllbGRcIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbiBlbGVtZW50IGRlc2NyaXB0b3JcXCdzIC5raW5kIHByb3BlcnR5IG11c3QgYmUgZWl0aGVyIFwibWV0aG9kXCIgb3InICsgJyBcImZpZWxkXCIsIGJ1dCBhIGRlY29yYXRvciBjcmVhdGVkIGFuIGVsZW1lbnQgZGVzY3JpcHRvciB3aXRoJyArICcgLmtpbmQgXCInICsga2luZCArICdcIicpOyB9IHZhciBrZXkgPSBfdG9Qcm9wZXJ0eUtleShlbGVtZW50T2JqZWN0LmtleSk7IHZhciBwbGFjZW1lbnQgPSBTdHJpbmcoZWxlbWVudE9iamVjdC5wbGFjZW1lbnQpOyBpZiAocGxhY2VtZW50ICE9PSBcInN0YXRpY1wiICYmIHBsYWNlbWVudCAhPT0gXCJwcm90b3R5cGVcIiAmJiBwbGFjZW1lbnQgIT09IFwib3duXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQW4gZWxlbWVudCBkZXNjcmlwdG9yXFwncyAucGxhY2VtZW50IHByb3BlcnR5IG11c3QgYmUgb25lIG9mIFwic3RhdGljXCIsJyArICcgXCJwcm90b3R5cGVcIiBvciBcIm93blwiLCBidXQgYSBkZWNvcmF0b3IgY3JlYXRlZCBhbiBlbGVtZW50IGRlc2NyaXB0b3InICsgJyB3aXRoIC5wbGFjZW1lbnQgXCInICsgcGxhY2VtZW50ICsgJ1wiJyk7IH0gdmFyIGRlc2NyaXB0b3IgPSBlbGVtZW50T2JqZWN0LmRlc2NyaXB0b3I7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImVsZW1lbnRzXCIsIFwiQW4gZWxlbWVudCBkZXNjcmlwdG9yXCIpOyB2YXIgZWxlbWVudCA9IHsga2luZDoga2luZCwga2V5OiBrZXksIHBsYWNlbWVudDogcGxhY2VtZW50LCBkZXNjcmlwdG9yOiBPYmplY3QuYXNzaWduKHt9LCBkZXNjcmlwdG9yKSB9OyBpZiAoa2luZCAhPT0gXCJmaWVsZFwiKSB7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImluaXRpYWxpemVyXCIsIFwiQSBtZXRob2QgZGVzY3JpcHRvclwiKTsgfSBlbHNlIHsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGRlc2NyaXB0b3IsIFwiZ2V0XCIsIFwiVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZGVzY3JpcHRvciwgXCJzZXRcIiwgXCJUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShkZXNjcmlwdG9yLCBcInZhbHVlXCIsIFwiVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yXCIpOyBlbGVtZW50LmluaXRpYWxpemVyID0gZWxlbWVudE9iamVjdC5pbml0aWFsaXplcjsgfSByZXR1cm4gZWxlbWVudDsgfSwgdG9FbGVtZW50RmluaXNoZXJFeHRyYXM6IGZ1bmN0aW9uIHRvRWxlbWVudEZpbmlzaGVyRXh0cmFzKGVsZW1lbnRPYmplY3QpIHsgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7IHZhciBmaW5pc2hlciA9IF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkoZWxlbWVudE9iamVjdCwgXCJmaW5pc2hlclwiKTsgdmFyIGV4dHJhcyA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcnMoZWxlbWVudE9iamVjdC5leHRyYXMpOyByZXR1cm4geyBlbGVtZW50OiBlbGVtZW50LCBmaW5pc2hlcjogZmluaXNoZXIsIGV4dHJhczogZXh0cmFzIH07IH0sIGZyb21DbGFzc0Rlc2NyaXB0b3I6IGZ1bmN0aW9uIGZyb21DbGFzc0Rlc2NyaXB0b3IoZWxlbWVudHMpIHsgdmFyIG9iaiA9IHsga2luZDogXCJjbGFzc1wiLCBlbGVtZW50czogZWxlbWVudHMubWFwKHRoaXMuZnJvbUVsZW1lbnREZXNjcmlwdG9yLCB0aGlzKSB9OyB2YXIgZGVzYyA9IHsgdmFsdWU6IFwiRGVzY3JpcHRvclwiLCBjb25maWd1cmFibGU6IHRydWUgfTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgU3ltYm9sLnRvU3RyaW5nVGFnLCBkZXNjKTsgcmV0dXJuIG9iajsgfSwgdG9DbGFzc0Rlc2NyaXB0b3I6IGZ1bmN0aW9uIHRvQ2xhc3NEZXNjcmlwdG9yKG9iaikgeyB2YXIga2luZCA9IFN0cmluZyhvYmoua2luZCk7IGlmIChraW5kICE9PSBcImNsYXNzXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBjbGFzcyBkZXNjcmlwdG9yXFwncyAua2luZCBwcm9wZXJ0eSBtdXN0IGJlIFwiY2xhc3NcIiwgYnV0IGEgZGVjb3JhdG9yJyArICcgY3JlYXRlZCBhIGNsYXNzIGRlc2NyaXB0b3Igd2l0aCAua2luZCBcIicgKyBraW5kICsgJ1wiJyk7IH0gdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgXCJrZXlcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwicGxhY2VtZW50XCIsIFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCBcImRlc2NyaXB0b3JcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwiaW5pdGlhbGl6ZXJcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwiZXh0cmFzXCIsIFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpOyB2YXIgZmluaXNoZXIgPSBfb3B0aW9uYWxDYWxsYWJsZVByb3BlcnR5KG9iaiwgXCJmaW5pc2hlclwiKTsgdmFyIGVsZW1lbnRzID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9ycyhvYmouZWxlbWVudHMpOyByZXR1cm4geyBlbGVtZW50czogZWxlbWVudHMsIGZpbmlzaGVyOiBmaW5pc2hlciB9OyB9LCBydW5DbGFzc0ZpbmlzaGVyczogZnVuY3Rpb24gcnVuQ2xhc3NGaW5pc2hlcnMoY29uc3RydWN0b3IsIGZpbmlzaGVycykgeyBmb3IgKHZhciBpID0gMDsgaSA8IGZpbmlzaGVycy5sZW5ndGg7IGkrKykgeyB2YXIgbmV3Q29uc3RydWN0b3IgPSAoMCwgZmluaXNoZXJzW2ldKShjb25zdHJ1Y3Rvcik7IGlmIChuZXdDb25zdHJ1Y3RvciAhPT0gdW5kZWZpbmVkKSB7IGlmICh0eXBlb2YgbmV3Q29uc3RydWN0b3IgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmluaXNoZXJzIG11c3QgcmV0dXJuIGEgY29uc3RydWN0b3IuXCIpOyB9IGNvbnN0cnVjdG9yID0gbmV3Q29uc3RydWN0b3I7IH0gfSByZXR1cm4gY29uc3RydWN0b3I7IH0sIGRpc2FsbG93UHJvcGVydHk6IGZ1bmN0aW9uIGRpc2FsbG93UHJvcGVydHkob2JqLCBuYW1lLCBvYmplY3RUeXBlKSB7IGlmIChvYmpbbmFtZV0gIT09IHVuZGVmaW5lZCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKG9iamVjdFR5cGUgKyBcIiBjYW4ndCBoYXZlIGEgLlwiICsgbmFtZSArIFwiIHByb3BlcnR5LlwiKTsgfSB9IH07IHJldHVybiBhcGk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUVsZW1lbnREZXNjcmlwdG9yKGRlZikgeyB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZGVmLmtleSk7IHZhciBkZXNjcmlwdG9yOyBpZiAoZGVmLmtpbmQgPT09IFwibWV0aG9kXCIpIHsgZGVzY3JpcHRvciA9IHsgdmFsdWU6IGRlZi52YWx1ZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UgfTsgfSBlbHNlIGlmIChkZWYua2luZCA9PT0gXCJnZXRcIikgeyBkZXNjcmlwdG9yID0geyBnZXQ6IGRlZi52YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSB9OyB9IGVsc2UgaWYgKGRlZi5raW5kID09PSBcInNldFwiKSB7IGRlc2NyaXB0b3IgPSB7IHNldDogZGVmLnZhbHVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlIH07IH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09IFwiZmllbGRcIikgeyBkZXNjcmlwdG9yID0geyBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlIH07IH0gdmFyIGVsZW1lbnQgPSB7IGtpbmQ6IGRlZi5raW5kID09PSBcImZpZWxkXCIgPyBcImZpZWxkXCIgOiBcIm1ldGhvZFwiLCBrZXk6IGtleSwgcGxhY2VtZW50OiBkZWZbXCJzdGF0aWNcIl0gPyBcInN0YXRpY1wiIDogZGVmLmtpbmQgPT09IFwiZmllbGRcIiA/IFwib3duXCIgOiBcInByb3RvdHlwZVwiLCBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yIH07IGlmIChkZWYuZGVjb3JhdG9ycykgZWxlbWVudC5kZWNvcmF0b3JzID0gZGVmLmRlY29yYXRvcnM7IGlmIChkZWYua2luZCA9PT0gXCJmaWVsZFwiKSBlbGVtZW50LmluaXRpYWxpemVyID0gZGVmLnZhbHVlOyByZXR1cm4gZWxlbWVudDsgfVxuXG5mdW5jdGlvbiBfY29hbGVzY2VHZXR0ZXJTZXR0ZXIoZWxlbWVudCwgb3RoZXIpIHsgaWYgKGVsZW1lbnQuZGVzY3JpcHRvci5nZXQgIT09IHVuZGVmaW5lZCkgeyBvdGhlci5kZXNjcmlwdG9yLmdldCA9IGVsZW1lbnQuZGVzY3JpcHRvci5nZXQ7IH0gZWxzZSB7IG90aGVyLmRlc2NyaXB0b3Iuc2V0ID0gZWxlbWVudC5kZXNjcmlwdG9yLnNldDsgfSB9XG5cbmZ1bmN0aW9uIF9jb2FsZXNjZUNsYXNzRWxlbWVudHMoZWxlbWVudHMpIHsgdmFyIG5ld0VsZW1lbnRzID0gW107IHZhciBpc1NhbWVFbGVtZW50ID0gZnVuY3Rpb24gaXNTYW1lRWxlbWVudChvdGhlcikgeyByZXR1cm4gb3RoZXIua2luZCA9PT0gXCJtZXRob2RcIiAmJiBvdGhlci5rZXkgPT09IGVsZW1lbnQua2V5ICYmIG90aGVyLnBsYWNlbWVudCA9PT0gZWxlbWVudC5wbGFjZW1lbnQ7IH07IGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpXTsgdmFyIG90aGVyOyBpZiAoZWxlbWVudC5raW5kID09PSBcIm1ldGhvZFwiICYmIChvdGhlciA9IG5ld0VsZW1lbnRzLmZpbmQoaXNTYW1lRWxlbWVudCkpKSB7IGlmIChfaXNEYXRhRGVzY3JpcHRvcihlbGVtZW50LmRlc2NyaXB0b3IpIHx8IF9pc0RhdGFEZXNjcmlwdG9yKG90aGVyLmRlc2NyaXB0b3IpKSB7IGlmIChfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB8fCBfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiRHVwbGljYXRlZCBtZXRob2RzIChcIiArIGVsZW1lbnQua2V5ICsgXCIpIGNhbid0IGJlIGRlY29yYXRlZC5cIik7IH0gb3RoZXIuZGVzY3JpcHRvciA9IGVsZW1lbnQuZGVzY3JpcHRvcjsgfSBlbHNlIHsgaWYgKF9oYXNEZWNvcmF0b3JzKGVsZW1lbnQpKSB7IGlmIChfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiRGVjb3JhdG9ycyBjYW4ndCBiZSBwbGFjZWQgb24gZGlmZmVyZW50IGFjY2Vzc29ycyB3aXRoIGZvciBcIiArIFwidGhlIHNhbWUgcHJvcGVydHkgKFwiICsgZWxlbWVudC5rZXkgKyBcIikuXCIpOyB9IG90aGVyLmRlY29yYXRvcnMgPSBlbGVtZW50LmRlY29yYXRvcnM7IH0gX2NvYWxlc2NlR2V0dGVyU2V0dGVyKGVsZW1lbnQsIG90aGVyKTsgfSB9IGVsc2UgeyBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnQpOyB9IH0gcmV0dXJuIG5ld0VsZW1lbnRzOyB9XG5cbmZ1bmN0aW9uIF9oYXNEZWNvcmF0b3JzKGVsZW1lbnQpIHsgcmV0dXJuIGVsZW1lbnQuZGVjb3JhdG9ycyAmJiBlbGVtZW50LmRlY29yYXRvcnMubGVuZ3RoOyB9XG5cbmZ1bmN0aW9uIF9pc0RhdGFEZXNjcmlwdG9yKGRlc2MpIHsgcmV0dXJuIGRlc2MgIT09IHVuZGVmaW5lZCAmJiAhKGRlc2MudmFsdWUgPT09IHVuZGVmaW5lZCAmJiBkZXNjLndyaXRhYmxlID09PSB1bmRlZmluZWQpOyB9XG5cbmZ1bmN0aW9uIF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkob2JqLCBuYW1lKSB7IHZhciB2YWx1ZSA9IG9ialtuYW1lXTsgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkICdcIiArIG5hbWUgKyBcIicgdG8gYmUgYSBmdW5jdGlvblwiKTsgfSByZXR1cm4gdmFsdWU7IH1cblxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cblxuZnVuY3Rpb24gX3RvQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09IFwiW29iamVjdCBBcmd1bWVudHNdXCIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5mdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0LmdldCkgeyBfZ2V0ID0gUmVmbGVjdC5nZXQ7IH0gZWxzZSB7IF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IHZhciBiYXNlID0gX3N1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7IGlmICghYmFzZSkgcmV0dXJuOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpOyBpZiAoZGVzYy5nZXQpIHsgcmV0dXJuIGRlc2MuZ2V0LmNhbGwocmVjZWl2ZXIpOyB9IHJldHVybiBkZXNjLnZhbHVlOyB9OyB9IHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7IH1cblxuZnVuY3Rpb24gX3N1cGVyUHJvcEJhc2Uob2JqZWN0LCBwcm9wZXJ0eSkgeyB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkgeyBvYmplY3QgPSBfZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgYnJlYWs7IH0gcmV0dXJuIG9iamVjdDsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbnZhciBfQ09OU1QgPSByZXF1aXJlKCcuL19DT05TVCcpO1xuXG52YXIgX1RSRUVDT05TVCA9IHJlcXVpcmUoJy4uL1RyZWUvX0NPTlNUJyk7XG5cbnZhciBOb2RlID0gcmVxdWlyZSgnLi4vVHJlZS9Ob2RlJyk7XG5cbnZhciByZXNpemUgPSByZXF1aXJlKCcuL2RlY29yYXRvcnMvcmVzaXplJyk7XG5cbnZhciBlZGl0QXR0cmlidXRlcyA9IHJlcXVpcmUoJy4vZGVjb3JhdG9ycy9lZGl0QXR0cmlidXRlcycpO1xuXG52YXIgZWRpdFByb3BlcnRpZXMgPSByZXF1aXJlKCcuL2RlY29yYXRvcnMvZWRpdFByb3BlcnRpZXMnKTtcblxudmFyIHNlbGVjdG9yR2V0dGVyID0gcmVxdWlyZSgnLi9kZWNvcmF0b3JzL3NlbGVjdG9yJyk7XG5cbnZhciBHcm91cCA9IHJlcXVpcmUoJy4uL0Jhc2VDbGFzc2VzL0dyb3VwJyk7XG5cbnZhciBDaGFubmVsID0gcmVxdWlyZSgnLi4vQ2hhbm5lbHMvQ2hhbm5lbCcpO1xuXG52YXIgRGVzY3JpcHRpdmVHcm91cCA9IF9kZWNvcmF0ZShudWxsLCBmdW5jdGlvbiAoX2luaXRpYWxpemUsIF9Ob2RlKSB7XG4gIHZhciBEZXNjcmlwdGl2ZUdyb3VwID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX05vZGUyKSB7XG4gICAgX2luaGVyaXRzKERlc2NyaXB0aXZlR3JvdXAsIF9Ob2RlMik7XG5cbiAgICBmdW5jdGlvbiBEZXNjcmlwdGl2ZUdyb3VwKCkge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICB2YXIgYXR0cnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBudWxsO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGVzY3JpcHRpdmVHcm91cCk7XG5cbiAgICAgIGlmIChwcm9wcyA9PT0gbnVsbCkge1xuICAgICAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihEZXNjcmlwdGl2ZUdyb3VwKS5jYWxsKHRoaXMsIGF0dHJzKSk7XG5cbiAgICAgICAgX2luaXRpYWxpemUoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuXG4gICAgICAgIF90aGlzLmF0dHJzID0ge307XG4gICAgICAgIF90aGlzLnByb3BzID0gYXR0cnM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihEZXNjcmlwdGl2ZUdyb3VwKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX2luaXRpYWxpemUoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuXG4gICAgICAgIF90aGlzLmF0dHJzID0gYXR0cnM7XG4gICAgICAgIF90aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLl9pbmhlcml0ZWRTZWxlY3RvciA9IG51bGw7IC8vIHBhc3NpdmVBZGRpdGlvbiBpcyBhIGZsYWcgcHJvcGVydHkgaW5kaWNhdGluZyB0aGF0IGFueSBJbmNpZGVudCB0byBiZVxuICAgICAgLy8gYWRkZWQgdG8gdGhlIENsaXAgd2lsbCBiZSBwYXNzaXZlLiBJdCBpbml0aWFsaXNlcyB3aXRoIHZhbHVlID0gZmFsc2VcbiAgICAgIC8vIG9uIERlc2NyaXB0aXZlR3JvdXAgd2hlcmUgaXQncyBvcmlnaW5hbHkgZGVmaW5lZC5cbiAgICAgIC8vIEhlcmUgd2UgY2hhbmdlIGl0cyB2YWx1ZSBqdXN0IGJlZm9yZSB0aGUgYnVpbGRUcmVlIG1ldGhvZCBleGVjdXRpb25cbiAgICAgIC8vIHNvIGFsbCBJbmNpZGVudHMgYWRkZWQgb24gaXQgZ2V0IHRoZSBcInBhc3NpdmVcIiBmbGFnIGFuZCBkb24ndCBnZXRcbiAgICAgIC8vIGV4cG9ydGVkIG9uIHRoZSBleHBvcnREZWZpbml0aW9uIG1ldGhvZC4gT25jZSB0aGUgYnVpbGRUcmVlIG1ldGhvZFxuICAgICAgLy8gZmluaXNoZXMgd2Ugc2V0IGl0IGJhY2sgdG8gaXRzIG9yaWdpbmFsIHZhbHVlIChmYWxzZSlcblxuICAgICAgX3RoaXMucGFzc2l2ZUFkZGl0aW9uID0gdHJ1ZTtcblxuICAgICAgX3RoaXMuX2J1aWxkVHJlZSgpO1xuXG4gICAgICBfdGhpcy5wYXNzaXZlQWRkaXRpb24gPSBmYWxzZTtcbiAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIERlc2NyaXB0aXZlR3JvdXA7XG4gIH0oX05vZGUpO1xuXG4gIHJldHVybiB7XG4gICAgRjogRGVzY3JpcHRpdmVHcm91cCxcbiAgICBkOiBbe1xuICAgICAga2luZDogXCJmaWVsZFwiLFxuICAgICAgXCJzdGF0aWNcIjogdHJ1ZSxcbiAgICAgIGtleTogXCJJbmNpZGVudFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gR3JvdXA7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJmaWVsZFwiLFxuICAgICAgXCJzdGF0aWNcIjogdHJ1ZSxcbiAgICAgIGtleTogXCJwbHVnaW5fbnBtX25hbWVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIFwibW90b3ItY29ydGV4LWpzXCI7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJmaWVsZFwiLFxuICAgICAgXCJzdGF0aWNcIjogdHJ1ZSxcbiAgICAgIGtleTogXCJDaGFubmVsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiBDaGFubmVsO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwiZmllbGRcIixcbiAgICAgIFwic3RhdGljXCI6IHRydWUsXG4gICAgICBrZXk6IFwiQ2xhc3NOYW1lXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiBcIkdyb3VwXCI7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGRlY29yYXRvcnM6IFtlZGl0QXR0cmlidXRlc10sXG4gICAgICBrZXk6IFwiZWRpdEF0dHJpYnV0ZXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBlZGl0QXR0cmlidXRlcygpIHt9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGRlY29yYXRvcnM6IFtlZGl0UHJvcGVydGllc10sXG4gICAgICBrZXk6IFwiZWRpdFByb3BlcnRpZXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBlZGl0UHJvcGVydGllcygpIHt9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGRlY29yYXRvcnM6IFtyZXNpemVdLFxuICAgICAga2V5OiBcInJlc2l6ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHt9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGRlY29yYXRvcnM6IFtzZWxlY3RvckdldHRlcl0sXG4gICAgICBrZXk6IFwic2VsZWN0b3JcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RvcigpIHt9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJfYnVpbGRUcmVlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2J1aWxkVHJlZSgpIHtcbiAgICAgICAgdGhpcy5idWlsZFRyZWUoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcIl9yZWJ1aWxkVHJlZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZWJ1aWxkVHJlZSgpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGFsbCBkaXJlY3QgcGFzc2l2ZSBpbmNpZGVudHMgYXMgdGhleSBtaWdodCBiZSBkZXBlbmRlbnQgb24gdGhlIGVkaXRlZCBhdHRycy9wcm9wc1xuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgdmFyIHRoZUNoaWxkID0gdGhpcy5jaGlsZHJlbltpZF07XG5cbiAgICAgICAgICBpZiAodGhlQ2hpbGQubGVhZi5wYXNzaXZlID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUluY2lkZW50KHRoZUNoaWxkLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gcnVuIGJ1aWxkVHJlZSBhZ2FpblxuXG5cbiAgICAgICAgdGhpcy5wYXNzaXZlQWRkaXRpb24gPSB0cnVlO1xuICAgICAgICB0aGlzLmJ1aWxkVHJlZSgpO1xuICAgICAgICB0aGlzLnBhc3NpdmVBZGRpdGlvbiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwiYnVpbGRUcmVlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRUcmVlKCkge31cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcIm1hbmFnZUVkaXRBdHRyUHJvcHNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBtYW5hZ2VFZGl0QXR0clByb3BzKG5ld0F0dHJzLCB0eXBlKSB7XG4gICAgICAgIC8vIGdldCBhIHBlcm1hbmVudCByZWZlcmVuY2UgdG8gaXRzIHBhcmVudCBub2RlXG4gICAgICAgIHZhciBwYXJlbnROb2RlID0gdGhpcy5wYXJlbnROb2RlOyAvLyBnZXQgdGhlIHBvc2l0aW9uIG9mIHRoZSBJbmNpZGVudCB3aXRoaW4gaXRzIHBhcmVudFxuXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHBhcmVudE5vZGUuZ2V0TGVhZlBvc2l0aW9uKHRoaXMuaWQpOyAvLyBrZWVwIGEgYmFja3VwIG9mIHRoZSBjdXJyZW50IGF0dHJzIC8gcHJvcHNcblxuICAgICAgICB2YXIgb2xkQXR0cnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXNbdHlwZV0pKTtcbiAgICAgICAgdGhpc1t0eXBlXSA9IG5ld0F0dHJzOyAvLyBmaXJzdCBkZXRhY2ggdGhlIEluY2lkZW50IGZyb20gaXRzIHBhcmVudFxuXG4gICAgICAgIHBhcmVudE5vZGUucmVtb3ZlSW5jaWRlbnQodGhpcy5pZCk7IC8vIHJlbW92ZSBhbGwgZGlyZWN0IHBhc3NpdmUgaW5jaWRlbnRzIGFzIHRoZXkgbWlnaHQgYmUgZGVwZW5kZW50IG9uIHRoZSBlZGl0ZWQgYXR0cnMvcHJvcHNcblxuICAgICAgICB0aGlzLl9yZWJ1aWxkVHJlZSgpOyAvLyB0cnkgdG8gYWRkIHRoZSBhbHRlcmVkIEdyb3VwXG5cblxuICAgICAgICB2YXIgcmVzID0gcGFyZW50Tm9kZS5hZGRJbmNpZGVudCh0aGlzLCBwb3NpdGlvbik7XG5cbiAgICAgICAgaWYgKHJlcy5yZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhpc1t0eXBlXSA9IG9sZEF0dHJzO1xuXG4gICAgICAgICAgdGhpcy5fcmVidWlsZFRyZWUoKTtcblxuICAgICAgICAgIHBhcmVudE5vZGUuYWRkSW5jaWRlbnQodGhpcywgcG9zaXRpb24pO1xuICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwiZGV0YWNoRnJvbVBhcmVudFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaEZyb21QYXJlbnQoKSB7XG4gICAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKERlc2NyaXB0aXZlR3JvdXAucHJvdG90eXBlKSwgXCJkZXRhY2hGcm9tUGFyZW50XCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cbiAgICAgICAgdGhpcy5pbmhlcml0ZWRTZWxlY3RvciA9IG51bGw7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJnZXRcIixcbiAgICAgIGtleTogXCJpbmhlcml0ZWRTZWxlY3RvclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaGVyaXRlZFNlbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5oZXJpdGVkU2VsZWN0b3I7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJzZXRcIixcbiAgICAgIGtleTogXCJpbmhlcml0ZWRTZWxlY3RvclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaGVyaXRlZFNlbGVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2luaGVyaXRlZFNlbGVjdG9yID0gdmFsdWU7XG5cbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgIHZhciB0aGVDaGlsZCA9IHRoaXMuY2hpbGRyZW5baWRdLmxlYWY7XG4gICAgICAgICAgdGhlQ2hpbGQuaW5oZXJpdGVkU2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcImdldFwiLFxuICAgICAga2V5OiBcInNlbGVjdG9yVG9QYXNzVG9DaGlsZHJlblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdG9yVG9QYXNzVG9DaGlsZHJlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0b3IoKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gZXhwb3J0IGEgcG9ydGFibGUgZGVmaW5pdGlvbiB0aGF0IGNhbiBiZVxuICAgICAgICogbGF0ZXIgdXNlZCBpbiBvcmRlciB0byByZWJ1aWxkIHRoZSBJbmljZGVudCBhdCBhbnkgdGltZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImV4cG9ydERlZmluaXRpb25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBleHBvcnREZWZpbml0aW9uKCkge1xuICAgICAgICB2YXIgdG9SZXR1cm4gPSB7XG4gICAgICAgICAgQ2xhc3NOYW1lOiB0aGlzLmNvbnN0cnVjdG9yLkNsYXNzTmFtZSxcbiAgICAgICAgICBwbHVnaW5fbnBtX25hbWU6IHRoaXMuY29uc3RydWN0b3IucGx1Z2luX25wbV9uYW1lLFxuICAgICAgICAgIGF0dHJzOiB0aGlzLmF0dHJzLFxuICAgICAgICAgIHByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICAgIGluY2lkZW50czoge31cbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgdmFyIHRoZUNoaWxkID0gdGhpcy5jaGlsZHJlbltpZF07XG5cbiAgICAgICAgICBpZiAodGhlQ2hpbGQubGVhZi5wYXNzaXZlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0b1JldHVybi5pbmNpZGVudHNbaWRdID0ge1xuICAgICAgICAgICAgaWQ6IHRoZUNoaWxkLmlkLFxuICAgICAgICAgICAgcG9zaXRpb246IHRoZUNoaWxkLnBvc2l0aW9uLFxuICAgICAgICAgICAgbGVhZjogdGhlQ2hpbGQubGVhZi5leHBvcnREZWZpbml0aW9uKClcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRvUmV0dXJuO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwiYWRkSW5jaWRlbnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRJbmNpZGVudChkZXNjcmlwdGl2ZUluY2lkZW50LCBwb3NpdGlvbikge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge1xuICAgICAgICAgIGNoZWNrOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIGRlc2NyaXB0aXZlSW5jaWRlbnQuaW5oZXJpdGVkU2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yVG9QYXNzVG9DaGlsZHJlbjtcblxuICAgICAgICBpZiAob3B0aW9ucy5jaGVjayA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHZhciBpbml0aWFsQ2hlY2sgPSBfZ2V0KF9nZXRQcm90b3R5cGVPZihEZXNjcmlwdGl2ZUdyb3VwLnByb3RvdHlwZSksIFwiY2hlY2tBZGRpdGlvblwiLCB0aGlzKS5jYWxsKHRoaXMsIGRlc2NyaXB0aXZlSW5jaWRlbnQsIHBvc2l0aW9uKTtcblxuICAgICAgICAgIGlmIChpbml0aWFsQ2hlY2sucmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZGVzY3JpcHRpdmVJbmNpZGVudC5pbmhlcml0ZWRTZWxlY3RvciA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbENoZWNrO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvKiBDaGVjayBmb3IgbnVsbCBvciByZWxhdGl2ZSBzZWxlY3RvciBJbmNpZGVudHMgd2l0aCBubyBpbmhlcml0ZWQgc2VsZWN0b3IgKi9cblxuXG4gICAgICAgICAgdmFyIGNoZWNrSWZCZWxvbmdzVG9DbGlwID0gdGhpcy5wdXRNZXNzYWdlT25QaXBlKCdjaGVja0ZvckNsaXAnLCB7fSwgX0NPTlNULl9UQVJHRVRUWVBFUy5fREVDSVNJT05BVVRIT1JJVFksIHtcbiAgICAgICAgICAgIHNlbGZFeGVjdXRlOiB0cnVlLFxuICAgICAgICAgICAgZGlyZWN0aW9uOiBfVFJFRUNPTlNULl9ESVJFQ1RJT05TLl9VUFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGNoZWNrSWZCZWxvbmdzVG9DbGlwLnJlc3BvbnNlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgR3JvdXAgYmVsb25ncyBvbiBhIENsaXBcbiAgICAgICAgICAgIHZhciBzZWxlY3RvcnNDaGVjayA9IGRlc2NyaXB0aXZlSW5jaWRlbnQucHV0TWVzc2FnZU9uUGlwZSgnY2hlY2tGb3JJbnZhbGlkU2VsZWN0b3JzJywge30sIG51bGwsIHtcbiAgICAgICAgICAgICAgc2VsZkV4ZWN1dGU6IHRydWUsXG4gICAgICAgICAgICAgIGRpcmVjdGlvbjogX1RSRUVDT05TVC5fRElSRUNUSU9OUy5fRE9XTlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RvcnNDaGVjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHZhciBlcnJvcnMgPSBbXTtcblxuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGVjdG9yc0NoZWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goc2VsZWN0b3JzQ2hlY2tbaV0ucmVzcG9uc2UpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZXN1bHQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yczogZXJyb3JzXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBzZW5kcyB0aGUgY2hlY2sgcmVxdWVzdCB0byBpdHMgcm9vdCwgZWl0aGVyIGEgaGVhZGxlc3Mgcm9vdCBvciBhIERlc2NyaXB0aXZlIENsaXBcblxuXG4gICAgICAgICAgdmFyIG1jQ2hlY2sgPSB0aGlzLnB1dE1lc3NhZ2VPblBpcGUoJ2NoZWNrQWRkaXRpb24nLCB7XG4gICAgICAgICAgICBpbmNpZGVudDogZGVzY3JpcHRpdmVJbmNpZGVudCxcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kOiBwb3NpdGlvbixcbiAgICAgICAgICAgIHBhcmVudEdyb3VwSWQ6IHRoaXMuaWRcbiAgICAgICAgICB9LCBfQ09OU1QuX1RBUkdFVFRZUEVTLl9ERUNJU0lPTkFVVEhPUklUWSwge1xuICAgICAgICAgICAgc2VsZkV4ZWN1dGU6IHRydWUsXG4gICAgICAgICAgICBkaXJlY3Rpb246IF9UUkVFQ09OU1QuX0RJUkVDVElPTlMuX1VQXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAobWNDaGVjay5yZXNwb25zZS5yZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkZXNjcmlwdGl2ZUluY2lkZW50LmluaGVyaXRlZFNlbGVjdG9yID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBtY0NoZWNrLnJlc3BvbnNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBpZiB0aGUgcGFzc2l2ZUFkZGl0aW9uIGZsYWcgaXMgdHJ1ZSB3ZSBzZXQgdGhlIHBhc3NpdmUgZmxhZyBvZiB0aGUgSW5jaWRlbnRcbiAgICAgICAgLy8gdG8gdHJ1ZSBiZWZvcmUgYWRkaW5nIGl0IHRvIG91ciBHcm91cFxuXG5cbiAgICAgICAgaWYgKHRoaXMucGFzc2l2ZUFkZGl0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgZGVzY3JpcHRpdmVJbmNpZGVudC5wYXNzaXZlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXMgPSB0aGlzLmFkZENoaWxkKGRlc2NyaXB0aXZlSW5jaWRlbnQsIHBvc2l0aW9uKTtcblxuICAgICAgICBpZiAocmVzLnJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBkZXNjcmlwdGl2ZUluY2lkZW50LmluaGVyaXRlZFNlbGVjdG9yID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSBpbnB1dCAtIGNhbiBlaXRoZXIgYmUgb2JqZWN0IG9yIGlkXG4gICAgICAgKiovXG5cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcIm1vdmVJbmNpZGVudFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1vdmVJbmNpZGVudChpbnB1dCwgcG9zaXRpb24pIHtcbiAgICAgICAgdmFyIGlkID0gaW5wdXQ7XG5cbiAgICAgICAgaWYgKF90eXBlb2YoaW5wdXQpID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgaWQgPSBpbnB1dC5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbml0aWFsQ2hlY2sgPSBfZ2V0KF9nZXRQcm90b3R5cGVPZihEZXNjcmlwdGl2ZUdyb3VwLnByb3RvdHlwZSksIFwiY2hlY2tFZGl0UG9zaXRpb25cIiwgdGhpcykuY2FsbCh0aGlzLCBpZCwgcG9zaXRpb24pO1xuXG4gICAgICAgIGlmIChpbml0aWFsQ2hlY2sucmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBpbml0aWFsQ2hlY2s7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3JpZ2luYWxQb3NpdGlvbiA9IHRoaXMuZ2V0TGVhZlBvc2l0aW9uKGlkKTtcbiAgICAgICAgdmFyIHBvc2l0aW9uRGVsdGEgPSBwb3NpdGlvbiAtIG9yaWdpbmFsUG9zaXRpb247XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uRGVsdGEgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdWx0OiB0cnVlXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtY0NoZWNrID0gdGhpcy5wdXRNZXNzYWdlT25QaXBlKCdjaGVja01vdmUnLCB7XG4gICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgIG1pbGxpc2Vjb25kOiBwb3NpdGlvbixcbiAgICAgICAgICBwb3NpdGlvbkRlbHRhOiBwb3NpdGlvbkRlbHRhLFxuICAgICAgICAgIHBhcmVudEdyb3VwSWQ6IHRoaXMuaWRcbiAgICAgICAgfSwgX0NPTlNULl9UQVJHRVRUWVBFUy5fREVDSVNJT05BVVRIT1JJVFksIHtcbiAgICAgICAgICBzZWxmRXhlY3V0ZTogdHJ1ZSxcbiAgICAgICAgICBkaXJlY3Rpb246IF9UUkVFQ09OU1QuX0RJUkVDVElPTlMuX1VQXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChtY0NoZWNrLnJlc3BvbnNlLnJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gbWNDaGVjay5yZXNwb25zZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXMgPSB0aGlzLmVkaXRQb3NpdGlvbihpZCwgcG9zaXRpb24pO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwicmVtb3ZlSW5jaWRlbnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVJbmNpZGVudChpbnB1dCkge1xuICAgICAgICB2YXIgaWQgPSBpbnB1dDtcblxuICAgICAgICBpZiAoX3R5cGVvZihpbnB1dCkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICBpZCA9IGlucHV0LmlkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluaXRpYWxDaGVjayA9IF9nZXQoX2dldFByb3RvdHlwZU9mKERlc2NyaXB0aXZlR3JvdXAucHJvdG90eXBlKSwgXCJjaGVja1JlbW92ZUNoaWxkXCIsIHRoaXMpLmNhbGwodGhpcywgaWQpO1xuXG4gICAgICAgIGlmIChpbml0aWFsQ2hlY2sucmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBpbml0aWFsQ2hlY2s7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWNDaGVjayA9IHRoaXMucHV0TWVzc2FnZU9uUGlwZSgnY2hlY2tEZWxldGlvbicsIHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgcGFyZW50R3JvdXBJZDogdGhpcy5pZFxuICAgICAgICB9LCBfQ09OU1QuX1RBUkdFVFRZUEVTLl9ERUNJU0lPTkFVVEhPUklUWSwge1xuICAgICAgICAgIHNlbGZFeGVjdXRlOiB0cnVlLFxuICAgICAgICAgIGRpcmVjdGlvbjogX1RSRUVDT05TVC5fRElSRUNUSU9OUy5fVVBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG1jQ2hlY2sucmVzcG9uc2UucmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBtY0NoZWNrLnJlc3BvbnNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcyA9IHRoaXMucmVtb3ZlQ2hpbGQoaWQpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfVxuICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKiBIQU5ETElORyBNRVRIT0RTICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImhhbmRsZUNoZWNrRm9yQ2xpcFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNoZWNrRm9yQ2xpcCh0YXJnZXQsIHBheWxvYWQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgICBpZiAodGhpcy5oYXNQYXJlbnQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ieXBhc3MoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImhhbmRsZUNoZWNrQWRkaXRpb25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDaGVja0FkZGl0aW9uKHRhcmdldCwgcGF5bG9hZCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbiAgICAgICAgLypcbiAgICAgICAgVGhlIERlc2NyaXB0aXZlR3JvdXAgaGFuZGxlcyB0aGUgY2hlY2tBZGRpdGlvbiBjb21tYW5kIHdoaWNoIGhhcyB0aGUgVVBcbiAgICAgICAgZGlyZWN0aW9uLiBJZiB0aGUgREcgaGFzIGEgcGFyZW50IGl0IGZvcndhcmRzIHRoZSBjb21tYW5kIHRvIGl0LiBJZiBub3RcbiAgICAgICAgaXQganVzdCByZXR1cm5zIHRydWUsIGFzIGl0IGlzIGEgZGVhZGxlc3MgdHJlZVxuICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5oYXNQYXJlbnQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ieXBhc3MoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdWx0OiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJoYW5kbGVDaGVja01vdmVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDaGVja01vdmUodGFyZ2V0LCBwYXlsb2FkKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgICAgaWYgKHRoaXMuaGFzUGFyZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYnlwYXNzKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwiaGFuZGxlQ2hlY2tEZWxldGlvblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNoZWNrRGVsZXRpb24odGFyZ2V0LCBwYXlsb2FkKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgICAgaWYgKHRoaXMuaGFzUGFyZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYnlwYXNzKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwiaGFuZGxlQ2hlY2tSZXNpemVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDaGVja1Jlc2l6ZSh0YXJnZXQsIHBheWxvYWQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgICBpZiAodGhpcy5oYXNQYXJlbnQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ieXBhc3MoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdWx0OiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfV1cbiAgfTtcbn0sIE5vZGUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlc2NyaXB0aXZlR3JvdXA7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveGroup.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveIncident.js":
/*!**************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveIncident.js ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar Leaf = __webpack_require__(/*! ../Tree/Leaf */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/Leaf.js\");\n\nvar resize = __webpack_require__(/*! ./decorators/resize */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/resize.js\");\n\nvar editAttributes = __webpack_require__(/*! ./decorators/editAttributes */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/editAttributes.js\");\n\nvar editProperties = __webpack_require__(/*! ./decorators/editProperties */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/editProperties.js\");\n\nvar selectorGetter = __webpack_require__(/*! ./decorators/selector */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/selector.js\");\n\nvar MonoIncident = __webpack_require__(/*! ../BaseClasses/MonoIncident */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/MonoIncident.js\");\n\nvar AttributeChannel = __webpack_require__(/*! ../Channels/Attribute/AttributeChannel */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/AttributeChannel.js\");\n\nvar DescriptiveIncident = _decorate(null, function (_initialize, _Leaf) {\n  var DescriptiveIncident =\n  /*#__PURE__*/\n  function (_Leaf2) {\n    _inherits(DescriptiveIncident, _Leaf2);\n\n    function DescriptiveIncident(attrs, props) {\n      var _this;\n\n      _classCallCheck(this, DescriptiveIncident);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(DescriptiveIncident).call(this, props));\n\n      _initialize(_assertThisInitialized(_this));\n\n      _this.inheritedSelector = null;\n      _this.attrs = attrs;\n\n      if (!Object.prototype.hasOwnProperty.call(props, \"duration\")) {\n        props.duration = 0;\n      }\n\n      _this.props = props; // the passive flag (when true) indicates that the Descriptive Group has been created\n      // and passively added to a Clip or a Combo via buildTree method.\n      // Defaults to false\n\n      _this.passive = false;\n      return _this;\n    }\n\n    return DescriptiveIncident;\n  }(_Leaf);\n\n  return {\n    F: DescriptiveIncident,\n    d: [{\n      kind: \"field\",\n      \"static\": true,\n      key: \"Incident\",\n      value: function value() {\n        return MonoIncident;\n      }\n    }, {\n      kind: \"field\",\n      \"static\": true,\n      key: \"plugin_npm_name\",\n      value: function value() {\n        return \"motor-cortex-js-attribute\";\n      }\n    }, {\n      kind: \"field\",\n      \"static\": true,\n      key: \"Channel\",\n      value: function value() {\n        return AttributeChannel;\n      }\n    }, {\n      kind: \"field\",\n      \"static\": true,\n      key: \"ClassName\",\n      value: function value() {\n        return \"Incident\";\n      }\n    }, {\n      kind: \"method\",\n      decorators: [editAttributes],\n      key: \"editAttributes\",\n      value: function editAttributes() {}\n    }, {\n      kind: \"method\",\n      decorators: [editProperties],\n      key: \"editProperties\",\n      value: function editProperties() {}\n    }, {\n      kind: \"method\",\n      decorators: [resize],\n      key: \"resize\",\n      value: function resize() {}\n    }, {\n      kind: \"method\",\n      decorators: [selectorGetter],\n      key: \"selector\",\n      value: function selector() {}\n    }, {\n      kind: \"method\",\n      key: \"manageEditAttrProps\",\n      value: function manageEditAttrProps(newAttrs, type) {\n        // get a permanent reference to its parent node\n        var parentNode = this.parentNode; // get the position of the Incident within its parent\n\n        var position = parentNode.getLeafPosition(this.id); // first detach the Incident from its parent\n\n        parentNode.removeIncident(this.id); // keep a backup of the current attrs/props\n\n        var oldAttrs = JSON.parse(JSON.stringify(this[type]));\n        this[type] = newAttrs;\n        var res = parentNode.addIncident(this, position);\n\n        if (res.result === false) {\n          parentNode.removeIncident(this.id);\n          this[type] = oldAttrs;\n          parentNode.addIncident(this, position);\n          return res;\n        }\n\n        return res;\n      }\n    }, {\n      kind: \"method\",\n      key: \"detachFromParent\",\n      value: function detachFromParent() {\n        _get(_getPrototypeOf(DescriptiveIncident.prototype), \"detachFromParent\", this).call(this);\n\n        this.inheritedSelector = null;\n      }\n    }, {\n      kind: \"method\",\n      key: \"handleCheckForInvalidSelectors\",\n      value: function handleCheckForInvalidSelectors() {\n        var selector = this.selector();\n\n        if (selector === null) {\n          return {\n            id: this.id,\n            ClassName: this.constructor.ClassName,\n            plugin_npm_name: this.constructor.plugin_npm_name,\n            error: 'null selector'\n          };\n        } else if (selector.charAt(0) === \"&\") {\n          return {\n            id: this.id,\n            ClassName: this.constructor.ClassName,\n            plugin_npm_name: this.constructor.plugin_npm_name,\n            error: 'relative selector with no inherited selector',\n            selector: selector\n          };\n        } else return this.bypass();\n      }\n      /**\n       * The purpose of this method is to export a portable definition that can be\n       * later used in order to rebuild the Inicdent at any time\n       */\n\n    }, {\n      kind: \"method\",\n      key: \"exportDefinition\",\n      value: function exportDefinition() {\n        return {\n          ClassName: this.constructor.ClassName,\n          plugin_npm_name: this.constructor.plugin_npm_name,\n          attrs: this.attrs,\n          props: this.props\n        };\n      }\n    }]\n  };\n}, Leaf);\n\nmodule.exports = DescriptiveIncident;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9EZXNjcmlwdGl2ZUluY2lkZW50cy9EZXNjcmlwdGl2ZUluY2lkZW50LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvRGVzY3JpcHRpdmVJbmNpZGVudHMvRGVzY3JpcHRpdmVJbmNpZGVudC5qcz85NWM1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfZGVjb3JhdGUoZGVjb3JhdG9ycywgZmFjdG9yeSwgc3VwZXJDbGFzcywgbWl4aW5zKSB7IHZhciBhcGkgPSBfZ2V0RGVjb3JhdG9yc0FwaSgpOyBpZiAobWl4aW5zKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7IGFwaSA9IG1peGluc1tpXShhcGkpOyB9IH0gdmFyIHIgPSBmYWN0b3J5KGZ1bmN0aW9uIGluaXRpYWxpemUoTykgeyBhcGkuaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHMoTywgZGVjb3JhdGVkLmVsZW1lbnRzKTsgfSwgc3VwZXJDbGFzcyk7IHZhciBkZWNvcmF0ZWQgPSBhcGkuZGVjb3JhdGVDbGFzcyhfY29hbGVzY2VDbGFzc0VsZW1lbnRzKHIuZC5tYXAoX2NyZWF0ZUVsZW1lbnREZXNjcmlwdG9yKSksIGRlY29yYXRvcnMpOyBhcGkuaW5pdGlhbGl6ZUNsYXNzRWxlbWVudHMoci5GLCBkZWNvcmF0ZWQuZWxlbWVudHMpOyByZXR1cm4gYXBpLnJ1bkNsYXNzRmluaXNoZXJzKHIuRiwgZGVjb3JhdGVkLmZpbmlzaGVycyk7IH1cblxuZnVuY3Rpb24gX2dldERlY29yYXRvcnNBcGkoKSB7IF9nZXREZWNvcmF0b3JzQXBpID0gZnVuY3Rpb24gX2dldERlY29yYXRvcnNBcGkoKSB7IHJldHVybiBhcGk7IH07IHZhciBhcGkgPSB7IGVsZW1lbnRzRGVmaW5pdGlvbk9yZGVyOiBbW1wibWV0aG9kXCJdLCBbXCJmaWVsZFwiXV0sIGluaXRpYWxpemVJbnN0YW5jZUVsZW1lbnRzOiBmdW5jdGlvbiBpbml0aWFsaXplSW5zdGFuY2VFbGVtZW50cyhPLCBlbGVtZW50cykgeyBbXCJtZXRob2RcIiwgXCJmaWVsZFwiXS5mb3JFYWNoKGZ1bmN0aW9uIChraW5kKSB7IGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgaWYgKGVsZW1lbnQua2luZCA9PT0ga2luZCAmJiBlbGVtZW50LnBsYWNlbWVudCA9PT0gXCJvd25cIikgeyB0aGlzLmRlZmluZUNsYXNzRWxlbWVudChPLCBlbGVtZW50KTsgfSB9LCB0aGlzKTsgfSwgdGhpcyk7IH0sIGluaXRpYWxpemVDbGFzc0VsZW1lbnRzOiBmdW5jdGlvbiBpbml0aWFsaXplQ2xhc3NFbGVtZW50cyhGLCBlbGVtZW50cykgeyB2YXIgcHJvdG8gPSBGLnByb3RvdHlwZTsgW1wibWV0aG9kXCIsIFwiZmllbGRcIl0uZm9yRWFjaChmdW5jdGlvbiAoa2luZCkgeyBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IHZhciBwbGFjZW1lbnQgPSBlbGVtZW50LnBsYWNlbWVudDsgaWYgKGVsZW1lbnQua2luZCA9PT0ga2luZCAmJiAocGxhY2VtZW50ID09PSBcInN0YXRpY1wiIHx8IHBsYWNlbWVudCA9PT0gXCJwcm90b3R5cGVcIikpIHsgdmFyIHJlY2VpdmVyID0gcGxhY2VtZW50ID09PSBcInN0YXRpY1wiID8gRiA6IHByb3RvOyB0aGlzLmRlZmluZUNsYXNzRWxlbWVudChyZWNlaXZlciwgZWxlbWVudCk7IH0gfSwgdGhpcyk7IH0sIHRoaXMpOyB9LCBkZWZpbmVDbGFzc0VsZW1lbnQ6IGZ1bmN0aW9uIGRlZmluZUNsYXNzRWxlbWVudChyZWNlaXZlciwgZWxlbWVudCkgeyB2YXIgZGVzY3JpcHRvciA9IGVsZW1lbnQuZGVzY3JpcHRvcjsgaWYgKGVsZW1lbnQua2luZCA9PT0gXCJmaWVsZFwiKSB7IHZhciBpbml0aWFsaXplciA9IGVsZW1lbnQuaW5pdGlhbGl6ZXI7IGRlc2NyaXB0b3IgPSB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHZhbHVlOiBpbml0aWFsaXplciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdGlhbGl6ZXIuY2FsbChyZWNlaXZlcikgfTsgfSBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIGVsZW1lbnQua2V5LCBkZXNjcmlwdG9yKTsgfSwgZGVjb3JhdGVDbGFzczogZnVuY3Rpb24gZGVjb3JhdGVDbGFzcyhlbGVtZW50cywgZGVjb3JhdG9ycykgeyB2YXIgbmV3RWxlbWVudHMgPSBbXTsgdmFyIGZpbmlzaGVycyA9IFtdOyB2YXIgcGxhY2VtZW50cyA9IHsgXCJzdGF0aWNcIjogW10sIHByb3RvdHlwZTogW10sIG93bjogW10gfTsgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgeyB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7IH0sIHRoaXMpOyBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IGlmICghX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHJldHVybiBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnQpOyB2YXIgZWxlbWVudEZpbmlzaGVyc0V4dHJhcyA9IHRoaXMuZGVjb3JhdGVFbGVtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpOyBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZWxlbWVudCk7IG5ld0VsZW1lbnRzLnB1c2guYXBwbHkobmV3RWxlbWVudHMsIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZXh0cmFzKTsgZmluaXNoZXJzLnB1c2guYXBwbHkoZmluaXNoZXJzLCBlbGVtZW50RmluaXNoZXJzRXh0cmFzLmZpbmlzaGVycyk7IH0sIHRoaXMpOyBpZiAoIWRlY29yYXRvcnMpIHsgcmV0dXJuIHsgZWxlbWVudHM6IG5ld0VsZW1lbnRzLCBmaW5pc2hlcnM6IGZpbmlzaGVycyB9OyB9IHZhciByZXN1bHQgPSB0aGlzLmRlY29yYXRlQ29uc3RydWN0b3IobmV3RWxlbWVudHMsIGRlY29yYXRvcnMpOyBmaW5pc2hlcnMucHVzaC5hcHBseShmaW5pc2hlcnMsIHJlc3VsdC5maW5pc2hlcnMpOyByZXN1bHQuZmluaXNoZXJzID0gZmluaXNoZXJzOyByZXR1cm4gcmVzdWx0OyB9LCBhZGRFbGVtZW50UGxhY2VtZW50OiBmdW5jdGlvbiBhZGRFbGVtZW50UGxhY2VtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMsIHNpbGVudCkgeyB2YXIga2V5cyA9IHBsYWNlbWVudHNbZWxlbWVudC5wbGFjZW1lbnRdOyBpZiAoIXNpbGVudCAmJiBrZXlzLmluZGV4T2YoZWxlbWVudC5rZXkpICE9PSAtMSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRHVwbGljYXRlZCBlbGVtZW50IChcIiArIGVsZW1lbnQua2V5ICsgXCIpXCIpOyB9IGtleXMucHVzaChlbGVtZW50LmtleSk7IH0sIGRlY29yYXRlRWxlbWVudDogZnVuY3Rpb24gZGVjb3JhdGVFbGVtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpIHsgdmFyIGV4dHJhcyA9IFtdOyB2YXIgZmluaXNoZXJzID0gW107IGZvciAodmFyIGRlY29yYXRvcnMgPSBlbGVtZW50LmRlY29yYXRvcnMsIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7IHZhciBrZXlzID0gcGxhY2VtZW50c1tlbGVtZW50LnBsYWNlbWVudF07IGtleXMuc3BsaWNlKGtleXMuaW5kZXhPZihlbGVtZW50LmtleSksIDEpOyB2YXIgZWxlbWVudE9iamVjdCA9IHRoaXMuZnJvbUVsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnQpOyB2YXIgZWxlbWVudEZpbmlzaGVyRXh0cmFzID0gdGhpcy50b0VsZW1lbnRGaW5pc2hlckV4dHJhcygoMCwgZGVjb3JhdG9yc1tpXSkoZWxlbWVudE9iamVjdCkgfHwgZWxlbWVudE9iamVjdCk7IGVsZW1lbnQgPSBlbGVtZW50RmluaXNoZXJFeHRyYXMuZWxlbWVudDsgdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpOyBpZiAoZWxlbWVudEZpbmlzaGVyRXh0cmFzLmZpbmlzaGVyKSB7IGZpbmlzaGVycy5wdXNoKGVsZW1lbnRGaW5pc2hlckV4dHJhcy5maW5pc2hlcik7IH0gdmFyIG5ld0V4dHJhcyA9IGVsZW1lbnRGaW5pc2hlckV4dHJhcy5leHRyYXM7IGlmIChuZXdFeHRyYXMpIHsgZm9yICh2YXIgaiA9IDA7IGogPCBuZXdFeHRyYXMubGVuZ3RoOyBqKyspIHsgdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KG5ld0V4dHJhc1tqXSwgcGxhY2VtZW50cyk7IH0gZXh0cmFzLnB1c2guYXBwbHkoZXh0cmFzLCBuZXdFeHRyYXMpOyB9IH0gcmV0dXJuIHsgZWxlbWVudDogZWxlbWVudCwgZmluaXNoZXJzOiBmaW5pc2hlcnMsIGV4dHJhczogZXh0cmFzIH07IH0sIGRlY29yYXRlQ29uc3RydWN0b3I6IGZ1bmN0aW9uIGRlY29yYXRlQ29uc3RydWN0b3IoZWxlbWVudHMsIGRlY29yYXRvcnMpIHsgdmFyIGZpbmlzaGVycyA9IFtdOyBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgeyB2YXIgb2JqID0gdGhpcy5mcm9tQ2xhc3NEZXNjcmlwdG9yKGVsZW1lbnRzKTsgdmFyIGVsZW1lbnRzQW5kRmluaXNoZXIgPSB0aGlzLnRvQ2xhc3NEZXNjcmlwdG9yKCgwLCBkZWNvcmF0b3JzW2ldKShvYmopIHx8IG9iaik7IGlmIChlbGVtZW50c0FuZEZpbmlzaGVyLmZpbmlzaGVyICE9PSB1bmRlZmluZWQpIHsgZmluaXNoZXJzLnB1c2goZWxlbWVudHNBbmRGaW5pc2hlci5maW5pc2hlcik7IH0gaWYgKGVsZW1lbnRzQW5kRmluaXNoZXIuZWxlbWVudHMgIT09IHVuZGVmaW5lZCkgeyBlbGVtZW50cyA9IGVsZW1lbnRzQW5kRmluaXNoZXIuZWxlbWVudHM7IGZvciAodmFyIGogPSAwOyBqIDwgZWxlbWVudHMubGVuZ3RoIC0gMTsgaisrKSB7IGZvciAodmFyIGsgPSBqICsgMTsgayA8IGVsZW1lbnRzLmxlbmd0aDsgaysrKSB7IGlmIChlbGVtZW50c1tqXS5rZXkgPT09IGVsZW1lbnRzW2tdLmtleSAmJiBlbGVtZW50c1tqXS5wbGFjZW1lbnQgPT09IGVsZW1lbnRzW2tdLnBsYWNlbWVudCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRHVwbGljYXRlZCBlbGVtZW50IChcIiArIGVsZW1lbnRzW2pdLmtleSArIFwiKVwiKTsgfSB9IH0gfSB9IHJldHVybiB7IGVsZW1lbnRzOiBlbGVtZW50cywgZmluaXNoZXJzOiBmaW5pc2hlcnMgfTsgfSwgZnJvbUVsZW1lbnREZXNjcmlwdG9yOiBmdW5jdGlvbiBmcm9tRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudCkgeyB2YXIgb2JqID0geyBraW5kOiBlbGVtZW50LmtpbmQsIGtleTogZWxlbWVudC5rZXksIHBsYWNlbWVudDogZWxlbWVudC5wbGFjZW1lbnQsIGRlc2NyaXB0b3I6IGVsZW1lbnQuZGVzY3JpcHRvciB9OyB2YXIgZGVzYyA9IHsgdmFsdWU6IFwiRGVzY3JpcHRvclwiLCBjb25maWd1cmFibGU6IHRydWUgfTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgU3ltYm9sLnRvU3RyaW5nVGFnLCBkZXNjKTsgaWYgKGVsZW1lbnQua2luZCA9PT0gXCJmaWVsZFwiKSBvYmouaW5pdGlhbGl6ZXIgPSBlbGVtZW50LmluaXRpYWxpemVyOyByZXR1cm4gb2JqOyB9LCB0b0VsZW1lbnREZXNjcmlwdG9yczogZnVuY3Rpb24gdG9FbGVtZW50RGVzY3JpcHRvcnMoZWxlbWVudE9iamVjdHMpIHsgaWYgKGVsZW1lbnRPYmplY3RzID09PSB1bmRlZmluZWQpIHJldHVybjsgcmV0dXJuIF90b0FycmF5KGVsZW1lbnRPYmplY3RzKS5tYXAoZnVuY3Rpb24gKGVsZW1lbnRPYmplY3QpIHsgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImZpbmlzaGVyXCIsIFwiQW4gZWxlbWVudCBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZWxlbWVudE9iamVjdCwgXCJleHRyYXNcIiwgXCJBbiBlbGVtZW50IGRlc2NyaXB0b3JcIik7IHJldHVybiBlbGVtZW50OyB9LCB0aGlzKTsgfSwgdG9FbGVtZW50RGVzY3JpcHRvcjogZnVuY3Rpb24gdG9FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50T2JqZWN0KSB7IHZhciBraW5kID0gU3RyaW5nKGVsZW1lbnRPYmplY3Qua2luZCk7IGlmIChraW5kICE9PSBcIm1ldGhvZFwiICYmIGtpbmQgIT09IFwiZmllbGRcIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbiBlbGVtZW50IGRlc2NyaXB0b3JcXCdzIC5raW5kIHByb3BlcnR5IG11c3QgYmUgZWl0aGVyIFwibWV0aG9kXCIgb3InICsgJyBcImZpZWxkXCIsIGJ1dCBhIGRlY29yYXRvciBjcmVhdGVkIGFuIGVsZW1lbnQgZGVzY3JpcHRvciB3aXRoJyArICcgLmtpbmQgXCInICsga2luZCArICdcIicpOyB9IHZhciBrZXkgPSBfdG9Qcm9wZXJ0eUtleShlbGVtZW50T2JqZWN0LmtleSk7IHZhciBwbGFjZW1lbnQgPSBTdHJpbmcoZWxlbWVudE9iamVjdC5wbGFjZW1lbnQpOyBpZiAocGxhY2VtZW50ICE9PSBcInN0YXRpY1wiICYmIHBsYWNlbWVudCAhPT0gXCJwcm90b3R5cGVcIiAmJiBwbGFjZW1lbnQgIT09IFwib3duXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQW4gZWxlbWVudCBkZXNjcmlwdG9yXFwncyAucGxhY2VtZW50IHByb3BlcnR5IG11c3QgYmUgb25lIG9mIFwic3RhdGljXCIsJyArICcgXCJwcm90b3R5cGVcIiBvciBcIm93blwiLCBidXQgYSBkZWNvcmF0b3IgY3JlYXRlZCBhbiBlbGVtZW50IGRlc2NyaXB0b3InICsgJyB3aXRoIC5wbGFjZW1lbnQgXCInICsgcGxhY2VtZW50ICsgJ1wiJyk7IH0gdmFyIGRlc2NyaXB0b3IgPSBlbGVtZW50T2JqZWN0LmRlc2NyaXB0b3I7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImVsZW1lbnRzXCIsIFwiQW4gZWxlbWVudCBkZXNjcmlwdG9yXCIpOyB2YXIgZWxlbWVudCA9IHsga2luZDoga2luZCwga2V5OiBrZXksIHBsYWNlbWVudDogcGxhY2VtZW50LCBkZXNjcmlwdG9yOiBPYmplY3QuYXNzaWduKHt9LCBkZXNjcmlwdG9yKSB9OyBpZiAoa2luZCAhPT0gXCJmaWVsZFwiKSB7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImluaXRpYWxpemVyXCIsIFwiQSBtZXRob2QgZGVzY3JpcHRvclwiKTsgfSBlbHNlIHsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGRlc2NyaXB0b3IsIFwiZ2V0XCIsIFwiVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZGVzY3JpcHRvciwgXCJzZXRcIiwgXCJUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShkZXNjcmlwdG9yLCBcInZhbHVlXCIsIFwiVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yXCIpOyBlbGVtZW50LmluaXRpYWxpemVyID0gZWxlbWVudE9iamVjdC5pbml0aWFsaXplcjsgfSByZXR1cm4gZWxlbWVudDsgfSwgdG9FbGVtZW50RmluaXNoZXJFeHRyYXM6IGZ1bmN0aW9uIHRvRWxlbWVudEZpbmlzaGVyRXh0cmFzKGVsZW1lbnRPYmplY3QpIHsgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7IHZhciBmaW5pc2hlciA9IF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkoZWxlbWVudE9iamVjdCwgXCJmaW5pc2hlclwiKTsgdmFyIGV4dHJhcyA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcnMoZWxlbWVudE9iamVjdC5leHRyYXMpOyByZXR1cm4geyBlbGVtZW50OiBlbGVtZW50LCBmaW5pc2hlcjogZmluaXNoZXIsIGV4dHJhczogZXh0cmFzIH07IH0sIGZyb21DbGFzc0Rlc2NyaXB0b3I6IGZ1bmN0aW9uIGZyb21DbGFzc0Rlc2NyaXB0b3IoZWxlbWVudHMpIHsgdmFyIG9iaiA9IHsga2luZDogXCJjbGFzc1wiLCBlbGVtZW50czogZWxlbWVudHMubWFwKHRoaXMuZnJvbUVsZW1lbnREZXNjcmlwdG9yLCB0aGlzKSB9OyB2YXIgZGVzYyA9IHsgdmFsdWU6IFwiRGVzY3JpcHRvclwiLCBjb25maWd1cmFibGU6IHRydWUgfTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgU3ltYm9sLnRvU3RyaW5nVGFnLCBkZXNjKTsgcmV0dXJuIG9iajsgfSwgdG9DbGFzc0Rlc2NyaXB0b3I6IGZ1bmN0aW9uIHRvQ2xhc3NEZXNjcmlwdG9yKG9iaikgeyB2YXIga2luZCA9IFN0cmluZyhvYmoua2luZCk7IGlmIChraW5kICE9PSBcImNsYXNzXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBjbGFzcyBkZXNjcmlwdG9yXFwncyAua2luZCBwcm9wZXJ0eSBtdXN0IGJlIFwiY2xhc3NcIiwgYnV0IGEgZGVjb3JhdG9yJyArICcgY3JlYXRlZCBhIGNsYXNzIGRlc2NyaXB0b3Igd2l0aCAua2luZCBcIicgKyBraW5kICsgJ1wiJyk7IH0gdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgXCJrZXlcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwicGxhY2VtZW50XCIsIFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCBcImRlc2NyaXB0b3JcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwiaW5pdGlhbGl6ZXJcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwiZXh0cmFzXCIsIFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpOyB2YXIgZmluaXNoZXIgPSBfb3B0aW9uYWxDYWxsYWJsZVByb3BlcnR5KG9iaiwgXCJmaW5pc2hlclwiKTsgdmFyIGVsZW1lbnRzID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9ycyhvYmouZWxlbWVudHMpOyByZXR1cm4geyBlbGVtZW50czogZWxlbWVudHMsIGZpbmlzaGVyOiBmaW5pc2hlciB9OyB9LCBydW5DbGFzc0ZpbmlzaGVyczogZnVuY3Rpb24gcnVuQ2xhc3NGaW5pc2hlcnMoY29uc3RydWN0b3IsIGZpbmlzaGVycykgeyBmb3IgKHZhciBpID0gMDsgaSA8IGZpbmlzaGVycy5sZW5ndGg7IGkrKykgeyB2YXIgbmV3Q29uc3RydWN0b3IgPSAoMCwgZmluaXNoZXJzW2ldKShjb25zdHJ1Y3Rvcik7IGlmIChuZXdDb25zdHJ1Y3RvciAhPT0gdW5kZWZpbmVkKSB7IGlmICh0eXBlb2YgbmV3Q29uc3RydWN0b3IgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmluaXNoZXJzIG11c3QgcmV0dXJuIGEgY29uc3RydWN0b3IuXCIpOyB9IGNvbnN0cnVjdG9yID0gbmV3Q29uc3RydWN0b3I7IH0gfSByZXR1cm4gY29uc3RydWN0b3I7IH0sIGRpc2FsbG93UHJvcGVydHk6IGZ1bmN0aW9uIGRpc2FsbG93UHJvcGVydHkob2JqLCBuYW1lLCBvYmplY3RUeXBlKSB7IGlmIChvYmpbbmFtZV0gIT09IHVuZGVmaW5lZCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKG9iamVjdFR5cGUgKyBcIiBjYW4ndCBoYXZlIGEgLlwiICsgbmFtZSArIFwiIHByb3BlcnR5LlwiKTsgfSB9IH07IHJldHVybiBhcGk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUVsZW1lbnREZXNjcmlwdG9yKGRlZikgeyB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZGVmLmtleSk7IHZhciBkZXNjcmlwdG9yOyBpZiAoZGVmLmtpbmQgPT09IFwibWV0aG9kXCIpIHsgZGVzY3JpcHRvciA9IHsgdmFsdWU6IGRlZi52YWx1ZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UgfTsgfSBlbHNlIGlmIChkZWYua2luZCA9PT0gXCJnZXRcIikgeyBkZXNjcmlwdG9yID0geyBnZXQ6IGRlZi52YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSB9OyB9IGVsc2UgaWYgKGRlZi5raW5kID09PSBcInNldFwiKSB7IGRlc2NyaXB0b3IgPSB7IHNldDogZGVmLnZhbHVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlIH07IH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09IFwiZmllbGRcIikgeyBkZXNjcmlwdG9yID0geyBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlIH07IH0gdmFyIGVsZW1lbnQgPSB7IGtpbmQ6IGRlZi5raW5kID09PSBcImZpZWxkXCIgPyBcImZpZWxkXCIgOiBcIm1ldGhvZFwiLCBrZXk6IGtleSwgcGxhY2VtZW50OiBkZWZbXCJzdGF0aWNcIl0gPyBcInN0YXRpY1wiIDogZGVmLmtpbmQgPT09IFwiZmllbGRcIiA/IFwib3duXCIgOiBcInByb3RvdHlwZVwiLCBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yIH07IGlmIChkZWYuZGVjb3JhdG9ycykgZWxlbWVudC5kZWNvcmF0b3JzID0gZGVmLmRlY29yYXRvcnM7IGlmIChkZWYua2luZCA9PT0gXCJmaWVsZFwiKSBlbGVtZW50LmluaXRpYWxpemVyID0gZGVmLnZhbHVlOyByZXR1cm4gZWxlbWVudDsgfVxuXG5mdW5jdGlvbiBfY29hbGVzY2VHZXR0ZXJTZXR0ZXIoZWxlbWVudCwgb3RoZXIpIHsgaWYgKGVsZW1lbnQuZGVzY3JpcHRvci5nZXQgIT09IHVuZGVmaW5lZCkgeyBvdGhlci5kZXNjcmlwdG9yLmdldCA9IGVsZW1lbnQuZGVzY3JpcHRvci5nZXQ7IH0gZWxzZSB7IG90aGVyLmRlc2NyaXB0b3Iuc2V0ID0gZWxlbWVudC5kZXNjcmlwdG9yLnNldDsgfSB9XG5cbmZ1bmN0aW9uIF9jb2FsZXNjZUNsYXNzRWxlbWVudHMoZWxlbWVudHMpIHsgdmFyIG5ld0VsZW1lbnRzID0gW107IHZhciBpc1NhbWVFbGVtZW50ID0gZnVuY3Rpb24gaXNTYW1lRWxlbWVudChvdGhlcikgeyByZXR1cm4gb3RoZXIua2luZCA9PT0gXCJtZXRob2RcIiAmJiBvdGhlci5rZXkgPT09IGVsZW1lbnQua2V5ICYmIG90aGVyLnBsYWNlbWVudCA9PT0gZWxlbWVudC5wbGFjZW1lbnQ7IH07IGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpXTsgdmFyIG90aGVyOyBpZiAoZWxlbWVudC5raW5kID09PSBcIm1ldGhvZFwiICYmIChvdGhlciA9IG5ld0VsZW1lbnRzLmZpbmQoaXNTYW1lRWxlbWVudCkpKSB7IGlmIChfaXNEYXRhRGVzY3JpcHRvcihlbGVtZW50LmRlc2NyaXB0b3IpIHx8IF9pc0RhdGFEZXNjcmlwdG9yKG90aGVyLmRlc2NyaXB0b3IpKSB7IGlmIChfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB8fCBfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiRHVwbGljYXRlZCBtZXRob2RzIChcIiArIGVsZW1lbnQua2V5ICsgXCIpIGNhbid0IGJlIGRlY29yYXRlZC5cIik7IH0gb3RoZXIuZGVzY3JpcHRvciA9IGVsZW1lbnQuZGVzY3JpcHRvcjsgfSBlbHNlIHsgaWYgKF9oYXNEZWNvcmF0b3JzKGVsZW1lbnQpKSB7IGlmIChfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiRGVjb3JhdG9ycyBjYW4ndCBiZSBwbGFjZWQgb24gZGlmZmVyZW50IGFjY2Vzc29ycyB3aXRoIGZvciBcIiArIFwidGhlIHNhbWUgcHJvcGVydHkgKFwiICsgZWxlbWVudC5rZXkgKyBcIikuXCIpOyB9IG90aGVyLmRlY29yYXRvcnMgPSBlbGVtZW50LmRlY29yYXRvcnM7IH0gX2NvYWxlc2NlR2V0dGVyU2V0dGVyKGVsZW1lbnQsIG90aGVyKTsgfSB9IGVsc2UgeyBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnQpOyB9IH0gcmV0dXJuIG5ld0VsZW1lbnRzOyB9XG5cbmZ1bmN0aW9uIF9oYXNEZWNvcmF0b3JzKGVsZW1lbnQpIHsgcmV0dXJuIGVsZW1lbnQuZGVjb3JhdG9ycyAmJiBlbGVtZW50LmRlY29yYXRvcnMubGVuZ3RoOyB9XG5cbmZ1bmN0aW9uIF9pc0RhdGFEZXNjcmlwdG9yKGRlc2MpIHsgcmV0dXJuIGRlc2MgIT09IHVuZGVmaW5lZCAmJiAhKGRlc2MudmFsdWUgPT09IHVuZGVmaW5lZCAmJiBkZXNjLndyaXRhYmxlID09PSB1bmRlZmluZWQpOyB9XG5cbmZ1bmN0aW9uIF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkob2JqLCBuYW1lKSB7IHZhciB2YWx1ZSA9IG9ialtuYW1lXTsgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkICdcIiArIG5hbWUgKyBcIicgdG8gYmUgYSBmdW5jdGlvblwiKTsgfSByZXR1cm4gdmFsdWU7IH1cblxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cblxuZnVuY3Rpb24gX3RvQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09IFwiW29iamVjdCBBcmd1bWVudHNdXCIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5mdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0LmdldCkgeyBfZ2V0ID0gUmVmbGVjdC5nZXQ7IH0gZWxzZSB7IF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IHZhciBiYXNlID0gX3N1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7IGlmICghYmFzZSkgcmV0dXJuOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpOyBpZiAoZGVzYy5nZXQpIHsgcmV0dXJuIGRlc2MuZ2V0LmNhbGwocmVjZWl2ZXIpOyB9IHJldHVybiBkZXNjLnZhbHVlOyB9OyB9IHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7IH1cblxuZnVuY3Rpb24gX3N1cGVyUHJvcEJhc2Uob2JqZWN0LCBwcm9wZXJ0eSkgeyB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkgeyBvYmplY3QgPSBfZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgYnJlYWs7IH0gcmV0dXJuIG9iamVjdDsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbnZhciBMZWFmID0gcmVxdWlyZSgnLi4vVHJlZS9MZWFmJyk7XG5cbnZhciByZXNpemUgPSByZXF1aXJlKCcuL2RlY29yYXRvcnMvcmVzaXplJyk7XG5cbnZhciBlZGl0QXR0cmlidXRlcyA9IHJlcXVpcmUoJy4vZGVjb3JhdG9ycy9lZGl0QXR0cmlidXRlcycpO1xuXG52YXIgZWRpdFByb3BlcnRpZXMgPSByZXF1aXJlKCcuL2RlY29yYXRvcnMvZWRpdFByb3BlcnRpZXMnKTtcblxudmFyIHNlbGVjdG9yR2V0dGVyID0gcmVxdWlyZSgnLi9kZWNvcmF0b3JzL3NlbGVjdG9yJyk7XG5cbnZhciBNb25vSW5jaWRlbnQgPSByZXF1aXJlKCcuLi9CYXNlQ2xhc3Nlcy9Nb25vSW5jaWRlbnQnKTtcblxudmFyIEF0dHJpYnV0ZUNoYW5uZWwgPSByZXF1aXJlKCcuLi9DaGFubmVscy9BdHRyaWJ1dGUvQXR0cmlidXRlQ2hhbm5lbCcpO1xuXG52YXIgRGVzY3JpcHRpdmVJbmNpZGVudCA9IF9kZWNvcmF0ZShudWxsLCBmdW5jdGlvbiAoX2luaXRpYWxpemUsIF9MZWFmKSB7XG4gIHZhciBEZXNjcmlwdGl2ZUluY2lkZW50ID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0xlYWYyKSB7XG4gICAgX2luaGVyaXRzKERlc2NyaXB0aXZlSW5jaWRlbnQsIF9MZWFmMik7XG5cbiAgICBmdW5jdGlvbiBEZXNjcmlwdGl2ZUluY2lkZW50KGF0dHJzLCBwcm9wcykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGVzY3JpcHRpdmVJbmNpZGVudCk7XG5cbiAgICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKERlc2NyaXB0aXZlSW5jaWRlbnQpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgX2luaXRpYWxpemUoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuXG4gICAgICBfdGhpcy5pbmhlcml0ZWRTZWxlY3RvciA9IG51bGw7XG4gICAgICBfdGhpcy5hdHRycyA9IGF0dHJzO1xuXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgXCJkdXJhdGlvblwiKSkge1xuICAgICAgICBwcm9wcy5kdXJhdGlvbiA9IDA7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnByb3BzID0gcHJvcHM7IC8vIHRoZSBwYXNzaXZlIGZsYWcgKHdoZW4gdHJ1ZSkgaW5kaWNhdGVzIHRoYXQgdGhlIERlc2NyaXB0aXZlIEdyb3VwIGhhcyBiZWVuIGNyZWF0ZWRcbiAgICAgIC8vIGFuZCBwYXNzaXZlbHkgYWRkZWQgdG8gYSBDbGlwIG9yIGEgQ29tYm8gdmlhIGJ1aWxkVHJlZSBtZXRob2QuXG4gICAgICAvLyBEZWZhdWx0cyB0byBmYWxzZVxuXG4gICAgICBfdGhpcy5wYXNzaXZlID0gZmFsc2U7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIERlc2NyaXB0aXZlSW5jaWRlbnQ7XG4gIH0oX0xlYWYpO1xuXG4gIHJldHVybiB7XG4gICAgRjogRGVzY3JpcHRpdmVJbmNpZGVudCxcbiAgICBkOiBbe1xuICAgICAga2luZDogXCJmaWVsZFwiLFxuICAgICAgXCJzdGF0aWNcIjogdHJ1ZSxcbiAgICAgIGtleTogXCJJbmNpZGVudFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gTW9ub0luY2lkZW50O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwiZmllbGRcIixcbiAgICAgIFwic3RhdGljXCI6IHRydWUsXG4gICAgICBrZXk6IFwicGx1Z2luX25wbV9uYW1lXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiBcIm1vdG9yLWNvcnRleC1qcy1hdHRyaWJ1dGVcIjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcImZpZWxkXCIsXG4gICAgICBcInN0YXRpY1wiOiB0cnVlLFxuICAgICAga2V5OiBcIkNoYW5uZWxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIEF0dHJpYnV0ZUNoYW5uZWw7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJmaWVsZFwiLFxuICAgICAgXCJzdGF0aWNcIjogdHJ1ZSxcbiAgICAgIGtleTogXCJDbGFzc05hbWVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiSW5jaWRlbnRcIjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAgZGVjb3JhdG9yczogW2VkaXRBdHRyaWJ1dGVzXSxcbiAgICAgIGtleTogXCJlZGl0QXR0cmlidXRlc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGVkaXRBdHRyaWJ1dGVzKCkge31cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAgZGVjb3JhdG9yczogW2VkaXRQcm9wZXJ0aWVzXSxcbiAgICAgIGtleTogXCJlZGl0UHJvcGVydGllc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGVkaXRQcm9wZXJ0aWVzKCkge31cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAgZGVjb3JhdG9yczogW3Jlc2l6ZV0sXG4gICAgICBrZXk6IFwicmVzaXplXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKCkge31cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAgZGVjb3JhdG9yczogW3NlbGVjdG9yR2V0dGVyXSxcbiAgICAgIGtleTogXCJzZWxlY3RvclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdG9yKCkge31cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcIm1hbmFnZUVkaXRBdHRyUHJvcHNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBtYW5hZ2VFZGl0QXR0clByb3BzKG5ld0F0dHJzLCB0eXBlKSB7XG4gICAgICAgIC8vIGdldCBhIHBlcm1hbmVudCByZWZlcmVuY2UgdG8gaXRzIHBhcmVudCBub2RlXG4gICAgICAgIHZhciBwYXJlbnROb2RlID0gdGhpcy5wYXJlbnROb2RlOyAvLyBnZXQgdGhlIHBvc2l0aW9uIG9mIHRoZSBJbmNpZGVudCB3aXRoaW4gaXRzIHBhcmVudFxuXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHBhcmVudE5vZGUuZ2V0TGVhZlBvc2l0aW9uKHRoaXMuaWQpOyAvLyBmaXJzdCBkZXRhY2ggdGhlIEluY2lkZW50IGZyb20gaXRzIHBhcmVudFxuXG4gICAgICAgIHBhcmVudE5vZGUucmVtb3ZlSW5jaWRlbnQodGhpcy5pZCk7IC8vIGtlZXAgYSBiYWNrdXAgb2YgdGhlIGN1cnJlbnQgYXR0cnMvcHJvcHNcblxuICAgICAgICB2YXIgb2xkQXR0cnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXNbdHlwZV0pKTtcbiAgICAgICAgdGhpc1t0eXBlXSA9IG5ld0F0dHJzO1xuICAgICAgICB2YXIgcmVzID0gcGFyZW50Tm9kZS5hZGRJbmNpZGVudCh0aGlzLCBwb3NpdGlvbik7XG5cbiAgICAgICAgaWYgKHJlcy5yZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVJbmNpZGVudCh0aGlzLmlkKTtcbiAgICAgICAgICB0aGlzW3R5cGVdID0gb2xkQXR0cnM7XG4gICAgICAgICAgcGFyZW50Tm9kZS5hZGRJbmNpZGVudCh0aGlzLCBwb3NpdGlvbik7XG4gICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJkZXRhY2hGcm9tUGFyZW50XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoRnJvbVBhcmVudCgpIHtcbiAgICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoRGVzY3JpcHRpdmVJbmNpZGVudC5wcm90b3R5cGUpLCBcImRldGFjaEZyb21QYXJlbnRcIiwgdGhpcykuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLmluaGVyaXRlZFNlbGVjdG9yID0gbnVsbDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImhhbmRsZUNoZWNrRm9ySW52YWxpZFNlbGVjdG9yc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNoZWNrRm9ySW52YWxpZFNlbGVjdG9ycygpIHtcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvcigpO1xuXG4gICAgICAgIGlmIChzZWxlY3RvciA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIENsYXNzTmFtZTogdGhpcy5jb25zdHJ1Y3Rvci5DbGFzc05hbWUsXG4gICAgICAgICAgICBwbHVnaW5fbnBtX25hbWU6IHRoaXMuY29uc3RydWN0b3IucGx1Z2luX25wbV9uYW1lLFxuICAgICAgICAgICAgZXJyb3I6ICdudWxsIHNlbGVjdG9yJ1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0b3IuY2hhckF0KDApID09PSBcIiZcIikge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIENsYXNzTmFtZTogdGhpcy5jb25zdHJ1Y3Rvci5DbGFzc05hbWUsXG4gICAgICAgICAgICBwbHVnaW5fbnBtX25hbWU6IHRoaXMuY29uc3RydWN0b3IucGx1Z2luX25wbV9uYW1lLFxuICAgICAgICAgICAgZXJyb3I6ICdyZWxhdGl2ZSBzZWxlY3RvciB3aXRoIG5vIGluaGVyaXRlZCBzZWxlY3RvcicsXG4gICAgICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3JcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgcmV0dXJuIHRoaXMuYnlwYXNzKCk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIGV4cG9ydCBhIHBvcnRhYmxlIGRlZmluaXRpb24gdGhhdCBjYW4gYmVcbiAgICAgICAqIGxhdGVyIHVzZWQgaW4gb3JkZXIgdG8gcmVidWlsZCB0aGUgSW5pY2RlbnQgYXQgYW55IHRpbWVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJleHBvcnREZWZpbml0aW9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZXhwb3J0RGVmaW5pdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBDbGFzc05hbWU6IHRoaXMuY29uc3RydWN0b3IuQ2xhc3NOYW1lLFxuICAgICAgICAgIHBsdWdpbl9ucG1fbmFtZTogdGhpcy5jb25zdHJ1Y3Rvci5wbHVnaW5fbnBtX25hbWUsXG4gICAgICAgICAgYXR0cnM6IHRoaXMuYXR0cnMsXG4gICAgICAgICAgcHJvcHM6IHRoaXMucHJvcHNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XVxuICB9O1xufSwgTGVhZik7XG5cbm1vZHVsZS5leHBvcnRzID0gRGVzY3JpcHRpdmVJbmNpZGVudDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveIncident.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/_CONST.js":
/*!*************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/_CONST.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = {\n  _TARGETTYPES: {\n    _DECISIONAUTHORITY: \"mc.descriptive.decisionAuthority\"\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9EZXNjcmlwdGl2ZUluY2lkZW50cy9fQ09OU1QuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9EZXNjcmlwdGl2ZUluY2lkZW50cy9fQ09OU1QuanM/ZWY2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIF9UQVJHRVRUWVBFUzoge1xuICAgIF9ERUNJU0lPTkFVVEhPUklUWTogXCJtYy5kZXNjcmlwdGl2ZS5kZWNpc2lvbkF1dGhvcml0eVwiXG4gIH1cbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/_CONST.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/editAttributes.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/editAttributes.js ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _CONST = __webpack_require__(/*! ../_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/_CONST.js\");\n\nvar _TREECONST = __webpack_require__(/*! ../../Tree/_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/_CONST.js\");\n\nfunction editAttributes(payload) {\n  payload.descriptor.value = function (newAttrs) {\n    var checkIfBelongsToClip = this.putMessageOnPipe('checkForClip', {}, _CONST._TARGETTYPES._DECISIONAUTHORITY, {\n      selfExecute: true,\n      direction: _TREECONST._DIRECTIONS._UP\n    });\n\n    if (checkIfBelongsToClip.response === true) {\n      // if the Group belongs on a Clip\n      return this.manageEditAttrProps(newAttrs, 'attrs');\n    } else {\n      this.attrs = newAttrs;\n      return {\n        result: true\n      };\n    }\n  };\n}\n\nmodule.exports = editAttributes;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9EZXNjcmlwdGl2ZUluY2lkZW50cy9kZWNvcmF0b3JzL2VkaXRBdHRyaWJ1dGVzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvRGVzY3JpcHRpdmVJbmNpZGVudHMvZGVjb3JhdG9ycy9lZGl0QXR0cmlidXRlcy5qcz9hZGYwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX0NPTlNUID0gcmVxdWlyZSgnLi4vX0NPTlNUJyk7XG5cbnZhciBfVFJFRUNPTlNUID0gcmVxdWlyZSgnLi4vLi4vVHJlZS9fQ09OU1QnKTtcblxuZnVuY3Rpb24gZWRpdEF0dHJpYnV0ZXMocGF5bG9hZCkge1xuICBwYXlsb2FkLmRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAobmV3QXR0cnMpIHtcbiAgICB2YXIgY2hlY2tJZkJlbG9uZ3NUb0NsaXAgPSB0aGlzLnB1dE1lc3NhZ2VPblBpcGUoJ2NoZWNrRm9yQ2xpcCcsIHt9LCBfQ09OU1QuX1RBUkdFVFRZUEVTLl9ERUNJU0lPTkFVVEhPUklUWSwge1xuICAgICAgc2VsZkV4ZWN1dGU6IHRydWUsXG4gICAgICBkaXJlY3Rpb246IF9UUkVFQ09OU1QuX0RJUkVDVElPTlMuX1VQXG4gICAgfSk7XG5cbiAgICBpZiAoY2hlY2tJZkJlbG9uZ3NUb0NsaXAucmVzcG9uc2UgPT09IHRydWUpIHtcbiAgICAgIC8vIGlmIHRoZSBHcm91cCBiZWxvbmdzIG9uIGEgQ2xpcFxuICAgICAgcmV0dXJuIHRoaXMubWFuYWdlRWRpdEF0dHJQcm9wcyhuZXdBdHRycywgJ2F0dHJzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXR0cnMgPSBuZXdBdHRycztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3VsdDogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZWRpdEF0dHJpYnV0ZXM7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/editAttributes.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/editProperties.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/editProperties.js ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _CONST = __webpack_require__(/*! ../_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/_CONST.js\");\n\nvar _TREECONST = __webpack_require__(/*! ../../Tree/_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/_CONST.js\");\n\nfunction editProperties(payload) {\n  payload.descriptor.value = function (newProps) {\n    var checkIfBelongsToClip = this.putMessageOnPipe('checkForClip', {}, _CONST._TARGETTYPES._DECISIONAUTHORITY, {\n      selfExecute: true,\n      direction: _TREECONST._DIRECTIONS._UP\n    });\n\n    if (checkIfBelongsToClip.response === true) {\n      // if the Group belongs on a Clip\n      return this.manageEditAttrProps(newProps, 'props');\n    } else {\n      this.props = newProps;\n      return {\n        result: true\n      };\n    }\n  };\n}\n\nmodule.exports = editProperties;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9EZXNjcmlwdGl2ZUluY2lkZW50cy9kZWNvcmF0b3JzL2VkaXRQcm9wZXJ0aWVzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvRGVzY3JpcHRpdmVJbmNpZGVudHMvZGVjb3JhdG9ycy9lZGl0UHJvcGVydGllcy5qcz9iOWQzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX0NPTlNUID0gcmVxdWlyZSgnLi4vX0NPTlNUJyk7XG5cbnZhciBfVFJFRUNPTlNUID0gcmVxdWlyZSgnLi4vLi4vVHJlZS9fQ09OU1QnKTtcblxuZnVuY3Rpb24gZWRpdFByb3BlcnRpZXMocGF5bG9hZCkge1xuICBwYXlsb2FkLmRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAobmV3UHJvcHMpIHtcbiAgICB2YXIgY2hlY2tJZkJlbG9uZ3NUb0NsaXAgPSB0aGlzLnB1dE1lc3NhZ2VPblBpcGUoJ2NoZWNrRm9yQ2xpcCcsIHt9LCBfQ09OU1QuX1RBUkdFVFRZUEVTLl9ERUNJU0lPTkFVVEhPUklUWSwge1xuICAgICAgc2VsZkV4ZWN1dGU6IHRydWUsXG4gICAgICBkaXJlY3Rpb246IF9UUkVFQ09OU1QuX0RJUkVDVElPTlMuX1VQXG4gICAgfSk7XG5cbiAgICBpZiAoY2hlY2tJZkJlbG9uZ3NUb0NsaXAucmVzcG9uc2UgPT09IHRydWUpIHtcbiAgICAgIC8vIGlmIHRoZSBHcm91cCBiZWxvbmdzIG9uIGEgQ2xpcFxuICAgICAgcmV0dXJuIHRoaXMubWFuYWdlRWRpdEF0dHJQcm9wcyhuZXdQcm9wcywgJ3Byb3BzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvcHMgPSBuZXdQcm9wcztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3VsdDogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZWRpdFByb3BlcnRpZXM7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/editProperties.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/resize.js":
/*!************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/resize.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _CONST = __webpack_require__(/*! ../_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/_CONST.js\");\n\nvar _TREECONST = __webpack_require__(/*! ../../Tree/_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/_CONST.js\");\n\nfunction resize(payload) {\n  payload.descriptor.value = function (newSize) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      check: true\n    };\n\n    if (newSize === this.duration) {\n      return {\n        result: true,\n        meta: {\n          unprocessed: true\n        }\n      };\n    }\n\n    if (newSize <= 0) {\n      return {\n        result: false,\n        reason: 'Size must always be > 0'\n      };\n    }\n\n    if (options.check === true && this.hasParent) {\n      var mcCheck = this.putMessageOnPipe('checkResize', {\n        id: this.id,\n        newSize: newSize,\n        fraction: newSize / this.duration\n      }, _CONST._TARGETTYPES._DECISIONAUTHORITY, {\n        selfExecute: false,\n        direction: _TREECONST._DIRECTIONS._UP\n      });\n\n      if (mcCheck.response.result === false) {\n        return mcCheck.response;\n      }\n    }\n\n    this.setNewDuration(newSize);\n    return {\n      result: true\n    };\n  };\n}\n\nmodule.exports = resize;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9EZXNjcmlwdGl2ZUluY2lkZW50cy9kZWNvcmF0b3JzL3Jlc2l6ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L0Rlc2NyaXB0aXZlSW5jaWRlbnRzL2RlY29yYXRvcnMvcmVzaXplLmpzPzg0MTkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfQ09OU1QgPSByZXF1aXJlKCcuLi9fQ09OU1QnKTtcblxudmFyIF9UUkVFQ09OU1QgPSByZXF1aXJlKCcuLi8uLi9UcmVlL19DT05TVCcpO1xuXG5mdW5jdGlvbiByZXNpemUocGF5bG9hZCkge1xuICBwYXlsb2FkLmRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAobmV3U2l6ZSkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7XG4gICAgICBjaGVjazogdHJ1ZVxuICAgIH07XG5cbiAgICBpZiAobmV3U2l6ZSA9PT0gdGhpcy5kdXJhdGlvbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdWx0OiB0cnVlLFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgdW5wcm9jZXNzZWQ6IHRydWVcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAobmV3U2l6ZSA8PSAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN1bHQ6IGZhbHNlLFxuICAgICAgICByZWFzb246ICdTaXplIG11c3QgYWx3YXlzIGJlID4gMCdcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuY2hlY2sgPT09IHRydWUgJiYgdGhpcy5oYXNQYXJlbnQpIHtcbiAgICAgIHZhciBtY0NoZWNrID0gdGhpcy5wdXRNZXNzYWdlT25QaXBlKCdjaGVja1Jlc2l6ZScsIHtcbiAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgIG5ld1NpemU6IG5ld1NpemUsXG4gICAgICAgIGZyYWN0aW9uOiBuZXdTaXplIC8gdGhpcy5kdXJhdGlvblxuICAgICAgfSwgX0NPTlNULl9UQVJHRVRUWVBFUy5fREVDSVNJT05BVVRIT1JJVFksIHtcbiAgICAgICAgc2VsZkV4ZWN1dGU6IGZhbHNlLFxuICAgICAgICBkaXJlY3Rpb246IF9UUkVFQ09OU1QuX0RJUkVDVElPTlMuX1VQXG4gICAgICB9KTtcblxuICAgICAgaWYgKG1jQ2hlY2sucmVzcG9uc2UucmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gbWNDaGVjay5yZXNwb25zZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnNldE5ld0R1cmF0aW9uKG5ld1NpemUpO1xuICAgIHJldHVybiB7XG4gICAgICByZXN1bHQ6IHRydWVcbiAgICB9O1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlc2l6ZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/resize.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/selector.js":
/*!**************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/selector.js ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction selector(payload) {\n  payload.descriptor.value = function () {\n    if (this.inheritedSelector === null) {\n      // if the Incident has no parent selector inherited\n      if (!Object.prototype.hasOwnProperty.call(this.props, \"selector\")) {\n        // and does not have a selector neither\n        return null; // then its selector is null\n      } else {\n        return this.props.selector; // else, if it has a selector that's its final selector\n      }\n    } else {\n      // else if there is an inherited selector\n      if (!Object.prototype.hasOwnProperty.call(this.props, \"selector\")) {\n        // and does not have a selector of its own\n        return this.inheritedSelector; // then its selector is equal to the inherited selector\n      } else {\n        // else, if it both has an inherited and an own selector\n        if (this.props.selector.charAt(0) === \"&\") {\n          return this.inheritedSelector + this.props.selector.substring(1);\n        } else {\n          return this.inheritedSelector + ' ' + this.props.selector;\n        }\n      }\n    }\n  };\n}\n\nmodule.exports = selector;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9EZXNjcmlwdGl2ZUluY2lkZW50cy9kZWNvcmF0b3JzL3NlbGVjdG9yLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvRGVzY3JpcHRpdmVJbmNpZGVudHMvZGVjb3JhdG9ycy9zZWxlY3Rvci5qcz80MTRhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBzZWxlY3RvcihwYXlsb2FkKSB7XG4gIHBheWxvYWQuZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pbmhlcml0ZWRTZWxlY3RvciA9PT0gbnVsbCkge1xuICAgICAgLy8gaWYgdGhlIEluY2lkZW50IGhhcyBubyBwYXJlbnQgc2VsZWN0b3IgaW5oZXJpdGVkXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnByb3BzLCBcInNlbGVjdG9yXCIpKSB7XG4gICAgICAgIC8vIGFuZCBkb2VzIG5vdCBoYXZlIGEgc2VsZWN0b3IgbmVpdGhlclxuICAgICAgICByZXR1cm4gbnVsbDsgLy8gdGhlbiBpdHMgc2VsZWN0b3IgaXMgbnVsbFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuc2VsZWN0b3I7IC8vIGVsc2UsIGlmIGl0IGhhcyBhIHNlbGVjdG9yIHRoYXQncyBpdHMgZmluYWwgc2VsZWN0b3JcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZWxzZSBpZiB0aGVyZSBpcyBhbiBpbmhlcml0ZWQgc2VsZWN0b3JcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMucHJvcHMsIFwic2VsZWN0b3JcIikpIHtcbiAgICAgICAgLy8gYW5kIGRvZXMgbm90IGhhdmUgYSBzZWxlY3RvciBvZiBpdHMgb3duXG4gICAgICAgIHJldHVybiB0aGlzLmluaGVyaXRlZFNlbGVjdG9yOyAvLyB0aGVuIGl0cyBzZWxlY3RvciBpcyBlcXVhbCB0byB0aGUgaW5oZXJpdGVkIHNlbGVjdG9yXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlbHNlLCBpZiBpdCBib3RoIGhhcyBhbiBpbmhlcml0ZWQgYW5kIGFuIG93biBzZWxlY3RvclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3Rvci5jaGFyQXQoMCkgPT09IFwiJlwiKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaW5oZXJpdGVkU2VsZWN0b3IgKyB0aGlzLnByb3BzLnNlbGVjdG9yLnN1YnN0cmluZygxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5pbmhlcml0ZWRTZWxlY3RvciArICcgJyArIHRoaXMucHJvcHMuc2VsZWN0b3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2VsZWN0b3I7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/decorators/selector.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/IncidentFromDefinition/incidentFromDescription.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/IncidentFromDefinition/incidentFromDescription.js ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar Group = __webpack_require__(/*! ../BaseClasses/Group */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/Group.js\");\n\nvar ElementSplitter = __webpack_require__(/*! ../Splitters/ElementSplitter */ \"../node_modules/@kissmybutton/motorcortex/dist/Splitters/ElementSplitter.js\");\n\nvar ElementClipSplitter = __webpack_require__(/*! ../Splitters/ElementClipSplitter */ \"../node_modules/@kissmybutton/motorcortex/dist/Splitters/ElementClipSplitter.js\");\n\nvar incidentFromIngredients = __webpack_require__(/*! ./incidentFromIngredients */ \"../node_modules/@kissmybutton/motorcortex/dist/IncidentFromDefinition/incidentFromIngredients.js\");\n\nvar Channel = __webpack_require__(/*! ../Channels/Channel */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Channel.js\");\n/**\n * Creates a real Incident (with all of its real tree) out of the Descriptive Incident.\n * @param {object} descriptiveIncident - the Descriptive Incident that defines the Incident\n * @param {contextData} - the context data (object containing id and actual context) to be used for real\n *      Incidents init\n * @param {boolean} audio - defaults to false. It defines whether the method is been used\n *      by a real Clip or the Audio clip\n * @returns {object} - the real Incident\n **/\n\n\nfunction incidentFromDescription(descriptiveIncident, contextData) {\n  var audio = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  /*\n  RULES:\n  - Clips can only have selectors (and not hosts) as they participate on a Desc. Tree\n      and thus they are Clips As Incidents. The DescriptiveClips are treated a bit\n      different compared to the rest of the Incidents as they copy all of the\n      Description channels and lanes\n  - Descriptive Incidents can either have or not have selectors\n  - Descriptive Compos always have selectors\n   All Incidents of the tree, no matter their type have the static properties:\n  - Incident (which is the Incident class they need to initialise)\n  - plugin_npm_name (the plugin name they bolong to)\n  - Channel (the Channel class to handle the instance)\n  */\n\n  /* check for the descriptive incident and audio compatibility. If audio is true then we're\n      working on the audioClip and we need incidents that are at least \"on\" while if the audio==false\n      and we are working on the real tree then we reject the cases that the incident is audio \"only\"\n  */\n  if (audio === true && descriptiveIncident.audio === \"off\" || audio === false && descriptiveIncident.audio === \"only\") {\n    return null;\n  }\n\n  var incidentToReturn;\n\n  if (Object.prototype.hasOwnProperty.call(descriptiveIncident.props, 'selector')) {\n    if (audio === false && descriptiveIncident.props.selector.charAt(0) === '~' || audio === true && descriptiveIncident.props.selector.charAt(0) !== '~' && descriptiveIncident.constructor.isClip === false) {\n      return null;\n    }\n  }\n\n  if (descriptiveIncident.constructor.isClip === true) {\n    if (Object.prototype.hasOwnProperty.call(descriptiveIncident.props, 'selector') && audio === false) {\n      incidentToReturn = new ElementClipSplitter(descriptiveIncident, contextData);\n      incidentToReturn.plugin_channel_class = Channel;\n    } else {\n      if (audio === true) {\n        return descriptiveIncident.audioClip;\n      } else {\n        return descriptiveIncident.realClip;\n      }\n    }\n  } else if (descriptiveIncident.constructor.Incident === Group) {\n    incidentToReturn = incidentFromIngredients({\n      id: descriptiveIncident.id,\n      attrs: descriptiveIncident.attrs,\n      props: descriptiveIncident.props,\n      Incident: descriptiveIncident.constructor.Incident,\n      plugin_npm_name: descriptiveIncident.constructor.plugin_npm_name,\n      Channel: descriptiveIncident.constructor.Channel,\n      DescriptiveIncident: descriptiveIncident\n    });\n\n    for (var incId in descriptiveIncident.children) {\n      var childIncident = incidentFromDescription(descriptiveIncident.children[incId].leaf, contextData);\n\n      if (childIncident === null) {\n        continue;\n      }\n\n      incidentToReturn.addChild(childIncident, descriptiveIncident.children[incId].position);\n    }\n  } else {\n    // if it is an Incident that extends the Incident (not a Group) then\n    // we should anaylse it to its element/attribute Incidents starting from\n    // the elements, that's why we create an ElementSplitter. It is our\n    // starting point to which the Incident will be analysed to its\n    // element/attributes children.\n    incidentToReturn = new ElementSplitter(descriptiveIncident, contextData);\n  }\n\n  return incidentToReturn;\n}\n\nmodule.exports = incidentFromDescription;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9JbmNpZGVudEZyb21EZWZpbml0aW9uL2luY2lkZW50RnJvbURlc2NyaXB0aW9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvSW5jaWRlbnRGcm9tRGVmaW5pdGlvbi9pbmNpZGVudEZyb21EZXNjcmlwdGlvbi5qcz9mZGZhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgR3JvdXAgPSByZXF1aXJlKCcuLi9CYXNlQ2xhc3Nlcy9Hcm91cCcpO1xuXG52YXIgRWxlbWVudFNwbGl0dGVyID0gcmVxdWlyZSgnLi4vU3BsaXR0ZXJzL0VsZW1lbnRTcGxpdHRlcicpO1xuXG52YXIgRWxlbWVudENsaXBTcGxpdHRlciA9IHJlcXVpcmUoJy4uL1NwbGl0dGVycy9FbGVtZW50Q2xpcFNwbGl0dGVyJyk7XG5cbnZhciBpbmNpZGVudEZyb21JbmdyZWRpZW50cyA9IHJlcXVpcmUoJy4vaW5jaWRlbnRGcm9tSW5ncmVkaWVudHMnKTtcblxudmFyIENoYW5uZWwgPSByZXF1aXJlKCcuLi9DaGFubmVscy9DaGFubmVsJyk7XG4vKipcbiAqIENyZWF0ZXMgYSByZWFsIEluY2lkZW50ICh3aXRoIGFsbCBvZiBpdHMgcmVhbCB0cmVlKSBvdXQgb2YgdGhlIERlc2NyaXB0aXZlIEluY2lkZW50LlxuICogQHBhcmFtIHtvYmplY3R9IGRlc2NyaXB0aXZlSW5jaWRlbnQgLSB0aGUgRGVzY3JpcHRpdmUgSW5jaWRlbnQgdGhhdCBkZWZpbmVzIHRoZSBJbmNpZGVudFxuICogQHBhcmFtIHtjb250ZXh0RGF0YX0gLSB0aGUgY29udGV4dCBkYXRhIChvYmplY3QgY29udGFpbmluZyBpZCBhbmQgYWN0dWFsIGNvbnRleHQpIHRvIGJlIHVzZWQgZm9yIHJlYWxcbiAqICAgICAgSW5jaWRlbnRzIGluaXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYXVkaW8gLSBkZWZhdWx0cyB0byBmYWxzZS4gSXQgZGVmaW5lcyB3aGV0aGVyIHRoZSBtZXRob2QgaXMgYmVlbiB1c2VkXG4gKiAgICAgIGJ5IGEgcmVhbCBDbGlwIG9yIHRoZSBBdWRpbyBjbGlwXG4gKiBAcmV0dXJucyB7b2JqZWN0fSAtIHRoZSByZWFsIEluY2lkZW50XG4gKiovXG5cblxuZnVuY3Rpb24gaW5jaWRlbnRGcm9tRGVzY3JpcHRpb24oZGVzY3JpcHRpdmVJbmNpZGVudCwgY29udGV4dERhdGEpIHtcbiAgdmFyIGF1ZGlvID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICAvKlxuICBSVUxFUzpcbiAgLSBDbGlwcyBjYW4gb25seSBoYXZlIHNlbGVjdG9ycyAoYW5kIG5vdCBob3N0cykgYXMgdGhleSBwYXJ0aWNpcGF0ZSBvbiBhIERlc2MuIFRyZWVcbiAgICAgIGFuZCB0aHVzIHRoZXkgYXJlIENsaXBzIEFzIEluY2lkZW50cy4gVGhlIERlc2NyaXB0aXZlQ2xpcHMgYXJlIHRyZWF0ZWQgYSBiaXRcbiAgICAgIGRpZmZlcmVudCBjb21wYXJlZCB0byB0aGUgcmVzdCBvZiB0aGUgSW5jaWRlbnRzIGFzIHRoZXkgY29weSBhbGwgb2YgdGhlXG4gICAgICBEZXNjcmlwdGlvbiBjaGFubmVscyBhbmQgbGFuZXNcbiAgLSBEZXNjcmlwdGl2ZSBJbmNpZGVudHMgY2FuIGVpdGhlciBoYXZlIG9yIG5vdCBoYXZlIHNlbGVjdG9yc1xuICAtIERlc2NyaXB0aXZlIENvbXBvcyBhbHdheXMgaGF2ZSBzZWxlY3RvcnNcbiAgIEFsbCBJbmNpZGVudHMgb2YgdGhlIHRyZWUsIG5vIG1hdHRlciB0aGVpciB0eXBlIGhhdmUgdGhlIHN0YXRpYyBwcm9wZXJ0aWVzOlxuICAtIEluY2lkZW50ICh3aGljaCBpcyB0aGUgSW5jaWRlbnQgY2xhc3MgdGhleSBuZWVkIHRvIGluaXRpYWxpc2UpXG4gIC0gcGx1Z2luX25wbV9uYW1lICh0aGUgcGx1Z2luIG5hbWUgdGhleSBib2xvbmcgdG8pXG4gIC0gQ2hhbm5lbCAodGhlIENoYW5uZWwgY2xhc3MgdG8gaGFuZGxlIHRoZSBpbnN0YW5jZSlcbiAgKi9cblxuICAvKiBjaGVjayBmb3IgdGhlIGRlc2NyaXB0aXZlIGluY2lkZW50IGFuZCBhdWRpbyBjb21wYXRpYmlsaXR5LiBJZiBhdWRpbyBpcyB0cnVlIHRoZW4gd2UncmVcbiAgICAgIHdvcmtpbmcgb24gdGhlIGF1ZGlvQ2xpcCBhbmQgd2UgbmVlZCBpbmNpZGVudHMgdGhhdCBhcmUgYXQgbGVhc3QgXCJvblwiIHdoaWxlIGlmIHRoZSBhdWRpbz09ZmFsc2VcbiAgICAgIGFuZCB3ZSBhcmUgd29ya2luZyBvbiB0aGUgcmVhbCB0cmVlIHRoZW4gd2UgcmVqZWN0IHRoZSBjYXNlcyB0aGF0IHRoZSBpbmNpZGVudCBpcyBhdWRpbyBcIm9ubHlcIlxuICAqL1xuICBpZiAoYXVkaW8gPT09IHRydWUgJiYgZGVzY3JpcHRpdmVJbmNpZGVudC5hdWRpbyA9PT0gXCJvZmZcIiB8fCBhdWRpbyA9PT0gZmFsc2UgJiYgZGVzY3JpcHRpdmVJbmNpZGVudC5hdWRpbyA9PT0gXCJvbmx5XCIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBpbmNpZGVudFRvUmV0dXJuO1xuXG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGVzY3JpcHRpdmVJbmNpZGVudC5wcm9wcywgJ3NlbGVjdG9yJykpIHtcbiAgICBpZiAoYXVkaW8gPT09IGZhbHNlICYmIGRlc2NyaXB0aXZlSW5jaWRlbnQucHJvcHMuc2VsZWN0b3IuY2hhckF0KDApID09PSAnficgfHwgYXVkaW8gPT09IHRydWUgJiYgZGVzY3JpcHRpdmVJbmNpZGVudC5wcm9wcy5zZWxlY3Rvci5jaGFyQXQoMCkgIT09ICd+JyAmJiBkZXNjcmlwdGl2ZUluY2lkZW50LmNvbnN0cnVjdG9yLmlzQ2xpcCA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkZXNjcmlwdGl2ZUluY2lkZW50LmNvbnN0cnVjdG9yLmlzQ2xpcCA9PT0gdHJ1ZSkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGVzY3JpcHRpdmVJbmNpZGVudC5wcm9wcywgJ3NlbGVjdG9yJykgJiYgYXVkaW8gPT09IGZhbHNlKSB7XG4gICAgICBpbmNpZGVudFRvUmV0dXJuID0gbmV3IEVsZW1lbnRDbGlwU3BsaXR0ZXIoZGVzY3JpcHRpdmVJbmNpZGVudCwgY29udGV4dERhdGEpO1xuICAgICAgaW5jaWRlbnRUb1JldHVybi5wbHVnaW5fY2hhbm5lbF9jbGFzcyA9IENoYW5uZWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhdWRpbyA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRpdmVJbmNpZGVudC5hdWRpb0NsaXA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRpdmVJbmNpZGVudC5yZWFsQ2xpcDtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVzY3JpcHRpdmVJbmNpZGVudC5jb25zdHJ1Y3Rvci5JbmNpZGVudCA9PT0gR3JvdXApIHtcbiAgICBpbmNpZGVudFRvUmV0dXJuID0gaW5jaWRlbnRGcm9tSW5ncmVkaWVudHMoe1xuICAgICAgaWQ6IGRlc2NyaXB0aXZlSW5jaWRlbnQuaWQsXG4gICAgICBhdHRyczogZGVzY3JpcHRpdmVJbmNpZGVudC5hdHRycyxcbiAgICAgIHByb3BzOiBkZXNjcmlwdGl2ZUluY2lkZW50LnByb3BzLFxuICAgICAgSW5jaWRlbnQ6IGRlc2NyaXB0aXZlSW5jaWRlbnQuY29uc3RydWN0b3IuSW5jaWRlbnQsXG4gICAgICBwbHVnaW5fbnBtX25hbWU6IGRlc2NyaXB0aXZlSW5jaWRlbnQuY29uc3RydWN0b3IucGx1Z2luX25wbV9uYW1lLFxuICAgICAgQ2hhbm5lbDogZGVzY3JpcHRpdmVJbmNpZGVudC5jb25zdHJ1Y3Rvci5DaGFubmVsLFxuICAgICAgRGVzY3JpcHRpdmVJbmNpZGVudDogZGVzY3JpcHRpdmVJbmNpZGVudFxuICAgIH0pO1xuXG4gICAgZm9yICh2YXIgaW5jSWQgaW4gZGVzY3JpcHRpdmVJbmNpZGVudC5jaGlsZHJlbikge1xuICAgICAgdmFyIGNoaWxkSW5jaWRlbnQgPSBpbmNpZGVudEZyb21EZXNjcmlwdGlvbihkZXNjcmlwdGl2ZUluY2lkZW50LmNoaWxkcmVuW2luY0lkXS5sZWFmLCBjb250ZXh0RGF0YSk7XG5cbiAgICAgIGlmIChjaGlsZEluY2lkZW50ID09PSBudWxsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpbmNpZGVudFRvUmV0dXJuLmFkZENoaWxkKGNoaWxkSW5jaWRlbnQsIGRlc2NyaXB0aXZlSW5jaWRlbnQuY2hpbGRyZW5baW5jSWRdLnBvc2l0aW9uKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gaWYgaXQgaXMgYW4gSW5jaWRlbnQgdGhhdCBleHRlbmRzIHRoZSBJbmNpZGVudCAobm90IGEgR3JvdXApIHRoZW5cbiAgICAvLyB3ZSBzaG91bGQgYW5heWxzZSBpdCB0byBpdHMgZWxlbWVudC9hdHRyaWJ1dGUgSW5jaWRlbnRzIHN0YXJ0aW5nIGZyb21cbiAgICAvLyB0aGUgZWxlbWVudHMsIHRoYXQncyB3aHkgd2UgY3JlYXRlIGFuIEVsZW1lbnRTcGxpdHRlci4gSXQgaXMgb3VyXG4gICAgLy8gc3RhcnRpbmcgcG9pbnQgdG8gd2hpY2ggdGhlIEluY2lkZW50IHdpbGwgYmUgYW5hbHlzZWQgdG8gaXRzXG4gICAgLy8gZWxlbWVudC9hdHRyaWJ1dGVzIGNoaWxkcmVuLlxuICAgIGluY2lkZW50VG9SZXR1cm4gPSBuZXcgRWxlbWVudFNwbGl0dGVyKGRlc2NyaXB0aXZlSW5jaWRlbnQsIGNvbnRleHREYXRhKTtcbiAgfVxuXG4gIHJldHVybiBpbmNpZGVudFRvUmV0dXJuO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluY2lkZW50RnJvbURlc2NyaXB0aW9uOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/IncidentFromDefinition/incidentFromDescription.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/IncidentFromDefinition/incidentFromIngredients.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/IncidentFromDefinition/incidentFromIngredients.js ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Helper = __webpack_require__(/*! ../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n/**\n * @param {object} ingredients -\n * {\n *      id\n *      attrs\n *      props\n *      Incident\n *      plugin_npm_name\n *      Channel\n *      context (optional)\n *      mcid (optional)\n *      dnaExtras\n * }\n **/\n\nmodule.exports = function (ingredients) {\n  if (!Object.prototype.hasOwnProperty.call(ingredients, \"dnaExtras\")) {\n    ingredients.dnaExtras = {};\n  }\n\n  var incident = new ingredients.Incident(ingredients.attrs, _objectSpread({}, ingredients.props, {\n    id: ingredients.id || helper.getAnId()\n  }), _objectSpread({}, ingredients.dnaExtras, {\n    context: ingredients.context,\n    mcid: ingredients.mcid\n  }));\n  incident.mc_plugin_npm_name = ingredients.plugin_npm_name;\n  incident.plugin_channel_class = ingredients.Channel;\n  incident.DescriptiveIncident = ingredients.DescriptiveIncident;\n  return incident;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9JbmNpZGVudEZyb21EZWZpbml0aW9uL2luY2lkZW50RnJvbUluZ3JlZGllbnRzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvSW5jaWRlbnRGcm9tRGVmaW5pdGlvbi9pbmNpZGVudEZyb21JbmdyZWRpZW50cy5qcz8yMWFjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBIZWxwZXIgPSByZXF1aXJlKCcuLi9fY29yZVV0aWxzL0hlbHBlcicpO1xuXG52YXIgaGVscGVyID0gbmV3IEhlbHBlcigpO1xuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gaW5ncmVkaWVudHMgLVxuICoge1xuICogICAgICBpZFxuICogICAgICBhdHRyc1xuICogICAgICBwcm9wc1xuICogICAgICBJbmNpZGVudFxuICogICAgICBwbHVnaW5fbnBtX25hbWVcbiAqICAgICAgQ2hhbm5lbFxuICogICAgICBjb250ZXh0IChvcHRpb25hbClcbiAqICAgICAgbWNpZCAob3B0aW9uYWwpXG4gKiAgICAgIGRuYUV4dHJhc1xuICogfVxuICoqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbmdyZWRpZW50cykge1xuICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbmdyZWRpZW50cywgXCJkbmFFeHRyYXNcIikpIHtcbiAgICBpbmdyZWRpZW50cy5kbmFFeHRyYXMgPSB7fTtcbiAgfVxuXG4gIHZhciBpbmNpZGVudCA9IG5ldyBpbmdyZWRpZW50cy5JbmNpZGVudChpbmdyZWRpZW50cy5hdHRycywgX29iamVjdFNwcmVhZCh7fSwgaW5ncmVkaWVudHMucHJvcHMsIHtcbiAgICBpZDogaW5ncmVkaWVudHMuaWQgfHwgaGVscGVyLmdldEFuSWQoKVxuICB9KSwgX29iamVjdFNwcmVhZCh7fSwgaW5ncmVkaWVudHMuZG5hRXh0cmFzLCB7XG4gICAgY29udGV4dDogaW5ncmVkaWVudHMuY29udGV4dCxcbiAgICBtY2lkOiBpbmdyZWRpZW50cy5tY2lkXG4gIH0pKTtcbiAgaW5jaWRlbnQubWNfcGx1Z2luX25wbV9uYW1lID0gaW5ncmVkaWVudHMucGx1Z2luX25wbV9uYW1lO1xuICBpbmNpZGVudC5wbHVnaW5fY2hhbm5lbF9jbGFzcyA9IGluZ3JlZGllbnRzLkNoYW5uZWw7XG4gIGluY2lkZW50LkRlc2NyaXB0aXZlSW5jaWRlbnQgPSBpbmdyZWRpZW50cy5EZXNjcmlwdGl2ZUluY2lkZW50O1xuICByZXR1cm4gaW5jaWRlbnQ7XG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/IncidentFromDefinition/incidentFromIngredients.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Splitters/AnimatedAttributeSplitter.js":
/*!*********************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Splitters/AnimatedAttributeSplitter.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Group = __webpack_require__(/*! ../BaseClasses/Group */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/Group.js\");\n\nvar ContextAwareIncident = __webpack_require__(/*! ./ContextAwareIncident */ \"../node_modules/@kissmybutton/motorcortex/dist/Splitters/ContextAwareIncident.js\");\n\nvar AttributesAwareIncident =\n/*#__PURE__*/\nfunction (_Group) {\n  _inherits(AttributesAwareIncident, _Group);\n\n  function AttributesAwareIncident(descriptiveIncident, contextData, mcid, selector) {\n    var _this;\n\n    _classCallCheck(this, AttributesAwareIncident);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AttributesAwareIncident).call(this, {}, {\n      id: \"\".concat(descriptiveIncident.id, \"_\").concat(mcid)\n    }));\n    _this.mcid = mcid;\n    _this.selector = selector;\n\n    _this.setUp(descriptiveIncident, contextData);\n\n    return _this;\n  }\n\n  _createClass(AttributesAwareIncident, [{\n    key: \"setUp\",\n    value: function setUp(descriptiveIncident, contextData) {\n      for (var attr in descriptiveIncident.attrs.animatedAttrs) {\n        var singleAnimatedAttrs = {};\n        singleAnimatedAttrs[attr] = descriptiveIncident.attrs.animatedAttrs[attr];\n\n        var attrsToPass = _objectSpread({}, descriptiveIncident.attrs, {\n          animatedAttrs: singleAnimatedAttrs\n        });\n\n        var propsToPass = _objectSpread({}, descriptiveIncident.props, {\n          selector: this.selector\n        });\n\n        var constructionIngredients = {\n          incidentId: descriptiveIncident.id,\n          attrs: attrsToPass,\n          props: propsToPass,\n          Incident: descriptiveIncident.constructor.Incident,\n          plugin_npm_name: descriptiveIncident.constructor.plugin_npm_name,\n          Channel: descriptiveIncident.constructor.Channel,\n          DescriptiveIncident: descriptiveIncident\n        };\n        var contextAwareIncident = new ContextAwareIncident(constructionIngredients, contextData, this.mcid, attr);\n        this.addChild(contextAwareIncident, 0);\n      }\n    }\n  }]);\n\n  return AttributesAwareIncident;\n}(Group);\n\nmodule.exports = AttributesAwareIncident;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9TcGxpdHRlcnMvQW5pbWF0ZWRBdHRyaWJ1dGVTcGxpdHRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L1NwbGl0dGVycy9BbmltYXRlZEF0dHJpYnV0ZVNwbGl0dGVyLmpzPzVmNDIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbnZhciBHcm91cCA9IHJlcXVpcmUoJy4uL0Jhc2VDbGFzc2VzL0dyb3VwJyk7XG5cbnZhciBDb250ZXh0QXdhcmVJbmNpZGVudCA9IHJlcXVpcmUoJy4vQ29udGV4dEF3YXJlSW5jaWRlbnQnKTtcblxudmFyIEF0dHJpYnV0ZXNBd2FyZUluY2lkZW50ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfR3JvdXApIHtcbiAgX2luaGVyaXRzKEF0dHJpYnV0ZXNBd2FyZUluY2lkZW50LCBfR3JvdXApO1xuXG4gIGZ1bmN0aW9uIEF0dHJpYnV0ZXNBd2FyZUluY2lkZW50KGRlc2NyaXB0aXZlSW5jaWRlbnQsIGNvbnRleHREYXRhLCBtY2lkLCBzZWxlY3Rvcikge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdHRyaWJ1dGVzQXdhcmVJbmNpZGVudCk7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihBdHRyaWJ1dGVzQXdhcmVJbmNpZGVudCkuY2FsbCh0aGlzLCB7fSwge1xuICAgICAgaWQ6IFwiXCIuY29uY2F0KGRlc2NyaXB0aXZlSW5jaWRlbnQuaWQsIFwiX1wiKS5jb25jYXQobWNpZClcbiAgICB9KSk7XG4gICAgX3RoaXMubWNpZCA9IG1jaWQ7XG4gICAgX3RoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcblxuICAgIF90aGlzLnNldFVwKGRlc2NyaXB0aXZlSW5jaWRlbnQsIGNvbnRleHREYXRhKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBdHRyaWJ1dGVzQXdhcmVJbmNpZGVudCwgW3tcbiAgICBrZXk6IFwic2V0VXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VXAoZGVzY3JpcHRpdmVJbmNpZGVudCwgY29udGV4dERhdGEpIHtcbiAgICAgIGZvciAodmFyIGF0dHIgaW4gZGVzY3JpcHRpdmVJbmNpZGVudC5hdHRycy5hbmltYXRlZEF0dHJzKSB7XG4gICAgICAgIHZhciBzaW5nbGVBbmltYXRlZEF0dHJzID0ge307XG4gICAgICAgIHNpbmdsZUFuaW1hdGVkQXR0cnNbYXR0cl0gPSBkZXNjcmlwdGl2ZUluY2lkZW50LmF0dHJzLmFuaW1hdGVkQXR0cnNbYXR0cl07XG5cbiAgICAgICAgdmFyIGF0dHJzVG9QYXNzID0gX29iamVjdFNwcmVhZCh7fSwgZGVzY3JpcHRpdmVJbmNpZGVudC5hdHRycywge1xuICAgICAgICAgIGFuaW1hdGVkQXR0cnM6IHNpbmdsZUFuaW1hdGVkQXR0cnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHByb3BzVG9QYXNzID0gX29iamVjdFNwcmVhZCh7fSwgZGVzY3JpcHRpdmVJbmNpZGVudC5wcm9wcywge1xuICAgICAgICAgIHNlbGVjdG9yOiB0aGlzLnNlbGVjdG9yXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBjb25zdHJ1Y3Rpb25JbmdyZWRpZW50cyA9IHtcbiAgICAgICAgICBpbmNpZGVudElkOiBkZXNjcmlwdGl2ZUluY2lkZW50LmlkLFxuICAgICAgICAgIGF0dHJzOiBhdHRyc1RvUGFzcyxcbiAgICAgICAgICBwcm9wczogcHJvcHNUb1Bhc3MsXG4gICAgICAgICAgSW5jaWRlbnQ6IGRlc2NyaXB0aXZlSW5jaWRlbnQuY29uc3RydWN0b3IuSW5jaWRlbnQsXG4gICAgICAgICAgcGx1Z2luX25wbV9uYW1lOiBkZXNjcmlwdGl2ZUluY2lkZW50LmNvbnN0cnVjdG9yLnBsdWdpbl9ucG1fbmFtZSxcbiAgICAgICAgICBDaGFubmVsOiBkZXNjcmlwdGl2ZUluY2lkZW50LmNvbnN0cnVjdG9yLkNoYW5uZWwsXG4gICAgICAgICAgRGVzY3JpcHRpdmVJbmNpZGVudDogZGVzY3JpcHRpdmVJbmNpZGVudFxuICAgICAgICB9O1xuICAgICAgICB2YXIgY29udGV4dEF3YXJlSW5jaWRlbnQgPSBuZXcgQ29udGV4dEF3YXJlSW5jaWRlbnQoY29uc3RydWN0aW9uSW5ncmVkaWVudHMsIGNvbnRleHREYXRhLCB0aGlzLm1jaWQsIGF0dHIpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKGNvbnRleHRBd2FyZUluY2lkZW50LCAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQXR0cmlidXRlc0F3YXJlSW5jaWRlbnQ7XG59KEdyb3VwKTtcblxubW9kdWxlLmV4cG9ydHMgPSBBdHRyaWJ1dGVzQXdhcmVJbmNpZGVudDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Splitters/AnimatedAttributeSplitter.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Splitters/ContextAwareClipIncident.js":
/*!********************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Splitters/ContextAwareClipIncident.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar Leaf = __webpack_require__(/*! ../Tree/Leaf */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/Leaf.js\");\n\nvar incidentFromIngredients = __webpack_require__(/*! ../IncidentFromDefinition/incidentFromIngredients */ \"../node_modules/@kissmybutton/motorcortex/dist/IncidentFromDefinition/incidentFromIngredients.js\");\n\nvar ClipCopy = __webpack_require__(/*! ../Clip/ClipCopy */ \"../node_modules/@kissmybutton/motorcortex/dist/Clip/ClipCopy.js\");\n\nvar getIncidentsByChannel = __webpack_require__(/*! ../_decorators/getIncidentsByChannel */ \"../node_modules/@kissmybutton/motorcortex/dist/_decorators/getIncidentsByChannel.js\");\n\nvar _TREECONST = __webpack_require__(/*! ../Tree/_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/_CONST.js\");\n\nvar ContextAwareClipIncident = _decorate(null, function (_initialize, _Leaf) {\n  var ContextAwareClipIncident =\n  /*#__PURE__*/\n  function (_Leaf2) {\n    _inherits(ContextAwareClipIncident, _Leaf2);\n\n    function ContextAwareClipIncident(constructionIngredients, contextData, mcid, descriptiveIncident) {\n      var _this;\n\n      _classCallCheck(this, ContextAwareClipIncident);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(ContextAwareClipIncident).call(this, {\n        id: \"\".concat(constructionIngredients.incidentId, \"_\").concat(mcid)\n      })); // a property to hold all of the contexts\n\n      _initialize(_assertThisInitialized(_this));\n\n      _this.contexts = {};\n      _this.constructionIngredients = constructionIngredients;\n      _this.mcid = mcid;\n      _this._duration = descriptiveIncident.realClip.duration;\n      _this.DescriptiveIncident = descriptiveIncident;\n      _this.mc_plugin_npm_name = constructionIngredients.plugin_npm_name;\n      _this.plugin_channel_class = constructionIngredients.Channel;\n\n      _this.addContext(contextData);\n\n      descriptiveIncident.realClip.subscribeToDurationChange(function (newDuration) {\n        _this._duration = newDuration;\n\n        _this.putMessageOnPipe('recalcDuration', {}, 'Groups', {\n          selfExecute: true,\n          direction: _TREECONST._DIRECTIONS._UP\n        });\n      });\n      return _this;\n    }\n\n    return ContextAwareClipIncident;\n  }(_Leaf);\n\n  return {\n    F: ContextAwareClipIncident,\n    d: [{\n      kind: \"get\",\n      key: \"originalContext\",\n      value: function originalContext() {\n        return this.contexts[this.originalContextKey];\n      }\n    }, {\n      kind: \"get\",\n      key: \"duration\",\n      value: function duration() {\n        return this._duration;\n      }\n    }, {\n      kind: \"method\",\n      key: \"onProgress\",\n      value: function onProgress(fraction, milliseconds, contextId) {\n        var forceReset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        this.contexts[contextId].onProgress(fraction, milliseconds, forceReset);\n      }\n    }, {\n      kind: \"method\",\n      key: \"addContext\",\n      value: function addContext(contextData) {\n        var forceGetContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        // if it's the first context to be added then it's the original\n        if (Object.keys(this.contexts).length === 0) {\n          this.originalContextKey = contextData.clipId;\n        } // instantiates the Clip so it renders\n\n\n        var ingredientsToPass = _objectSpread({}, this.constructionIngredients, {\n          context: contextData.context,\n          mcid: this.mcid,\n          Incident: ClipCopy,\n          DescriptiveIncident: this.DescriptiveIncident\n        }); // and puts it on the corresponding context key\n\n\n        this.contexts[contextData.clipId] = incidentFromIngredients(ingredientsToPass);\n\n        if (forceGetContext === true) {\n          this.contexts[contextData.clipId]._onGetContextOnce();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"handleAddContext\",\n      value: function handleAddContext(target, payload) {\n        this.addContext(payload, true);\n        return true;\n      }\n    }, {\n      kind: \"method\",\n      decorators: [getIncidentsByChannel],\n      key: \"getIncidentsByChannel\",\n      value: function getIncidentsByChannel() {} // massive editing methods that apply the request massively to all of the\n      // Incidents of all of the contexts\n\n    }, {\n      kind: \"method\",\n      key: \"gotContext\",\n      value: function gotContext() {\n        for (var context in this.contexts) {\n          this.contexts[context].gotContext();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_onGetContextOnce\",\n      value: function _onGetContextOnce() {\n        for (var context in this.contexts) {\n          this.contexts[context]._onGetContextOnce();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"lastWish\",\n      value: function lastWish() {\n        for (var context in this.contexts) {\n          this.contexts[context].lastWish();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"onGetContext\",\n      value: function onGetContext() {\n        for (var context in this.contexts) {\n          this.contexts[context].onGetContext();\n        }\n      }\n    }]\n  };\n}, Leaf);\n\nmodule.exports = ContextAwareClipIncident;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9TcGxpdHRlcnMvQ29udGV4dEF3YXJlQ2xpcEluY2lkZW50LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvU3BsaXR0ZXJzL0NvbnRleHRBd2FyZUNsaXBJbmNpZGVudC5qcz9iNzBjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2RlY29yYXRlKGRlY29yYXRvcnMsIGZhY3RvcnksIHN1cGVyQ2xhc3MsIG1peGlucykgeyB2YXIgYXBpID0gX2dldERlY29yYXRvcnNBcGkoKTsgaWYgKG1peGlucykgeyBmb3IgKHZhciBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkrKykgeyBhcGkgPSBtaXhpbnNbaV0oYXBpKTsgfSB9IHZhciByID0gZmFjdG9yeShmdW5jdGlvbiBpbml0aWFsaXplKE8pIHsgYXBpLmluaXRpYWxpemVJbnN0YW5jZUVsZW1lbnRzKE8sIGRlY29yYXRlZC5lbGVtZW50cyk7IH0sIHN1cGVyQ2xhc3MpOyB2YXIgZGVjb3JhdGVkID0gYXBpLmRlY29yYXRlQ2xhc3MoX2NvYWxlc2NlQ2xhc3NFbGVtZW50cyhyLmQubWFwKF9jcmVhdGVFbGVtZW50RGVzY3JpcHRvcikpLCBkZWNvcmF0b3JzKTsgYXBpLmluaXRpYWxpemVDbGFzc0VsZW1lbnRzKHIuRiwgZGVjb3JhdGVkLmVsZW1lbnRzKTsgcmV0dXJuIGFwaS5ydW5DbGFzc0ZpbmlzaGVycyhyLkYsIGRlY29yYXRlZC5maW5pc2hlcnMpOyB9XG5cbmZ1bmN0aW9uIF9nZXREZWNvcmF0b3JzQXBpKCkgeyBfZ2V0RGVjb3JhdG9yc0FwaSA9IGZ1bmN0aW9uIF9nZXREZWNvcmF0b3JzQXBpKCkgeyByZXR1cm4gYXBpOyB9OyB2YXIgYXBpID0geyBlbGVtZW50c0RlZmluaXRpb25PcmRlcjogW1tcIm1ldGhvZFwiXSwgW1wiZmllbGRcIl1dLCBpbml0aWFsaXplSW5zdGFuY2VFbGVtZW50czogZnVuY3Rpb24gaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHMoTywgZWxlbWVudHMpIHsgW1wibWV0aG9kXCIsIFwiZmllbGRcIl0uZm9yRWFjaChmdW5jdGlvbiAoa2luZCkgeyBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IGlmIChlbGVtZW50LmtpbmQgPT09IGtpbmQgJiYgZWxlbWVudC5wbGFjZW1lbnQgPT09IFwib3duXCIpIHsgdGhpcy5kZWZpbmVDbGFzc0VsZW1lbnQoTywgZWxlbWVudCk7IH0gfSwgdGhpcyk7IH0sIHRoaXMpOyB9LCBpbml0aWFsaXplQ2xhc3NFbGVtZW50czogZnVuY3Rpb24gaW5pdGlhbGl6ZUNsYXNzRWxlbWVudHMoRiwgZWxlbWVudHMpIHsgdmFyIHByb3RvID0gRi5wcm90b3R5cGU7IFtcIm1ldGhvZFwiLCBcImZpZWxkXCJdLmZvckVhY2goZnVuY3Rpb24gKGtpbmQpIHsgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgeyB2YXIgcGxhY2VtZW50ID0gZWxlbWVudC5wbGFjZW1lbnQ7IGlmIChlbGVtZW50LmtpbmQgPT09IGtpbmQgJiYgKHBsYWNlbWVudCA9PT0gXCJzdGF0aWNcIiB8fCBwbGFjZW1lbnQgPT09IFwicHJvdG90eXBlXCIpKSB7IHZhciByZWNlaXZlciA9IHBsYWNlbWVudCA9PT0gXCJzdGF0aWNcIiA/IEYgOiBwcm90bzsgdGhpcy5kZWZpbmVDbGFzc0VsZW1lbnQocmVjZWl2ZXIsIGVsZW1lbnQpOyB9IH0sIHRoaXMpOyB9LCB0aGlzKTsgfSwgZGVmaW5lQ2xhc3NFbGVtZW50OiBmdW5jdGlvbiBkZWZpbmVDbGFzc0VsZW1lbnQocmVjZWl2ZXIsIGVsZW1lbnQpIHsgdmFyIGRlc2NyaXB0b3IgPSBlbGVtZW50LmRlc2NyaXB0b3I7IGlmIChlbGVtZW50LmtpbmQgPT09IFwiZmllbGRcIikgeyB2YXIgaW5pdGlhbGl6ZXIgPSBlbGVtZW50LmluaXRpYWxpemVyOyBkZXNjcmlwdG9yID0geyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB2YWx1ZTogaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRpYWxpemVyLmNhbGwocmVjZWl2ZXIpIH07IH0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlY2VpdmVyLCBlbGVtZW50LmtleSwgZGVzY3JpcHRvcik7IH0sIGRlY29yYXRlQ2xhc3M6IGZ1bmN0aW9uIGRlY29yYXRlQ2xhc3MoZWxlbWVudHMsIGRlY29yYXRvcnMpIHsgdmFyIG5ld0VsZW1lbnRzID0gW107IHZhciBmaW5pc2hlcnMgPSBbXTsgdmFyIHBsYWNlbWVudHMgPSB7IFwic3RhdGljXCI6IFtdLCBwcm90b3R5cGU6IFtdLCBvd246IFtdIH07IGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpOyB9LCB0aGlzKTsgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgeyBpZiAoIV9oYXNEZWNvcmF0b3JzKGVsZW1lbnQpKSByZXR1cm4gbmV3RWxlbWVudHMucHVzaChlbGVtZW50KTsgdmFyIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMgPSB0aGlzLmRlY29yYXRlRWxlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzKTsgbmV3RWxlbWVudHMucHVzaChlbGVtZW50RmluaXNoZXJzRXh0cmFzLmVsZW1lbnQpOyBuZXdFbGVtZW50cy5wdXNoLmFwcGx5KG5ld0VsZW1lbnRzLCBlbGVtZW50RmluaXNoZXJzRXh0cmFzLmV4dHJhcyk7IGZpbmlzaGVycy5wdXNoLmFwcGx5KGZpbmlzaGVycywgZWxlbWVudEZpbmlzaGVyc0V4dHJhcy5maW5pc2hlcnMpOyB9LCB0aGlzKTsgaWYgKCFkZWNvcmF0b3JzKSB7IHJldHVybiB7IGVsZW1lbnRzOiBuZXdFbGVtZW50cywgZmluaXNoZXJzOiBmaW5pc2hlcnMgfTsgfSB2YXIgcmVzdWx0ID0gdGhpcy5kZWNvcmF0ZUNvbnN0cnVjdG9yKG5ld0VsZW1lbnRzLCBkZWNvcmF0b3JzKTsgZmluaXNoZXJzLnB1c2guYXBwbHkoZmluaXNoZXJzLCByZXN1bHQuZmluaXNoZXJzKTsgcmVzdWx0LmZpbmlzaGVycyA9IGZpbmlzaGVyczsgcmV0dXJuIHJlc3VsdDsgfSwgYWRkRWxlbWVudFBsYWNlbWVudDogZnVuY3Rpb24gYWRkRWxlbWVudFBsYWNlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzLCBzaWxlbnQpIHsgdmFyIGtleXMgPSBwbGFjZW1lbnRzW2VsZW1lbnQucGxhY2VtZW50XTsgaWYgKCFzaWxlbnQgJiYga2V5cy5pbmRleE9mKGVsZW1lbnQua2V5KSAhPT0gLTEpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkR1cGxpY2F0ZWQgZWxlbWVudCAoXCIgKyBlbGVtZW50LmtleSArIFwiKVwiKTsgfSBrZXlzLnB1c2goZWxlbWVudC5rZXkpOyB9LCBkZWNvcmF0ZUVsZW1lbnQ6IGZ1bmN0aW9uIGRlY29yYXRlRWxlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzKSB7IHZhciBleHRyYXMgPSBbXTsgdmFyIGZpbmlzaGVycyA9IFtdOyBmb3IgKHZhciBkZWNvcmF0b3JzID0gZWxlbWVudC5kZWNvcmF0b3JzLCBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgeyB2YXIga2V5cyA9IHBsYWNlbWVudHNbZWxlbWVudC5wbGFjZW1lbnRdOyBrZXlzLnNwbGljZShrZXlzLmluZGV4T2YoZWxlbWVudC5rZXkpLCAxKTsgdmFyIGVsZW1lbnRPYmplY3QgPSB0aGlzLmZyb21FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50KTsgdmFyIGVsZW1lbnRGaW5pc2hlckV4dHJhcyA9IHRoaXMudG9FbGVtZW50RmluaXNoZXJFeHRyYXMoKDAsIGRlY29yYXRvcnNbaV0pKGVsZW1lbnRPYmplY3QpIHx8IGVsZW1lbnRPYmplY3QpOyBlbGVtZW50ID0gZWxlbWVudEZpbmlzaGVyRXh0cmFzLmVsZW1lbnQ7IHRoaXMuYWRkRWxlbWVudFBsYWNlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzKTsgaWYgKGVsZW1lbnRGaW5pc2hlckV4dHJhcy5maW5pc2hlcikgeyBmaW5pc2hlcnMucHVzaChlbGVtZW50RmluaXNoZXJFeHRyYXMuZmluaXNoZXIpOyB9IHZhciBuZXdFeHRyYXMgPSBlbGVtZW50RmluaXNoZXJFeHRyYXMuZXh0cmFzOyBpZiAobmV3RXh0cmFzKSB7IGZvciAodmFyIGogPSAwOyBqIDwgbmV3RXh0cmFzLmxlbmd0aDsgaisrKSB7IHRoaXMuYWRkRWxlbWVudFBsYWNlbWVudChuZXdFeHRyYXNbal0sIHBsYWNlbWVudHMpOyB9IGV4dHJhcy5wdXNoLmFwcGx5KGV4dHJhcywgbmV3RXh0cmFzKTsgfSB9IHJldHVybiB7IGVsZW1lbnQ6IGVsZW1lbnQsIGZpbmlzaGVyczogZmluaXNoZXJzLCBleHRyYXM6IGV4dHJhcyB9OyB9LCBkZWNvcmF0ZUNvbnN0cnVjdG9yOiBmdW5jdGlvbiBkZWNvcmF0ZUNvbnN0cnVjdG9yKGVsZW1lbnRzLCBkZWNvcmF0b3JzKSB7IHZhciBmaW5pc2hlcnMgPSBbXTsgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsgdmFyIG9iaiA9IHRoaXMuZnJvbUNsYXNzRGVzY3JpcHRvcihlbGVtZW50cyk7IHZhciBlbGVtZW50c0FuZEZpbmlzaGVyID0gdGhpcy50b0NsYXNzRGVzY3JpcHRvcigoMCwgZGVjb3JhdG9yc1tpXSkob2JqKSB8fCBvYmopOyBpZiAoZWxlbWVudHNBbmRGaW5pc2hlci5maW5pc2hlciAhPT0gdW5kZWZpbmVkKSB7IGZpbmlzaGVycy5wdXNoKGVsZW1lbnRzQW5kRmluaXNoZXIuZmluaXNoZXIpOyB9IGlmIChlbGVtZW50c0FuZEZpbmlzaGVyLmVsZW1lbnRzICE9PSB1bmRlZmluZWQpIHsgZWxlbWVudHMgPSBlbGVtZW50c0FuZEZpbmlzaGVyLmVsZW1lbnRzOyBmb3IgKHZhciBqID0gMDsgaiA8IGVsZW1lbnRzLmxlbmd0aCAtIDE7IGorKykgeyBmb3IgKHZhciBrID0gaiArIDE7IGsgPCBlbGVtZW50cy5sZW5ndGg7IGsrKykgeyBpZiAoZWxlbWVudHNbal0ua2V5ID09PSBlbGVtZW50c1trXS5rZXkgJiYgZWxlbWVudHNbal0ucGxhY2VtZW50ID09PSBlbGVtZW50c1trXS5wbGFjZW1lbnQpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkR1cGxpY2F0ZWQgZWxlbWVudCAoXCIgKyBlbGVtZW50c1tqXS5rZXkgKyBcIilcIik7IH0gfSB9IH0gfSByZXR1cm4geyBlbGVtZW50czogZWxlbWVudHMsIGZpbmlzaGVyczogZmluaXNoZXJzIH07IH0sIGZyb21FbGVtZW50RGVzY3JpcHRvcjogZnVuY3Rpb24gZnJvbUVsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnQpIHsgdmFyIG9iaiA9IHsga2luZDogZWxlbWVudC5raW5kLCBrZXk6IGVsZW1lbnQua2V5LCBwbGFjZW1lbnQ6IGVsZW1lbnQucGxhY2VtZW50LCBkZXNjcmlwdG9yOiBlbGVtZW50LmRlc2NyaXB0b3IgfTsgdmFyIGRlc2MgPSB7IHZhbHVlOiBcIkRlc2NyaXB0b3JcIiwgY29uZmlndXJhYmxlOiB0cnVlIH07IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIFN5bWJvbC50b1N0cmluZ1RhZywgZGVzYyk7IGlmIChlbGVtZW50LmtpbmQgPT09IFwiZmllbGRcIikgb2JqLmluaXRpYWxpemVyID0gZWxlbWVudC5pbml0aWFsaXplcjsgcmV0dXJuIG9iajsgfSwgdG9FbGVtZW50RGVzY3JpcHRvcnM6IGZ1bmN0aW9uIHRvRWxlbWVudERlc2NyaXB0b3JzKGVsZW1lbnRPYmplY3RzKSB7IGlmIChlbGVtZW50T2JqZWN0cyA9PT0gdW5kZWZpbmVkKSByZXR1cm47IHJldHVybiBfdG9BcnJheShlbGVtZW50T2JqZWN0cykubWFwKGZ1bmN0aW9uIChlbGVtZW50T2JqZWN0KSB7IHZhciBlbGVtZW50ID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnRPYmplY3QpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZWxlbWVudE9iamVjdCwgXCJmaW5pc2hlclwiLCBcIkFuIGVsZW1lbnQgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGVsZW1lbnRPYmplY3QsIFwiZXh0cmFzXCIsIFwiQW4gZWxlbWVudCBkZXNjcmlwdG9yXCIpOyByZXR1cm4gZWxlbWVudDsgfSwgdGhpcyk7IH0sIHRvRWxlbWVudERlc2NyaXB0b3I6IGZ1bmN0aW9uIHRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCkgeyB2YXIga2luZCA9IFN0cmluZyhlbGVtZW50T2JqZWN0LmtpbmQpOyBpZiAoa2luZCAhPT0gXCJtZXRob2RcIiAmJiBraW5kICE9PSBcImZpZWxkXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQW4gZWxlbWVudCBkZXNjcmlwdG9yXFwncyAua2luZCBwcm9wZXJ0eSBtdXN0IGJlIGVpdGhlciBcIm1ldGhvZFwiIG9yJyArICcgXCJmaWVsZFwiLCBidXQgYSBkZWNvcmF0b3IgY3JlYXRlZCBhbiBlbGVtZW50IGRlc2NyaXB0b3Igd2l0aCcgKyAnIC5raW5kIFwiJyArIGtpbmQgKyAnXCInKTsgfSB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZWxlbWVudE9iamVjdC5rZXkpOyB2YXIgcGxhY2VtZW50ID0gU3RyaW5nKGVsZW1lbnRPYmplY3QucGxhY2VtZW50KTsgaWYgKHBsYWNlbWVudCAhPT0gXCJzdGF0aWNcIiAmJiBwbGFjZW1lbnQgIT09IFwicHJvdG90eXBlXCIgJiYgcGxhY2VtZW50ICE9PSBcIm93blwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0FuIGVsZW1lbnQgZGVzY3JpcHRvclxcJ3MgLnBsYWNlbWVudCBwcm9wZXJ0eSBtdXN0IGJlIG9uZSBvZiBcInN0YXRpY1wiLCcgKyAnIFwicHJvdG90eXBlXCIgb3IgXCJvd25cIiwgYnV0IGEgZGVjb3JhdG9yIGNyZWF0ZWQgYW4gZWxlbWVudCBkZXNjcmlwdG9yJyArICcgd2l0aCAucGxhY2VtZW50IFwiJyArIHBsYWNlbWVudCArICdcIicpOyB9IHZhciBkZXNjcmlwdG9yID0gZWxlbWVudE9iamVjdC5kZXNjcmlwdG9yOyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZWxlbWVudE9iamVjdCwgXCJlbGVtZW50c1wiLCBcIkFuIGVsZW1lbnQgZGVzY3JpcHRvclwiKTsgdmFyIGVsZW1lbnQgPSB7IGtpbmQ6IGtpbmQsIGtleToga2V5LCBwbGFjZW1lbnQ6IHBsYWNlbWVudCwgZGVzY3JpcHRvcjogT2JqZWN0LmFzc2lnbih7fSwgZGVzY3JpcHRvcikgfTsgaWYgKGtpbmQgIT09IFwiZmllbGRcIikgeyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZWxlbWVudE9iamVjdCwgXCJpbml0aWFsaXplclwiLCBcIkEgbWV0aG9kIGRlc2NyaXB0b3JcIik7IH0gZWxzZSB7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShkZXNjcmlwdG9yLCBcImdldFwiLCBcIlRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGRlc2NyaXB0b3IsIFwic2V0XCIsIFwiVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZGVzY3JpcHRvciwgXCJ2YWx1ZVwiLCBcIlRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvclwiKTsgZWxlbWVudC5pbml0aWFsaXplciA9IGVsZW1lbnRPYmplY3QuaW5pdGlhbGl6ZXI7IH0gcmV0dXJuIGVsZW1lbnQ7IH0sIHRvRWxlbWVudEZpbmlzaGVyRXh0cmFzOiBmdW5jdGlvbiB0b0VsZW1lbnRGaW5pc2hlckV4dHJhcyhlbGVtZW50T2JqZWN0KSB7IHZhciBlbGVtZW50ID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnRPYmplY3QpOyB2YXIgZmluaXNoZXIgPSBfb3B0aW9uYWxDYWxsYWJsZVByb3BlcnR5KGVsZW1lbnRPYmplY3QsIFwiZmluaXNoZXJcIik7IHZhciBleHRyYXMgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3JzKGVsZW1lbnRPYmplY3QuZXh0cmFzKTsgcmV0dXJuIHsgZWxlbWVudDogZWxlbWVudCwgZmluaXNoZXI6IGZpbmlzaGVyLCBleHRyYXM6IGV4dHJhcyB9OyB9LCBmcm9tQ2xhc3NEZXNjcmlwdG9yOiBmdW5jdGlvbiBmcm9tQ2xhc3NEZXNjcmlwdG9yKGVsZW1lbnRzKSB7IHZhciBvYmogPSB7IGtpbmQ6IFwiY2xhc3NcIiwgZWxlbWVudHM6IGVsZW1lbnRzLm1hcCh0aGlzLmZyb21FbGVtZW50RGVzY3JpcHRvciwgdGhpcykgfTsgdmFyIGRlc2MgPSB7IHZhbHVlOiBcIkRlc2NyaXB0b3JcIiwgY29uZmlndXJhYmxlOiB0cnVlIH07IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIFN5bWJvbC50b1N0cmluZ1RhZywgZGVzYyk7IHJldHVybiBvYmo7IH0sIHRvQ2xhc3NEZXNjcmlwdG9yOiBmdW5jdGlvbiB0b0NsYXNzRGVzY3JpcHRvcihvYmopIHsgdmFyIGtpbmQgPSBTdHJpbmcob2JqLmtpbmQpOyBpZiAoa2luZCAhPT0gXCJjbGFzc1wiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0EgY2xhc3MgZGVzY3JpcHRvclxcJ3MgLmtpbmQgcHJvcGVydHkgbXVzdCBiZSBcImNsYXNzXCIsIGJ1dCBhIGRlY29yYXRvcicgKyAnIGNyZWF0ZWQgYSBjbGFzcyBkZXNjcmlwdG9yIHdpdGggLmtpbmQgXCInICsga2luZCArICdcIicpOyB9IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwia2V5XCIsIFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCBcInBsYWNlbWVudFwiLCBcIkEgY2xhc3MgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgXCJkZXNjcmlwdG9yXCIsIFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCBcImluaXRpYWxpemVyXCIsIFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCBcImV4dHJhc1wiLCBcIkEgY2xhc3MgZGVzY3JpcHRvclwiKTsgdmFyIGZpbmlzaGVyID0gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShvYmosIFwiZmluaXNoZXJcIik7IHZhciBlbGVtZW50cyA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcnMob2JqLmVsZW1lbnRzKTsgcmV0dXJuIHsgZWxlbWVudHM6IGVsZW1lbnRzLCBmaW5pc2hlcjogZmluaXNoZXIgfTsgfSwgcnVuQ2xhc3NGaW5pc2hlcnM6IGZ1bmN0aW9uIHJ1bkNsYXNzRmluaXNoZXJzKGNvbnN0cnVjdG9yLCBmaW5pc2hlcnMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBmaW5pc2hlcnMubGVuZ3RoOyBpKyspIHsgdmFyIG5ld0NvbnN0cnVjdG9yID0gKDAsIGZpbmlzaGVyc1tpXSkoY29uc3RydWN0b3IpOyBpZiAobmV3Q29uc3RydWN0b3IgIT09IHVuZGVmaW5lZCkgeyBpZiAodHlwZW9mIG5ld0NvbnN0cnVjdG9yICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZpbmlzaGVycyBtdXN0IHJldHVybiBhIGNvbnN0cnVjdG9yLlwiKTsgfSBjb25zdHJ1Y3RvciA9IG5ld0NvbnN0cnVjdG9yOyB9IH0gcmV0dXJuIGNvbnN0cnVjdG9yOyB9LCBkaXNhbGxvd1Byb3BlcnR5OiBmdW5jdGlvbiBkaXNhbGxvd1Byb3BlcnR5KG9iaiwgbmFtZSwgb2JqZWN0VHlwZSkgeyBpZiAob2JqW25hbWVdICE9PSB1bmRlZmluZWQpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihvYmplY3RUeXBlICsgXCIgY2FuJ3QgaGF2ZSBhIC5cIiArIG5hbWUgKyBcIiBwcm9wZXJ0eS5cIik7IH0gfSB9OyByZXR1cm4gYXBpOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVFbGVtZW50RGVzY3JpcHRvcihkZWYpIHsgdmFyIGtleSA9IF90b1Byb3BlcnR5S2V5KGRlZi5rZXkpOyB2YXIgZGVzY3JpcHRvcjsgaWYgKGRlZi5raW5kID09PSBcIm1ldGhvZFwiKSB7IGRlc2NyaXB0b3IgPSB7IHZhbHVlOiBkZWYudmFsdWUsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlIH07IH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09IFwiZ2V0XCIpIHsgZGVzY3JpcHRvciA9IHsgZ2V0OiBkZWYudmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UgfTsgfSBlbHNlIGlmIChkZWYua2luZCA9PT0gXCJzZXRcIikgeyBkZXNjcmlwdG9yID0geyBzZXQ6IGRlZi52YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSB9OyB9IGVsc2UgaWYgKGRlZi5raW5kID09PSBcImZpZWxkXCIpIHsgZGVzY3JpcHRvciA9IHsgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSB9OyB9IHZhciBlbGVtZW50ID0geyBraW5kOiBkZWYua2luZCA9PT0gXCJmaWVsZFwiID8gXCJmaWVsZFwiIDogXCJtZXRob2RcIiwga2V5OiBrZXksIHBsYWNlbWVudDogZGVmW1wic3RhdGljXCJdID8gXCJzdGF0aWNcIiA6IGRlZi5raW5kID09PSBcImZpZWxkXCIgPyBcIm93blwiIDogXCJwcm90b3R5cGVcIiwgZGVzY3JpcHRvcjogZGVzY3JpcHRvciB9OyBpZiAoZGVmLmRlY29yYXRvcnMpIGVsZW1lbnQuZGVjb3JhdG9ycyA9IGRlZi5kZWNvcmF0b3JzOyBpZiAoZGVmLmtpbmQgPT09IFwiZmllbGRcIikgZWxlbWVudC5pbml0aWFsaXplciA9IGRlZi52YWx1ZTsgcmV0dXJuIGVsZW1lbnQ7IH1cblxuZnVuY3Rpb24gX2NvYWxlc2NlR2V0dGVyU2V0dGVyKGVsZW1lbnQsIG90aGVyKSB7IGlmIChlbGVtZW50LmRlc2NyaXB0b3IuZ2V0ICE9PSB1bmRlZmluZWQpIHsgb3RoZXIuZGVzY3JpcHRvci5nZXQgPSBlbGVtZW50LmRlc2NyaXB0b3IuZ2V0OyB9IGVsc2UgeyBvdGhlci5kZXNjcmlwdG9yLnNldCA9IGVsZW1lbnQuZGVzY3JpcHRvci5zZXQ7IH0gfVxuXG5mdW5jdGlvbiBfY29hbGVzY2VDbGFzc0VsZW1lbnRzKGVsZW1lbnRzKSB7IHZhciBuZXdFbGVtZW50cyA9IFtdOyB2YXIgaXNTYW1lRWxlbWVudCA9IGZ1bmN0aW9uIGlzU2FtZUVsZW1lbnQob3RoZXIpIHsgcmV0dXJuIG90aGVyLmtpbmQgPT09IFwibWV0aG9kXCIgJiYgb3RoZXIua2V5ID09PSBlbGVtZW50LmtleSAmJiBvdGhlci5wbGFjZW1lbnQgPT09IGVsZW1lbnQucGxhY2VtZW50OyB9OyBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBlbGVtZW50ID0gZWxlbWVudHNbaV07IHZhciBvdGhlcjsgaWYgKGVsZW1lbnQua2luZCA9PT0gXCJtZXRob2RcIiAmJiAob3RoZXIgPSBuZXdFbGVtZW50cy5maW5kKGlzU2FtZUVsZW1lbnQpKSkgeyBpZiAoX2lzRGF0YURlc2NyaXB0b3IoZWxlbWVudC5kZXNjcmlwdG9yKSB8fCBfaXNEYXRhRGVzY3JpcHRvcihvdGhlci5kZXNjcmlwdG9yKSkgeyBpZiAoX2hhc0RlY29yYXRvcnMoZWxlbWVudCkgfHwgX2hhc0RlY29yYXRvcnMob3RoZXIpKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcIkR1cGxpY2F0ZWQgbWV0aG9kcyAoXCIgKyBlbGVtZW50LmtleSArIFwiKSBjYW4ndCBiZSBkZWNvcmF0ZWQuXCIpOyB9IG90aGVyLmRlc2NyaXB0b3IgPSBlbGVtZW50LmRlc2NyaXB0b3I7IH0gZWxzZSB7IGlmIChfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSkgeyBpZiAoX2hhc0RlY29yYXRvcnMob3RoZXIpKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcIkRlY29yYXRvcnMgY2FuJ3QgYmUgcGxhY2VkIG9uIGRpZmZlcmVudCBhY2Nlc3NvcnMgd2l0aCBmb3IgXCIgKyBcInRoZSBzYW1lIHByb3BlcnR5IChcIiArIGVsZW1lbnQua2V5ICsgXCIpLlwiKTsgfSBvdGhlci5kZWNvcmF0b3JzID0gZWxlbWVudC5kZWNvcmF0b3JzOyB9IF9jb2FsZXNjZUdldHRlclNldHRlcihlbGVtZW50LCBvdGhlcik7IH0gfSBlbHNlIHsgbmV3RWxlbWVudHMucHVzaChlbGVtZW50KTsgfSB9IHJldHVybiBuZXdFbGVtZW50czsgfVxuXG5mdW5jdGlvbiBfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB7IHJldHVybiBlbGVtZW50LmRlY29yYXRvcnMgJiYgZWxlbWVudC5kZWNvcmF0b3JzLmxlbmd0aDsgfVxuXG5mdW5jdGlvbiBfaXNEYXRhRGVzY3JpcHRvcihkZXNjKSB7IHJldHVybiBkZXNjICE9PSB1bmRlZmluZWQgJiYgIShkZXNjLnZhbHVlID09PSB1bmRlZmluZWQgJiYgZGVzYy53cml0YWJsZSA9PT0gdW5kZWZpbmVkKTsgfVxuXG5mdW5jdGlvbiBfb3B0aW9uYWxDYWxsYWJsZVByb3BlcnR5KG9iaiwgbmFtZSkgeyB2YXIgdmFsdWUgPSBvYmpbbmFtZV07IGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCAnXCIgKyBuYW1lICsgXCInIHRvIGJlIGEgZnVuY3Rpb25cIik7IH0gcmV0dXJuIHZhbHVlOyB9XG5cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7IHJldHVybiBfdHlwZW9mKGtleSkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfVxuXG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG5cbmZ1bmN0aW9uIF90b0FycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxudmFyIExlYWYgPSByZXF1aXJlKCcuLi9UcmVlL0xlYWYnKTtcblxudmFyIGluY2lkZW50RnJvbUluZ3JlZGllbnRzID0gcmVxdWlyZSgnLi4vSW5jaWRlbnRGcm9tRGVmaW5pdGlvbi9pbmNpZGVudEZyb21JbmdyZWRpZW50cycpO1xuXG52YXIgQ2xpcENvcHkgPSByZXF1aXJlKCcuLi9DbGlwL0NsaXBDb3B5Jyk7XG5cbnZhciBnZXRJbmNpZGVudHNCeUNoYW5uZWwgPSByZXF1aXJlKCcuLi9fZGVjb3JhdG9ycy9nZXRJbmNpZGVudHNCeUNoYW5uZWwnKTtcblxudmFyIF9UUkVFQ09OU1QgPSByZXF1aXJlKCcuLi9UcmVlL19DT05TVCcpO1xuXG52YXIgQ29udGV4dEF3YXJlQ2xpcEluY2lkZW50ID0gX2RlY29yYXRlKG51bGwsIGZ1bmN0aW9uIChfaW5pdGlhbGl6ZSwgX0xlYWYpIHtcbiAgdmFyIENvbnRleHRBd2FyZUNsaXBJbmNpZGVudCA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9MZWFmMikge1xuICAgIF9pbmhlcml0cyhDb250ZXh0QXdhcmVDbGlwSW5jaWRlbnQsIF9MZWFmMik7XG5cbiAgICBmdW5jdGlvbiBDb250ZXh0QXdhcmVDbGlwSW5jaWRlbnQoY29uc3RydWN0aW9uSW5ncmVkaWVudHMsIGNvbnRleHREYXRhLCBtY2lkLCBkZXNjcmlwdGl2ZUluY2lkZW50KSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb250ZXh0QXdhcmVDbGlwSW5jaWRlbnQpO1xuXG4gICAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihDb250ZXh0QXdhcmVDbGlwSW5jaWRlbnQpLmNhbGwodGhpcywge1xuICAgICAgICBpZDogXCJcIi5jb25jYXQoY29uc3RydWN0aW9uSW5ncmVkaWVudHMuaW5jaWRlbnRJZCwgXCJfXCIpLmNvbmNhdChtY2lkKVxuICAgICAgfSkpOyAvLyBhIHByb3BlcnR5IHRvIGhvbGQgYWxsIG9mIHRoZSBjb250ZXh0c1xuXG4gICAgICBfaW5pdGlhbGl6ZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG5cbiAgICAgIF90aGlzLmNvbnRleHRzID0ge307XG4gICAgICBfdGhpcy5jb25zdHJ1Y3Rpb25JbmdyZWRpZW50cyA9IGNvbnN0cnVjdGlvbkluZ3JlZGllbnRzO1xuICAgICAgX3RoaXMubWNpZCA9IG1jaWQ7XG4gICAgICBfdGhpcy5fZHVyYXRpb24gPSBkZXNjcmlwdGl2ZUluY2lkZW50LnJlYWxDbGlwLmR1cmF0aW9uO1xuICAgICAgX3RoaXMuRGVzY3JpcHRpdmVJbmNpZGVudCA9IGRlc2NyaXB0aXZlSW5jaWRlbnQ7XG4gICAgICBfdGhpcy5tY19wbHVnaW5fbnBtX25hbWUgPSBjb25zdHJ1Y3Rpb25JbmdyZWRpZW50cy5wbHVnaW5fbnBtX25hbWU7XG4gICAgICBfdGhpcy5wbHVnaW5fY2hhbm5lbF9jbGFzcyA9IGNvbnN0cnVjdGlvbkluZ3JlZGllbnRzLkNoYW5uZWw7XG5cbiAgICAgIF90aGlzLmFkZENvbnRleHQoY29udGV4dERhdGEpO1xuXG4gICAgICBkZXNjcmlwdGl2ZUluY2lkZW50LnJlYWxDbGlwLnN1YnNjcmliZVRvRHVyYXRpb25DaGFuZ2UoZnVuY3Rpb24gKG5ld0R1cmF0aW9uKSB7XG4gICAgICAgIF90aGlzLl9kdXJhdGlvbiA9IG5ld0R1cmF0aW9uO1xuXG4gICAgICAgIF90aGlzLnB1dE1lc3NhZ2VPblBpcGUoJ3JlY2FsY0R1cmF0aW9uJywge30sICdHcm91cHMnLCB7XG4gICAgICAgICAgc2VsZkV4ZWN1dGU6IHRydWUsXG4gICAgICAgICAgZGlyZWN0aW9uOiBfVFJFRUNPTlNULl9ESVJFQ1RJT05TLl9VUFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBDb250ZXh0QXdhcmVDbGlwSW5jaWRlbnQ7XG4gIH0oX0xlYWYpO1xuXG4gIHJldHVybiB7XG4gICAgRjogQ29udGV4dEF3YXJlQ2xpcEluY2lkZW50LFxuICAgIGQ6IFt7XG4gICAgICBraW5kOiBcImdldFwiLFxuICAgICAga2V5OiBcIm9yaWdpbmFsQ29udGV4dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9yaWdpbmFsQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dHNbdGhpcy5vcmlnaW5hbENvbnRleHRLZXldO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwiZ2V0XCIsXG4gICAgICBrZXk6IFwiZHVyYXRpb25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkdXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2R1cmF0aW9uO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwib25Qcm9ncmVzc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uUHJvZ3Jlc3MoZnJhY3Rpb24sIG1pbGxpc2Vjb25kcywgY29udGV4dElkKSB7XG4gICAgICAgIHZhciBmb3JjZVJlc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcbiAgICAgICAgdGhpcy5jb250ZXh0c1tjb250ZXh0SWRdLm9uUHJvZ3Jlc3MoZnJhY3Rpb24sIG1pbGxpc2Vjb25kcywgZm9yY2VSZXNldCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJhZGRDb250ZXh0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ29udGV4dChjb250ZXh0RGF0YSkge1xuICAgICAgICB2YXIgZm9yY2VHZXRDb250ZXh0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICAgICAgICAvLyBpZiBpdCdzIHRoZSBmaXJzdCBjb250ZXh0IHRvIGJlIGFkZGVkIHRoZW4gaXQncyB0aGUgb3JpZ2luYWxcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuY29udGV4dHMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMub3JpZ2luYWxDb250ZXh0S2V5ID0gY29udGV4dERhdGEuY2xpcElkO1xuICAgICAgICB9IC8vIGluc3RhbnRpYXRlcyB0aGUgQ2xpcCBzbyBpdCByZW5kZXJzXG5cblxuICAgICAgICB2YXIgaW5ncmVkaWVudHNUb1Bhc3MgPSBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmNvbnN0cnVjdGlvbkluZ3JlZGllbnRzLCB7XG4gICAgICAgICAgY29udGV4dDogY29udGV4dERhdGEuY29udGV4dCxcbiAgICAgICAgICBtY2lkOiB0aGlzLm1jaWQsXG4gICAgICAgICAgSW5jaWRlbnQ6IENsaXBDb3B5LFxuICAgICAgICAgIERlc2NyaXB0aXZlSW5jaWRlbnQ6IHRoaXMuRGVzY3JpcHRpdmVJbmNpZGVudFxuICAgICAgICB9KTsgLy8gYW5kIHB1dHMgaXQgb24gdGhlIGNvcnJlc3BvbmRpbmcgY29udGV4dCBrZXlcblxuXG4gICAgICAgIHRoaXMuY29udGV4dHNbY29udGV4dERhdGEuY2xpcElkXSA9IGluY2lkZW50RnJvbUluZ3JlZGllbnRzKGluZ3JlZGllbnRzVG9QYXNzKTtcblxuICAgICAgICBpZiAoZm9yY2VHZXRDb250ZXh0ID09PSB0cnVlKSB7XG4gICAgICAgICAgdGhpcy5jb250ZXh0c1tjb250ZXh0RGF0YS5jbGlwSWRdLl9vbkdldENvbnRleHRPbmNlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImhhbmRsZUFkZENvbnRleHRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVBZGRDb250ZXh0KHRhcmdldCwgcGF5bG9hZCkge1xuICAgICAgICB0aGlzLmFkZENvbnRleHQocGF5bG9hZCwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBkZWNvcmF0b3JzOiBbZ2V0SW5jaWRlbnRzQnlDaGFubmVsXSxcbiAgICAgIGtleTogXCJnZXRJbmNpZGVudHNCeUNoYW5uZWxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbmNpZGVudHNCeUNoYW5uZWwoKSB7fSAvLyBtYXNzaXZlIGVkaXRpbmcgbWV0aG9kcyB0aGF0IGFwcGx5IHRoZSByZXF1ZXN0IG1hc3NpdmVseSB0byBhbGwgb2YgdGhlXG4gICAgICAvLyBJbmNpZGVudHMgb2YgYWxsIG9mIHRoZSBjb250ZXh0c1xuXG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJnb3RDb250ZXh0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ290Q29udGV4dCgpIHtcbiAgICAgICAgZm9yICh2YXIgY29udGV4dCBpbiB0aGlzLmNvbnRleHRzKSB7XG4gICAgICAgICAgdGhpcy5jb250ZXh0c1tjb250ZXh0XS5nb3RDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcIl9vbkdldENvbnRleHRPbmNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX29uR2V0Q29udGV4dE9uY2UoKSB7XG4gICAgICAgIGZvciAodmFyIGNvbnRleHQgaW4gdGhpcy5jb250ZXh0cykge1xuICAgICAgICAgIHRoaXMuY29udGV4dHNbY29udGV4dF0uX29uR2V0Q29udGV4dE9uY2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwibGFzdFdpc2hcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBsYXN0V2lzaCgpIHtcbiAgICAgICAgZm9yICh2YXIgY29udGV4dCBpbiB0aGlzLmNvbnRleHRzKSB7XG4gICAgICAgICAgdGhpcy5jb250ZXh0c1tjb250ZXh0XS5sYXN0V2lzaCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJvbkdldENvbnRleHRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkdldENvbnRleHQoKSB7XG4gICAgICAgIGZvciAodmFyIGNvbnRleHQgaW4gdGhpcy5jb250ZXh0cykge1xuICAgICAgICAgIHRoaXMuY29udGV4dHNbY29udGV4dF0ub25HZXRDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XVxuICB9O1xufSwgTGVhZik7XG5cbm1vZHVsZS5leHBvcnRzID0gQ29udGV4dEF3YXJlQ2xpcEluY2lkZW50OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Splitters/ContextAwareClipIncident.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Splitters/ContextAwareIncident.js":
/*!****************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Splitters/ContextAwareIncident.js ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Leaf = __webpack_require__(/*! ../Tree/Leaf */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/Leaf.js\");\n\nvar incidentFromIngredients = __webpack_require__(/*! ../IncidentFromDefinition/incidentFromIngredients */ \"../node_modules/@kissmybutton/motorcortex/dist/IncidentFromDefinition/incidentFromIngredients.js\");\n\nvar getIncidentsByChannel = __webpack_require__(/*! ../_decorators/getIncidentsByChannel */ \"../node_modules/@kissmybutton/motorcortex/dist/_decorators/getIncidentsByChannel.js\");\n\nvar _CONST = __webpack_require__(/*! ../_configuration/_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/_configuration/_CONST.js\");\n\nvar Value =\n/*#__PURE__*/\nfunction () {\n  function Value() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Value);\n\n    this[\"final\"] = props[\"final\"] || false;\n    this.value = props.value || '';\n\n    this.sub = props.sub || function () {};\n  }\n\n  _createClass(Value, [{\n    key: \"finalise\",\n    value: function finalise(value) {\n      this[\"final\"] = true;\n      this.value = value;\n      this.sub(value);\n    }\n  }]);\n\n  return Value;\n}();\n\nvar ContextAwareIncident = _decorate(null, function (_initialize, _Leaf) {\n  var ContextAwareIncident =\n  /*#__PURE__*/\n  function (_Leaf2) {\n    _inherits(ContextAwareIncident, _Leaf2);\n\n    function ContextAwareIncident(constructionIngredients, contextData, mcid, attribute) {\n      var _this;\n\n      _classCallCheck(this, ContextAwareIncident);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(ContextAwareIncident).call(this, {\n        id: attribute !== null ? \"\".concat(constructionIngredients.incidentId, \"_\").concat(mcid, \"_\").concat(attribute) : \"\".concat(constructionIngredients.incidentId, \"_\").concat(mcid)\n      })); // a property to hold all of the contexts\n\n      _initialize(_assertThisInitialized(_this));\n\n      _this.contexts = {};\n      _this.constructionIngredients = constructionIngredients;\n      _this.mcid = mcid;\n      _this.attribute = attribute;\n      _this._duration = constructionIngredients.props.duration;\n      _this.mc_plugin_npm_name = constructionIngredients.plugin_npm_name;\n      _this.plugin_channel_class = constructionIngredients.Channel;\n      _this.DescriptiveIncident = constructionIngredients.DescriptiveIncident;\n\n      _this.addContext(contextData);\n\n      if (attribute !== null) {\n        if (_typeof(_this.constructionIngredients.attrs.animatedAttrs[_this.attribute]) === 'object') {\n          _this.originalAnimatedAttributeValue = Object.assign({}, _this.constructionIngredients.attrs.animatedAttrs[_this.attribute]);\n        } else {\n          _this.originalAnimatedAttributeValue = _this.constructionIngredients.attrs.animatedAttrs[_this.attribute];\n        }\n      }\n\n      if (Object.prototype.hasOwnProperty.call(_this.constructionIngredients.attrs, 'animatedAttrs')) {\n        _this.finalValue = new Value({\n          \"final\": true,\n          value: _this.constructionIngredients.attrs.animatedAttrs[_this.attribute]\n        });\n      }\n\n      return _this;\n    }\n\n    return ContextAwareIncident;\n  }(_Leaf);\n\n  return {\n    F: ContextAwareIncident,\n    d: [{\n      kind: \"get\",\n      key: \"originalContext\",\n      value: function originalContext() {\n        return this.contexts[this.originalContextKey];\n      }\n    }, {\n      kind: \"get\",\n      key: \"duration\",\n      value: function duration() {\n        return this._duration;\n      }\n    }, {\n      kind: \"set\",\n      key: \"duration\",\n      value: function duration(milliseconds) {\n        this._duration = milliseconds;\n\n        for (var context in this.contexts) {\n          this.contexts[context].duration = milliseconds;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"addContext\",\n      value: function addContext(contextData) {\n        var forceGetContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        // if it's the first context to be added then it's the original\n        var isTheOriginalContext = false;\n\n        if (Object.keys(this.contexts).length === 0) {\n          this.originalContextKey = contextData.clipId;\n          this.originalClipContext = contextData.context;\n          isTheOriginalContext = true;\n        }\n\n        var ingredientsToPass = _objectSpread({}, this.constructionIngredients, {\n          context: contextData.context,\n          mcid: this.mcid\n        });\n\n        var whatToAdd = incidentFromIngredients(ingredientsToPass);\n        this.contexts[contextData.clipId] = whatToAdd; // when we add a new context we must set the inital value of the newly added Incidents\n\n        if (!isTheOriginalContext) {\n          if (this.initialValue[\"final\"] === false) {\n            var scratchValue = this.contexts[contextData.clipId].getScratchValue();\n            this.initialValue.sub(scratchValue);\n            this.setInitialValue(new Value({\n              \"final\": true,\n              value: scratchValue\n            }));\n          } else {\n            this.contexts[contextData.clipId].setInitialValue(this.initialValue.value);\n          }\n        }\n\n        if (forceGetContext === true) {\n          this.contexts[contextData.clipId]._onGetContextOnce();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"handleAddContext\",\n      value: function handleAddContext(target, payload) {\n        this.addContext(payload, true);\n        return true;\n      }\n    }, {\n      kind: \"method\",\n      decorators: [getIncidentsByChannel],\n      key: \"getIncidentsByChannel\",\n      value: function getIncidentsByChannel() {}\n    }, {\n      kind: \"method\",\n      key: \"onProgress\",\n      value: function onProgress(fraction, milliseconds, contextId) {\n        if (contextId === undefined) {\n          for (var context in this.contexts) {\n            this.contexts[context].onProgress(fraction, milliseconds);\n          }\n\n          return;\n        }\n\n        try {\n          this.contexts[contextId].onProgress(fraction, milliseconds);\n        } catch (e) {\n          console.log('--------- ERROR -----------');\n          console.log(e);\n        }\n      }\n      /** METHODS THAT ACT AS \"PROXY\" TO ALL OF THE INCIDENTS BELONGING TO\n       * THE INCIDENTS COLLECTION OF THE CONTEXT AWARE INCIDENT\n       **/\n\n    }, {\n      kind: \"get\",\n      key: \"animatedAttributeValue\",\n      value: function animatedAttributeValue() {\n        return this.finalValue;\n      }\n    }, {\n      kind: \"method\",\n      key: \"calcInitialValue\",\n      value: function calcInitialValue(sub) {\n        if (this.originalClipContext.isHostedClip === false) {\n          return new Value({\n            \"final\": false,\n            value: this.originalContext.getScratchValue(),\n            sub: sub\n          });\n        } else {\n          var sv = this.originalContext.getScratchValue();\n          var newValue = new Value({\n            \"final\": true,\n            value: sv\n          });\n          sub(newValue);\n          return newValue;\n        }\n      } // massive editing methods that apply the request massively to all of the\n      // Incidents of all of the contexts\n\n    }, {\n      kind: \"method\",\n      key: \"gotContext\",\n      value: function gotContext() {\n        for (var context in this.contexts) {\n          this.contexts[context].gotContext();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_onGetContextOnce\",\n      value: function _onGetContextOnce() {\n        for (var context in this.contexts) {\n          this.contexts[context]._onGetContextOnce();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"lastWish\",\n      value: function lastWish() {\n        for (var context in this.contexts) {\n          this.contexts[context].lastWish();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"onGetContext\",\n      value: function onGetContext() {\n        for (var context in this.contexts) {\n          this.contexts[context].onGetContext();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"setInitialValue\",\n      value: function setInitialValue(value) {\n        if (!value.hasOwnProperty('value')) {\n          console.trace();\n        }\n\n        this.initialValue = value;\n\n        for (var context in this.contexts) {\n          this.contexts[context].setInitialValue(value.value);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"setCompoAttrKeyValue\",\n      value: function setCompoAttrKeyValue(key, value) {\n        for (var context in this.contexts) {\n          this.contexts[context].attrs.animatedAttrs[this.attribute][key] = value;\n          this.contexts[context].lastWish();\n          this.contexts[context].onGetContext();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"play\",\n      value: function play(fraction, ms, contextId) {\n        return this.contexts[contextId].play(ms);\n      }\n    }, {\n      kind: \"method\",\n      key: \"stop\",\n      value: function stop(contextId) {\n        this.contexts[contextId].stop();\n      }\n    }]\n  };\n}, Leaf);\n\nmodule.exports = ContextAwareIncident;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9TcGxpdHRlcnMvQ29udGV4dEF3YXJlSW5jaWRlbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9TcGxpdHRlcnMvQ29udGV4dEF3YXJlSW5jaWRlbnQuanM/MTEzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9kZWNvcmF0ZShkZWNvcmF0b3JzLCBmYWN0b3J5LCBzdXBlckNsYXNzLCBtaXhpbnMpIHsgdmFyIGFwaSA9IF9nZXREZWNvcmF0b3JzQXBpKCk7IGlmIChtaXhpbnMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBtaXhpbnMubGVuZ3RoOyBpKyspIHsgYXBpID0gbWl4aW5zW2ldKGFwaSk7IH0gfSB2YXIgciA9IGZhY3RvcnkoZnVuY3Rpb24gaW5pdGlhbGl6ZShPKSB7IGFwaS5pbml0aWFsaXplSW5zdGFuY2VFbGVtZW50cyhPLCBkZWNvcmF0ZWQuZWxlbWVudHMpOyB9LCBzdXBlckNsYXNzKTsgdmFyIGRlY29yYXRlZCA9IGFwaS5kZWNvcmF0ZUNsYXNzKF9jb2FsZXNjZUNsYXNzRWxlbWVudHMoci5kLm1hcChfY3JlYXRlRWxlbWVudERlc2NyaXB0b3IpKSwgZGVjb3JhdG9ycyk7IGFwaS5pbml0aWFsaXplQ2xhc3NFbGVtZW50cyhyLkYsIGRlY29yYXRlZC5lbGVtZW50cyk7IHJldHVybiBhcGkucnVuQ2xhc3NGaW5pc2hlcnMoci5GLCBkZWNvcmF0ZWQuZmluaXNoZXJzKTsgfVxuXG5mdW5jdGlvbiBfZ2V0RGVjb3JhdG9yc0FwaSgpIHsgX2dldERlY29yYXRvcnNBcGkgPSBmdW5jdGlvbiBfZ2V0RGVjb3JhdG9yc0FwaSgpIHsgcmV0dXJuIGFwaTsgfTsgdmFyIGFwaSA9IHsgZWxlbWVudHNEZWZpbml0aW9uT3JkZXI6IFtbXCJtZXRob2RcIl0sIFtcImZpZWxkXCJdXSwgaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHM6IGZ1bmN0aW9uIGluaXRpYWxpemVJbnN0YW5jZUVsZW1lbnRzKE8sIGVsZW1lbnRzKSB7IFtcIm1ldGhvZFwiLCBcImZpZWxkXCJdLmZvckVhY2goZnVuY3Rpb24gKGtpbmQpIHsgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgeyBpZiAoZWxlbWVudC5raW5kID09PSBraW5kICYmIGVsZW1lbnQucGxhY2VtZW50ID09PSBcIm93blwiKSB7IHRoaXMuZGVmaW5lQ2xhc3NFbGVtZW50KE8sIGVsZW1lbnQpOyB9IH0sIHRoaXMpOyB9LCB0aGlzKTsgfSwgaW5pdGlhbGl6ZUNsYXNzRWxlbWVudHM6IGZ1bmN0aW9uIGluaXRpYWxpemVDbGFzc0VsZW1lbnRzKEYsIGVsZW1lbnRzKSB7IHZhciBwcm90byA9IEYucHJvdG90eXBlOyBbXCJtZXRob2RcIiwgXCJmaWVsZFwiXS5mb3JFYWNoKGZ1bmN0aW9uIChraW5kKSB7IGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgdmFyIHBsYWNlbWVudCA9IGVsZW1lbnQucGxhY2VtZW50OyBpZiAoZWxlbWVudC5raW5kID09PSBraW5kICYmIChwbGFjZW1lbnQgPT09IFwic3RhdGljXCIgfHwgcGxhY2VtZW50ID09PSBcInByb3RvdHlwZVwiKSkgeyB2YXIgcmVjZWl2ZXIgPSBwbGFjZW1lbnQgPT09IFwic3RhdGljXCIgPyBGIDogcHJvdG87IHRoaXMuZGVmaW5lQ2xhc3NFbGVtZW50KHJlY2VpdmVyLCBlbGVtZW50KTsgfSB9LCB0aGlzKTsgfSwgdGhpcyk7IH0sIGRlZmluZUNsYXNzRWxlbWVudDogZnVuY3Rpb24gZGVmaW5lQ2xhc3NFbGVtZW50KHJlY2VpdmVyLCBlbGVtZW50KSB7IHZhciBkZXNjcmlwdG9yID0gZWxlbWVudC5kZXNjcmlwdG9yOyBpZiAoZWxlbWVudC5raW5kID09PSBcImZpZWxkXCIpIHsgdmFyIGluaXRpYWxpemVyID0gZWxlbWVudC5pbml0aWFsaXplcjsgZGVzY3JpcHRvciA9IHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgdmFsdWU6IGluaXRpYWxpemVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbml0aWFsaXplci5jYWxsKHJlY2VpdmVyKSB9OyB9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWNlaXZlciwgZWxlbWVudC5rZXksIGRlc2NyaXB0b3IpOyB9LCBkZWNvcmF0ZUNsYXNzOiBmdW5jdGlvbiBkZWNvcmF0ZUNsYXNzKGVsZW1lbnRzLCBkZWNvcmF0b3JzKSB7IHZhciBuZXdFbGVtZW50cyA9IFtdOyB2YXIgZmluaXNoZXJzID0gW107IHZhciBwbGFjZW1lbnRzID0geyBcInN0YXRpY1wiOiBbXSwgcHJvdG90eXBlOiBbXSwgb3duOiBbXSB9OyBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IHRoaXMuYWRkRWxlbWVudFBsYWNlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzKTsgfSwgdGhpcyk7IGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgaWYgKCFfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSkgcmV0dXJuIG5ld0VsZW1lbnRzLnB1c2goZWxlbWVudCk7IHZhciBlbGVtZW50RmluaXNoZXJzRXh0cmFzID0gdGhpcy5kZWNvcmF0ZUVsZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7IG5ld0VsZW1lbnRzLnB1c2goZWxlbWVudEZpbmlzaGVyc0V4dHJhcy5lbGVtZW50KTsgbmV3RWxlbWVudHMucHVzaC5hcHBseShuZXdFbGVtZW50cywgZWxlbWVudEZpbmlzaGVyc0V4dHJhcy5leHRyYXMpOyBmaW5pc2hlcnMucHVzaC5hcHBseShmaW5pc2hlcnMsIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZmluaXNoZXJzKTsgfSwgdGhpcyk7IGlmICghZGVjb3JhdG9ycykgeyByZXR1cm4geyBlbGVtZW50czogbmV3RWxlbWVudHMsIGZpbmlzaGVyczogZmluaXNoZXJzIH07IH0gdmFyIHJlc3VsdCA9IHRoaXMuZGVjb3JhdGVDb25zdHJ1Y3RvcihuZXdFbGVtZW50cywgZGVjb3JhdG9ycyk7IGZpbmlzaGVycy5wdXNoLmFwcGx5KGZpbmlzaGVycywgcmVzdWx0LmZpbmlzaGVycyk7IHJlc3VsdC5maW5pc2hlcnMgPSBmaW5pc2hlcnM7IHJldHVybiByZXN1bHQ7IH0sIGFkZEVsZW1lbnRQbGFjZW1lbnQ6IGZ1bmN0aW9uIGFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cywgc2lsZW50KSB7IHZhciBrZXlzID0gcGxhY2VtZW50c1tlbGVtZW50LnBsYWNlbWVudF07IGlmICghc2lsZW50ICYmIGtleXMuaW5kZXhPZihlbGVtZW50LmtleSkgIT09IC0xKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEdXBsaWNhdGVkIGVsZW1lbnQgKFwiICsgZWxlbWVudC5rZXkgKyBcIilcIik7IH0ga2V5cy5wdXNoKGVsZW1lbnQua2V5KTsgfSwgZGVjb3JhdGVFbGVtZW50OiBmdW5jdGlvbiBkZWNvcmF0ZUVsZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cykgeyB2YXIgZXh0cmFzID0gW107IHZhciBmaW5pc2hlcnMgPSBbXTsgZm9yICh2YXIgZGVjb3JhdG9ycyA9IGVsZW1lbnQuZGVjb3JhdG9ycywgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsgdmFyIGtleXMgPSBwbGFjZW1lbnRzW2VsZW1lbnQucGxhY2VtZW50XTsga2V5cy5zcGxpY2Uoa2V5cy5pbmRleE9mKGVsZW1lbnQua2V5KSwgMSk7IHZhciBlbGVtZW50T2JqZWN0ID0gdGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudCk7IHZhciBlbGVtZW50RmluaXNoZXJFeHRyYXMgPSB0aGlzLnRvRWxlbWVudEZpbmlzaGVyRXh0cmFzKCgwLCBkZWNvcmF0b3JzW2ldKShlbGVtZW50T2JqZWN0KSB8fCBlbGVtZW50T2JqZWN0KTsgZWxlbWVudCA9IGVsZW1lbnRGaW5pc2hlckV4dHJhcy5lbGVtZW50OyB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7IGlmIChlbGVtZW50RmluaXNoZXJFeHRyYXMuZmluaXNoZXIpIHsgZmluaXNoZXJzLnB1c2goZWxlbWVudEZpbmlzaGVyRXh0cmFzLmZpbmlzaGVyKTsgfSB2YXIgbmV3RXh0cmFzID0gZWxlbWVudEZpbmlzaGVyRXh0cmFzLmV4dHJhczsgaWYgKG5ld0V4dHJhcykgeyBmb3IgKHZhciBqID0gMDsgaiA8IG5ld0V4dHJhcy5sZW5ndGg7IGorKykgeyB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQobmV3RXh0cmFzW2pdLCBwbGFjZW1lbnRzKTsgfSBleHRyYXMucHVzaC5hcHBseShleHRyYXMsIG5ld0V4dHJhcyk7IH0gfSByZXR1cm4geyBlbGVtZW50OiBlbGVtZW50LCBmaW5pc2hlcnM6IGZpbmlzaGVycywgZXh0cmFzOiBleHRyYXMgfTsgfSwgZGVjb3JhdGVDb25zdHJ1Y3RvcjogZnVuY3Rpb24gZGVjb3JhdGVDb25zdHJ1Y3RvcihlbGVtZW50cywgZGVjb3JhdG9ycykgeyB2YXIgZmluaXNoZXJzID0gW107IGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7IHZhciBvYmogPSB0aGlzLmZyb21DbGFzc0Rlc2NyaXB0b3IoZWxlbWVudHMpOyB2YXIgZWxlbWVudHNBbmRGaW5pc2hlciA9IHRoaXMudG9DbGFzc0Rlc2NyaXB0b3IoKDAsIGRlY29yYXRvcnNbaV0pKG9iaikgfHwgb2JqKTsgaWYgKGVsZW1lbnRzQW5kRmluaXNoZXIuZmluaXNoZXIgIT09IHVuZGVmaW5lZCkgeyBmaW5pc2hlcnMucHVzaChlbGVtZW50c0FuZEZpbmlzaGVyLmZpbmlzaGVyKTsgfSBpZiAoZWxlbWVudHNBbmRGaW5pc2hlci5lbGVtZW50cyAhPT0gdW5kZWZpbmVkKSB7IGVsZW1lbnRzID0gZWxlbWVudHNBbmRGaW5pc2hlci5lbGVtZW50czsgZm9yICh2YXIgaiA9IDA7IGogPCBlbGVtZW50cy5sZW5ndGggLSAxOyBqKyspIHsgZm9yICh2YXIgayA9IGogKyAxOyBrIDwgZWxlbWVudHMubGVuZ3RoOyBrKyspIHsgaWYgKGVsZW1lbnRzW2pdLmtleSA9PT0gZWxlbWVudHNba10ua2V5ICYmIGVsZW1lbnRzW2pdLnBsYWNlbWVudCA9PT0gZWxlbWVudHNba10ucGxhY2VtZW50KSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEdXBsaWNhdGVkIGVsZW1lbnQgKFwiICsgZWxlbWVudHNbal0ua2V5ICsgXCIpXCIpOyB9IH0gfSB9IH0gcmV0dXJuIHsgZWxlbWVudHM6IGVsZW1lbnRzLCBmaW5pc2hlcnM6IGZpbmlzaGVycyB9OyB9LCBmcm9tRWxlbWVudERlc2NyaXB0b3I6IGZ1bmN0aW9uIGZyb21FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50KSB7IHZhciBvYmogPSB7IGtpbmQ6IGVsZW1lbnQua2luZCwga2V5OiBlbGVtZW50LmtleSwgcGxhY2VtZW50OiBlbGVtZW50LnBsYWNlbWVudCwgZGVzY3JpcHRvcjogZWxlbWVudC5kZXNjcmlwdG9yIH07IHZhciBkZXNjID0geyB2YWx1ZTogXCJEZXNjcmlwdG9yXCIsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9OyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBTeW1ib2wudG9TdHJpbmdUYWcsIGRlc2MpOyBpZiAoZWxlbWVudC5raW5kID09PSBcImZpZWxkXCIpIG9iai5pbml0aWFsaXplciA9IGVsZW1lbnQuaW5pdGlhbGl6ZXI7IHJldHVybiBvYmo7IH0sIHRvRWxlbWVudERlc2NyaXB0b3JzOiBmdW5jdGlvbiB0b0VsZW1lbnREZXNjcmlwdG9ycyhlbGVtZW50T2JqZWN0cykgeyBpZiAoZWxlbWVudE9iamVjdHMgPT09IHVuZGVmaW5lZCkgcmV0dXJuOyByZXR1cm4gX3RvQXJyYXkoZWxlbWVudE9iamVjdHMpLm1hcChmdW5jdGlvbiAoZWxlbWVudE9iamVjdCkgeyB2YXIgZWxlbWVudCA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50T2JqZWN0KTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGVsZW1lbnRPYmplY3QsIFwiZmluaXNoZXJcIiwgXCJBbiBlbGVtZW50IGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImV4dHJhc1wiLCBcIkFuIGVsZW1lbnQgZGVzY3JpcHRvclwiKTsgcmV0dXJuIGVsZW1lbnQ7IH0sIHRoaXMpOyB9LCB0b0VsZW1lbnREZXNjcmlwdG9yOiBmdW5jdGlvbiB0b0VsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnRPYmplY3QpIHsgdmFyIGtpbmQgPSBTdHJpbmcoZWxlbWVudE9iamVjdC5raW5kKTsgaWYgKGtpbmQgIT09IFwibWV0aG9kXCIgJiYga2luZCAhPT0gXCJmaWVsZFwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0FuIGVsZW1lbnQgZGVzY3JpcHRvclxcJ3MgLmtpbmQgcHJvcGVydHkgbXVzdCBiZSBlaXRoZXIgXCJtZXRob2RcIiBvcicgKyAnIFwiZmllbGRcIiwgYnV0IGEgZGVjb3JhdG9yIGNyZWF0ZWQgYW4gZWxlbWVudCBkZXNjcmlwdG9yIHdpdGgnICsgJyAua2luZCBcIicgKyBraW5kICsgJ1wiJyk7IH0gdmFyIGtleSA9IF90b1Byb3BlcnR5S2V5KGVsZW1lbnRPYmplY3Qua2V5KTsgdmFyIHBsYWNlbWVudCA9IFN0cmluZyhlbGVtZW50T2JqZWN0LnBsYWNlbWVudCk7IGlmIChwbGFjZW1lbnQgIT09IFwic3RhdGljXCIgJiYgcGxhY2VtZW50ICE9PSBcInByb3RvdHlwZVwiICYmIHBsYWNlbWVudCAhPT0gXCJvd25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbiBlbGVtZW50IGRlc2NyaXB0b3JcXCdzIC5wbGFjZW1lbnQgcHJvcGVydHkgbXVzdCBiZSBvbmUgb2YgXCJzdGF0aWNcIiwnICsgJyBcInByb3RvdHlwZVwiIG9yIFwib3duXCIsIGJ1dCBhIGRlY29yYXRvciBjcmVhdGVkIGFuIGVsZW1lbnQgZGVzY3JpcHRvcicgKyAnIHdpdGggLnBsYWNlbWVudCBcIicgKyBwbGFjZW1lbnQgKyAnXCInKTsgfSB2YXIgZGVzY3JpcHRvciA9IGVsZW1lbnRPYmplY3QuZGVzY3JpcHRvcjsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGVsZW1lbnRPYmplY3QsIFwiZWxlbWVudHNcIiwgXCJBbiBlbGVtZW50IGRlc2NyaXB0b3JcIik7IHZhciBlbGVtZW50ID0geyBraW5kOiBraW5kLCBrZXk6IGtleSwgcGxhY2VtZW50OiBwbGFjZW1lbnQsIGRlc2NyaXB0b3I6IE9iamVjdC5hc3NpZ24oe30sIGRlc2NyaXB0b3IpIH07IGlmIChraW5kICE9PSBcImZpZWxkXCIpIHsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGVsZW1lbnRPYmplY3QsIFwiaW5pdGlhbGl6ZXJcIiwgXCJBIG1ldGhvZCBkZXNjcmlwdG9yXCIpOyB9IGVsc2UgeyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZGVzY3JpcHRvciwgXCJnZXRcIiwgXCJUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShkZXNjcmlwdG9yLCBcInNldFwiLCBcIlRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGRlc2NyaXB0b3IsIFwidmFsdWVcIiwgXCJUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3JcIik7IGVsZW1lbnQuaW5pdGlhbGl6ZXIgPSBlbGVtZW50T2JqZWN0LmluaXRpYWxpemVyOyB9IHJldHVybiBlbGVtZW50OyB9LCB0b0VsZW1lbnRGaW5pc2hlckV4dHJhczogZnVuY3Rpb24gdG9FbGVtZW50RmluaXNoZXJFeHRyYXMoZWxlbWVudE9iamVjdCkgeyB2YXIgZWxlbWVudCA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50T2JqZWN0KTsgdmFyIGZpbmlzaGVyID0gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImZpbmlzaGVyXCIpOyB2YXIgZXh0cmFzID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9ycyhlbGVtZW50T2JqZWN0LmV4dHJhcyk7IHJldHVybiB7IGVsZW1lbnQ6IGVsZW1lbnQsIGZpbmlzaGVyOiBmaW5pc2hlciwgZXh0cmFzOiBleHRyYXMgfTsgfSwgZnJvbUNsYXNzRGVzY3JpcHRvcjogZnVuY3Rpb24gZnJvbUNsYXNzRGVzY3JpcHRvcihlbGVtZW50cykgeyB2YXIgb2JqID0geyBraW5kOiBcImNsYXNzXCIsIGVsZW1lbnRzOiBlbGVtZW50cy5tYXAodGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IsIHRoaXMpIH07IHZhciBkZXNjID0geyB2YWx1ZTogXCJEZXNjcmlwdG9yXCIsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9OyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBTeW1ib2wudG9TdHJpbmdUYWcsIGRlc2MpOyByZXR1cm4gb2JqOyB9LCB0b0NsYXNzRGVzY3JpcHRvcjogZnVuY3Rpb24gdG9DbGFzc0Rlc2NyaXB0b3Iob2JqKSB7IHZhciBraW5kID0gU3RyaW5nKG9iai5raW5kKTsgaWYgKGtpbmQgIT09IFwiY2xhc3NcIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdBIGNsYXNzIGRlc2NyaXB0b3JcXCdzIC5raW5kIHByb3BlcnR5IG11c3QgYmUgXCJjbGFzc1wiLCBidXQgYSBkZWNvcmF0b3InICsgJyBjcmVhdGVkIGEgY2xhc3MgZGVzY3JpcHRvciB3aXRoIC5raW5kIFwiJyArIGtpbmQgKyAnXCInKTsgfSB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCBcImtleVwiLCBcIkEgY2xhc3MgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgXCJwbGFjZW1lbnRcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwiZGVzY3JpcHRvclwiLCBcIkEgY2xhc3MgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgXCJpbml0aWFsaXplclwiLCBcIkEgY2xhc3MgZGVzY3JpcHRvclwiKTsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgXCJleHRyYXNcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHZhciBmaW5pc2hlciA9IF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkob2JqLCBcImZpbmlzaGVyXCIpOyB2YXIgZWxlbWVudHMgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3JzKG9iai5lbGVtZW50cyk7IHJldHVybiB7IGVsZW1lbnRzOiBlbGVtZW50cywgZmluaXNoZXI6IGZpbmlzaGVyIH07IH0sIHJ1bkNsYXNzRmluaXNoZXJzOiBmdW5jdGlvbiBydW5DbGFzc0ZpbmlzaGVycyhjb25zdHJ1Y3RvciwgZmluaXNoZXJzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgZmluaXNoZXJzLmxlbmd0aDsgaSsrKSB7IHZhciBuZXdDb25zdHJ1Y3RvciA9ICgwLCBmaW5pc2hlcnNbaV0pKGNvbnN0cnVjdG9yKTsgaWYgKG5ld0NvbnN0cnVjdG9yICE9PSB1bmRlZmluZWQpIHsgaWYgKHR5cGVvZiBuZXdDb25zdHJ1Y3RvciAhPT0gXCJmdW5jdGlvblwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJGaW5pc2hlcnMgbXVzdCByZXR1cm4gYSBjb25zdHJ1Y3Rvci5cIik7IH0gY29uc3RydWN0b3IgPSBuZXdDb25zdHJ1Y3RvcjsgfSB9IHJldHVybiBjb25zdHJ1Y3RvcjsgfSwgZGlzYWxsb3dQcm9wZXJ0eTogZnVuY3Rpb24gZGlzYWxsb3dQcm9wZXJ0eShvYmosIG5hbWUsIG9iamVjdFR5cGUpIHsgaWYgKG9ialtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7IHRocm93IG5ldyBUeXBlRXJyb3Iob2JqZWN0VHlwZSArIFwiIGNhbid0IGhhdmUgYSAuXCIgKyBuYW1lICsgXCIgcHJvcGVydHkuXCIpOyB9IH0gfTsgcmV0dXJuIGFwaTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRWxlbWVudERlc2NyaXB0b3IoZGVmKSB7IHZhciBrZXkgPSBfdG9Qcm9wZXJ0eUtleShkZWYua2V5KTsgdmFyIGRlc2NyaXB0b3I7IGlmIChkZWYua2luZCA9PT0gXCJtZXRob2RcIikgeyBkZXNjcmlwdG9yID0geyB2YWx1ZTogZGVmLnZhbHVlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSB9OyB9IGVsc2UgaWYgKGRlZi5raW5kID09PSBcImdldFwiKSB7IGRlc2NyaXB0b3IgPSB7IGdldDogZGVmLnZhbHVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlIH07IH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09IFwic2V0XCIpIHsgZGVzY3JpcHRvciA9IHsgc2V0OiBkZWYudmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UgfTsgfSBlbHNlIGlmIChkZWYua2luZCA9PT0gXCJmaWVsZFwiKSB7IGRlc2NyaXB0b3IgPSB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUgfTsgfSB2YXIgZWxlbWVudCA9IHsga2luZDogZGVmLmtpbmQgPT09IFwiZmllbGRcIiA/IFwiZmllbGRcIiA6IFwibWV0aG9kXCIsIGtleToga2V5LCBwbGFjZW1lbnQ6IGRlZltcInN0YXRpY1wiXSA/IFwic3RhdGljXCIgOiBkZWYua2luZCA9PT0gXCJmaWVsZFwiID8gXCJvd25cIiA6IFwicHJvdG90eXBlXCIsIGRlc2NyaXB0b3I6IGRlc2NyaXB0b3IgfTsgaWYgKGRlZi5kZWNvcmF0b3JzKSBlbGVtZW50LmRlY29yYXRvcnMgPSBkZWYuZGVjb3JhdG9yczsgaWYgKGRlZi5raW5kID09PSBcImZpZWxkXCIpIGVsZW1lbnQuaW5pdGlhbGl6ZXIgPSBkZWYudmFsdWU7IHJldHVybiBlbGVtZW50OyB9XG5cbmZ1bmN0aW9uIF9jb2FsZXNjZUdldHRlclNldHRlcihlbGVtZW50LCBvdGhlcikgeyBpZiAoZWxlbWVudC5kZXNjcmlwdG9yLmdldCAhPT0gdW5kZWZpbmVkKSB7IG90aGVyLmRlc2NyaXB0b3IuZ2V0ID0gZWxlbWVudC5kZXNjcmlwdG9yLmdldDsgfSBlbHNlIHsgb3RoZXIuZGVzY3JpcHRvci5zZXQgPSBlbGVtZW50LmRlc2NyaXB0b3Iuc2V0OyB9IH1cblxuZnVuY3Rpb24gX2NvYWxlc2NlQ2xhc3NFbGVtZW50cyhlbGVtZW50cykgeyB2YXIgbmV3RWxlbWVudHMgPSBbXTsgdmFyIGlzU2FtZUVsZW1lbnQgPSBmdW5jdGlvbiBpc1NhbWVFbGVtZW50KG90aGVyKSB7IHJldHVybiBvdGhlci5raW5kID09PSBcIm1ldGhvZFwiICYmIG90aGVyLmtleSA9PT0gZWxlbWVudC5rZXkgJiYgb3RoZXIucGxhY2VtZW50ID09PSBlbGVtZW50LnBsYWNlbWVudDsgfTsgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2ldOyB2YXIgb3RoZXI7IGlmIChlbGVtZW50LmtpbmQgPT09IFwibWV0aG9kXCIgJiYgKG90aGVyID0gbmV3RWxlbWVudHMuZmluZChpc1NhbWVFbGVtZW50KSkpIHsgaWYgKF9pc0RhdGFEZXNjcmlwdG9yKGVsZW1lbnQuZGVzY3JpcHRvcikgfHwgX2lzRGF0YURlc2NyaXB0b3Iob3RoZXIuZGVzY3JpcHRvcikpIHsgaWYgKF9oYXNEZWNvcmF0b3JzKGVsZW1lbnQpIHx8IF9oYXNEZWNvcmF0b3JzKG90aGVyKSkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJEdXBsaWNhdGVkIG1ldGhvZHMgKFwiICsgZWxlbWVudC5rZXkgKyBcIikgY2FuJ3QgYmUgZGVjb3JhdGVkLlwiKTsgfSBvdGhlci5kZXNjcmlwdG9yID0gZWxlbWVudC5kZXNjcmlwdG9yOyB9IGVsc2UgeyBpZiAoX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHsgaWYgKF9oYXNEZWNvcmF0b3JzKG90aGVyKSkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJEZWNvcmF0b3JzIGNhbid0IGJlIHBsYWNlZCBvbiBkaWZmZXJlbnQgYWNjZXNzb3JzIHdpdGggZm9yIFwiICsgXCJ0aGUgc2FtZSBwcm9wZXJ0eSAoXCIgKyBlbGVtZW50LmtleSArIFwiKS5cIik7IH0gb3RoZXIuZGVjb3JhdG9ycyA9IGVsZW1lbnQuZGVjb3JhdG9yczsgfSBfY29hbGVzY2VHZXR0ZXJTZXR0ZXIoZWxlbWVudCwgb3RoZXIpOyB9IH0gZWxzZSB7IG5ld0VsZW1lbnRzLnB1c2goZWxlbWVudCk7IH0gfSByZXR1cm4gbmV3RWxlbWVudHM7IH1cblxuZnVuY3Rpb24gX2hhc0RlY29yYXRvcnMoZWxlbWVudCkgeyByZXR1cm4gZWxlbWVudC5kZWNvcmF0b3JzICYmIGVsZW1lbnQuZGVjb3JhdG9ycy5sZW5ndGg7IH1cblxuZnVuY3Rpb24gX2lzRGF0YURlc2NyaXB0b3IoZGVzYykgeyByZXR1cm4gZGVzYyAhPT0gdW5kZWZpbmVkICYmICEoZGVzYy52YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGRlc2Mud3JpdGFibGUgPT09IHVuZGVmaW5lZCk7IH1cblxuZnVuY3Rpb24gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShvYmosIG5hbWUpIHsgdmFyIHZhbHVlID0gb2JqW25hbWVdOyBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgJ1wiICsgbmFtZSArIFwiJyB0byBiZSBhIGZ1bmN0aW9uXCIpOyB9IHJldHVybiB2YWx1ZTsgfVxuXG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cblxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7IGlmIChfdHlwZW9mKHJlcykgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfVxuXG5mdW5jdGlvbiBfdG9BcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIExlYWYgPSByZXF1aXJlKCcuLi9UcmVlL0xlYWYnKTtcblxudmFyIGluY2lkZW50RnJvbUluZ3JlZGllbnRzID0gcmVxdWlyZSgnLi4vSW5jaWRlbnRGcm9tRGVmaW5pdGlvbi9pbmNpZGVudEZyb21JbmdyZWRpZW50cycpO1xuXG52YXIgZ2V0SW5jaWRlbnRzQnlDaGFubmVsID0gcmVxdWlyZSgnLi4vX2RlY29yYXRvcnMvZ2V0SW5jaWRlbnRzQnlDaGFubmVsJyk7XG5cbnZhciBfQ09OU1QgPSByZXF1aXJlKCcuLi9fY29uZmlndXJhdGlvbi9fQ09OU1QnKTtcblxudmFyIFZhbHVlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVmFsdWUoKSB7XG4gICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWYWx1ZSk7XG5cbiAgICB0aGlzW1wiZmluYWxcIl0gPSBwcm9wc1tcImZpbmFsXCJdIHx8IGZhbHNlO1xuICAgIHRoaXMudmFsdWUgPSBwcm9wcy52YWx1ZSB8fCAnJztcblxuICAgIHRoaXMuc3ViID0gcHJvcHMuc3ViIHx8IGZ1bmN0aW9uICgpIHt9O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFZhbHVlLCBbe1xuICAgIGtleTogXCJmaW5hbGlzZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5hbGlzZSh2YWx1ZSkge1xuICAgICAgdGhpc1tcImZpbmFsXCJdID0gdHJ1ZTtcbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHRoaXMuc3ViKHZhbHVlKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVmFsdWU7XG59KCk7XG5cbnZhciBDb250ZXh0QXdhcmVJbmNpZGVudCA9IF9kZWNvcmF0ZShudWxsLCBmdW5jdGlvbiAoX2luaXRpYWxpemUsIF9MZWFmKSB7XG4gIHZhciBDb250ZXh0QXdhcmVJbmNpZGVudCA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9MZWFmMikge1xuICAgIF9pbmhlcml0cyhDb250ZXh0QXdhcmVJbmNpZGVudCwgX0xlYWYyKTtcblxuICAgIGZ1bmN0aW9uIENvbnRleHRBd2FyZUluY2lkZW50KGNvbnN0cnVjdGlvbkluZ3JlZGllbnRzLCBjb250ZXh0RGF0YSwgbWNpZCwgYXR0cmlidXRlKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb250ZXh0QXdhcmVJbmNpZGVudCk7XG5cbiAgICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKENvbnRleHRBd2FyZUluY2lkZW50KS5jYWxsKHRoaXMsIHtcbiAgICAgICAgaWQ6IGF0dHJpYnV0ZSAhPT0gbnVsbCA/IFwiXCIuY29uY2F0KGNvbnN0cnVjdGlvbkluZ3JlZGllbnRzLmluY2lkZW50SWQsIFwiX1wiKS5jb25jYXQobWNpZCwgXCJfXCIpLmNvbmNhdChhdHRyaWJ1dGUpIDogXCJcIi5jb25jYXQoY29uc3RydWN0aW9uSW5ncmVkaWVudHMuaW5jaWRlbnRJZCwgXCJfXCIpLmNvbmNhdChtY2lkKVxuICAgICAgfSkpOyAvLyBhIHByb3BlcnR5IHRvIGhvbGQgYWxsIG9mIHRoZSBjb250ZXh0c1xuXG4gICAgICBfaW5pdGlhbGl6ZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG5cbiAgICAgIF90aGlzLmNvbnRleHRzID0ge307XG4gICAgICBfdGhpcy5jb25zdHJ1Y3Rpb25JbmdyZWRpZW50cyA9IGNvbnN0cnVjdGlvbkluZ3JlZGllbnRzO1xuICAgICAgX3RoaXMubWNpZCA9IG1jaWQ7XG4gICAgICBfdGhpcy5hdHRyaWJ1dGUgPSBhdHRyaWJ1dGU7XG4gICAgICBfdGhpcy5fZHVyYXRpb24gPSBjb25zdHJ1Y3Rpb25JbmdyZWRpZW50cy5wcm9wcy5kdXJhdGlvbjtcbiAgICAgIF90aGlzLm1jX3BsdWdpbl9ucG1fbmFtZSA9IGNvbnN0cnVjdGlvbkluZ3JlZGllbnRzLnBsdWdpbl9ucG1fbmFtZTtcbiAgICAgIF90aGlzLnBsdWdpbl9jaGFubmVsX2NsYXNzID0gY29uc3RydWN0aW9uSW5ncmVkaWVudHMuQ2hhbm5lbDtcbiAgICAgIF90aGlzLkRlc2NyaXB0aXZlSW5jaWRlbnQgPSBjb25zdHJ1Y3Rpb25JbmdyZWRpZW50cy5EZXNjcmlwdGl2ZUluY2lkZW50O1xuXG4gICAgICBfdGhpcy5hZGRDb250ZXh0KGNvbnRleHREYXRhKTtcblxuICAgICAgaWYgKGF0dHJpYnV0ZSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoX3R5cGVvZihfdGhpcy5jb25zdHJ1Y3Rpb25JbmdyZWRpZW50cy5hdHRycy5hbmltYXRlZEF0dHJzW190aGlzLmF0dHJpYnV0ZV0pID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIF90aGlzLm9yaWdpbmFsQW5pbWF0ZWRBdHRyaWJ1dGVWYWx1ZSA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzLmNvbnN0cnVjdGlvbkluZ3JlZGllbnRzLmF0dHJzLmFuaW1hdGVkQXR0cnNbX3RoaXMuYXR0cmlidXRlXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMub3JpZ2luYWxBbmltYXRlZEF0dHJpYnV0ZVZhbHVlID0gX3RoaXMuY29uc3RydWN0aW9uSW5ncmVkaWVudHMuYXR0cnMuYW5pbWF0ZWRBdHRyc1tfdGhpcy5hdHRyaWJ1dGVdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX3RoaXMuY29uc3RydWN0aW9uSW5ncmVkaWVudHMuYXR0cnMsICdhbmltYXRlZEF0dHJzJykpIHtcbiAgICAgICAgX3RoaXMuZmluYWxWYWx1ZSA9IG5ldyBWYWx1ZSh7XG4gICAgICAgICAgXCJmaW5hbFwiOiB0cnVlLFxuICAgICAgICAgIHZhbHVlOiBfdGhpcy5jb25zdHJ1Y3Rpb25JbmdyZWRpZW50cy5hdHRycy5hbmltYXRlZEF0dHJzW190aGlzLmF0dHJpYnV0ZV1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gQ29udGV4dEF3YXJlSW5jaWRlbnQ7XG4gIH0oX0xlYWYpO1xuXG4gIHJldHVybiB7XG4gICAgRjogQ29udGV4dEF3YXJlSW5jaWRlbnQsXG4gICAgZDogW3tcbiAgICAgIGtpbmQ6IFwiZ2V0XCIsXG4gICAgICBrZXk6IFwib3JpZ2luYWxDb250ZXh0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb3JpZ2luYWxDb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0c1t0aGlzLm9yaWdpbmFsQ29udGV4dEtleV07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJnZXRcIixcbiAgICAgIGtleTogXCJkdXJhdGlvblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGR1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHVyYXRpb247XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJzZXRcIixcbiAgICAgIGtleTogXCJkdXJhdGlvblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGR1cmF0aW9uKG1pbGxpc2Vjb25kcykge1xuICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IG1pbGxpc2Vjb25kcztcblxuICAgICAgICBmb3IgKHZhciBjb250ZXh0IGluIHRoaXMuY29udGV4dHMpIHtcbiAgICAgICAgICB0aGlzLmNvbnRleHRzW2NvbnRleHRdLmR1cmF0aW9uID0gbWlsbGlzZWNvbmRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJhZGRDb250ZXh0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ29udGV4dChjb250ZXh0RGF0YSkge1xuICAgICAgICB2YXIgZm9yY2VHZXRDb250ZXh0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgICAgLy8gaWYgaXQncyB0aGUgZmlyc3QgY29udGV4dCB0byBiZSBhZGRlZCB0aGVuIGl0J3MgdGhlIG9yaWdpbmFsXG4gICAgICAgIHZhciBpc1RoZU9yaWdpbmFsQ29udGV4dCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmNvbnRleHRzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLm9yaWdpbmFsQ29udGV4dEtleSA9IGNvbnRleHREYXRhLmNsaXBJZDtcbiAgICAgICAgICB0aGlzLm9yaWdpbmFsQ2xpcENvbnRleHQgPSBjb250ZXh0RGF0YS5jb250ZXh0O1xuICAgICAgICAgIGlzVGhlT3JpZ2luYWxDb250ZXh0ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmdyZWRpZW50c1RvUGFzcyA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuY29uc3RydWN0aW9uSW5ncmVkaWVudHMsIHtcbiAgICAgICAgICBjb250ZXh0OiBjb250ZXh0RGF0YS5jb250ZXh0LFxuICAgICAgICAgIG1jaWQ6IHRoaXMubWNpZFxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgd2hhdFRvQWRkID0gaW5jaWRlbnRGcm9tSW5ncmVkaWVudHMoaW5ncmVkaWVudHNUb1Bhc3MpO1xuICAgICAgICB0aGlzLmNvbnRleHRzW2NvbnRleHREYXRhLmNsaXBJZF0gPSB3aGF0VG9BZGQ7IC8vIHdoZW4gd2UgYWRkIGEgbmV3IGNvbnRleHQgd2UgbXVzdCBzZXQgdGhlIGluaXRhbCB2YWx1ZSBvZiB0aGUgbmV3bHkgYWRkZWQgSW5jaWRlbnRzXG5cbiAgICAgICAgaWYgKCFpc1RoZU9yaWdpbmFsQ29udGV4dCkge1xuICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxWYWx1ZVtcImZpbmFsXCJdID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdmFyIHNjcmF0Y2hWYWx1ZSA9IHRoaXMuY29udGV4dHNbY29udGV4dERhdGEuY2xpcElkXS5nZXRTY3JhdGNoVmFsdWUoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFZhbHVlLnN1YihzY3JhdGNoVmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5zZXRJbml0aWFsVmFsdWUobmV3IFZhbHVlKHtcbiAgICAgICAgICAgICAgXCJmaW5hbFwiOiB0cnVlLFxuICAgICAgICAgICAgICB2YWx1ZTogc2NyYXRjaFZhbHVlXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dHNbY29udGV4dERhdGEuY2xpcElkXS5zZXRJbml0aWFsVmFsdWUodGhpcy5pbml0aWFsVmFsdWUudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb3JjZUdldENvbnRleHQgPT09IHRydWUpIHtcbiAgICAgICAgICB0aGlzLmNvbnRleHRzW2NvbnRleHREYXRhLmNsaXBJZF0uX29uR2V0Q29udGV4dE9uY2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwiaGFuZGxlQWRkQ29udGV4dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUFkZENvbnRleHQodGFyZ2V0LCBwYXlsb2FkKSB7XG4gICAgICAgIHRoaXMuYWRkQ29udGV4dChwYXlsb2FkLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGRlY29yYXRvcnM6IFtnZXRJbmNpZGVudHNCeUNoYW5uZWxdLFxuICAgICAga2V5OiBcImdldEluY2lkZW50c0J5Q2hhbm5lbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluY2lkZW50c0J5Q2hhbm5lbCgpIHt9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJvblByb2dyZXNzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzcyhmcmFjdGlvbiwgbWlsbGlzZWNvbmRzLCBjb250ZXh0SWQpIHtcbiAgICAgICAgaWYgKGNvbnRleHRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZm9yICh2YXIgY29udGV4dCBpbiB0aGlzLmNvbnRleHRzKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHRzW2NvbnRleHRdLm9uUHJvZ3Jlc3MoZnJhY3Rpb24sIG1pbGxpc2Vjb25kcyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLmNvbnRleHRzW2NvbnRleHRJZF0ub25Qcm9ncmVzcyhmcmFjdGlvbiwgbWlsbGlzZWNvbmRzKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLS0tLS0gRVJST1IgLS0tLS0tLS0tLS0nKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyoqIE1FVEhPRFMgVEhBVCBBQ1QgQVMgXCJQUk9YWVwiIFRPIEFMTCBPRiBUSEUgSU5DSURFTlRTIEJFTE9OR0lORyBUT1xuICAgICAgICogVEhFIElOQ0lERU5UUyBDT0xMRUNUSU9OIE9GIFRIRSBDT05URVhUIEFXQVJFIElOQ0lERU5UXG4gICAgICAgKiovXG5cbiAgICB9LCB7XG4gICAgICBraW5kOiBcImdldFwiLFxuICAgICAga2V5OiBcImFuaW1hdGVkQXR0cmlidXRlVmFsdWVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhbmltYXRlZEF0dHJpYnV0ZVZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5hbFZhbHVlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwiY2FsY0luaXRpYWxWYWx1ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGNJbml0aWFsVmFsdWUoc3ViKSB7XG4gICAgICAgIGlmICh0aGlzLm9yaWdpbmFsQ2xpcENvbnRleHQuaXNIb3N0ZWRDbGlwID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBuZXcgVmFsdWUoe1xuICAgICAgICAgICAgXCJmaW5hbFwiOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLm9yaWdpbmFsQ29udGV4dC5nZXRTY3JhdGNoVmFsdWUoKSxcbiAgICAgICAgICAgIHN1Yjogc3ViXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHN2ID0gdGhpcy5vcmlnaW5hbENvbnRleHQuZ2V0U2NyYXRjaFZhbHVlKCk7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gbmV3IFZhbHVlKHtcbiAgICAgICAgICAgIFwiZmluYWxcIjogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBzdlxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN1YihuZXdWYWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgICB9IC8vIG1hc3NpdmUgZWRpdGluZyBtZXRob2RzIHRoYXQgYXBwbHkgdGhlIHJlcXVlc3QgbWFzc2l2ZWx5IHRvIGFsbCBvZiB0aGVcbiAgICAgIC8vIEluY2lkZW50cyBvZiBhbGwgb2YgdGhlIGNvbnRleHRzXG5cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImdvdENvbnRleHRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnb3RDb250ZXh0KCkge1xuICAgICAgICBmb3IgKHZhciBjb250ZXh0IGluIHRoaXMuY29udGV4dHMpIHtcbiAgICAgICAgICB0aGlzLmNvbnRleHRzW2NvbnRleHRdLmdvdENvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwiX29uR2V0Q29udGV4dE9uY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfb25HZXRDb250ZXh0T25jZSgpIHtcbiAgICAgICAgZm9yICh2YXIgY29udGV4dCBpbiB0aGlzLmNvbnRleHRzKSB7XG4gICAgICAgICAgdGhpcy5jb250ZXh0c1tjb250ZXh0XS5fb25HZXRDb250ZXh0T25jZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJsYXN0V2lzaFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxhc3RXaXNoKCkge1xuICAgICAgICBmb3IgKHZhciBjb250ZXh0IGluIHRoaXMuY29udGV4dHMpIHtcbiAgICAgICAgICB0aGlzLmNvbnRleHRzW2NvbnRleHRdLmxhc3RXaXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcIm9uR2V0Q29udGV4dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uR2V0Q29udGV4dCgpIHtcbiAgICAgICAgZm9yICh2YXIgY29udGV4dCBpbiB0aGlzLmNvbnRleHRzKSB7XG4gICAgICAgICAgdGhpcy5jb250ZXh0c1tjb250ZXh0XS5vbkdldENvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwic2V0SW5pdGlhbFZhbHVlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0SW5pdGlhbFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmICghdmFsdWUuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykpIHtcbiAgICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmluaXRpYWxWYWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgIGZvciAodmFyIGNvbnRleHQgaW4gdGhpcy5jb250ZXh0cykge1xuICAgICAgICAgIHRoaXMuY29udGV4dHNbY29udGV4dF0uc2V0SW5pdGlhbFZhbHVlKHZhbHVlLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwic2V0Q29tcG9BdHRyS2V5VmFsdWVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDb21wb0F0dHJLZXlWYWx1ZShrZXksIHZhbHVlKSB7XG4gICAgICAgIGZvciAodmFyIGNvbnRleHQgaW4gdGhpcy5jb250ZXh0cykge1xuICAgICAgICAgIHRoaXMuY29udGV4dHNbY29udGV4dF0uYXR0cnMuYW5pbWF0ZWRBdHRyc1t0aGlzLmF0dHJpYnV0ZV1ba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIHRoaXMuY29udGV4dHNbY29udGV4dF0ubGFzdFdpc2goKTtcbiAgICAgICAgICB0aGlzLmNvbnRleHRzW2NvbnRleHRdLm9uR2V0Q29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJwbGF5XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcGxheShmcmFjdGlvbiwgbXMsIGNvbnRleHRJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0c1tjb250ZXh0SWRdLnBsYXkobXMpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwic3RvcFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoY29udGV4dElkKSB7XG4gICAgICAgIHRoaXMuY29udGV4dHNbY29udGV4dElkXS5zdG9wKCk7XG4gICAgICB9XG4gICAgfV1cbiAgfTtcbn0sIExlYWYpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnRleHRBd2FyZUluY2lkZW50OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Splitters/ContextAwareIncident.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Splitters/ElementClipSplitter.js":
/*!***************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Splitters/ElementClipSplitter.js ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar DWI = __webpack_require__(/*! ./ElementSplitter */ \"../node_modules/@kissmybutton/motorcortex/dist/Splitters/ElementSplitter.js\");\n\nvar ContextAwareClipIncident = __webpack_require__(/*! ./ContextAwareClipIncident */ \"../node_modules/@kissmybutton/motorcortex/dist/Splitters/ContextAwareClipIncident.js\");\n\nvar Channel = __webpack_require__(/*! ../Channels/Clip/ClipsChannel */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Clip/ClipsChannel.js\");\n/**\n * This Class acts as the DOM Aware Incident for Clips. When constructed the Incident passed to\n * it is a Clip with FragmentHTML context handler.\n * On addition, edit or deletion of Incidents on the Fragmented Clip's tree, of the\n * Descriptive Clip this ElementClipSplitter implements, all updates on lanes\n * and everything that these clips need in order to run are made directly to the\n * ContextAwareIncidents of the DescriptiveClip's real Clip.\n */\n\n\nvar ElementClipSplitter =\n/*#__PURE__*/\nfunction (_DWI) {\n  _inherits(ElementClipSplitter, _DWI);\n\n  function ElementClipSplitter(descriptiveIncident, contextData) {\n    var _this;\n\n    _classCallCheck(this, ElementClipSplitter);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ElementClipSplitter).call(this, descriptiveIncident, contextData));\n    _this.realClip = descriptiveIncident.realClip;\n    return _this;\n  }\n\n  _createClass(ElementClipSplitter, [{\n    key: \"_createElementIncident\",\n    value: function _createElementIncident(element, descriptiveIncident, contextData, elementIndex, totalElements, mcid) {\n      var constructionArguments = descriptiveIncident.realClip.exportConstructionArguments();\n      var constructionIngredients = {\n        incidentId: descriptiveIncident.id,\n        attrs: constructionArguments.attrs,\n        props: _objectSpread({}, constructionArguments.props, {\n          selector: contextData.context.getElementSelectorByMCID(mcid),\n          runTimeInfo: descriptiveIncident.runTimeInfo\n        }),\n        Incident: descriptiveIncident.constructor.Incident,\n        plugin_npm_name: descriptiveIncident.constructor.plugin_npm_name,\n        Channel: Channel,\n        DescriptiveIncident: descriptiveIncident\n      };\n      var contextAwareClipIncident = new ContextAwareClipIncident(constructionIngredients, contextData, mcid, descriptiveIncident);\n      this.addChild(contextAwareClipIncident, 0);\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return _get(_getPrototypeOf(ElementClipSplitter.prototype), \"duration\", this);\n    }\n    /*\n    ElementClipSplitter split the DescriptiveClip to element ContextAwareIncidents\n    All of the element ContextAwareClipIncidents instantiated share the same\n    DescriptiveClip and thus the same realClip. So ElementClipSplitter are\n    the Node from where a realClip starts to get copies.\n    Resizing though means resizing the realClip. In order to avoid redunduncy we\n    manage the resize here and we don't pass further down to the ContextAwareClipIncidents\n    the resizing command.\n    */\n    ,\n    set: function set(milliseconds) {\n      this.realClip._resize(milliseconds / this.realClip.duration);\n\n      this._duration = milliseconds;\n    }\n  }]);\n\n  return ElementClipSplitter;\n}(DWI);\n\nmodule.exports = ElementClipSplitter;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9TcGxpdHRlcnMvRWxlbWVudENsaXBTcGxpdHRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L1NwbGl0dGVycy9FbGVtZW50Q2xpcFNwbGl0dGVyLmpzPzY5ZDgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0LmdldCkgeyBfZ2V0ID0gUmVmbGVjdC5nZXQ7IH0gZWxzZSB7IF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IHZhciBiYXNlID0gX3N1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7IGlmICghYmFzZSkgcmV0dXJuOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpOyBpZiAoZGVzYy5nZXQpIHsgcmV0dXJuIGRlc2MuZ2V0LmNhbGwocmVjZWl2ZXIpOyB9IHJldHVybiBkZXNjLnZhbHVlOyB9OyB9IHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7IH1cblxuZnVuY3Rpb24gX3N1cGVyUHJvcEJhc2Uob2JqZWN0LCBwcm9wZXJ0eSkgeyB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkgeyBvYmplY3QgPSBfZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgYnJlYWs7IH0gcmV0dXJuIG9iamVjdDsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbnZhciBEV0kgPSByZXF1aXJlKCcuL0VsZW1lbnRTcGxpdHRlcicpO1xuXG52YXIgQ29udGV4dEF3YXJlQ2xpcEluY2lkZW50ID0gcmVxdWlyZSgnLi9Db250ZXh0QXdhcmVDbGlwSW5jaWRlbnQnKTtcblxudmFyIENoYW5uZWwgPSByZXF1aXJlKCcuLi9DaGFubmVscy9DbGlwL0NsaXBzQ2hhbm5lbCcpO1xuLyoqXG4gKiBUaGlzIENsYXNzIGFjdHMgYXMgdGhlIERPTSBBd2FyZSBJbmNpZGVudCBmb3IgQ2xpcHMuIFdoZW4gY29uc3RydWN0ZWQgdGhlIEluY2lkZW50IHBhc3NlZCB0b1xuICogaXQgaXMgYSBDbGlwIHdpdGggRnJhZ21lbnRIVE1MIGNvbnRleHQgaGFuZGxlci5cbiAqIE9uIGFkZGl0aW9uLCBlZGl0IG9yIGRlbGV0aW9uIG9mIEluY2lkZW50cyBvbiB0aGUgRnJhZ21lbnRlZCBDbGlwJ3MgdHJlZSwgb2YgdGhlXG4gKiBEZXNjcmlwdGl2ZSBDbGlwIHRoaXMgRWxlbWVudENsaXBTcGxpdHRlciBpbXBsZW1lbnRzLCBhbGwgdXBkYXRlcyBvbiBsYW5lc1xuICogYW5kIGV2ZXJ5dGhpbmcgdGhhdCB0aGVzZSBjbGlwcyBuZWVkIGluIG9yZGVyIHRvIHJ1biBhcmUgbWFkZSBkaXJlY3RseSB0byB0aGVcbiAqIENvbnRleHRBd2FyZUluY2lkZW50cyBvZiB0aGUgRGVzY3JpcHRpdmVDbGlwJ3MgcmVhbCBDbGlwLlxuICovXG5cblxudmFyIEVsZW1lbnRDbGlwU3BsaXR0ZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9EV0kpIHtcbiAgX2luaGVyaXRzKEVsZW1lbnRDbGlwU3BsaXR0ZXIsIF9EV0kpO1xuXG4gIGZ1bmN0aW9uIEVsZW1lbnRDbGlwU3BsaXR0ZXIoZGVzY3JpcHRpdmVJbmNpZGVudCwgY29udGV4dERhdGEpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWxlbWVudENsaXBTcGxpdHRlcik7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihFbGVtZW50Q2xpcFNwbGl0dGVyKS5jYWxsKHRoaXMsIGRlc2NyaXB0aXZlSW5jaWRlbnQsIGNvbnRleHREYXRhKSk7XG4gICAgX3RoaXMucmVhbENsaXAgPSBkZXNjcmlwdGl2ZUluY2lkZW50LnJlYWxDbGlwO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhFbGVtZW50Q2xpcFNwbGl0dGVyLCBbe1xuICAgIGtleTogXCJfY3JlYXRlRWxlbWVudEluY2lkZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVFbGVtZW50SW5jaWRlbnQoZWxlbWVudCwgZGVzY3JpcHRpdmVJbmNpZGVudCwgY29udGV4dERhdGEsIGVsZW1lbnRJbmRleCwgdG90YWxFbGVtZW50cywgbWNpZCkge1xuICAgICAgdmFyIGNvbnN0cnVjdGlvbkFyZ3VtZW50cyA9IGRlc2NyaXB0aXZlSW5jaWRlbnQucmVhbENsaXAuZXhwb3J0Q29uc3RydWN0aW9uQXJndW1lbnRzKCk7XG4gICAgICB2YXIgY29uc3RydWN0aW9uSW5ncmVkaWVudHMgPSB7XG4gICAgICAgIGluY2lkZW50SWQ6IGRlc2NyaXB0aXZlSW5jaWRlbnQuaWQsXG4gICAgICAgIGF0dHJzOiBjb25zdHJ1Y3Rpb25Bcmd1bWVudHMuYXR0cnMsXG4gICAgICAgIHByb3BzOiBfb2JqZWN0U3ByZWFkKHt9LCBjb25zdHJ1Y3Rpb25Bcmd1bWVudHMucHJvcHMsIHtcbiAgICAgICAgICBzZWxlY3RvcjogY29udGV4dERhdGEuY29udGV4dC5nZXRFbGVtZW50U2VsZWN0b3JCeU1DSUQobWNpZCksXG4gICAgICAgICAgcnVuVGltZUluZm86IGRlc2NyaXB0aXZlSW5jaWRlbnQucnVuVGltZUluZm9cbiAgICAgICAgfSksXG4gICAgICAgIEluY2lkZW50OiBkZXNjcmlwdGl2ZUluY2lkZW50LmNvbnN0cnVjdG9yLkluY2lkZW50LFxuICAgICAgICBwbHVnaW5fbnBtX25hbWU6IGRlc2NyaXB0aXZlSW5jaWRlbnQuY29uc3RydWN0b3IucGx1Z2luX25wbV9uYW1lLFxuICAgICAgICBDaGFubmVsOiBDaGFubmVsLFxuICAgICAgICBEZXNjcmlwdGl2ZUluY2lkZW50OiBkZXNjcmlwdGl2ZUluY2lkZW50XG4gICAgICB9O1xuICAgICAgdmFyIGNvbnRleHRBd2FyZUNsaXBJbmNpZGVudCA9IG5ldyBDb250ZXh0QXdhcmVDbGlwSW5jaWRlbnQoY29uc3RydWN0aW9uSW5ncmVkaWVudHMsIGNvbnRleHREYXRhLCBtY2lkLCBkZXNjcmlwdGl2ZUluY2lkZW50KTtcbiAgICAgIHRoaXMuYWRkQ2hpbGQoY29udGV4dEF3YXJlQ2xpcEluY2lkZW50LCAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZHVyYXRpb25cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfZ2V0KF9nZXRQcm90b3R5cGVPZihFbGVtZW50Q2xpcFNwbGl0dGVyLnByb3RvdHlwZSksIFwiZHVyYXRpb25cIiwgdGhpcyk7XG4gICAgfVxuICAgIC8qXG4gICAgRWxlbWVudENsaXBTcGxpdHRlciBzcGxpdCB0aGUgRGVzY3JpcHRpdmVDbGlwIHRvIGVsZW1lbnQgQ29udGV4dEF3YXJlSW5jaWRlbnRzXG4gICAgQWxsIG9mIHRoZSBlbGVtZW50IENvbnRleHRBd2FyZUNsaXBJbmNpZGVudHMgaW5zdGFudGlhdGVkIHNoYXJlIHRoZSBzYW1lXG4gICAgRGVzY3JpcHRpdmVDbGlwIGFuZCB0aHVzIHRoZSBzYW1lIHJlYWxDbGlwLiBTbyBFbGVtZW50Q2xpcFNwbGl0dGVyIGFyZVxuICAgIHRoZSBOb2RlIGZyb20gd2hlcmUgYSByZWFsQ2xpcCBzdGFydHMgdG8gZ2V0IGNvcGllcy5cbiAgICBSZXNpemluZyB0aG91Z2ggbWVhbnMgcmVzaXppbmcgdGhlIHJlYWxDbGlwLiBJbiBvcmRlciB0byBhdm9pZCByZWR1bmR1bmN5IHdlXG4gICAgbWFuYWdlIHRoZSByZXNpemUgaGVyZSBhbmQgd2UgZG9uJ3QgcGFzcyBmdXJ0aGVyIGRvd24gdG8gdGhlIENvbnRleHRBd2FyZUNsaXBJbmNpZGVudHNcbiAgICB0aGUgcmVzaXppbmcgY29tbWFuZC5cbiAgICAqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChtaWxsaXNlY29uZHMpIHtcbiAgICAgIHRoaXMucmVhbENsaXAuX3Jlc2l6ZShtaWxsaXNlY29uZHMgLyB0aGlzLnJlYWxDbGlwLmR1cmF0aW9uKTtcblxuICAgICAgdGhpcy5fZHVyYXRpb24gPSBtaWxsaXNlY29uZHM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEVsZW1lbnRDbGlwU3BsaXR0ZXI7XG59KERXSSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRWxlbWVudENsaXBTcGxpdHRlcjsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Splitters/ElementClipSplitter.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Splitters/ElementSplitter.js":
/*!***********************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Splitters/ElementSplitter.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Group = __webpack_require__(/*! ../BaseClasses/Group */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/Group.js\");\n\nvar AnimatedAttributeSplitter = __webpack_require__(/*! ./AnimatedAttributeSplitter */ \"../node_modules/@kissmybutton/motorcortex/dist/Splitters/AnimatedAttributeSplitter.js\");\n\nvar Helper = __webpack_require__(/*! ../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar ContextAwareIncident = __webpack_require__(/*! ./ContextAwareIncident */ \"../node_modules/@kissmybutton/motorcortex/dist/Splitters/ContextAwareIncident.js\");\n\nvar ElementSplitter =\n/*#__PURE__*/\nfunction (_Group) {\n  _inherits(ElementSplitter, _Group);\n\n  function ElementSplitter(descriptiveIncident, contextData) {\n    var _this;\n\n    _classCallCheck(this, ElementSplitter);\n\n    // we make sure the DOMAwareIncident takes the same id as the Descriptive Incident\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ElementSplitter).call(this, {}, {\n      id: descriptiveIncident.id\n    })); // a property to hold all of the contexts\n\n    _this.contexts = {};\n    _this.contexts[contextData.clipId] = contextData.context;\n    _this.originalContextKey = contextData.clipId;\n    _this.instantiatedCopiesContexts = contextData.instantiatedCopiesContexts;\n\n    _this.setUp(descriptiveIncident, contextData);\n\n    return _this;\n  }\n\n  _createClass(ElementSplitter, [{\n    key: \"setUp\",\n    value: function setUp(descriptiveIncident, contextData) {\n      // the elements of the original context\n      var elements = this.originalContext.getElements(descriptiveIncident.selector()); // the elements for each of the copied contexts\n\n      var copiesElements = {};\n\n      for (var contextKey in this.instantiatedCopiesContexts) {\n        copiesElements[contextKey] = Array.from(this.instantiatedCopiesContexts[contextKey].rootElement.querySelectorAll(descriptiveIncident.props.selector));\n      }\n\n      var totalElements = elements.length;\n\n      for (var i = 0; i < elements.length; i++) {\n        var element = elements[i]; // set the mcid of the element on index i of the original context\n\n        var mcid = this._getElementMCID(element); // set the same mcid for the elements of the same context in all of the instantiatedCopiesContexts\n\n\n        for (var _contextKey in this.instantiatedCopiesContexts) {\n          this._setElementMCID(this.instantiatedCopiesContexts[_contextKey], this.instantiatedCopiesContexts[_contextKey][i], mcid);\n        }\n\n        this._createElementIncident(element, descriptiveIncident, contextData, i, totalElements, mcid);\n      }\n    }\n  }, {\n    key: \"_getElementMCID\",\n    value: function _getElementMCID(element) {\n      var mcid = this.originalContext.getMCID(element);\n\n      if (!mcid) {\n        mcid = helper.getAnId(true);\n        this.originalContext.setMCID(element, mcid);\n      }\n\n      return mcid;\n    }\n  }, {\n    key: \"_setElementMCID\",\n    value: function _setElementMCID(context, element, mcid) {\n      var existingMCID = context.getMCID(element);\n\n      if (!existingMCID) {\n        context.setMCID(element, mcid);\n      }\n    }\n  }, {\n    key: \"_createElementIncident\",\n    value: function _createElementIncident(element, descriptiveIncident, contextData, elementIndex, totalElements, mcid) {\n      /* elements splitter might handle either attribute Incidents (that have animatedAttrs) or Incidents\n      that do not have animatedAttrs such as MediaPlayback Incidents.\n      In the case of an attributed Incident we proceed by creating one AttributeSplitter for each\n      while on the case of an non-attribured Incident we go ahead and\n      */\n      if (Object.prototype.hasOwnProperty.call(descriptiveIncident.attrs, 'animatedAttrs')) {\n        var animatedAttributeSplitter = new AnimatedAttributeSplitter(descriptiveIncident, contextData, mcid, contextData.context.getElementSelectorByMCID(mcid));\n        this.addChild(animatedAttributeSplitter, 0);\n      } else {\n        var attrsToPass = descriptiveIncident.attrs;\n\n        var propsToPass = _objectSpread({}, descriptiveIncident.props, {\n          selector: this.selector\n        });\n\n        var constructionIngredients = {\n          incidentId: descriptiveIncident.id,\n          attrs: attrsToPass,\n          props: propsToPass,\n          Incident: descriptiveIncident.constructor.Incident,\n          plugin_npm_name: descriptiveIncident.constructor.plugin_npm_name,\n          Channel: descriptiveIncident.constructor.Channel,\n          DescriptiveIncident: descriptiveIncident\n        };\n        var contextAwareIncident = new ContextAwareIncident(constructionIngredients, contextData, mcid, null);\n        this.addChild(contextAwareIncident, 0);\n      }\n    }\n  }, {\n    key: \"originalContext\",\n    get: function get() {\n      return this.contexts[this.originalContextKey];\n    }\n  }]);\n\n  return ElementSplitter;\n}(Group);\n\nmodule.exports = ElementSplitter;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9TcGxpdHRlcnMvRWxlbWVudFNwbGl0dGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvU3BsaXR0ZXJzL0VsZW1lbnRTcGxpdHRlci5qcz8zOTkyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG52YXIgR3JvdXAgPSByZXF1aXJlKCcuLi9CYXNlQ2xhc3Nlcy9Hcm91cCcpO1xuXG52YXIgQW5pbWF0ZWRBdHRyaWJ1dGVTcGxpdHRlciA9IHJlcXVpcmUoJy4vQW5pbWF0ZWRBdHRyaWJ1dGVTcGxpdHRlcicpO1xuXG52YXIgSGVscGVyID0gcmVxdWlyZSgnLi4vX2NvcmVVdGlscy9IZWxwZXInKTtcblxudmFyIGhlbHBlciA9IG5ldyBIZWxwZXIoKTtcblxudmFyIENvbnRleHRBd2FyZUluY2lkZW50ID0gcmVxdWlyZSgnLi9Db250ZXh0QXdhcmVJbmNpZGVudCcpO1xuXG52YXIgRWxlbWVudFNwbGl0dGVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfR3JvdXApIHtcbiAgX2luaGVyaXRzKEVsZW1lbnRTcGxpdHRlciwgX0dyb3VwKTtcblxuICBmdW5jdGlvbiBFbGVtZW50U3BsaXR0ZXIoZGVzY3JpcHRpdmVJbmNpZGVudCwgY29udGV4dERhdGEpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWxlbWVudFNwbGl0dGVyKTtcblxuICAgIC8vIHdlIG1ha2Ugc3VyZSB0aGUgRE9NQXdhcmVJbmNpZGVudCB0YWtlcyB0aGUgc2FtZSBpZCBhcyB0aGUgRGVzY3JpcHRpdmUgSW5jaWRlbnRcbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihFbGVtZW50U3BsaXR0ZXIpLmNhbGwodGhpcywge30sIHtcbiAgICAgIGlkOiBkZXNjcmlwdGl2ZUluY2lkZW50LmlkXG4gICAgfSkpOyAvLyBhIHByb3BlcnR5IHRvIGhvbGQgYWxsIG9mIHRoZSBjb250ZXh0c1xuXG4gICAgX3RoaXMuY29udGV4dHMgPSB7fTtcbiAgICBfdGhpcy5jb250ZXh0c1tjb250ZXh0RGF0YS5jbGlwSWRdID0gY29udGV4dERhdGEuY29udGV4dDtcbiAgICBfdGhpcy5vcmlnaW5hbENvbnRleHRLZXkgPSBjb250ZXh0RGF0YS5jbGlwSWQ7XG4gICAgX3RoaXMuaW5zdGFudGlhdGVkQ29waWVzQ29udGV4dHMgPSBjb250ZXh0RGF0YS5pbnN0YW50aWF0ZWRDb3BpZXNDb250ZXh0cztcblxuICAgIF90aGlzLnNldFVwKGRlc2NyaXB0aXZlSW5jaWRlbnQsIGNvbnRleHREYXRhKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhFbGVtZW50U3BsaXR0ZXIsIFt7XG4gICAga2V5OiBcInNldFVwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFVwKGRlc2NyaXB0aXZlSW5jaWRlbnQsIGNvbnRleHREYXRhKSB7XG4gICAgICAvLyB0aGUgZWxlbWVudHMgb2YgdGhlIG9yaWdpbmFsIGNvbnRleHRcbiAgICAgIHZhciBlbGVtZW50cyA9IHRoaXMub3JpZ2luYWxDb250ZXh0LmdldEVsZW1lbnRzKGRlc2NyaXB0aXZlSW5jaWRlbnQuc2VsZWN0b3IoKSk7IC8vIHRoZSBlbGVtZW50cyBmb3IgZWFjaCBvZiB0aGUgY29waWVkIGNvbnRleHRzXG5cbiAgICAgIHZhciBjb3BpZXNFbGVtZW50cyA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBjb250ZXh0S2V5IGluIHRoaXMuaW5zdGFudGlhdGVkQ29waWVzQ29udGV4dHMpIHtcbiAgICAgICAgY29waWVzRWxlbWVudHNbY29udGV4dEtleV0gPSBBcnJheS5mcm9tKHRoaXMuaW5zdGFudGlhdGVkQ29waWVzQ29udGV4dHNbY29udGV4dEtleV0ucm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChkZXNjcmlwdGl2ZUluY2lkZW50LnByb3BzLnNlbGVjdG9yKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0b3RhbEVsZW1lbnRzID0gZWxlbWVudHMubGVuZ3RoO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZWxlbWVudHNbaV07IC8vIHNldCB0aGUgbWNpZCBvZiB0aGUgZWxlbWVudCBvbiBpbmRleCBpIG9mIHRoZSBvcmlnaW5hbCBjb250ZXh0XG5cbiAgICAgICAgdmFyIG1jaWQgPSB0aGlzLl9nZXRFbGVtZW50TUNJRChlbGVtZW50KTsgLy8gc2V0IHRoZSBzYW1lIG1jaWQgZm9yIHRoZSBlbGVtZW50cyBvZiB0aGUgc2FtZSBjb250ZXh0IGluIGFsbCBvZiB0aGUgaW5zdGFudGlhdGVkQ29waWVzQ29udGV4dHNcblxuXG4gICAgICAgIGZvciAodmFyIF9jb250ZXh0S2V5IGluIHRoaXMuaW5zdGFudGlhdGVkQ29waWVzQ29udGV4dHMpIHtcbiAgICAgICAgICB0aGlzLl9zZXRFbGVtZW50TUNJRCh0aGlzLmluc3RhbnRpYXRlZENvcGllc0NvbnRleHRzW19jb250ZXh0S2V5XSwgdGhpcy5pbnN0YW50aWF0ZWRDb3BpZXNDb250ZXh0c1tfY29udGV4dEtleV1baV0sIG1jaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY3JlYXRlRWxlbWVudEluY2lkZW50KGVsZW1lbnQsIGRlc2NyaXB0aXZlSW5jaWRlbnQsIGNvbnRleHREYXRhLCBpLCB0b3RhbEVsZW1lbnRzLCBtY2lkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldEVsZW1lbnRNQ0lEXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRFbGVtZW50TUNJRChlbGVtZW50KSB7XG4gICAgICB2YXIgbWNpZCA9IHRoaXMub3JpZ2luYWxDb250ZXh0LmdldE1DSUQoZWxlbWVudCk7XG5cbiAgICAgIGlmICghbWNpZCkge1xuICAgICAgICBtY2lkID0gaGVscGVyLmdldEFuSWQodHJ1ZSk7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDb250ZXh0LnNldE1DSUQoZWxlbWVudCwgbWNpZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtY2lkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc2V0RWxlbWVudE1DSURcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldEVsZW1lbnRNQ0lEKGNvbnRleHQsIGVsZW1lbnQsIG1jaWQpIHtcbiAgICAgIHZhciBleGlzdGluZ01DSUQgPSBjb250ZXh0LmdldE1DSUQoZWxlbWVudCk7XG5cbiAgICAgIGlmICghZXhpc3RpbmdNQ0lEKSB7XG4gICAgICAgIGNvbnRleHQuc2V0TUNJRChlbGVtZW50LCBtY2lkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2NyZWF0ZUVsZW1lbnRJbmNpZGVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlRWxlbWVudEluY2lkZW50KGVsZW1lbnQsIGRlc2NyaXB0aXZlSW5jaWRlbnQsIGNvbnRleHREYXRhLCBlbGVtZW50SW5kZXgsIHRvdGFsRWxlbWVudHMsIG1jaWQpIHtcbiAgICAgIC8qIGVsZW1lbnRzIHNwbGl0dGVyIG1pZ2h0IGhhbmRsZSBlaXRoZXIgYXR0cmlidXRlIEluY2lkZW50cyAodGhhdCBoYXZlIGFuaW1hdGVkQXR0cnMpIG9yIEluY2lkZW50c1xuICAgICAgdGhhdCBkbyBub3QgaGF2ZSBhbmltYXRlZEF0dHJzIHN1Y2ggYXMgTWVkaWFQbGF5YmFjayBJbmNpZGVudHMuXG4gICAgICBJbiB0aGUgY2FzZSBvZiBhbiBhdHRyaWJ1dGVkIEluY2lkZW50IHdlIHByb2NlZWQgYnkgY3JlYXRpbmcgb25lIEF0dHJpYnV0ZVNwbGl0dGVyIGZvciBlYWNoXG4gICAgICB3aGlsZSBvbiB0aGUgY2FzZSBvZiBhbiBub24tYXR0cmlidXJlZCBJbmNpZGVudCB3ZSBnbyBhaGVhZCBhbmRcbiAgICAgICovXG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRlc2NyaXB0aXZlSW5jaWRlbnQuYXR0cnMsICdhbmltYXRlZEF0dHJzJykpIHtcbiAgICAgICAgdmFyIGFuaW1hdGVkQXR0cmlidXRlU3BsaXR0ZXIgPSBuZXcgQW5pbWF0ZWRBdHRyaWJ1dGVTcGxpdHRlcihkZXNjcmlwdGl2ZUluY2lkZW50LCBjb250ZXh0RGF0YSwgbWNpZCwgY29udGV4dERhdGEuY29udGV4dC5nZXRFbGVtZW50U2VsZWN0b3JCeU1DSUQobWNpZCkpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKGFuaW1hdGVkQXR0cmlidXRlU3BsaXR0ZXIsIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGF0dHJzVG9QYXNzID0gZGVzY3JpcHRpdmVJbmNpZGVudC5hdHRycztcblxuICAgICAgICB2YXIgcHJvcHNUb1Bhc3MgPSBfb2JqZWN0U3ByZWFkKHt9LCBkZXNjcmlwdGl2ZUluY2lkZW50LnByb3BzLCB7XG4gICAgICAgICAgc2VsZWN0b3I6IHRoaXMuc2VsZWN0b3JcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNvbnN0cnVjdGlvbkluZ3JlZGllbnRzID0ge1xuICAgICAgICAgIGluY2lkZW50SWQ6IGRlc2NyaXB0aXZlSW5jaWRlbnQuaWQsXG4gICAgICAgICAgYXR0cnM6IGF0dHJzVG9QYXNzLFxuICAgICAgICAgIHByb3BzOiBwcm9wc1RvUGFzcyxcbiAgICAgICAgICBJbmNpZGVudDogZGVzY3JpcHRpdmVJbmNpZGVudC5jb25zdHJ1Y3Rvci5JbmNpZGVudCxcbiAgICAgICAgICBwbHVnaW5fbnBtX25hbWU6IGRlc2NyaXB0aXZlSW5jaWRlbnQuY29uc3RydWN0b3IucGx1Z2luX25wbV9uYW1lLFxuICAgICAgICAgIENoYW5uZWw6IGRlc2NyaXB0aXZlSW5jaWRlbnQuY29uc3RydWN0b3IuQ2hhbm5lbCxcbiAgICAgICAgICBEZXNjcmlwdGl2ZUluY2lkZW50OiBkZXNjcmlwdGl2ZUluY2lkZW50XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjb250ZXh0QXdhcmVJbmNpZGVudCA9IG5ldyBDb250ZXh0QXdhcmVJbmNpZGVudChjb25zdHJ1Y3Rpb25JbmdyZWRpZW50cywgY29udGV4dERhdGEsIG1jaWQsIG51bGwpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKGNvbnRleHRBd2FyZUluY2lkZW50LCAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib3JpZ2luYWxDb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0c1t0aGlzLm9yaWdpbmFsQ29udGV4dEtleV07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEVsZW1lbnRTcGxpdHRlcjtcbn0oR3JvdXApO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEVsZW1lbnRTcGxpdHRlcjsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Splitters/ElementSplitter.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Tree/Leaf.js":
/*!*******************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Tree/Leaf.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar _CONST = __webpack_require__(/*! ./_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/_CONST.js\");\n\nvar Helper = __webpack_require__(/*! ../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar systoleDiastole = __webpack_require__(/*! ./decorators/systoleDiastole */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/decorators/systoleDiastole.js\");\n\nvar Leaf = _decorate(null, function (_initialize) {\n  var Leaf = function Leaf() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Leaf);\n\n    _initialize(this);\n\n    // parentNode is a reference to the parent Node the Leaf is attached to (if any)\n    this.parentNode = null;\n    this.isNode = false;\n\n    if (Object.prototype.hasOwnProperty.call(props, \"id\")) {\n      this.id = props.id;\n    } else {\n      this.id = helper.getAnId();\n    }\n\n    this.props = props;\n  };\n\n  return {\n    F: Leaf,\n    d: [{\n      kind: \"get\",\n      key: \"duration\",\n      value: function duration() {\n        return this.props.duration;\n      }\n    }, {\n      kind: \"set\",\n      key: \"duration\",\n      value: function duration(milliseconds) {\n        this.props.duration = milliseconds;\n      }\n    }, {\n      kind: \"method\",\n      key: \"setNewDuration\",\n      value: function setNewDuration(newDuration) {\n        this.duration = newDuration;\n        this.putMessageOnPipe('recalcDuration', {}, 'Groups', {\n          selfExecute: false,\n          direction: _CONST._DIRECTIONS._UP\n        });\n      }\n    }, {\n      kind: \"method\",\n      decorators: [systoleDiastole],\n      key: \"systoleDiastole\",\n      value: function systoleDiastole() {}\n    }, {\n      kind: \"get\",\n      key: \"hasParent\",\n      value: function hasParent() {\n        if (this.parentNode === null) {\n          return false;\n        }\n\n        return true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"attachToNode\",\n      value: function attachToNode(node) {\n        this.parentNode = node;\n      }\n    }, {\n      kind: \"method\",\n      key: \"detachFromParent\",\n      value: function detachFromParent() {\n        this.parentNode = null;\n      }\n      /**\n      @param {string} name - the name of the message\n      @param {object} payload - the payload of the message\n      @param {object} target - specifies the target of the message in a key-value pairs object\n      @param {object} options - in the form:\n      {\n          direction (either _UP or _DOWN)\n          selfExecute (either true which means the Leaf should try to handle the message itself or\n              false which means the Leaf should directly forward the message to its parent)\n      }\n      @returns The expected result of this method is on the form:\n      {\n          response: an object the structure of which depends on the name of the message\n              and maybe even on the payload\n          responder: a direct reference to the lead that actually responded\n          (only valid for direaction _DOWN) positionDelta: the position delta of the responder compared to the requester\n      }\n      **/\n\n    }, {\n      kind: \"method\",\n      key: \"putMessageOnPipe\",\n      value: function putMessageOnPipe(name, payload, target) {\n        var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n        // default direction: _DOWN\n        if (!Object.prototype.hasOwnProperty.call(options, \"direction\")) {\n          options.direction = _CONST._DIRECTIONS._DOWN;\n        } // default positionDelta = 0\n\n\n        if (options.direction === _CONST._DIRECTIONS._DOWN && !Object.prototype.hasOwnProperty.call(options, \"positionDelta\")) {\n          options.positionDelta = 0;\n        }\n\n        if (options.selfExecute === true) {\n          // if the Leaf has a \"handle<name>\" method with the first letter of\n          // name in Capital it runs it\n          var handlingMethodName = \"handle\".concat(helper.jsUcfirst(name));\n          var capable = typeof this[handlingMethodName] === 'function';\n\n          if (capable) {\n            var response = this[handlingMethodName](target, payload);\n\n            if (response !== _CONST._BYPASS) {\n              var result = {\n                response: response,\n                responder: this\n              };\n\n              if (options.direction === _CONST._DIRECTIONS._UP) {\n                return result;\n              } else {\n                return [_objectSpread({}, result, {\n                  positionDelta: options.positionDelta\n                })];\n              }\n            }\n          }\n        }\n\n        if (options.direction === _CONST._DIRECTIONS._UP) {\n          if (this.hasParent) {\n            return this.parentNode.putMessageOnPipe(name, payload, target, {\n              selfExecute: true,\n              direction: _CONST._DIRECTIONS._UP\n            });\n          } else {\n            // if the message reaches the top of the tree without finding any liable target\n            return {\n              response: false,\n              responder: null\n            };\n          }\n        } else {\n          // _CONST._DIRECTIONS._DOWN\n          return [];\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"bypass\",\n      value: function bypass() {\n        return _CONST._BYPASS;\n      }\n    }]\n  };\n});\n\nmodule.exports = Leaf;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9UcmVlL0xlYWYuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9UcmVlL0xlYWYuanM/YjJlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVjb3JhdGUoZGVjb3JhdG9ycywgZmFjdG9yeSwgc3VwZXJDbGFzcywgbWl4aW5zKSB7IHZhciBhcGkgPSBfZ2V0RGVjb3JhdG9yc0FwaSgpOyBpZiAobWl4aW5zKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7IGFwaSA9IG1peGluc1tpXShhcGkpOyB9IH0gdmFyIHIgPSBmYWN0b3J5KGZ1bmN0aW9uIGluaXRpYWxpemUoTykgeyBhcGkuaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHMoTywgZGVjb3JhdGVkLmVsZW1lbnRzKTsgfSwgc3VwZXJDbGFzcyk7IHZhciBkZWNvcmF0ZWQgPSBhcGkuZGVjb3JhdGVDbGFzcyhfY29hbGVzY2VDbGFzc0VsZW1lbnRzKHIuZC5tYXAoX2NyZWF0ZUVsZW1lbnREZXNjcmlwdG9yKSksIGRlY29yYXRvcnMpOyBhcGkuaW5pdGlhbGl6ZUNsYXNzRWxlbWVudHMoci5GLCBkZWNvcmF0ZWQuZWxlbWVudHMpOyByZXR1cm4gYXBpLnJ1bkNsYXNzRmluaXNoZXJzKHIuRiwgZGVjb3JhdGVkLmZpbmlzaGVycyk7IH1cblxuZnVuY3Rpb24gX2dldERlY29yYXRvcnNBcGkoKSB7IF9nZXREZWNvcmF0b3JzQXBpID0gZnVuY3Rpb24gX2dldERlY29yYXRvcnNBcGkoKSB7IHJldHVybiBhcGk7IH07IHZhciBhcGkgPSB7IGVsZW1lbnRzRGVmaW5pdGlvbk9yZGVyOiBbW1wibWV0aG9kXCJdLCBbXCJmaWVsZFwiXV0sIGluaXRpYWxpemVJbnN0YW5jZUVsZW1lbnRzOiBmdW5jdGlvbiBpbml0aWFsaXplSW5zdGFuY2VFbGVtZW50cyhPLCBlbGVtZW50cykgeyBbXCJtZXRob2RcIiwgXCJmaWVsZFwiXS5mb3JFYWNoKGZ1bmN0aW9uIChraW5kKSB7IGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgaWYgKGVsZW1lbnQua2luZCA9PT0ga2luZCAmJiBlbGVtZW50LnBsYWNlbWVudCA9PT0gXCJvd25cIikgeyB0aGlzLmRlZmluZUNsYXNzRWxlbWVudChPLCBlbGVtZW50KTsgfSB9LCB0aGlzKTsgfSwgdGhpcyk7IH0sIGluaXRpYWxpemVDbGFzc0VsZW1lbnRzOiBmdW5jdGlvbiBpbml0aWFsaXplQ2xhc3NFbGVtZW50cyhGLCBlbGVtZW50cykgeyB2YXIgcHJvdG8gPSBGLnByb3RvdHlwZTsgW1wibWV0aG9kXCIsIFwiZmllbGRcIl0uZm9yRWFjaChmdW5jdGlvbiAoa2luZCkgeyBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IHZhciBwbGFjZW1lbnQgPSBlbGVtZW50LnBsYWNlbWVudDsgaWYgKGVsZW1lbnQua2luZCA9PT0ga2luZCAmJiAocGxhY2VtZW50ID09PSBcInN0YXRpY1wiIHx8IHBsYWNlbWVudCA9PT0gXCJwcm90b3R5cGVcIikpIHsgdmFyIHJlY2VpdmVyID0gcGxhY2VtZW50ID09PSBcInN0YXRpY1wiID8gRiA6IHByb3RvOyB0aGlzLmRlZmluZUNsYXNzRWxlbWVudChyZWNlaXZlciwgZWxlbWVudCk7IH0gfSwgdGhpcyk7IH0sIHRoaXMpOyB9LCBkZWZpbmVDbGFzc0VsZW1lbnQ6IGZ1bmN0aW9uIGRlZmluZUNsYXNzRWxlbWVudChyZWNlaXZlciwgZWxlbWVudCkgeyB2YXIgZGVzY3JpcHRvciA9IGVsZW1lbnQuZGVzY3JpcHRvcjsgaWYgKGVsZW1lbnQua2luZCA9PT0gXCJmaWVsZFwiKSB7IHZhciBpbml0aWFsaXplciA9IGVsZW1lbnQuaW5pdGlhbGl6ZXI7IGRlc2NyaXB0b3IgPSB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHZhbHVlOiBpbml0aWFsaXplciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdGlhbGl6ZXIuY2FsbChyZWNlaXZlcikgfTsgfSBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIGVsZW1lbnQua2V5LCBkZXNjcmlwdG9yKTsgfSwgZGVjb3JhdGVDbGFzczogZnVuY3Rpb24gZGVjb3JhdGVDbGFzcyhlbGVtZW50cywgZGVjb3JhdG9ycykgeyB2YXIgbmV3RWxlbWVudHMgPSBbXTsgdmFyIGZpbmlzaGVycyA9IFtdOyB2YXIgcGxhY2VtZW50cyA9IHsgXCJzdGF0aWNcIjogW10sIHByb3RvdHlwZTogW10sIG93bjogW10gfTsgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgeyB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7IH0sIHRoaXMpOyBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IGlmICghX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHJldHVybiBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnQpOyB2YXIgZWxlbWVudEZpbmlzaGVyc0V4dHJhcyA9IHRoaXMuZGVjb3JhdGVFbGVtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpOyBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZWxlbWVudCk7IG5ld0VsZW1lbnRzLnB1c2guYXBwbHkobmV3RWxlbWVudHMsIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZXh0cmFzKTsgZmluaXNoZXJzLnB1c2guYXBwbHkoZmluaXNoZXJzLCBlbGVtZW50RmluaXNoZXJzRXh0cmFzLmZpbmlzaGVycyk7IH0sIHRoaXMpOyBpZiAoIWRlY29yYXRvcnMpIHsgcmV0dXJuIHsgZWxlbWVudHM6IG5ld0VsZW1lbnRzLCBmaW5pc2hlcnM6IGZpbmlzaGVycyB9OyB9IHZhciByZXN1bHQgPSB0aGlzLmRlY29yYXRlQ29uc3RydWN0b3IobmV3RWxlbWVudHMsIGRlY29yYXRvcnMpOyBmaW5pc2hlcnMucHVzaC5hcHBseShmaW5pc2hlcnMsIHJlc3VsdC5maW5pc2hlcnMpOyByZXN1bHQuZmluaXNoZXJzID0gZmluaXNoZXJzOyByZXR1cm4gcmVzdWx0OyB9LCBhZGRFbGVtZW50UGxhY2VtZW50OiBmdW5jdGlvbiBhZGRFbGVtZW50UGxhY2VtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMsIHNpbGVudCkgeyB2YXIga2V5cyA9IHBsYWNlbWVudHNbZWxlbWVudC5wbGFjZW1lbnRdOyBpZiAoIXNpbGVudCAmJiBrZXlzLmluZGV4T2YoZWxlbWVudC5rZXkpICE9PSAtMSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRHVwbGljYXRlZCBlbGVtZW50IChcIiArIGVsZW1lbnQua2V5ICsgXCIpXCIpOyB9IGtleXMucHVzaChlbGVtZW50LmtleSk7IH0sIGRlY29yYXRlRWxlbWVudDogZnVuY3Rpb24gZGVjb3JhdGVFbGVtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpIHsgdmFyIGV4dHJhcyA9IFtdOyB2YXIgZmluaXNoZXJzID0gW107IGZvciAodmFyIGRlY29yYXRvcnMgPSBlbGVtZW50LmRlY29yYXRvcnMsIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7IHZhciBrZXlzID0gcGxhY2VtZW50c1tlbGVtZW50LnBsYWNlbWVudF07IGtleXMuc3BsaWNlKGtleXMuaW5kZXhPZihlbGVtZW50LmtleSksIDEpOyB2YXIgZWxlbWVudE9iamVjdCA9IHRoaXMuZnJvbUVsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnQpOyB2YXIgZWxlbWVudEZpbmlzaGVyRXh0cmFzID0gdGhpcy50b0VsZW1lbnRGaW5pc2hlckV4dHJhcygoMCwgZGVjb3JhdG9yc1tpXSkoZWxlbWVudE9iamVjdCkgfHwgZWxlbWVudE9iamVjdCk7IGVsZW1lbnQgPSBlbGVtZW50RmluaXNoZXJFeHRyYXMuZWxlbWVudDsgdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpOyBpZiAoZWxlbWVudEZpbmlzaGVyRXh0cmFzLmZpbmlzaGVyKSB7IGZpbmlzaGVycy5wdXNoKGVsZW1lbnRGaW5pc2hlckV4dHJhcy5maW5pc2hlcik7IH0gdmFyIG5ld0V4dHJhcyA9IGVsZW1lbnRGaW5pc2hlckV4dHJhcy5leHRyYXM7IGlmIChuZXdFeHRyYXMpIHsgZm9yICh2YXIgaiA9IDA7IGogPCBuZXdFeHRyYXMubGVuZ3RoOyBqKyspIHsgdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KG5ld0V4dHJhc1tqXSwgcGxhY2VtZW50cyk7IH0gZXh0cmFzLnB1c2guYXBwbHkoZXh0cmFzLCBuZXdFeHRyYXMpOyB9IH0gcmV0dXJuIHsgZWxlbWVudDogZWxlbWVudCwgZmluaXNoZXJzOiBmaW5pc2hlcnMsIGV4dHJhczogZXh0cmFzIH07IH0sIGRlY29yYXRlQ29uc3RydWN0b3I6IGZ1bmN0aW9uIGRlY29yYXRlQ29uc3RydWN0b3IoZWxlbWVudHMsIGRlY29yYXRvcnMpIHsgdmFyIGZpbmlzaGVycyA9IFtdOyBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgeyB2YXIgb2JqID0gdGhpcy5mcm9tQ2xhc3NEZXNjcmlwdG9yKGVsZW1lbnRzKTsgdmFyIGVsZW1lbnRzQW5kRmluaXNoZXIgPSB0aGlzLnRvQ2xhc3NEZXNjcmlwdG9yKCgwLCBkZWNvcmF0b3JzW2ldKShvYmopIHx8IG9iaik7IGlmIChlbGVtZW50c0FuZEZpbmlzaGVyLmZpbmlzaGVyICE9PSB1bmRlZmluZWQpIHsgZmluaXNoZXJzLnB1c2goZWxlbWVudHNBbmRGaW5pc2hlci5maW5pc2hlcik7IH0gaWYgKGVsZW1lbnRzQW5kRmluaXNoZXIuZWxlbWVudHMgIT09IHVuZGVmaW5lZCkgeyBlbGVtZW50cyA9IGVsZW1lbnRzQW5kRmluaXNoZXIuZWxlbWVudHM7IGZvciAodmFyIGogPSAwOyBqIDwgZWxlbWVudHMubGVuZ3RoIC0gMTsgaisrKSB7IGZvciAodmFyIGsgPSBqICsgMTsgayA8IGVsZW1lbnRzLmxlbmd0aDsgaysrKSB7IGlmIChlbGVtZW50c1tqXS5rZXkgPT09IGVsZW1lbnRzW2tdLmtleSAmJiBlbGVtZW50c1tqXS5wbGFjZW1lbnQgPT09IGVsZW1lbnRzW2tdLnBsYWNlbWVudCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRHVwbGljYXRlZCBlbGVtZW50IChcIiArIGVsZW1lbnRzW2pdLmtleSArIFwiKVwiKTsgfSB9IH0gfSB9IHJldHVybiB7IGVsZW1lbnRzOiBlbGVtZW50cywgZmluaXNoZXJzOiBmaW5pc2hlcnMgfTsgfSwgZnJvbUVsZW1lbnREZXNjcmlwdG9yOiBmdW5jdGlvbiBmcm9tRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudCkgeyB2YXIgb2JqID0geyBraW5kOiBlbGVtZW50LmtpbmQsIGtleTogZWxlbWVudC5rZXksIHBsYWNlbWVudDogZWxlbWVudC5wbGFjZW1lbnQsIGRlc2NyaXB0b3I6IGVsZW1lbnQuZGVzY3JpcHRvciB9OyB2YXIgZGVzYyA9IHsgdmFsdWU6IFwiRGVzY3JpcHRvclwiLCBjb25maWd1cmFibGU6IHRydWUgfTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgU3ltYm9sLnRvU3RyaW5nVGFnLCBkZXNjKTsgaWYgKGVsZW1lbnQua2luZCA9PT0gXCJmaWVsZFwiKSBvYmouaW5pdGlhbGl6ZXIgPSBlbGVtZW50LmluaXRpYWxpemVyOyByZXR1cm4gb2JqOyB9LCB0b0VsZW1lbnREZXNjcmlwdG9yczogZnVuY3Rpb24gdG9FbGVtZW50RGVzY3JpcHRvcnMoZWxlbWVudE9iamVjdHMpIHsgaWYgKGVsZW1lbnRPYmplY3RzID09PSB1bmRlZmluZWQpIHJldHVybjsgcmV0dXJuIF90b0FycmF5KGVsZW1lbnRPYmplY3RzKS5tYXAoZnVuY3Rpb24gKGVsZW1lbnRPYmplY3QpIHsgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImZpbmlzaGVyXCIsIFwiQW4gZWxlbWVudCBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZWxlbWVudE9iamVjdCwgXCJleHRyYXNcIiwgXCJBbiBlbGVtZW50IGRlc2NyaXB0b3JcIik7IHJldHVybiBlbGVtZW50OyB9LCB0aGlzKTsgfSwgdG9FbGVtZW50RGVzY3JpcHRvcjogZnVuY3Rpb24gdG9FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50T2JqZWN0KSB7IHZhciBraW5kID0gU3RyaW5nKGVsZW1lbnRPYmplY3Qua2luZCk7IGlmIChraW5kICE9PSBcIm1ldGhvZFwiICYmIGtpbmQgIT09IFwiZmllbGRcIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbiBlbGVtZW50IGRlc2NyaXB0b3JcXCdzIC5raW5kIHByb3BlcnR5IG11c3QgYmUgZWl0aGVyIFwibWV0aG9kXCIgb3InICsgJyBcImZpZWxkXCIsIGJ1dCBhIGRlY29yYXRvciBjcmVhdGVkIGFuIGVsZW1lbnQgZGVzY3JpcHRvciB3aXRoJyArICcgLmtpbmQgXCInICsga2luZCArICdcIicpOyB9IHZhciBrZXkgPSBfdG9Qcm9wZXJ0eUtleShlbGVtZW50T2JqZWN0LmtleSk7IHZhciBwbGFjZW1lbnQgPSBTdHJpbmcoZWxlbWVudE9iamVjdC5wbGFjZW1lbnQpOyBpZiAocGxhY2VtZW50ICE9PSBcInN0YXRpY1wiICYmIHBsYWNlbWVudCAhPT0gXCJwcm90b3R5cGVcIiAmJiBwbGFjZW1lbnQgIT09IFwib3duXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQW4gZWxlbWVudCBkZXNjcmlwdG9yXFwncyAucGxhY2VtZW50IHByb3BlcnR5IG11c3QgYmUgb25lIG9mIFwic3RhdGljXCIsJyArICcgXCJwcm90b3R5cGVcIiBvciBcIm93blwiLCBidXQgYSBkZWNvcmF0b3IgY3JlYXRlZCBhbiBlbGVtZW50IGRlc2NyaXB0b3InICsgJyB3aXRoIC5wbGFjZW1lbnQgXCInICsgcGxhY2VtZW50ICsgJ1wiJyk7IH0gdmFyIGRlc2NyaXB0b3IgPSBlbGVtZW50T2JqZWN0LmRlc2NyaXB0b3I7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImVsZW1lbnRzXCIsIFwiQW4gZWxlbWVudCBkZXNjcmlwdG9yXCIpOyB2YXIgZWxlbWVudCA9IHsga2luZDoga2luZCwga2V5OiBrZXksIHBsYWNlbWVudDogcGxhY2VtZW50LCBkZXNjcmlwdG9yOiBPYmplY3QuYXNzaWduKHt9LCBkZXNjcmlwdG9yKSB9OyBpZiAoa2luZCAhPT0gXCJmaWVsZFwiKSB7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImluaXRpYWxpemVyXCIsIFwiQSBtZXRob2QgZGVzY3JpcHRvclwiKTsgfSBlbHNlIHsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGRlc2NyaXB0b3IsIFwiZ2V0XCIsIFwiVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZGVzY3JpcHRvciwgXCJzZXRcIiwgXCJUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShkZXNjcmlwdG9yLCBcInZhbHVlXCIsIFwiVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yXCIpOyBlbGVtZW50LmluaXRpYWxpemVyID0gZWxlbWVudE9iamVjdC5pbml0aWFsaXplcjsgfSByZXR1cm4gZWxlbWVudDsgfSwgdG9FbGVtZW50RmluaXNoZXJFeHRyYXM6IGZ1bmN0aW9uIHRvRWxlbWVudEZpbmlzaGVyRXh0cmFzKGVsZW1lbnRPYmplY3QpIHsgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7IHZhciBmaW5pc2hlciA9IF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkoZWxlbWVudE9iamVjdCwgXCJmaW5pc2hlclwiKTsgdmFyIGV4dHJhcyA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcnMoZWxlbWVudE9iamVjdC5leHRyYXMpOyByZXR1cm4geyBlbGVtZW50OiBlbGVtZW50LCBmaW5pc2hlcjogZmluaXNoZXIsIGV4dHJhczogZXh0cmFzIH07IH0sIGZyb21DbGFzc0Rlc2NyaXB0b3I6IGZ1bmN0aW9uIGZyb21DbGFzc0Rlc2NyaXB0b3IoZWxlbWVudHMpIHsgdmFyIG9iaiA9IHsga2luZDogXCJjbGFzc1wiLCBlbGVtZW50czogZWxlbWVudHMubWFwKHRoaXMuZnJvbUVsZW1lbnREZXNjcmlwdG9yLCB0aGlzKSB9OyB2YXIgZGVzYyA9IHsgdmFsdWU6IFwiRGVzY3JpcHRvclwiLCBjb25maWd1cmFibGU6IHRydWUgfTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgU3ltYm9sLnRvU3RyaW5nVGFnLCBkZXNjKTsgcmV0dXJuIG9iajsgfSwgdG9DbGFzc0Rlc2NyaXB0b3I6IGZ1bmN0aW9uIHRvQ2xhc3NEZXNjcmlwdG9yKG9iaikgeyB2YXIga2luZCA9IFN0cmluZyhvYmoua2luZCk7IGlmIChraW5kICE9PSBcImNsYXNzXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBjbGFzcyBkZXNjcmlwdG9yXFwncyAua2luZCBwcm9wZXJ0eSBtdXN0IGJlIFwiY2xhc3NcIiwgYnV0IGEgZGVjb3JhdG9yJyArICcgY3JlYXRlZCBhIGNsYXNzIGRlc2NyaXB0b3Igd2l0aCAua2luZCBcIicgKyBraW5kICsgJ1wiJyk7IH0gdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgXCJrZXlcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwicGxhY2VtZW50XCIsIFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCBcImRlc2NyaXB0b3JcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwiaW5pdGlhbGl6ZXJcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwiZXh0cmFzXCIsIFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpOyB2YXIgZmluaXNoZXIgPSBfb3B0aW9uYWxDYWxsYWJsZVByb3BlcnR5KG9iaiwgXCJmaW5pc2hlclwiKTsgdmFyIGVsZW1lbnRzID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9ycyhvYmouZWxlbWVudHMpOyByZXR1cm4geyBlbGVtZW50czogZWxlbWVudHMsIGZpbmlzaGVyOiBmaW5pc2hlciB9OyB9LCBydW5DbGFzc0ZpbmlzaGVyczogZnVuY3Rpb24gcnVuQ2xhc3NGaW5pc2hlcnMoY29uc3RydWN0b3IsIGZpbmlzaGVycykgeyBmb3IgKHZhciBpID0gMDsgaSA8IGZpbmlzaGVycy5sZW5ndGg7IGkrKykgeyB2YXIgbmV3Q29uc3RydWN0b3IgPSAoMCwgZmluaXNoZXJzW2ldKShjb25zdHJ1Y3Rvcik7IGlmIChuZXdDb25zdHJ1Y3RvciAhPT0gdW5kZWZpbmVkKSB7IGlmICh0eXBlb2YgbmV3Q29uc3RydWN0b3IgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmluaXNoZXJzIG11c3QgcmV0dXJuIGEgY29uc3RydWN0b3IuXCIpOyB9IGNvbnN0cnVjdG9yID0gbmV3Q29uc3RydWN0b3I7IH0gfSByZXR1cm4gY29uc3RydWN0b3I7IH0sIGRpc2FsbG93UHJvcGVydHk6IGZ1bmN0aW9uIGRpc2FsbG93UHJvcGVydHkob2JqLCBuYW1lLCBvYmplY3RUeXBlKSB7IGlmIChvYmpbbmFtZV0gIT09IHVuZGVmaW5lZCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKG9iamVjdFR5cGUgKyBcIiBjYW4ndCBoYXZlIGEgLlwiICsgbmFtZSArIFwiIHByb3BlcnR5LlwiKTsgfSB9IH07IHJldHVybiBhcGk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUVsZW1lbnREZXNjcmlwdG9yKGRlZikgeyB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZGVmLmtleSk7IHZhciBkZXNjcmlwdG9yOyBpZiAoZGVmLmtpbmQgPT09IFwibWV0aG9kXCIpIHsgZGVzY3JpcHRvciA9IHsgdmFsdWU6IGRlZi52YWx1ZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UgfTsgfSBlbHNlIGlmIChkZWYua2luZCA9PT0gXCJnZXRcIikgeyBkZXNjcmlwdG9yID0geyBnZXQ6IGRlZi52YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSB9OyB9IGVsc2UgaWYgKGRlZi5raW5kID09PSBcInNldFwiKSB7IGRlc2NyaXB0b3IgPSB7IHNldDogZGVmLnZhbHVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlIH07IH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09IFwiZmllbGRcIikgeyBkZXNjcmlwdG9yID0geyBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlIH07IH0gdmFyIGVsZW1lbnQgPSB7IGtpbmQ6IGRlZi5raW5kID09PSBcImZpZWxkXCIgPyBcImZpZWxkXCIgOiBcIm1ldGhvZFwiLCBrZXk6IGtleSwgcGxhY2VtZW50OiBkZWZbXCJzdGF0aWNcIl0gPyBcInN0YXRpY1wiIDogZGVmLmtpbmQgPT09IFwiZmllbGRcIiA/IFwib3duXCIgOiBcInByb3RvdHlwZVwiLCBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yIH07IGlmIChkZWYuZGVjb3JhdG9ycykgZWxlbWVudC5kZWNvcmF0b3JzID0gZGVmLmRlY29yYXRvcnM7IGlmIChkZWYua2luZCA9PT0gXCJmaWVsZFwiKSBlbGVtZW50LmluaXRpYWxpemVyID0gZGVmLnZhbHVlOyByZXR1cm4gZWxlbWVudDsgfVxuXG5mdW5jdGlvbiBfY29hbGVzY2VHZXR0ZXJTZXR0ZXIoZWxlbWVudCwgb3RoZXIpIHsgaWYgKGVsZW1lbnQuZGVzY3JpcHRvci5nZXQgIT09IHVuZGVmaW5lZCkgeyBvdGhlci5kZXNjcmlwdG9yLmdldCA9IGVsZW1lbnQuZGVzY3JpcHRvci5nZXQ7IH0gZWxzZSB7IG90aGVyLmRlc2NyaXB0b3Iuc2V0ID0gZWxlbWVudC5kZXNjcmlwdG9yLnNldDsgfSB9XG5cbmZ1bmN0aW9uIF9jb2FsZXNjZUNsYXNzRWxlbWVudHMoZWxlbWVudHMpIHsgdmFyIG5ld0VsZW1lbnRzID0gW107IHZhciBpc1NhbWVFbGVtZW50ID0gZnVuY3Rpb24gaXNTYW1lRWxlbWVudChvdGhlcikgeyByZXR1cm4gb3RoZXIua2luZCA9PT0gXCJtZXRob2RcIiAmJiBvdGhlci5rZXkgPT09IGVsZW1lbnQua2V5ICYmIG90aGVyLnBsYWNlbWVudCA9PT0gZWxlbWVudC5wbGFjZW1lbnQ7IH07IGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpXTsgdmFyIG90aGVyOyBpZiAoZWxlbWVudC5raW5kID09PSBcIm1ldGhvZFwiICYmIChvdGhlciA9IG5ld0VsZW1lbnRzLmZpbmQoaXNTYW1lRWxlbWVudCkpKSB7IGlmIChfaXNEYXRhRGVzY3JpcHRvcihlbGVtZW50LmRlc2NyaXB0b3IpIHx8IF9pc0RhdGFEZXNjcmlwdG9yKG90aGVyLmRlc2NyaXB0b3IpKSB7IGlmIChfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB8fCBfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiRHVwbGljYXRlZCBtZXRob2RzIChcIiArIGVsZW1lbnQua2V5ICsgXCIpIGNhbid0IGJlIGRlY29yYXRlZC5cIik7IH0gb3RoZXIuZGVzY3JpcHRvciA9IGVsZW1lbnQuZGVzY3JpcHRvcjsgfSBlbHNlIHsgaWYgKF9oYXNEZWNvcmF0b3JzKGVsZW1lbnQpKSB7IGlmIChfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiRGVjb3JhdG9ycyBjYW4ndCBiZSBwbGFjZWQgb24gZGlmZmVyZW50IGFjY2Vzc29ycyB3aXRoIGZvciBcIiArIFwidGhlIHNhbWUgcHJvcGVydHkgKFwiICsgZWxlbWVudC5rZXkgKyBcIikuXCIpOyB9IG90aGVyLmRlY29yYXRvcnMgPSBlbGVtZW50LmRlY29yYXRvcnM7IH0gX2NvYWxlc2NlR2V0dGVyU2V0dGVyKGVsZW1lbnQsIG90aGVyKTsgfSB9IGVsc2UgeyBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnQpOyB9IH0gcmV0dXJuIG5ld0VsZW1lbnRzOyB9XG5cbmZ1bmN0aW9uIF9oYXNEZWNvcmF0b3JzKGVsZW1lbnQpIHsgcmV0dXJuIGVsZW1lbnQuZGVjb3JhdG9ycyAmJiBlbGVtZW50LmRlY29yYXRvcnMubGVuZ3RoOyB9XG5cbmZ1bmN0aW9uIF9pc0RhdGFEZXNjcmlwdG9yKGRlc2MpIHsgcmV0dXJuIGRlc2MgIT09IHVuZGVmaW5lZCAmJiAhKGRlc2MudmFsdWUgPT09IHVuZGVmaW5lZCAmJiBkZXNjLndyaXRhYmxlID09PSB1bmRlZmluZWQpOyB9XG5cbmZ1bmN0aW9uIF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkob2JqLCBuYW1lKSB7IHZhciB2YWx1ZSA9IG9ialtuYW1lXTsgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkICdcIiArIG5hbWUgKyBcIicgdG8gYmUgYSBmdW5jdGlvblwiKTsgfSByZXR1cm4gdmFsdWU7IH1cblxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cblxuZnVuY3Rpb24gX3RvQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09IFwiW29iamVjdCBBcmd1bWVudHNdXCIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG52YXIgX0NPTlNUID0gcmVxdWlyZSgnLi9fQ09OU1QnKTtcblxudmFyIEhlbHBlciA9IHJlcXVpcmUoJy4uL19jb3JlVXRpbHMvSGVscGVyJyk7XG5cbnZhciBoZWxwZXIgPSBuZXcgSGVscGVyKCk7XG5cbnZhciBzeXN0b2xlRGlhc3RvbGUgPSByZXF1aXJlKCcuL2RlY29yYXRvcnMvc3lzdG9sZURpYXN0b2xlJyk7XG5cbnZhciBMZWFmID0gX2RlY29yYXRlKG51bGwsIGZ1bmN0aW9uIChfaW5pdGlhbGl6ZSkge1xuICB2YXIgTGVhZiA9IGZ1bmN0aW9uIExlYWYoKSB7XG4gICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMZWFmKTtcblxuICAgIF9pbml0aWFsaXplKHRoaXMpO1xuXG4gICAgLy8gcGFyZW50Tm9kZSBpcyBhIHJlZmVyZW5jZSB0byB0aGUgcGFyZW50IE5vZGUgdGhlIExlYWYgaXMgYXR0YWNoZWQgdG8gKGlmIGFueSlcbiAgICB0aGlzLnBhcmVudE5vZGUgPSBudWxsO1xuICAgIHRoaXMuaXNOb2RlID0gZmFsc2U7XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBcImlkXCIpKSB7XG4gICAgICB0aGlzLmlkID0gcHJvcHMuaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaWQgPSBoZWxwZXIuZ2V0QW5JZCgpO1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIEY6IExlYWYsXG4gICAgZDogW3tcbiAgICAgIGtpbmQ6IFwiZ2V0XCIsXG4gICAgICBrZXk6IFwiZHVyYXRpb25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkdXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZHVyYXRpb247XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJzZXRcIixcbiAgICAgIGtleTogXCJkdXJhdGlvblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGR1cmF0aW9uKG1pbGxpc2Vjb25kcykge1xuICAgICAgICB0aGlzLnByb3BzLmR1cmF0aW9uID0gbWlsbGlzZWNvbmRzO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwic2V0TmV3RHVyYXRpb25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXROZXdEdXJhdGlvbihuZXdEdXJhdGlvbikge1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gbmV3RHVyYXRpb247XG4gICAgICAgIHRoaXMucHV0TWVzc2FnZU9uUGlwZSgncmVjYWxjRHVyYXRpb24nLCB7fSwgJ0dyb3VwcycsIHtcbiAgICAgICAgICBzZWxmRXhlY3V0ZTogZmFsc2UsXG4gICAgICAgICAgZGlyZWN0aW9uOiBfQ09OU1QuX0RJUkVDVElPTlMuX1VQXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBkZWNvcmF0b3JzOiBbc3lzdG9sZURpYXN0b2xlXSxcbiAgICAgIGtleTogXCJzeXN0b2xlRGlhc3RvbGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzeXN0b2xlRGlhc3RvbGUoKSB7fVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwiZ2V0XCIsXG4gICAgICBrZXk6IFwiaGFzUGFyZW50XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaGFzUGFyZW50KCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJhdHRhY2hUb05vZGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhdHRhY2hUb05vZGUobm9kZSkge1xuICAgICAgICB0aGlzLnBhcmVudE5vZGUgPSBub2RlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwiZGV0YWNoRnJvbVBhcmVudFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaEZyb21QYXJlbnQoKSB7XG4gICAgICAgIHRoaXMucGFyZW50Tm9kZSA9IG51bGw7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gdGhlIG5hbWUgb2YgdGhlIG1lc3NhZ2VcbiAgICAgIEBwYXJhbSB7b2JqZWN0fSBwYXlsb2FkIC0gdGhlIHBheWxvYWQgb2YgdGhlIG1lc3NhZ2VcbiAgICAgIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXQgLSBzcGVjaWZpZXMgdGhlIHRhcmdldCBvZiB0aGUgbWVzc2FnZSBpbiBhIGtleS12YWx1ZSBwYWlycyBvYmplY3RcbiAgICAgIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gaW4gdGhlIGZvcm06XG4gICAgICB7XG4gICAgICAgICAgZGlyZWN0aW9uIChlaXRoZXIgX1VQIG9yIF9ET1dOKVxuICAgICAgICAgIHNlbGZFeGVjdXRlIChlaXRoZXIgdHJ1ZSB3aGljaCBtZWFucyB0aGUgTGVhZiBzaG91bGQgdHJ5IHRvIGhhbmRsZSB0aGUgbWVzc2FnZSBpdHNlbGYgb3JcbiAgICAgICAgICAgICAgZmFsc2Ugd2hpY2ggbWVhbnMgdGhlIExlYWYgc2hvdWxkIGRpcmVjdGx5IGZvcndhcmQgdGhlIG1lc3NhZ2UgdG8gaXRzIHBhcmVudClcbiAgICAgIH1cbiAgICAgIEByZXR1cm5zIFRoZSBleHBlY3RlZCByZXN1bHQgb2YgdGhpcyBtZXRob2QgaXMgb24gdGhlIGZvcm06XG4gICAgICB7XG4gICAgICAgICAgcmVzcG9uc2U6IGFuIG9iamVjdCB0aGUgc3RydWN0dXJlIG9mIHdoaWNoIGRlcGVuZHMgb24gdGhlIG5hbWUgb2YgdGhlIG1lc3NhZ2VcbiAgICAgICAgICAgICAgYW5kIG1heWJlIGV2ZW4gb24gdGhlIHBheWxvYWRcbiAgICAgICAgICByZXNwb25kZXI6IGEgZGlyZWN0IHJlZmVyZW5jZSB0byB0aGUgbGVhZCB0aGF0IGFjdHVhbGx5IHJlc3BvbmRlZFxuICAgICAgICAgIChvbmx5IHZhbGlkIGZvciBkaXJlYWN0aW9uIF9ET1dOKSBwb3NpdGlvbkRlbHRhOiB0aGUgcG9zaXRpb24gZGVsdGEgb2YgdGhlIHJlc3BvbmRlciBjb21wYXJlZCB0byB0aGUgcmVxdWVzdGVyXG4gICAgICB9XG4gICAgICAqKi9cblxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwicHV0TWVzc2FnZU9uUGlwZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHB1dE1lc3NhZ2VPblBpcGUobmFtZSwgcGF5bG9hZCwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcblxuICAgICAgICAvLyBkZWZhdWx0IGRpcmVjdGlvbjogX0RPV05cbiAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgXCJkaXJlY3Rpb25cIikpIHtcbiAgICAgICAgICBvcHRpb25zLmRpcmVjdGlvbiA9IF9DT05TVC5fRElSRUNUSU9OUy5fRE9XTjtcbiAgICAgICAgfSAvLyBkZWZhdWx0IHBvc2l0aW9uRGVsdGEgPSAwXG5cblxuICAgICAgICBpZiAob3B0aW9ucy5kaXJlY3Rpb24gPT09IF9DT05TVC5fRElSRUNUSU9OUy5fRE9XTiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsIFwicG9zaXRpb25EZWx0YVwiKSkge1xuICAgICAgICAgIG9wdGlvbnMucG9zaXRpb25EZWx0YSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5zZWxmRXhlY3V0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIC8vIGlmIHRoZSBMZWFmIGhhcyBhIFwiaGFuZGxlPG5hbWU+XCIgbWV0aG9kIHdpdGggdGhlIGZpcnN0IGxldHRlciBvZlxuICAgICAgICAgIC8vIG5hbWUgaW4gQ2FwaXRhbCBpdCBydW5zIGl0XG4gICAgICAgICAgdmFyIGhhbmRsaW5nTWV0aG9kTmFtZSA9IFwiaGFuZGxlXCIuY29uY2F0KGhlbHBlci5qc1VjZmlyc3QobmFtZSkpO1xuICAgICAgICAgIHZhciBjYXBhYmxlID0gdHlwZW9mIHRoaXNbaGFuZGxpbmdNZXRob2ROYW1lXSA9PT0gJ2Z1bmN0aW9uJztcblxuICAgICAgICAgIGlmIChjYXBhYmxlKSB7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSB0aGlzW2hhbmRsaW5nTWV0aG9kTmFtZV0odGFyZ2V0LCBwYXlsb2FkKTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9PSBfQ09OU1QuX0JZUEFTUykge1xuICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICByZXNwb25kZXI6IHRoaXNcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kaXJlY3Rpb24gPT09IF9DT05TVC5fRElSRUNUSU9OUy5fVVApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBbX29iamVjdFNwcmVhZCh7fSwgcmVzdWx0LCB7XG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbkRlbHRhOiBvcHRpb25zLnBvc2l0aW9uRGVsdGFcbiAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5kaXJlY3Rpb24gPT09IF9DT05TVC5fRElSRUNUSU9OUy5fVVApIHtcbiAgICAgICAgICBpZiAodGhpcy5oYXNQYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudE5vZGUucHV0TWVzc2FnZU9uUGlwZShuYW1lLCBwYXlsb2FkLCB0YXJnZXQsIHtcbiAgICAgICAgICAgICAgc2VsZkV4ZWN1dGU6IHRydWUsXG4gICAgICAgICAgICAgIGRpcmVjdGlvbjogX0NPTlNULl9ESVJFQ1RJT05TLl9VUFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBtZXNzYWdlIHJlYWNoZXMgdGhlIHRvcCBvZiB0aGUgdHJlZSB3aXRob3V0IGZpbmRpbmcgYW55IGxpYWJsZSB0YXJnZXRcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlOiBmYWxzZSxcbiAgICAgICAgICAgICAgcmVzcG9uZGVyOiBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBfQ09OU1QuX0RJUkVDVElPTlMuX0RPV05cbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImJ5cGFzc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ5cGFzcygpIHtcbiAgICAgICAgcmV0dXJuIF9DT05TVC5fQllQQVNTO1xuICAgICAgfVxuICAgIH1dXG4gIH07XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBMZWFmOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Tree/Leaf.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Tree/Node.js":
/*!*******************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Tree/Node.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar Leaf = __webpack_require__(/*! ./Leaf */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/Leaf.js\");\n\nvar _CONST = __webpack_require__(/*! ./_CONST */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/_CONST.js\");\n\nvar _COPY = __webpack_require__(/*! ./_copy */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/_copy.js\");\n\nvar systoleDiastole = __webpack_require__(/*! ./decorators/systoleDiastole */ \"../node_modules/@kissmybutton/motorcortex/dist/Tree/decorators/systoleDiastole.js\");\n\nvar Node = _decorate(null, function (_initialize, _Leaf) {\n  var Node =\n  /*#__PURE__*/\n  function (_Leaf2) {\n    _inherits(Node, _Leaf2);\n\n    function Node() {\n      var _this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _classCallCheck(this, Node);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(Node).call(this, props));\n\n      _initialize(_assertThisInitialized(_this));\n\n      _this.isNode = true;\n      /**\n        The object holds the Incidents of the Scene on the format:\n        {\n            <id>: {\n                  id // the id of the Incident object\n                  leaf // the incident object\n                  position // the position of the incident\n            },\n            ...\n        }\n         */\n\n      _this.children = {};\n      _this.calculatedDuration = 0;\n      return _this;\n    }\n\n    return Node;\n  }(_Leaf);\n\n  return {\n    F: Node,\n    d: [{\n      kind: \"get\",\n      key: \"duration\",\n      value: function duration() {\n        return this.calculatedDuration;\n      }\n    }, {\n      kind: \"set\",\n      key: \"duration\",\n      value: function duration(newDuration) {\n        var durationFraction = newDuration / this.duration;\n\n        if (this.props) {\n          if (Object.prototype.hasOwnProperty.call(this.props, \"duration\")) {\n            this.props.duration = newDuration;\n          }\n        }\n\n        this.calculatedDuration = newDuration;\n\n        for (var childKey in this.children) {\n          var child = this.children[childKey];\n          this.editPosition(child.id, child.position * durationFraction, true);\n          child.leaf.systoleDiastole(durationFraction);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"setNewDuration\",\n      value: function setNewDuration(newDuration) {\n        this.duration = newDuration;\n        this.putMessageOnPipe('recalcDuration', {}, 'Groups', {\n          selfExecute: false,\n          direction: _CONST._DIRECTIONS._UP\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_calculateDuration\",\n      value: function _calculateDuration() {\n        var duration = 0;\n\n        for (var childKey in this.children) {\n          var child = this.children[childKey];\n\n          if (child.position + child.leaf.duration > duration) {\n            duration = child.position + child.leaf.duration;\n          }\n        }\n\n        if (duration === this.calculatedDuration) {\n          return false;\n        }\n\n        if (this.props) {\n          if (Object.prototype.hasOwnProperty.call(this.props, \"duration\")) {\n            this.props.duration = duration;\n          }\n        }\n\n        this.calculatedDuration = duration;\n        return true;\n      }\n    }, {\n      kind: \"method\",\n      decorators: [systoleDiastole],\n      key: \"systoleDiastole\",\n      value: function systoleDiastole() {}\n    }, {\n      kind: \"method\",\n      key: \"handleRecalcDuration\",\n      value: function handleRecalcDuration(target, payload) {\n        // eslint-disable-line no-unused-vars\n        if (this._calculateDuration()) {\n          return this.putMessageOnPipe('recalcDuration', {}, 'Groups', {\n            selfExecute: false,\n            direction: _CONST._DIRECTIONS._UP\n          });\n        }\n\n        return true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"getLeafById\",\n      value: function getLeafById(id) {\n        var onlyDirectChild = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if (Object.prototype.hasOwnProperty.call(this.children, id)) {\n          return this.children[id].leaf;\n        } else if (onlyDirectChild === false) {\n          for (var child in this.children) {\n            var childLeaf = this.children[child].leaf;\n\n            if (childLeaf.isNode) {\n              var leaf = childLeaf.getLeafById(id);\n\n              if (leaf != null) {\n                return leaf;\n              }\n            }\n          }\n        } else {\n          return null;\n        }\n\n        return null;\n      }\n    }, {\n      kind: \"method\",\n      key: \"getLeafPosition\",\n      value: function getLeafPosition(id) {\n        return this.children[id].position;\n      }\n    }, {\n      kind: \"method\",\n      key: \"checkAddition\",\n      value: function checkAddition(leaf, position) {\n        if (leaf.hasParent) {\n          return {\n            result: false,\n            reason: _COPY._LEAFALREADYASSIGNED\n          };\n        }\n\n        if (position < 0) {\n          return {\n            result: false,\n            reason: _COPY._NEGATIVEPOSITIONNOTALLOWED\n          };\n        }\n\n        return {\n          result: true\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"addChild\",\n      value: function addChild(leaf, position) {\n        // this hasParent check occurs here as an extra security check so it\n        // gets executed regardless if the user wants to perform checks or not\n        if (leaf.hasParent) {\n          return {\n            result: false,\n            reason: _COPY._LEAFALREADYASSIGNED\n          };\n        }\n\n        this.children[leaf.id] = {\n          id: leaf.id,\n          leaf: leaf,\n          position: position\n        };\n        leaf.attachToNode(this);\n        this.putMessageOnPipe('recalcDuration', {}, 'Groups', {\n          selfExecute: true,\n          direction: _CONST._DIRECTIONS._UP\n        });\n        return {\n          result: true\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"checkRemoveChild\",\n      value: function checkRemoveChild(id) {\n        if (!Object.prototype.hasOwnProperty.call(this.children, id)) {\n          return {\n            result: false,\n            reason: _COPY._LEAFNOTFOUND\n          };\n        }\n\n        return {\n          result: true\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"removeChild\",\n      value: function removeChild(id) {\n        this.children[id].leaf.detachFromParent();\n        delete this.children[id];\n        this.putMessageOnPipe('recalcDuration', {}, 'Groups', {\n          selfExecute: true,\n          direction: _CONST._DIRECTIONS._UP\n        });\n        return {\n          result: true\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"checkEditPosition\",\n      value: function checkEditPosition(id, position) {\n        if (position < 0) {\n          return {\n            result: false,\n            reason: _COPY._NEGATIVEPOSITIONNOTALLOWED\n          };\n        }\n\n        if (!Object.prototype.hasOwnProperty.call(this.children, id)) {\n          return {\n            result: false,\n            reason: _COPY._LEAFNOTFOUND\n          };\n        }\n\n        return {\n          result: true\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"editPosition\",\n      value: function editPosition(id, position) {\n        var bypassRecalcDuration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n        if (Object.prototype.hasOwnProperty.call(this.children, id)) {\n          this.children[id].position = position;\n\n          if (bypassRecalcDuration === false) {\n            this.putMessageOnPipe('recalcDuration', {}, 'Groups', {\n              selfExecute: true,\n              direction: _CONST._DIRECTIONS._UP\n            });\n          }\n\n          return {\n            result: true\n          };\n        }\n      }\n      /**\n      The expected result of this method depends on the direction of the message\n      The direction might either be _UP or _DOWN.\n      In the case of _UP the expected result is identical as on Leaf:\n      {\n          response: an object the structure of which depends on the name of the message\n              and maybe even on the payload\n          responder: a direct reference to the lead that actually responded\n      }\n      In the case of _DOWN though, where multiple Leafs might be eligible in the tree\n      for handling the message the result is on the form:\n      [\n          {\n              response: an object the structure of which depends on the name of the message\n                  and maybe even on the payload\n              responder: a direct reference to the lead that actually responded\n              positionDelta: the position delta of the responder compared to the requester\n          }\n      ]\n      */\n\n    }, {\n      kind: \"method\",\n      key: \"putMessageOnPipe\",\n      value: function putMessageOnPipe(name, payload, target) {\n        var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n        // default direction: _DOWN\n        if (!Object.prototype.hasOwnProperty.call(options, 'direction')) {\n          options.direction = _CONST._DIRECTIONS._DOWN;\n        } // default positionDelta = 0\n\n\n        if (options.direction === _CONST._DIRECTIONS._DOWN && !Object.prototype.hasOwnProperty.call(options, 'positionDelta')) {\n          options.positionDelta = 0;\n        }\n\n        if (options.direction === _CONST._DIRECTIONS._UP) {\n          // if the direction is up\n          return _get(_getPrototypeOf(Node.prototype), \"putMessageOnPipe\", this).call(this, name, payload, target, options); // act exactly as any other Leaf\n        } else {\n          var result = _get(_getPrototypeOf(Node.prototype), \"putMessageOnPipe\", this).call(this, name, payload, target, options);\n\n          if (result.length > 0) {\n            return result;\n          }\n\n          for (var child in this.children) {\n            var leaf = this.children[child].leaf;\n\n            var newOptions = _objectSpread({}, options, {\n              selfExecute: true,\n              positionDelta: options.positionDelta + this.children[child].position\n            });\n\n            result = result.concat(leaf.putMessageOnPipe(name, payload, target, newOptions));\n          }\n\n          return result;\n        }\n      }\n    }]\n  };\n}, Leaf);\n\nmodule.exports = Node;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9UcmVlL05vZGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9UcmVlL05vZGUuanM/M2UyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfZGVjb3JhdGUoZGVjb3JhdG9ycywgZmFjdG9yeSwgc3VwZXJDbGFzcywgbWl4aW5zKSB7IHZhciBhcGkgPSBfZ2V0RGVjb3JhdG9yc0FwaSgpOyBpZiAobWl4aW5zKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7IGFwaSA9IG1peGluc1tpXShhcGkpOyB9IH0gdmFyIHIgPSBmYWN0b3J5KGZ1bmN0aW9uIGluaXRpYWxpemUoTykgeyBhcGkuaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHMoTywgZGVjb3JhdGVkLmVsZW1lbnRzKTsgfSwgc3VwZXJDbGFzcyk7IHZhciBkZWNvcmF0ZWQgPSBhcGkuZGVjb3JhdGVDbGFzcyhfY29hbGVzY2VDbGFzc0VsZW1lbnRzKHIuZC5tYXAoX2NyZWF0ZUVsZW1lbnREZXNjcmlwdG9yKSksIGRlY29yYXRvcnMpOyBhcGkuaW5pdGlhbGl6ZUNsYXNzRWxlbWVudHMoci5GLCBkZWNvcmF0ZWQuZWxlbWVudHMpOyByZXR1cm4gYXBpLnJ1bkNsYXNzRmluaXNoZXJzKHIuRiwgZGVjb3JhdGVkLmZpbmlzaGVycyk7IH1cblxuZnVuY3Rpb24gX2dldERlY29yYXRvcnNBcGkoKSB7IF9nZXREZWNvcmF0b3JzQXBpID0gZnVuY3Rpb24gX2dldERlY29yYXRvcnNBcGkoKSB7IHJldHVybiBhcGk7IH07IHZhciBhcGkgPSB7IGVsZW1lbnRzRGVmaW5pdGlvbk9yZGVyOiBbW1wibWV0aG9kXCJdLCBbXCJmaWVsZFwiXV0sIGluaXRpYWxpemVJbnN0YW5jZUVsZW1lbnRzOiBmdW5jdGlvbiBpbml0aWFsaXplSW5zdGFuY2VFbGVtZW50cyhPLCBlbGVtZW50cykgeyBbXCJtZXRob2RcIiwgXCJmaWVsZFwiXS5mb3JFYWNoKGZ1bmN0aW9uIChraW5kKSB7IGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgaWYgKGVsZW1lbnQua2luZCA9PT0ga2luZCAmJiBlbGVtZW50LnBsYWNlbWVudCA9PT0gXCJvd25cIikgeyB0aGlzLmRlZmluZUNsYXNzRWxlbWVudChPLCBlbGVtZW50KTsgfSB9LCB0aGlzKTsgfSwgdGhpcyk7IH0sIGluaXRpYWxpemVDbGFzc0VsZW1lbnRzOiBmdW5jdGlvbiBpbml0aWFsaXplQ2xhc3NFbGVtZW50cyhGLCBlbGVtZW50cykgeyB2YXIgcHJvdG8gPSBGLnByb3RvdHlwZTsgW1wibWV0aG9kXCIsIFwiZmllbGRcIl0uZm9yRWFjaChmdW5jdGlvbiAoa2luZCkgeyBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IHZhciBwbGFjZW1lbnQgPSBlbGVtZW50LnBsYWNlbWVudDsgaWYgKGVsZW1lbnQua2luZCA9PT0ga2luZCAmJiAocGxhY2VtZW50ID09PSBcInN0YXRpY1wiIHx8IHBsYWNlbWVudCA9PT0gXCJwcm90b3R5cGVcIikpIHsgdmFyIHJlY2VpdmVyID0gcGxhY2VtZW50ID09PSBcInN0YXRpY1wiID8gRiA6IHByb3RvOyB0aGlzLmRlZmluZUNsYXNzRWxlbWVudChyZWNlaXZlciwgZWxlbWVudCk7IH0gfSwgdGhpcyk7IH0sIHRoaXMpOyB9LCBkZWZpbmVDbGFzc0VsZW1lbnQ6IGZ1bmN0aW9uIGRlZmluZUNsYXNzRWxlbWVudChyZWNlaXZlciwgZWxlbWVudCkgeyB2YXIgZGVzY3JpcHRvciA9IGVsZW1lbnQuZGVzY3JpcHRvcjsgaWYgKGVsZW1lbnQua2luZCA9PT0gXCJmaWVsZFwiKSB7IHZhciBpbml0aWFsaXplciA9IGVsZW1lbnQuaW5pdGlhbGl6ZXI7IGRlc2NyaXB0b3IgPSB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHZhbHVlOiBpbml0aWFsaXplciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdGlhbGl6ZXIuY2FsbChyZWNlaXZlcikgfTsgfSBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIGVsZW1lbnQua2V5LCBkZXNjcmlwdG9yKTsgfSwgZGVjb3JhdGVDbGFzczogZnVuY3Rpb24gZGVjb3JhdGVDbGFzcyhlbGVtZW50cywgZGVjb3JhdG9ycykgeyB2YXIgbmV3RWxlbWVudHMgPSBbXTsgdmFyIGZpbmlzaGVycyA9IFtdOyB2YXIgcGxhY2VtZW50cyA9IHsgXCJzdGF0aWNcIjogW10sIHByb3RvdHlwZTogW10sIG93bjogW10gfTsgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgeyB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7IH0sIHRoaXMpOyBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IGlmICghX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHJldHVybiBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnQpOyB2YXIgZWxlbWVudEZpbmlzaGVyc0V4dHJhcyA9IHRoaXMuZGVjb3JhdGVFbGVtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpOyBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZWxlbWVudCk7IG5ld0VsZW1lbnRzLnB1c2guYXBwbHkobmV3RWxlbWVudHMsIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZXh0cmFzKTsgZmluaXNoZXJzLnB1c2guYXBwbHkoZmluaXNoZXJzLCBlbGVtZW50RmluaXNoZXJzRXh0cmFzLmZpbmlzaGVycyk7IH0sIHRoaXMpOyBpZiAoIWRlY29yYXRvcnMpIHsgcmV0dXJuIHsgZWxlbWVudHM6IG5ld0VsZW1lbnRzLCBmaW5pc2hlcnM6IGZpbmlzaGVycyB9OyB9IHZhciByZXN1bHQgPSB0aGlzLmRlY29yYXRlQ29uc3RydWN0b3IobmV3RWxlbWVudHMsIGRlY29yYXRvcnMpOyBmaW5pc2hlcnMucHVzaC5hcHBseShmaW5pc2hlcnMsIHJlc3VsdC5maW5pc2hlcnMpOyByZXN1bHQuZmluaXNoZXJzID0gZmluaXNoZXJzOyByZXR1cm4gcmVzdWx0OyB9LCBhZGRFbGVtZW50UGxhY2VtZW50OiBmdW5jdGlvbiBhZGRFbGVtZW50UGxhY2VtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMsIHNpbGVudCkgeyB2YXIga2V5cyA9IHBsYWNlbWVudHNbZWxlbWVudC5wbGFjZW1lbnRdOyBpZiAoIXNpbGVudCAmJiBrZXlzLmluZGV4T2YoZWxlbWVudC5rZXkpICE9PSAtMSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRHVwbGljYXRlZCBlbGVtZW50IChcIiArIGVsZW1lbnQua2V5ICsgXCIpXCIpOyB9IGtleXMucHVzaChlbGVtZW50LmtleSk7IH0sIGRlY29yYXRlRWxlbWVudDogZnVuY3Rpb24gZGVjb3JhdGVFbGVtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpIHsgdmFyIGV4dHJhcyA9IFtdOyB2YXIgZmluaXNoZXJzID0gW107IGZvciAodmFyIGRlY29yYXRvcnMgPSBlbGVtZW50LmRlY29yYXRvcnMsIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7IHZhciBrZXlzID0gcGxhY2VtZW50c1tlbGVtZW50LnBsYWNlbWVudF07IGtleXMuc3BsaWNlKGtleXMuaW5kZXhPZihlbGVtZW50LmtleSksIDEpOyB2YXIgZWxlbWVudE9iamVjdCA9IHRoaXMuZnJvbUVsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnQpOyB2YXIgZWxlbWVudEZpbmlzaGVyRXh0cmFzID0gdGhpcy50b0VsZW1lbnRGaW5pc2hlckV4dHJhcygoMCwgZGVjb3JhdG9yc1tpXSkoZWxlbWVudE9iamVjdCkgfHwgZWxlbWVudE9iamVjdCk7IGVsZW1lbnQgPSBlbGVtZW50RmluaXNoZXJFeHRyYXMuZWxlbWVudDsgdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpOyBpZiAoZWxlbWVudEZpbmlzaGVyRXh0cmFzLmZpbmlzaGVyKSB7IGZpbmlzaGVycy5wdXNoKGVsZW1lbnRGaW5pc2hlckV4dHJhcy5maW5pc2hlcik7IH0gdmFyIG5ld0V4dHJhcyA9IGVsZW1lbnRGaW5pc2hlckV4dHJhcy5leHRyYXM7IGlmIChuZXdFeHRyYXMpIHsgZm9yICh2YXIgaiA9IDA7IGogPCBuZXdFeHRyYXMubGVuZ3RoOyBqKyspIHsgdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KG5ld0V4dHJhc1tqXSwgcGxhY2VtZW50cyk7IH0gZXh0cmFzLnB1c2guYXBwbHkoZXh0cmFzLCBuZXdFeHRyYXMpOyB9IH0gcmV0dXJuIHsgZWxlbWVudDogZWxlbWVudCwgZmluaXNoZXJzOiBmaW5pc2hlcnMsIGV4dHJhczogZXh0cmFzIH07IH0sIGRlY29yYXRlQ29uc3RydWN0b3I6IGZ1bmN0aW9uIGRlY29yYXRlQ29uc3RydWN0b3IoZWxlbWVudHMsIGRlY29yYXRvcnMpIHsgdmFyIGZpbmlzaGVycyA9IFtdOyBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgeyB2YXIgb2JqID0gdGhpcy5mcm9tQ2xhc3NEZXNjcmlwdG9yKGVsZW1lbnRzKTsgdmFyIGVsZW1lbnRzQW5kRmluaXNoZXIgPSB0aGlzLnRvQ2xhc3NEZXNjcmlwdG9yKCgwLCBkZWNvcmF0b3JzW2ldKShvYmopIHx8IG9iaik7IGlmIChlbGVtZW50c0FuZEZpbmlzaGVyLmZpbmlzaGVyICE9PSB1bmRlZmluZWQpIHsgZmluaXNoZXJzLnB1c2goZWxlbWVudHNBbmRGaW5pc2hlci5maW5pc2hlcik7IH0gaWYgKGVsZW1lbnRzQW5kRmluaXNoZXIuZWxlbWVudHMgIT09IHVuZGVmaW5lZCkgeyBlbGVtZW50cyA9IGVsZW1lbnRzQW5kRmluaXNoZXIuZWxlbWVudHM7IGZvciAodmFyIGogPSAwOyBqIDwgZWxlbWVudHMubGVuZ3RoIC0gMTsgaisrKSB7IGZvciAodmFyIGsgPSBqICsgMTsgayA8IGVsZW1lbnRzLmxlbmd0aDsgaysrKSB7IGlmIChlbGVtZW50c1tqXS5rZXkgPT09IGVsZW1lbnRzW2tdLmtleSAmJiBlbGVtZW50c1tqXS5wbGFjZW1lbnQgPT09IGVsZW1lbnRzW2tdLnBsYWNlbWVudCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRHVwbGljYXRlZCBlbGVtZW50IChcIiArIGVsZW1lbnRzW2pdLmtleSArIFwiKVwiKTsgfSB9IH0gfSB9IHJldHVybiB7IGVsZW1lbnRzOiBlbGVtZW50cywgZmluaXNoZXJzOiBmaW5pc2hlcnMgfTsgfSwgZnJvbUVsZW1lbnREZXNjcmlwdG9yOiBmdW5jdGlvbiBmcm9tRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudCkgeyB2YXIgb2JqID0geyBraW5kOiBlbGVtZW50LmtpbmQsIGtleTogZWxlbWVudC5rZXksIHBsYWNlbWVudDogZWxlbWVudC5wbGFjZW1lbnQsIGRlc2NyaXB0b3I6IGVsZW1lbnQuZGVzY3JpcHRvciB9OyB2YXIgZGVzYyA9IHsgdmFsdWU6IFwiRGVzY3JpcHRvclwiLCBjb25maWd1cmFibGU6IHRydWUgfTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgU3ltYm9sLnRvU3RyaW5nVGFnLCBkZXNjKTsgaWYgKGVsZW1lbnQua2luZCA9PT0gXCJmaWVsZFwiKSBvYmouaW5pdGlhbGl6ZXIgPSBlbGVtZW50LmluaXRpYWxpemVyOyByZXR1cm4gb2JqOyB9LCB0b0VsZW1lbnREZXNjcmlwdG9yczogZnVuY3Rpb24gdG9FbGVtZW50RGVzY3JpcHRvcnMoZWxlbWVudE9iamVjdHMpIHsgaWYgKGVsZW1lbnRPYmplY3RzID09PSB1bmRlZmluZWQpIHJldHVybjsgcmV0dXJuIF90b0FycmF5KGVsZW1lbnRPYmplY3RzKS5tYXAoZnVuY3Rpb24gKGVsZW1lbnRPYmplY3QpIHsgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImZpbmlzaGVyXCIsIFwiQW4gZWxlbWVudCBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZWxlbWVudE9iamVjdCwgXCJleHRyYXNcIiwgXCJBbiBlbGVtZW50IGRlc2NyaXB0b3JcIik7IHJldHVybiBlbGVtZW50OyB9LCB0aGlzKTsgfSwgdG9FbGVtZW50RGVzY3JpcHRvcjogZnVuY3Rpb24gdG9FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50T2JqZWN0KSB7IHZhciBraW5kID0gU3RyaW5nKGVsZW1lbnRPYmplY3Qua2luZCk7IGlmIChraW5kICE9PSBcIm1ldGhvZFwiICYmIGtpbmQgIT09IFwiZmllbGRcIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbiBlbGVtZW50IGRlc2NyaXB0b3JcXCdzIC5raW5kIHByb3BlcnR5IG11c3QgYmUgZWl0aGVyIFwibWV0aG9kXCIgb3InICsgJyBcImZpZWxkXCIsIGJ1dCBhIGRlY29yYXRvciBjcmVhdGVkIGFuIGVsZW1lbnQgZGVzY3JpcHRvciB3aXRoJyArICcgLmtpbmQgXCInICsga2luZCArICdcIicpOyB9IHZhciBrZXkgPSBfdG9Qcm9wZXJ0eUtleShlbGVtZW50T2JqZWN0LmtleSk7IHZhciBwbGFjZW1lbnQgPSBTdHJpbmcoZWxlbWVudE9iamVjdC5wbGFjZW1lbnQpOyBpZiAocGxhY2VtZW50ICE9PSBcInN0YXRpY1wiICYmIHBsYWNlbWVudCAhPT0gXCJwcm90b3R5cGVcIiAmJiBwbGFjZW1lbnQgIT09IFwib3duXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQW4gZWxlbWVudCBkZXNjcmlwdG9yXFwncyAucGxhY2VtZW50IHByb3BlcnR5IG11c3QgYmUgb25lIG9mIFwic3RhdGljXCIsJyArICcgXCJwcm90b3R5cGVcIiBvciBcIm93blwiLCBidXQgYSBkZWNvcmF0b3IgY3JlYXRlZCBhbiBlbGVtZW50IGRlc2NyaXB0b3InICsgJyB3aXRoIC5wbGFjZW1lbnQgXCInICsgcGxhY2VtZW50ICsgJ1wiJyk7IH0gdmFyIGRlc2NyaXB0b3IgPSBlbGVtZW50T2JqZWN0LmRlc2NyaXB0b3I7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImVsZW1lbnRzXCIsIFwiQW4gZWxlbWVudCBkZXNjcmlwdG9yXCIpOyB2YXIgZWxlbWVudCA9IHsga2luZDoga2luZCwga2V5OiBrZXksIHBsYWNlbWVudDogcGxhY2VtZW50LCBkZXNjcmlwdG9yOiBPYmplY3QuYXNzaWduKHt9LCBkZXNjcmlwdG9yKSB9OyBpZiAoa2luZCAhPT0gXCJmaWVsZFwiKSB7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCBcImluaXRpYWxpemVyXCIsIFwiQSBtZXRob2QgZGVzY3JpcHRvclwiKTsgfSBlbHNlIHsgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KGRlc2NyaXB0b3IsIFwiZ2V0XCIsIFwiVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkoZGVzY3JpcHRvciwgXCJzZXRcIiwgXCJUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShkZXNjcmlwdG9yLCBcInZhbHVlXCIsIFwiVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yXCIpOyBlbGVtZW50LmluaXRpYWxpemVyID0gZWxlbWVudE9iamVjdC5pbml0aWFsaXplcjsgfSByZXR1cm4gZWxlbWVudDsgfSwgdG9FbGVtZW50RmluaXNoZXJFeHRyYXM6IGZ1bmN0aW9uIHRvRWxlbWVudEZpbmlzaGVyRXh0cmFzKGVsZW1lbnRPYmplY3QpIHsgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7IHZhciBmaW5pc2hlciA9IF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkoZWxlbWVudE9iamVjdCwgXCJmaW5pc2hlclwiKTsgdmFyIGV4dHJhcyA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcnMoZWxlbWVudE9iamVjdC5leHRyYXMpOyByZXR1cm4geyBlbGVtZW50OiBlbGVtZW50LCBmaW5pc2hlcjogZmluaXNoZXIsIGV4dHJhczogZXh0cmFzIH07IH0sIGZyb21DbGFzc0Rlc2NyaXB0b3I6IGZ1bmN0aW9uIGZyb21DbGFzc0Rlc2NyaXB0b3IoZWxlbWVudHMpIHsgdmFyIG9iaiA9IHsga2luZDogXCJjbGFzc1wiLCBlbGVtZW50czogZWxlbWVudHMubWFwKHRoaXMuZnJvbUVsZW1lbnREZXNjcmlwdG9yLCB0aGlzKSB9OyB2YXIgZGVzYyA9IHsgdmFsdWU6IFwiRGVzY3JpcHRvclwiLCBjb25maWd1cmFibGU6IHRydWUgfTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgU3ltYm9sLnRvU3RyaW5nVGFnLCBkZXNjKTsgcmV0dXJuIG9iajsgfSwgdG9DbGFzc0Rlc2NyaXB0b3I6IGZ1bmN0aW9uIHRvQ2xhc3NEZXNjcmlwdG9yKG9iaikgeyB2YXIga2luZCA9IFN0cmluZyhvYmoua2luZCk7IGlmIChraW5kICE9PSBcImNsYXNzXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBjbGFzcyBkZXNjcmlwdG9yXFwncyAua2luZCBwcm9wZXJ0eSBtdXN0IGJlIFwiY2xhc3NcIiwgYnV0IGEgZGVjb3JhdG9yJyArICcgY3JlYXRlZCBhIGNsYXNzIGRlc2NyaXB0b3Igd2l0aCAua2luZCBcIicgKyBraW5kICsgJ1wiJyk7IH0gdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgXCJrZXlcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwicGxhY2VtZW50XCIsIFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpOyB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCBcImRlc2NyaXB0b3JcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwiaW5pdGlhbGl6ZXJcIiwgXCJBIGNsYXNzIGRlc2NyaXB0b3JcIik7IHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosIFwiZXh0cmFzXCIsIFwiQSBjbGFzcyBkZXNjcmlwdG9yXCIpOyB2YXIgZmluaXNoZXIgPSBfb3B0aW9uYWxDYWxsYWJsZVByb3BlcnR5KG9iaiwgXCJmaW5pc2hlclwiKTsgdmFyIGVsZW1lbnRzID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9ycyhvYmouZWxlbWVudHMpOyByZXR1cm4geyBlbGVtZW50czogZWxlbWVudHMsIGZpbmlzaGVyOiBmaW5pc2hlciB9OyB9LCBydW5DbGFzc0ZpbmlzaGVyczogZnVuY3Rpb24gcnVuQ2xhc3NGaW5pc2hlcnMoY29uc3RydWN0b3IsIGZpbmlzaGVycykgeyBmb3IgKHZhciBpID0gMDsgaSA8IGZpbmlzaGVycy5sZW5ndGg7IGkrKykgeyB2YXIgbmV3Q29uc3RydWN0b3IgPSAoMCwgZmluaXNoZXJzW2ldKShjb25zdHJ1Y3Rvcik7IGlmIChuZXdDb25zdHJ1Y3RvciAhPT0gdW5kZWZpbmVkKSB7IGlmICh0eXBlb2YgbmV3Q29uc3RydWN0b3IgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmluaXNoZXJzIG11c3QgcmV0dXJuIGEgY29uc3RydWN0b3IuXCIpOyB9IGNvbnN0cnVjdG9yID0gbmV3Q29uc3RydWN0b3I7IH0gfSByZXR1cm4gY29uc3RydWN0b3I7IH0sIGRpc2FsbG93UHJvcGVydHk6IGZ1bmN0aW9uIGRpc2FsbG93UHJvcGVydHkob2JqLCBuYW1lLCBvYmplY3RUeXBlKSB7IGlmIChvYmpbbmFtZV0gIT09IHVuZGVmaW5lZCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKG9iamVjdFR5cGUgKyBcIiBjYW4ndCBoYXZlIGEgLlwiICsgbmFtZSArIFwiIHByb3BlcnR5LlwiKTsgfSB9IH07IHJldHVybiBhcGk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUVsZW1lbnREZXNjcmlwdG9yKGRlZikgeyB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZGVmLmtleSk7IHZhciBkZXNjcmlwdG9yOyBpZiAoZGVmLmtpbmQgPT09IFwibWV0aG9kXCIpIHsgZGVzY3JpcHRvciA9IHsgdmFsdWU6IGRlZi52YWx1ZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UgfTsgfSBlbHNlIGlmIChkZWYua2luZCA9PT0gXCJnZXRcIikgeyBkZXNjcmlwdG9yID0geyBnZXQ6IGRlZi52YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSB9OyB9IGVsc2UgaWYgKGRlZi5raW5kID09PSBcInNldFwiKSB7IGRlc2NyaXB0b3IgPSB7IHNldDogZGVmLnZhbHVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlIH07IH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09IFwiZmllbGRcIikgeyBkZXNjcmlwdG9yID0geyBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlIH07IH0gdmFyIGVsZW1lbnQgPSB7IGtpbmQ6IGRlZi5raW5kID09PSBcImZpZWxkXCIgPyBcImZpZWxkXCIgOiBcIm1ldGhvZFwiLCBrZXk6IGtleSwgcGxhY2VtZW50OiBkZWZbXCJzdGF0aWNcIl0gPyBcInN0YXRpY1wiIDogZGVmLmtpbmQgPT09IFwiZmllbGRcIiA/IFwib3duXCIgOiBcInByb3RvdHlwZVwiLCBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yIH07IGlmIChkZWYuZGVjb3JhdG9ycykgZWxlbWVudC5kZWNvcmF0b3JzID0gZGVmLmRlY29yYXRvcnM7IGlmIChkZWYua2luZCA9PT0gXCJmaWVsZFwiKSBlbGVtZW50LmluaXRpYWxpemVyID0gZGVmLnZhbHVlOyByZXR1cm4gZWxlbWVudDsgfVxuXG5mdW5jdGlvbiBfY29hbGVzY2VHZXR0ZXJTZXR0ZXIoZWxlbWVudCwgb3RoZXIpIHsgaWYgKGVsZW1lbnQuZGVzY3JpcHRvci5nZXQgIT09IHVuZGVmaW5lZCkgeyBvdGhlci5kZXNjcmlwdG9yLmdldCA9IGVsZW1lbnQuZGVzY3JpcHRvci5nZXQ7IH0gZWxzZSB7IG90aGVyLmRlc2NyaXB0b3Iuc2V0ID0gZWxlbWVudC5kZXNjcmlwdG9yLnNldDsgfSB9XG5cbmZ1bmN0aW9uIF9jb2FsZXNjZUNsYXNzRWxlbWVudHMoZWxlbWVudHMpIHsgdmFyIG5ld0VsZW1lbnRzID0gW107IHZhciBpc1NhbWVFbGVtZW50ID0gZnVuY3Rpb24gaXNTYW1lRWxlbWVudChvdGhlcikgeyByZXR1cm4gb3RoZXIua2luZCA9PT0gXCJtZXRob2RcIiAmJiBvdGhlci5rZXkgPT09IGVsZW1lbnQua2V5ICYmIG90aGVyLnBsYWNlbWVudCA9PT0gZWxlbWVudC5wbGFjZW1lbnQ7IH07IGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpXTsgdmFyIG90aGVyOyBpZiAoZWxlbWVudC5raW5kID09PSBcIm1ldGhvZFwiICYmIChvdGhlciA9IG5ld0VsZW1lbnRzLmZpbmQoaXNTYW1lRWxlbWVudCkpKSB7IGlmIChfaXNEYXRhRGVzY3JpcHRvcihlbGVtZW50LmRlc2NyaXB0b3IpIHx8IF9pc0RhdGFEZXNjcmlwdG9yKG90aGVyLmRlc2NyaXB0b3IpKSB7IGlmIChfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB8fCBfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiRHVwbGljYXRlZCBtZXRob2RzIChcIiArIGVsZW1lbnQua2V5ICsgXCIpIGNhbid0IGJlIGRlY29yYXRlZC5cIik7IH0gb3RoZXIuZGVzY3JpcHRvciA9IGVsZW1lbnQuZGVzY3JpcHRvcjsgfSBlbHNlIHsgaWYgKF9oYXNEZWNvcmF0b3JzKGVsZW1lbnQpKSB7IGlmIChfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiRGVjb3JhdG9ycyBjYW4ndCBiZSBwbGFjZWQgb24gZGlmZmVyZW50IGFjY2Vzc29ycyB3aXRoIGZvciBcIiArIFwidGhlIHNhbWUgcHJvcGVydHkgKFwiICsgZWxlbWVudC5rZXkgKyBcIikuXCIpOyB9IG90aGVyLmRlY29yYXRvcnMgPSBlbGVtZW50LmRlY29yYXRvcnM7IH0gX2NvYWxlc2NlR2V0dGVyU2V0dGVyKGVsZW1lbnQsIG90aGVyKTsgfSB9IGVsc2UgeyBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnQpOyB9IH0gcmV0dXJuIG5ld0VsZW1lbnRzOyB9XG5cbmZ1bmN0aW9uIF9oYXNEZWNvcmF0b3JzKGVsZW1lbnQpIHsgcmV0dXJuIGVsZW1lbnQuZGVjb3JhdG9ycyAmJiBlbGVtZW50LmRlY29yYXRvcnMubGVuZ3RoOyB9XG5cbmZ1bmN0aW9uIF9pc0RhdGFEZXNjcmlwdG9yKGRlc2MpIHsgcmV0dXJuIGRlc2MgIT09IHVuZGVmaW5lZCAmJiAhKGRlc2MudmFsdWUgPT09IHVuZGVmaW5lZCAmJiBkZXNjLndyaXRhYmxlID09PSB1bmRlZmluZWQpOyB9XG5cbmZ1bmN0aW9uIF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkob2JqLCBuYW1lKSB7IHZhciB2YWx1ZSA9IG9ialtuYW1lXTsgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkICdcIiArIG5hbWUgKyBcIicgdG8gYmUgYSBmdW5jdGlvblwiKTsgfSByZXR1cm4gdmFsdWU7IH1cblxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cblxuZnVuY3Rpb24gX3RvQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09IFwiW29iamVjdCBBcmd1bWVudHNdXCIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5mdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0LmdldCkgeyBfZ2V0ID0gUmVmbGVjdC5nZXQ7IH0gZWxzZSB7IF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IHZhciBiYXNlID0gX3N1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7IGlmICghYmFzZSkgcmV0dXJuOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpOyBpZiAoZGVzYy5nZXQpIHsgcmV0dXJuIGRlc2MuZ2V0LmNhbGwocmVjZWl2ZXIpOyB9IHJldHVybiBkZXNjLnZhbHVlOyB9OyB9IHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7IH1cblxuZnVuY3Rpb24gX3N1cGVyUHJvcEJhc2Uob2JqZWN0LCBwcm9wZXJ0eSkgeyB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkgeyBvYmplY3QgPSBfZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgYnJlYWs7IH0gcmV0dXJuIG9iamVjdDsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbnZhciBMZWFmID0gcmVxdWlyZSgnLi9MZWFmJyk7XG5cbnZhciBfQ09OU1QgPSByZXF1aXJlKCcuL19DT05TVCcpO1xuXG52YXIgX0NPUFkgPSByZXF1aXJlKCcuL19jb3B5Jyk7XG5cbnZhciBzeXN0b2xlRGlhc3RvbGUgPSByZXF1aXJlKCcuL2RlY29yYXRvcnMvc3lzdG9sZURpYXN0b2xlJyk7XG5cbnZhciBOb2RlID0gX2RlY29yYXRlKG51bGwsIGZ1bmN0aW9uIChfaW5pdGlhbGl6ZSwgX0xlYWYpIHtcbiAgdmFyIE5vZGUgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfTGVhZjIpIHtcbiAgICBfaW5oZXJpdHMoTm9kZSwgX0xlYWYyKTtcblxuICAgIGZ1bmN0aW9uIE5vZGUoKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb2RlKTtcblxuICAgICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoTm9kZSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICBfaW5pdGlhbGl6ZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG5cbiAgICAgIF90aGlzLmlzTm9kZSA9IHRydWU7XG4gICAgICAvKipcbiAgICAgICAgVGhlIG9iamVjdCBob2xkcyB0aGUgSW5jaWRlbnRzIG9mIHRoZSBTY2VuZSBvbiB0aGUgZm9ybWF0OlxuICAgICAgICB7XG4gICAgICAgICAgICA8aWQ+OiB7XG4gICAgICAgICAgICAgICAgICBpZCAvLyB0aGUgaWQgb2YgdGhlIEluY2lkZW50IG9iamVjdFxuICAgICAgICAgICAgICAgICAgbGVhZiAvLyB0aGUgaW5jaWRlbnQgb2JqZWN0XG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbiAvLyB0aGUgcG9zaXRpb24gb2YgdGhlIGluY2lkZW50XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLi4uXG4gICAgICAgIH1cbiAgICAgICAgICovXG5cbiAgICAgIF90aGlzLmNoaWxkcmVuID0ge307XG4gICAgICBfdGhpcy5jYWxjdWxhdGVkRHVyYXRpb24gPSAwO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBOb2RlO1xuICB9KF9MZWFmKTtcblxuICByZXR1cm4ge1xuICAgIEY6IE5vZGUsXG4gICAgZDogW3tcbiAgICAgIGtpbmQ6IFwiZ2V0XCIsXG4gICAgICBrZXk6IFwiZHVyYXRpb25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkdXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlZER1cmF0aW9uO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwic2V0XCIsXG4gICAgICBrZXk6IFwiZHVyYXRpb25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkdXJhdGlvbihuZXdEdXJhdGlvbikge1xuICAgICAgICB2YXIgZHVyYXRpb25GcmFjdGlvbiA9IG5ld0R1cmF0aW9uIC8gdGhpcy5kdXJhdGlvbjtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcykge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5wcm9wcywgXCJkdXJhdGlvblwiKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5kdXJhdGlvbiA9IG5ld0R1cmF0aW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlZER1cmF0aW9uID0gbmV3RHVyYXRpb247XG5cbiAgICAgICAgZm9yICh2YXIgY2hpbGRLZXkgaW4gdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5bY2hpbGRLZXldO1xuICAgICAgICAgIHRoaXMuZWRpdFBvc2l0aW9uKGNoaWxkLmlkLCBjaGlsZC5wb3NpdGlvbiAqIGR1cmF0aW9uRnJhY3Rpb24sIHRydWUpO1xuICAgICAgICAgIGNoaWxkLmxlYWYuc3lzdG9sZURpYXN0b2xlKGR1cmF0aW9uRnJhY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJzZXROZXdEdXJhdGlvblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE5ld0R1cmF0aW9uKG5ld0R1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBuZXdEdXJhdGlvbjtcbiAgICAgICAgdGhpcy5wdXRNZXNzYWdlT25QaXBlKCdyZWNhbGNEdXJhdGlvbicsIHt9LCAnR3JvdXBzJywge1xuICAgICAgICAgIHNlbGZFeGVjdXRlOiBmYWxzZSxcbiAgICAgICAgICBkaXJlY3Rpb246IF9DT05TVC5fRElSRUNUSU9OUy5fVVBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJfY2FsY3VsYXRlRHVyYXRpb25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY2FsY3VsYXRlRHVyYXRpb24oKSB7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgY2hpbGRLZXkgaW4gdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5bY2hpbGRLZXldO1xuXG4gICAgICAgICAgaWYgKGNoaWxkLnBvc2l0aW9uICsgY2hpbGQubGVhZi5kdXJhdGlvbiA+IGR1cmF0aW9uKSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IGNoaWxkLnBvc2l0aW9uICsgY2hpbGQubGVhZi5kdXJhdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZHVyYXRpb24gPT09IHRoaXMuY2FsY3VsYXRlZER1cmF0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMucHJvcHMsIFwiZHVyYXRpb25cIikpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGN1bGF0ZWREdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAgZGVjb3JhdG9yczogW3N5c3RvbGVEaWFzdG9sZV0sXG4gICAgICBrZXk6IFwic3lzdG9sZURpYXN0b2xlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc3lzdG9sZURpYXN0b2xlKCkge31cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImhhbmRsZVJlY2FsY0R1cmF0aW9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUmVjYWxjRHVyYXRpb24odGFyZ2V0LCBwYXlsb2FkKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgICAgaWYgKHRoaXMuX2NhbGN1bGF0ZUR1cmF0aW9uKCkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5wdXRNZXNzYWdlT25QaXBlKCdyZWNhbGNEdXJhdGlvbicsIHt9LCAnR3JvdXBzJywge1xuICAgICAgICAgICAgc2VsZkV4ZWN1dGU6IGZhbHNlLFxuICAgICAgICAgICAgZGlyZWN0aW9uOiBfQ09OU1QuX0RJUkVDVElPTlMuX1VQXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImdldExlYWZCeUlkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGVhZkJ5SWQoaWQpIHtcbiAgICAgICAgdmFyIG9ubHlEaXJlY3RDaGlsZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG5cbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmNoaWxkcmVuLCBpZCkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpZF0ubGVhZjtcbiAgICAgICAgfSBlbHNlIGlmIChvbmx5RGlyZWN0Q2hpbGQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgZm9yICh2YXIgY2hpbGQgaW4gdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIGNoaWxkTGVhZiA9IHRoaXMuY2hpbGRyZW5bY2hpbGRdLmxlYWY7XG5cbiAgICAgICAgICAgIGlmIChjaGlsZExlYWYuaXNOb2RlKSB7XG4gICAgICAgICAgICAgIHZhciBsZWFmID0gY2hpbGRMZWFmLmdldExlYWZCeUlkKGlkKTtcblxuICAgICAgICAgICAgICBpZiAobGVhZiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlYWY7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImdldExlYWZQb3NpdGlvblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldExlYWZQb3NpdGlvbihpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpZF0ucG9zaXRpb247XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJjaGVja0FkZGl0aW9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tBZGRpdGlvbihsZWFmLCBwb3NpdGlvbikge1xuICAgICAgICBpZiAobGVhZi5oYXNQYXJlbnQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgICAgICAgIHJlYXNvbjogX0NPUFkuX0xFQUZBTFJFQURZQVNTSUdORURcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN1bHQ6IGZhbHNlLFxuICAgICAgICAgICAgcmVhc29uOiBfQ09QWS5fTkVHQVRJVkVQT1NJVElPTk5PVEFMTE9XRURcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN1bHQ6IHRydWVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImFkZENoaWxkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ2hpbGQobGVhZiwgcG9zaXRpb24pIHtcbiAgICAgICAgLy8gdGhpcyBoYXNQYXJlbnQgY2hlY2sgb2NjdXJzIGhlcmUgYXMgYW4gZXh0cmEgc2VjdXJpdHkgY2hlY2sgc28gaXRcbiAgICAgICAgLy8gZ2V0cyBleGVjdXRlZCByZWdhcmRsZXNzIGlmIHRoZSB1c2VyIHdhbnRzIHRvIHBlcmZvcm0gY2hlY2tzIG9yIG5vdFxuICAgICAgICBpZiAobGVhZi5oYXNQYXJlbnQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgICAgICAgIHJlYXNvbjogX0NPUFkuX0xFQUZBTFJFQURZQVNTSUdORURcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbltsZWFmLmlkXSA9IHtcbiAgICAgICAgICBpZDogbGVhZi5pZCxcbiAgICAgICAgICBsZWFmOiBsZWFmLFxuICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvblxuICAgICAgICB9O1xuICAgICAgICBsZWFmLmF0dGFjaFRvTm9kZSh0aGlzKTtcbiAgICAgICAgdGhpcy5wdXRNZXNzYWdlT25QaXBlKCdyZWNhbGNEdXJhdGlvbicsIHt9LCAnR3JvdXBzJywge1xuICAgICAgICAgIHNlbGZFeGVjdXRlOiB0cnVlLFxuICAgICAgICAgIGRpcmVjdGlvbjogX0NPTlNULl9ESVJFQ1RJT05TLl9VUFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN1bHQ6IHRydWVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBraW5kOiBcIm1ldGhvZFwiLFxuICAgICAga2V5OiBcImNoZWNrUmVtb3ZlQ2hpbGRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja1JlbW92ZUNoaWxkKGlkKSB7XG4gICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY2hpbGRyZW4sIGlkKSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN1bHQ6IGZhbHNlLFxuICAgICAgICAgICAgcmVhc29uOiBfQ09QWS5fTEVBRk5PVEZPVU5EXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdWx0OiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJyZW1vdmVDaGlsZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUNoaWxkKGlkKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baWRdLmxlYWYuZGV0YWNoRnJvbVBhcmVudCgpO1xuICAgICAgICBkZWxldGUgdGhpcy5jaGlsZHJlbltpZF07XG4gICAgICAgIHRoaXMucHV0TWVzc2FnZU9uUGlwZSgncmVjYWxjRHVyYXRpb24nLCB7fSwgJ0dyb3VwcycsIHtcbiAgICAgICAgICBzZWxmRXhlY3V0ZTogdHJ1ZSxcbiAgICAgICAgICBkaXJlY3Rpb246IF9DT05TVC5fRElSRUNUSU9OUy5fVVBcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdWx0OiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJjaGVja0VkaXRQb3NpdGlvblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrRWRpdFBvc2l0aW9uKGlkLCBwb3NpdGlvbikge1xuICAgICAgICBpZiAocG9zaXRpb24gPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3VsdDogZmFsc2UsXG4gICAgICAgICAgICByZWFzb246IF9DT1BZLl9ORUdBVElWRVBPU0lUSU9OTk9UQUxMT1dFRFxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmNoaWxkcmVuLCBpZCkpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgICAgICAgIHJlYXNvbjogX0NPUFkuX0xFQUZOT1RGT1VORFxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgICBrZXk6IFwiZWRpdFBvc2l0aW9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZWRpdFBvc2l0aW9uKGlkLCBwb3NpdGlvbikge1xuICAgICAgICB2YXIgYnlwYXNzUmVjYWxjRHVyYXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jaGlsZHJlbiwgaWQpKSB7XG4gICAgICAgICAgdGhpcy5jaGlsZHJlbltpZF0ucG9zaXRpb24gPSBwb3NpdGlvbjtcblxuICAgICAgICAgIGlmIChieXBhc3NSZWNhbGNEdXJhdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMucHV0TWVzc2FnZU9uUGlwZSgncmVjYWxjRHVyYXRpb24nLCB7fSwgJ0dyb3VwcycsIHtcbiAgICAgICAgICAgICAgc2VsZkV4ZWN1dGU6IHRydWUsXG4gICAgICAgICAgICAgIGRpcmVjdGlvbjogX0NPTlNULl9ESVJFQ1RJT05TLl9VUFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3VsdDogdHJ1ZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgVGhlIGV4cGVjdGVkIHJlc3VsdCBvZiB0aGlzIG1ldGhvZCBkZXBlbmRzIG9uIHRoZSBkaXJlY3Rpb24gb2YgdGhlIG1lc3NhZ2VcbiAgICAgIFRoZSBkaXJlY3Rpb24gbWlnaHQgZWl0aGVyIGJlIF9VUCBvciBfRE9XTi5cbiAgICAgIEluIHRoZSBjYXNlIG9mIF9VUCB0aGUgZXhwZWN0ZWQgcmVzdWx0IGlzIGlkZW50aWNhbCBhcyBvbiBMZWFmOlxuICAgICAge1xuICAgICAgICAgIHJlc3BvbnNlOiBhbiBvYmplY3QgdGhlIHN0cnVjdHVyZSBvZiB3aGljaCBkZXBlbmRzIG9uIHRoZSBuYW1lIG9mIHRoZSBtZXNzYWdlXG4gICAgICAgICAgICAgIGFuZCBtYXliZSBldmVuIG9uIHRoZSBwYXlsb2FkXG4gICAgICAgICAgcmVzcG9uZGVyOiBhIGRpcmVjdCByZWZlcmVuY2UgdG8gdGhlIGxlYWQgdGhhdCBhY3R1YWxseSByZXNwb25kZWRcbiAgICAgIH1cbiAgICAgIEluIHRoZSBjYXNlIG9mIF9ET1dOIHRob3VnaCwgd2hlcmUgbXVsdGlwbGUgTGVhZnMgbWlnaHQgYmUgZWxpZ2libGUgaW4gdGhlIHRyZWVcbiAgICAgIGZvciBoYW5kbGluZyB0aGUgbWVzc2FnZSB0aGUgcmVzdWx0IGlzIG9uIHRoZSBmb3JtOlxuICAgICAgW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcmVzcG9uc2U6IGFuIG9iamVjdCB0aGUgc3RydWN0dXJlIG9mIHdoaWNoIGRlcGVuZHMgb24gdGhlIG5hbWUgb2YgdGhlIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgIGFuZCBtYXliZSBldmVuIG9uIHRoZSBwYXlsb2FkXG4gICAgICAgICAgICAgIHJlc3BvbmRlcjogYSBkaXJlY3QgcmVmZXJlbmNlIHRvIHRoZSBsZWFkIHRoYXQgYWN0dWFsbHkgcmVzcG9uZGVkXG4gICAgICAgICAgICAgIHBvc2l0aW9uRGVsdGE6IHRoZSBwb3NpdGlvbiBkZWx0YSBvZiB0aGUgcmVzcG9uZGVyIGNvbXBhcmVkIHRvIHRoZSByZXF1ZXN0ZXJcbiAgICAgICAgICB9XG4gICAgICBdXG4gICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2luZDogXCJtZXRob2RcIixcbiAgICAgIGtleTogXCJwdXRNZXNzYWdlT25QaXBlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcHV0TWVzc2FnZU9uUGlwZShuYW1lLCBwYXlsb2FkLCB0YXJnZXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuXG4gICAgICAgIC8vIGRlZmF1bHQgZGlyZWN0aW9uOiBfRE9XTlxuICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnZGlyZWN0aW9uJykpIHtcbiAgICAgICAgICBvcHRpb25zLmRpcmVjdGlvbiA9IF9DT05TVC5fRElSRUNUSU9OUy5fRE9XTjtcbiAgICAgICAgfSAvLyBkZWZhdWx0IHBvc2l0aW9uRGVsdGEgPSAwXG5cblxuICAgICAgICBpZiAob3B0aW9ucy5kaXJlY3Rpb24gPT09IF9DT05TVC5fRElSRUNUSU9OUy5fRE9XTiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICdwb3NpdGlvbkRlbHRhJykpIHtcbiAgICAgICAgICBvcHRpb25zLnBvc2l0aW9uRGVsdGEgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZGlyZWN0aW9uID09PSBfQ09OU1QuX0RJUkVDVElPTlMuX1VQKSB7XG4gICAgICAgICAgLy8gaWYgdGhlIGRpcmVjdGlvbiBpcyB1cFxuICAgICAgICAgIHJldHVybiBfZ2V0KF9nZXRQcm90b3R5cGVPZihOb2RlLnByb3RvdHlwZSksIFwicHV0TWVzc2FnZU9uUGlwZVwiLCB0aGlzKS5jYWxsKHRoaXMsIG5hbWUsIHBheWxvYWQsIHRhcmdldCwgb3B0aW9ucyk7IC8vIGFjdCBleGFjdGx5IGFzIGFueSBvdGhlciBMZWFmXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IF9nZXQoX2dldFByb3RvdHlwZU9mKE5vZGUucHJvdG90eXBlKSwgXCJwdXRNZXNzYWdlT25QaXBlXCIsIHRoaXMpLmNhbGwodGhpcywgbmFtZSwgcGF5bG9hZCwgdGFyZ2V0LCBvcHRpb25zKTtcblxuICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IgKHZhciBjaGlsZCBpbiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICB2YXIgbGVhZiA9IHRoaXMuY2hpbGRyZW5bY2hpbGRdLmxlYWY7XG5cbiAgICAgICAgICAgIHZhciBuZXdPcHRpb25zID0gX29iamVjdFNwcmVhZCh7fSwgb3B0aW9ucywge1xuICAgICAgICAgICAgICBzZWxmRXhlY3V0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgcG9zaXRpb25EZWx0YTogb3B0aW9ucy5wb3NpdGlvbkRlbHRhICsgdGhpcy5jaGlsZHJlbltjaGlsZF0ucG9zaXRpb25cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGxlYWYucHV0TWVzc2FnZU9uUGlwZShuYW1lLCBwYXlsb2FkLCB0YXJnZXQsIG5ld09wdGlvbnMpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfV1cbiAgfTtcbn0sIExlYWYpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE5vZGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Tree/Node.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Tree/_CONST.js":
/*!*********************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Tree/_CONST.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = {\n  _STATE: {\n    _ROOTOFTREE: \"root_of_descriptive_clip\",\n    // this Descriptive Incident is directly attached to a real Clip\n    _FREE: \"free\" // this DI is neither attached to a real Clip nor has a parent on the Descriptive Tree\n\n  },\n  _DIRECTIONS: {\n    _UP: \"up\",\n    _DOWN: \"down\"\n  },\n  _TARGETTYPES: {\n    _ROOTOFTREE: \"native.tree.rootoftree\"\n  },\n  _BYPASS: \"native.tree.bypass\"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9UcmVlL19DT05TVC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L1RyZWUvX0NPTlNULmpzP2YzZTUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBfU1RBVEU6IHtcbiAgICBfUk9PVE9GVFJFRTogXCJyb290X29mX2Rlc2NyaXB0aXZlX2NsaXBcIixcbiAgICAvLyB0aGlzIERlc2NyaXB0aXZlIEluY2lkZW50IGlzIGRpcmVjdGx5IGF0dGFjaGVkIHRvIGEgcmVhbCBDbGlwXG4gICAgX0ZSRUU6IFwiZnJlZVwiIC8vIHRoaXMgREkgaXMgbmVpdGhlciBhdHRhY2hlZCB0byBhIHJlYWwgQ2xpcCBub3IgaGFzIGEgcGFyZW50IG9uIHRoZSBEZXNjcmlwdGl2ZSBUcmVlXG5cbiAgfSxcbiAgX0RJUkVDVElPTlM6IHtcbiAgICBfVVA6IFwidXBcIixcbiAgICBfRE9XTjogXCJkb3duXCJcbiAgfSxcbiAgX1RBUkdFVFRZUEVTOiB7XG4gICAgX1JPT1RPRlRSRUU6IFwibmF0aXZlLnRyZWUucm9vdG9mdHJlZVwiXG4gIH0sXG4gIF9CWVBBU1M6IFwibmF0aXZlLnRyZWUuYnlwYXNzXCJcbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Tree/_CONST.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Tree/_copy.js":
/*!********************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Tree/_copy.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = {\n  _LEAFALREADYASSIGNED: \"Leaf has already been attached to another Node\",\n  _NEGATIVEPOSITIONNOTALLOWED: \"Negative positioning of childs on nodes is not allowed\",\n  _LEAFNOTFOUND: \"The Leaf with the requested id couldn't be found on the Tree\"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9UcmVlL19jb3B5LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvVHJlZS9fY29weS5qcz85ZjJjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgX0xFQUZBTFJFQURZQVNTSUdORUQ6IFwiTGVhZiBoYXMgYWxyZWFkeSBiZWVuIGF0dGFjaGVkIHRvIGFub3RoZXIgTm9kZVwiLFxuICBfTkVHQVRJVkVQT1NJVElPTk5PVEFMTE9XRUQ6IFwiTmVnYXRpdmUgcG9zaXRpb25pbmcgb2YgY2hpbGRzIG9uIG5vZGVzIGlzIG5vdCBhbGxvd2VkXCIsXG4gIF9MRUFGTk9URk9VTkQ6IFwiVGhlIExlYWYgd2l0aCB0aGUgcmVxdWVzdGVkIGlkIGNvdWxkbid0IGJlIGZvdW5kIG9uIHRoZSBUcmVlXCJcbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Tree/_copy.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/Tree/decorators/systoleDiastole.js":
/*!*****************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/Tree/decorators/systoleDiastole.js ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction systoleDiastole(payload) {\n  payload.descriptor.value = function (durationFraction) {\n    this.duration = this.duration * durationFraction;\n  };\n}\n\nmodule.exports = systoleDiastole;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9UcmVlL2RlY29yYXRvcnMvc3lzdG9sZURpYXN0b2xlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvVHJlZS9kZWNvcmF0b3JzL3N5c3RvbGVEaWFzdG9sZS5qcz9hNDVhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBzeXN0b2xlRGlhc3RvbGUocGF5bG9hZCkge1xuICBwYXlsb2FkLmRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAoZHVyYXRpb25GcmFjdGlvbikge1xuICAgIHRoaXMuZHVyYXRpb24gPSB0aGlzLmR1cmF0aW9uICogZHVyYXRpb25GcmFjdGlvbjtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzeXN0b2xlRGlhc3RvbGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/Tree/decorators/systoleDiastole.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/_configuration/_CONST.js":
/*!*******************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/_configuration/_CONST.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = {\n  'atTheEndOfTheGroup': {\n    value: 'end',\n    purpose: \"It's used on Groups and more specifically on the addIncident (and thus also on addPassiveIncident) methods. It\\n            implies that the millisecond for the new incident to be added should be at the end of the Group\"\n  },\n  notCalculateableScratchValue: \"motorcortex2__notCalculateableScratchValue\"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9fY29uZmlndXJhdGlvbi9fQ09OU1QuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9fY29uZmlndXJhdGlvbi9fQ09OU1QuanM/ZjMzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICdhdFRoZUVuZE9mVGhlR3JvdXAnOiB7XG4gICAgdmFsdWU6ICdlbmQnLFxuICAgIHB1cnBvc2U6IFwiSXQncyB1c2VkIG9uIEdyb3VwcyBhbmQgbW9yZSBzcGVjaWZpY2FsbHkgb24gdGhlIGFkZEluY2lkZW50IChhbmQgdGh1cyBhbHNvIG9uIGFkZFBhc3NpdmVJbmNpZGVudCkgbWV0aG9kcy4gSXRcXG4gICAgICAgICAgICBpbXBsaWVzIHRoYXQgdGhlIG1pbGxpc2Vjb25kIGZvciB0aGUgbmV3IGluY2lkZW50IHRvIGJlIGFkZGVkIHNob3VsZCBiZSBhdCB0aGUgZW5kIG9mIHRoZSBHcm91cFwiXG4gIH0sXG4gIG5vdENhbGN1bGF0ZWFibGVTY3JhdGNoVmFsdWU6IFwibW90b3Jjb3J0ZXgyX19ub3RDYWxjdWxhdGVhYmxlU2NyYXRjaFZhbHVlXCJcbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/_configuration/_CONST.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/_configuration/generalConf.js":
/*!************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/_configuration/generalConf.js ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/*\nknown events:\n- state-change / meta: the name of the new state\n- attribute-rejection / meta: animationID, attributes\n- animation-rejection / meta: animationID\n- conflicts-on-edit\n*/\nvar conf = {\n  keyframe_sec_key: 'sec_',\n  elements_data_attribute_name: 'data-motorcortex2-id',\n  selfContainedContextHandler: 'closed',\n  logLevel: 1,\n  testMode: true,\n  logTypes: [{\n    key: 'info',\n    style: 'color: #666;',\n    level: 5\n  }, {\n    key: 'notice',\n    style: 'background: rgba(0, 0, 0, 0.8); color:white; padding:8px;',\n    level: 4\n  }, {\n    key: 'warning',\n    style: 'color: black; background: orange;',\n    level: 2\n  }, {\n    key: 'error',\n    style: 'color: black; background: red;',\n    level: 1\n  }]\n};\nmodule.exports = conf;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9fY29uZmlndXJhdGlvbi9nZW5lcmFsQ29uZi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L19jb25maWd1cmF0aW9uL2dlbmVyYWxDb25mLmpzP2MzMTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG5rbm93biBldmVudHM6XG4tIHN0YXRlLWNoYW5nZSAvIG1ldGE6IHRoZSBuYW1lIG9mIHRoZSBuZXcgc3RhdGVcbi0gYXR0cmlidXRlLXJlamVjdGlvbiAvIG1ldGE6IGFuaW1hdGlvbklELCBhdHRyaWJ1dGVzXG4tIGFuaW1hdGlvbi1yZWplY3Rpb24gLyBtZXRhOiBhbmltYXRpb25JRFxuLSBjb25mbGljdHMtb24tZWRpdFxuKi9cbnZhciBjb25mID0ge1xuICBrZXlmcmFtZV9zZWNfa2V5OiAnc2VjXycsXG4gIGVsZW1lbnRzX2RhdGFfYXR0cmlidXRlX25hbWU6ICdkYXRhLW1vdG9yY29ydGV4Mi1pZCcsXG4gIHNlbGZDb250YWluZWRDb250ZXh0SGFuZGxlcjogJ2Nsb3NlZCcsXG4gIGxvZ0xldmVsOiAxLFxuICB0ZXN0TW9kZTogdHJ1ZSxcbiAgbG9nVHlwZXM6IFt7XG4gICAga2V5OiAnaW5mbycsXG4gICAgc3R5bGU6ICdjb2xvcjogIzY2NjsnLFxuICAgIGxldmVsOiA1XG4gIH0sIHtcbiAgICBrZXk6ICdub3RpY2UnLFxuICAgIHN0eWxlOiAnYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjgpOyBjb2xvcjp3aGl0ZTsgcGFkZGluZzo4cHg7JyxcbiAgICBsZXZlbDogNFxuICB9LCB7XG4gICAga2V5OiAnd2FybmluZycsXG4gICAgc3R5bGU6ICdjb2xvcjogYmxhY2s7IGJhY2tncm91bmQ6IG9yYW5nZTsnLFxuICAgIGxldmVsOiAyXG4gIH0sIHtcbiAgICBrZXk6ICdlcnJvcicsXG4gICAgc3R5bGU6ICdjb2xvcjogYmxhY2s7IGJhY2tncm91bmQ6IHJlZDsnLFxuICAgIGxldmVsOiAxXG4gIH1dXG59O1xubW9kdWxlLmV4cG9ydHMgPSBjb25mOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/_configuration/generalConf.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js":
/*!***************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/** @classdesc Helper maintains a number of helpful functions in a single point  */\nvar conf = __webpack_require__(/*! ../_configuration/generalConf */ \"../node_modules/@kissmybutton/motorcortex/dist/_configuration/generalConf.js\"); // audio context initialisation\n\n\nwindow.AudioContext = window.AudioContext || window.webkitAudioContext;\nvar audioContext = new window.AudioContext();\n\nvar Helper =\n/*#__PURE__*/\nfunction () {\n  function Helper(configuration) {\n    _classCallCheck(this, Helper);\n\n    var logLevel = conf.logLevel;\n\n    if (configuration) {\n      if (Object.prototype.hasOwnProperty.call(configuration, \"logLevel\")) {\n        logLevel = configuration.logLevel;\n      }\n    }\n\n    this.lanesMCIDattrsSeperator = '___';\n\n    for (var i = 0; i < conf.logTypes.length; i++) {\n      var logType = conf.logTypes[i];\n\n      if (logLevel >= logType.level) {\n        if (conf.testMode === true) {\n          this[logType.key] = window.console.log.bind(window.console, \"MotorCortex - \".concat(logType.key, \": \"));\n        } else {\n          this[logType.key] = window.console.log.bind(window.console, \"MotorCortex - %c%s\", logType.style);\n        }\n      } else this[logType.key] = function () {};\n    }\n\n    if (logLevel >= 3) {\n      this.log = window.console.log.bind(window.console, \"MotorCortex - \");\n    } else this.log = function () {};\n  }\n\n  _createClass(Helper, [{\n    key: \"getAudioContext\",\n    value: function getAudioContext() {\n      return audioContext;\n    }\n  }, {\n    key: \"renderTemplate\",\n    value: function renderTemplate(templateString, templateVars) {\n      return new Function(\"return `\" + templateString + \"`;\").call(templateVars);\n    }\n    /**\n     * @returns {string} in the form \"1bc45f78-ab23-jl59\"\n     */\n\n  }, {\n    key: \"getAnId\",\n    value: function getAnId() {\n      var underscore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var specialChar = '-';\n\n      if (underscore) {\n        specialChar = '_';\n      }\n\n      function s4() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n      }\n\n      return s4() + s4() + specialChar + s4() + specialChar + s4();\n    }\n  }, {\n    key: \"getLaneKey\",\n    value: function getLaneKey(mcid, attribute) {\n      return mcid + this.lanesMCIDattrsSeperator + attribute;\n    }\n  }, {\n    key: \"getMCIDandAttrOutOfLaneKey\",\n    value: function getMCIDandAttrOutOfLaneKey(laneKey) {\n      var laneArray = laneKey.split(this.lanesMCIDattrsSeperator);\n      return {\n        mcid: laneArray[0],\n        attribute: laneArray[1]\n      };\n    }\n  }, {\n    key: \"getElementByMCID\",\n    value: function getElementByMCID(context, mcid) {\n      return context.rootElement.querySelectorAll('[' + conf.elements_data_attribute_name + '=\"' + mcid + '\"]')[0];\n    }\n    /**\n    subdivision might be rounding the number to its:\n    - units (subdivision = 1)\n    - tenths (subdivision = 10)\n    - hundreds (subdivision = 100)\n    - thousands (subdivision = 1000)\n     @param {string} int\n     @param {subdivision} int\n     @returns {int} the rounded number\n    */\n\n  }, {\n    key: \"roundNumberTo\",\n    value: function roundNumberTo(number, subdivision) {\n      return Math.round(number / subdivision) * subdivision;\n    }\n  }, {\n    key: \"isInteger\",\n    value: function isInteger(number) {\n      if (number === parseInt(number, 10)) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"isString\",\n    value: function isString(test) {\n      if (typeof test === 'string' || test instanceof String) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"isObject\",\n    value: function isObject(test) {\n      return _typeof(test) === \"object\";\n    }\n  }, {\n    key: \"isArray\",\n    value: function isArray(test) {\n      return Array.isArray(test);\n    }\n  }, {\n    key: \"isFunction\",\n    value: function isFunction(functionToCheck) {\n      return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\n    }\n    /**\n     * systole / diastole of the projections\n     * @returns {array} - collection of objects with keys: {id, start, end, startDelta}\n     **/\n\n  }, {\n    key: \"systoleDiastoleProjections\",\n    value: function systoleDiastoleProjections(projections, durationFraction, anchorPoint) {\n      var alteredProjections = [];\n\n      for (var i = 0; i < projections.length; i++) {\n        var projectedIncident = projections[i];\n        var msInResizedPortion = projectedIncident.parentMillisecond - anchorPoint;\n\n        if (durationFraction != 1) {\n          alteredProjections.push({\n            id: projectedIncident.incident.id,\n            start: msInResizedPortion * durationFraction + anchorPoint,\n            end: msInResizedPortion * durationFraction + anchorPoint + projectedIncident.incident.duration * durationFraction,\n            startDelta: msInResizedPortion * durationFraction + anchorPoint - projectedIncident.millisecond\n          });\n        }\n      }\n\n      return alteredProjections;\n    }\n  }, {\n    key: \"jsUcfirst\",\n    value: function jsUcfirst(string) {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    }\n  }]);\n\n  return Helper;\n}();\n\nmodule.exports = Helper;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9fY29yZVV0aWxzL0hlbHBlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleC9kaXN0L19jb3JlVXRpbHMvSGVscGVyLmpzP2FhNjkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuLyoqIEBjbGFzc2Rlc2MgSGVscGVyIG1haW50YWlucyBhIG51bWJlciBvZiBoZWxwZnVsIGZ1bmN0aW9ucyBpbiBhIHNpbmdsZSBwb2ludCAgKi9cbnZhciBjb25mID0gcmVxdWlyZSgnLi4vX2NvbmZpZ3VyYXRpb24vZ2VuZXJhbENvbmYnKTsgLy8gYXVkaW8gY29udGV4dCBpbml0aWFsaXNhdGlvblxuXG5cbndpbmRvdy5BdWRpb0NvbnRleHQgPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7XG52YXIgYXVkaW9Db250ZXh0ID0gbmV3IHdpbmRvdy5BdWRpb0NvbnRleHQoKTtcblxudmFyIEhlbHBlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEhlbHBlcihjb25maWd1cmF0aW9uKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlbHBlcik7XG5cbiAgICB2YXIgbG9nTGV2ZWwgPSBjb25mLmxvZ0xldmVsO1xuXG4gICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29uZmlndXJhdGlvbiwgXCJsb2dMZXZlbFwiKSkge1xuICAgICAgICBsb2dMZXZlbCA9IGNvbmZpZ3VyYXRpb24ubG9nTGV2ZWw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5sYW5lc01DSURhdHRyc1NlcGVyYXRvciA9ICdfX18nO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25mLmxvZ1R5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbG9nVHlwZSA9IGNvbmYubG9nVHlwZXNbaV07XG5cbiAgICAgIGlmIChsb2dMZXZlbCA+PSBsb2dUeXBlLmxldmVsKSB7XG4gICAgICAgIGlmIChjb25mLnRlc3RNb2RlID09PSB0cnVlKSB7XG4gICAgICAgICAgdGhpc1tsb2dUeXBlLmtleV0gPSB3aW5kb3cuY29uc29sZS5sb2cuYmluZCh3aW5kb3cuY29uc29sZSwgXCJNb3RvckNvcnRleCAtIFwiLmNvbmNhdChsb2dUeXBlLmtleSwgXCI6IFwiKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpc1tsb2dUeXBlLmtleV0gPSB3aW5kb3cuY29uc29sZS5sb2cuYmluZCh3aW5kb3cuY29uc29sZSwgXCJNb3RvckNvcnRleCAtICVjJXNcIiwgbG9nVHlwZS5zdHlsZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB0aGlzW2xvZ1R5cGUua2V5XSA9IGZ1bmN0aW9uICgpIHt9O1xuICAgIH1cblxuICAgIGlmIChsb2dMZXZlbCA+PSAzKSB7XG4gICAgICB0aGlzLmxvZyA9IHdpbmRvdy5jb25zb2xlLmxvZy5iaW5kKHdpbmRvdy5jb25zb2xlLCBcIk1vdG9yQ29ydGV4IC0gXCIpO1xuICAgIH0gZWxzZSB0aGlzLmxvZyA9IGZ1bmN0aW9uICgpIHt9O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEhlbHBlciwgW3tcbiAgICBrZXk6IFwiZ2V0QXVkaW9Db250ZXh0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEF1ZGlvQ29udGV4dCgpIHtcbiAgICAgIHJldHVybiBhdWRpb0NvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclRlbXBsYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclRlbXBsYXRlKHRlbXBsYXRlU3RyaW5nLCB0ZW1wbGF0ZVZhcnMpIHtcbiAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gYFwiICsgdGVtcGxhdGVTdHJpbmcgKyBcImA7XCIpLmNhbGwodGVtcGxhdGVWYXJzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gaW4gdGhlIGZvcm0gXCIxYmM0NWY3OC1hYjIzLWpsNTlcIlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QW5JZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbklkKCkge1xuICAgICAgdmFyIHVuZGVyc2NvcmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuICAgICAgdmFyIHNwZWNpYWxDaGFyID0gJy0nO1xuXG4gICAgICBpZiAodW5kZXJzY29yZSkge1xuICAgICAgICBzcGVjaWFsQ2hhciA9ICdfJztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gczQoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gczQoKSArIHM0KCkgKyBzcGVjaWFsQ2hhciArIHM0KCkgKyBzcGVjaWFsQ2hhciArIHM0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldExhbmVLZXlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGFuZUtleShtY2lkLCBhdHRyaWJ1dGUpIHtcbiAgICAgIHJldHVybiBtY2lkICsgdGhpcy5sYW5lc01DSURhdHRyc1NlcGVyYXRvciArIGF0dHJpYnV0ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TUNJRGFuZEF0dHJPdXRPZkxhbmVLZXlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TUNJRGFuZEF0dHJPdXRPZkxhbmVLZXkobGFuZUtleSkge1xuICAgICAgdmFyIGxhbmVBcnJheSA9IGxhbmVLZXkuc3BsaXQodGhpcy5sYW5lc01DSURhdHRyc1NlcGVyYXRvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtY2lkOiBsYW5lQXJyYXlbMF0sXG4gICAgICAgIGF0dHJpYnV0ZTogbGFuZUFycmF5WzFdXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRFbGVtZW50QnlNQ0lEXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVsZW1lbnRCeU1DSUQoY29udGV4dCwgbWNpZCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQucm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnWycgKyBjb25mLmVsZW1lbnRzX2RhdGFfYXR0cmlidXRlX25hbWUgKyAnPVwiJyArIG1jaWQgKyAnXCJdJylbMF07XG4gICAgfVxuICAgIC8qKlxuICAgIHN1YmRpdmlzaW9uIG1pZ2h0IGJlIHJvdW5kaW5nIHRoZSBudW1iZXIgdG8gaXRzOlxuICAgIC0gdW5pdHMgKHN1YmRpdmlzaW9uID0gMSlcbiAgICAtIHRlbnRocyAoc3ViZGl2aXNpb24gPSAxMClcbiAgICAtIGh1bmRyZWRzIChzdWJkaXZpc2lvbiA9IDEwMClcbiAgICAtIHRob3VzYW5kcyAoc3ViZGl2aXNpb24gPSAxMDAwKVxuICAgICBAcGFyYW0ge3N0cmluZ30gaW50XG4gICAgIEBwYXJhbSB7c3ViZGl2aXNpb259IGludFxuICAgICBAcmV0dXJucyB7aW50fSB0aGUgcm91bmRlZCBudW1iZXJcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicm91bmROdW1iZXJUb1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByb3VuZE51bWJlclRvKG51bWJlciwgc3ViZGl2aXNpb24pIHtcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bWJlciAvIHN1YmRpdmlzaW9uKSAqIHN1YmRpdmlzaW9uO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0ludGVnZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNJbnRlZ2VyKG51bWJlcikge1xuICAgICAgaWYgKG51bWJlciA9PT0gcGFyc2VJbnQobnVtYmVyLCAxMCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzU3RyaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzU3RyaW5nKHRlc3QpIHtcbiAgICAgIGlmICh0eXBlb2YgdGVzdCA9PT0gJ3N0cmluZycgfHwgdGVzdCBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNPYmplY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNPYmplY3QodGVzdCkge1xuICAgICAgcmV0dXJuIF90eXBlb2YodGVzdCkgPT09IFwib2JqZWN0XCI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzQXJyYXlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNBcnJheSh0ZXN0KSB7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0ZXN0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNGdW5jdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0Z1bmN0aW9uKGZ1bmN0aW9uVG9DaGVjaykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uVG9DaGVjayAmJiB7fS50b1N0cmluZy5jYWxsKGZ1bmN0aW9uVG9DaGVjaykgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN5c3RvbGUgLyBkaWFzdG9sZSBvZiB0aGUgcHJvamVjdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7YXJyYXl9IC0gY29sbGVjdGlvbiBvZiBvYmplY3RzIHdpdGgga2V5czoge2lkLCBzdGFydCwgZW5kLCBzdGFydERlbHRhfVxuICAgICAqKi9cblxuICB9LCB7XG4gICAga2V5OiBcInN5c3RvbGVEaWFzdG9sZVByb2plY3Rpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN5c3RvbGVEaWFzdG9sZVByb2plY3Rpb25zKHByb2plY3Rpb25zLCBkdXJhdGlvbkZyYWN0aW9uLCBhbmNob3JQb2ludCkge1xuICAgICAgdmFyIGFsdGVyZWRQcm9qZWN0aW9ucyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2plY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwcm9qZWN0ZWRJbmNpZGVudCA9IHByb2plY3Rpb25zW2ldO1xuICAgICAgICB2YXIgbXNJblJlc2l6ZWRQb3J0aW9uID0gcHJvamVjdGVkSW5jaWRlbnQucGFyZW50TWlsbGlzZWNvbmQgLSBhbmNob3JQb2ludDtcblxuICAgICAgICBpZiAoZHVyYXRpb25GcmFjdGlvbiAhPSAxKSB7XG4gICAgICAgICAgYWx0ZXJlZFByb2plY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgaWQ6IHByb2plY3RlZEluY2lkZW50LmluY2lkZW50LmlkLFxuICAgICAgICAgICAgc3RhcnQ6IG1zSW5SZXNpemVkUG9ydGlvbiAqIGR1cmF0aW9uRnJhY3Rpb24gKyBhbmNob3JQb2ludCxcbiAgICAgICAgICAgIGVuZDogbXNJblJlc2l6ZWRQb3J0aW9uICogZHVyYXRpb25GcmFjdGlvbiArIGFuY2hvclBvaW50ICsgcHJvamVjdGVkSW5jaWRlbnQuaW5jaWRlbnQuZHVyYXRpb24gKiBkdXJhdGlvbkZyYWN0aW9uLFxuICAgICAgICAgICAgc3RhcnREZWx0YTogbXNJblJlc2l6ZWRQb3J0aW9uICogZHVyYXRpb25GcmFjdGlvbiArIGFuY2hvclBvaW50IC0gcHJvamVjdGVkSW5jaWRlbnQubWlsbGlzZWNvbmRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWx0ZXJlZFByb2plY3Rpb25zO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJqc1VjZmlyc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24ganNVY2ZpcnN0KHN0cmluZykge1xuICAgICAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSGVscGVyO1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEhlbHBlcjsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/TimeCapsule.js":
/*!********************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/TimeCapsule.js ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Helper = __webpack_require__(/*! ../_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper();\n\nvar Journey =\n/*#__PURE__*/\nfunction () {\n  function Journey(props) {\n    _classCallCheck(this, Journey);\n\n    if (!Object.prototype.hasOwnProperty.call(props, \"incident\")) {\n      helper.error('Journey constructor expects an Incident on its properties on the key \"incident\"');\n      return false;\n    }\n\n    this.memory = props.calpuleMemory;\n    this.stations = [];\n    this.incident = props.incident;\n    this.startMillisecond = this.incident.runTimeInfo.currentMillisecond * 1;\n    this.startState = this.incident.runTimeInfo.state + \"\";\n    this.incident.stop();\n  }\n\n  _createClass(Journey, [{\n    key: \"station\",\n    value: function station(millisecond) {\n      var props = {};\n\n      if (this.stations.length > 0) {\n        props.previousStop = this.stations[this.stations.length - 1];\n      }\n\n      this.stations.push(millisecond); // helper.log(`CAPSULE passes as previousStop: ${props.previousStop}`);\n      // helper.log(this.stations);\n\n      this.incident.playableProgress(millisecond / this.incident.duration, millisecond);\n    }\n  }, {\n    key: \"destination\",\n    value: function destination() {\n      var millisecond = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (millisecond != null) {\n        this.station(millisecond);\n      } else {\n        millisecond = this.stations[this.stations.length - 1];\n      }\n\n      this.incident.playableProgress(millisecond / this.incident.duration, millisecond); // if the clip was playing start it again\n\n      if (this.startState === 'playing' || this.startState === \"blocked\" && this.incident.statusBeforeBlock === \"playing\") {\n        this.incident.play();\n      } else {\n        if (millisecond >= this.incident.duration) {\n          this.incident.complete();\n        } else {\n          this.incident.arm();\n        }\n      }\n\n      this.memory.push(this.exportJourneyLog);\n    }\n  }, {\n    key: \"exportJourneyLog\",\n    value: function exportJourneyLog() {\n      return {\n        startMillisecond: this.startMillisecond,\n        startState: this.startState,\n        stations: this.stations\n      };\n    }\n  }]);\n\n  return Journey;\n}();\n\nvar TimeCapsule =\n/*#__PURE__*/\nfunction () {\n  function TimeCapsule() {\n    _classCallCheck(this, TimeCapsule);\n\n    this.memory = [];\n  }\n\n  _createClass(TimeCapsule, [{\n    key: \"startJourney\",\n    value: function startJourney(incident) {\n      if (!incident) {\n        helper.error('startJourney expects an Incident as an argument');\n        return false;\n      }\n\n      return new Journey({\n        incident: incident,\n        calpuleMemory: this.memory\n      });\n    }\n  }]);\n\n  return TimeCapsule;\n}();\n\nmodule.exports = TimeCapsule;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9fY29yZVV0aWxzL1RpbWVDYXBzdWxlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvX2NvcmVVdGlscy9UaW1lQ2Fwc3VsZS5qcz9kNTRkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBIZWxwZXIgPSByZXF1aXJlKCcuLi9fY29yZVV0aWxzL0hlbHBlcicpO1xuXG52YXIgaGVscGVyID0gbmV3IEhlbHBlcigpO1xuXG52YXIgSm91cm5leSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEpvdXJuZXkocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSm91cm5leSk7XG5cbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgXCJpbmNpZGVudFwiKSkge1xuICAgICAgaGVscGVyLmVycm9yKCdKb3VybmV5IGNvbnN0cnVjdG9yIGV4cGVjdHMgYW4gSW5jaWRlbnQgb24gaXRzIHByb3BlcnRpZXMgb24gdGhlIGtleSBcImluY2lkZW50XCInKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLm1lbW9yeSA9IHByb3BzLmNhbHB1bGVNZW1vcnk7XG4gICAgdGhpcy5zdGF0aW9ucyA9IFtdO1xuICAgIHRoaXMuaW5jaWRlbnQgPSBwcm9wcy5pbmNpZGVudDtcbiAgICB0aGlzLnN0YXJ0TWlsbGlzZWNvbmQgPSB0aGlzLmluY2lkZW50LnJ1blRpbWVJbmZvLmN1cnJlbnRNaWxsaXNlY29uZCAqIDE7XG4gICAgdGhpcy5zdGFydFN0YXRlID0gdGhpcy5pbmNpZGVudC5ydW5UaW1lSW5mby5zdGF0ZSArIFwiXCI7XG4gICAgdGhpcy5pbmNpZGVudC5zdG9wKCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSm91cm5leSwgW3tcbiAgICBrZXk6IFwic3RhdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdGF0aW9uKG1pbGxpc2Vjb25kKSB7XG4gICAgICB2YXIgcHJvcHMgPSB7fTtcblxuICAgICAgaWYgKHRoaXMuc3RhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBwcm9wcy5wcmV2aW91c1N0b3AgPSB0aGlzLnN0YXRpb25zW3RoaXMuc3RhdGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdGlvbnMucHVzaChtaWxsaXNlY29uZCk7IC8vIGhlbHBlci5sb2coYENBUFNVTEUgcGFzc2VzIGFzIHByZXZpb3VzU3RvcDogJHtwcm9wcy5wcmV2aW91c1N0b3B9YCk7XG4gICAgICAvLyBoZWxwZXIubG9nKHRoaXMuc3RhdGlvbnMpO1xuXG4gICAgICB0aGlzLmluY2lkZW50LnBsYXlhYmxlUHJvZ3Jlc3MobWlsbGlzZWNvbmQgLyB0aGlzLmluY2lkZW50LmR1cmF0aW9uLCBtaWxsaXNlY29uZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlc3RpbmF0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3RpbmF0aW9uKCkge1xuICAgICAgdmFyIG1pbGxpc2Vjb25kID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xuXG4gICAgICBpZiAobWlsbGlzZWNvbmQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnN0YXRpb24obWlsbGlzZWNvbmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWlsbGlzZWNvbmQgPSB0aGlzLnN0YXRpb25zW3RoaXMuc3RhdGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaW5jaWRlbnQucGxheWFibGVQcm9ncmVzcyhtaWxsaXNlY29uZCAvIHRoaXMuaW5jaWRlbnQuZHVyYXRpb24sIG1pbGxpc2Vjb25kKTsgLy8gaWYgdGhlIGNsaXAgd2FzIHBsYXlpbmcgc3RhcnQgaXQgYWdhaW5cblxuICAgICAgaWYgKHRoaXMuc3RhcnRTdGF0ZSA9PT0gJ3BsYXlpbmcnIHx8IHRoaXMuc3RhcnRTdGF0ZSA9PT0gXCJibG9ja2VkXCIgJiYgdGhpcy5pbmNpZGVudC5zdGF0dXNCZWZvcmVCbG9jayA9PT0gXCJwbGF5aW5nXCIpIHtcbiAgICAgICAgdGhpcy5pbmNpZGVudC5wbGF5KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobWlsbGlzZWNvbmQgPj0gdGhpcy5pbmNpZGVudC5kdXJhdGlvbikge1xuICAgICAgICAgIHRoaXMuaW5jaWRlbnQuY29tcGxldGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmluY2lkZW50LmFybSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWVtb3J5LnB1c2godGhpcy5leHBvcnRKb3VybmV5TG9nKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXhwb3J0Sm91cm5leUxvZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleHBvcnRKb3VybmV5TG9nKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnRNaWxsaXNlY29uZDogdGhpcy5zdGFydE1pbGxpc2Vjb25kLFxuICAgICAgICBzdGFydFN0YXRlOiB0aGlzLnN0YXJ0U3RhdGUsXG4gICAgICAgIHN0YXRpb25zOiB0aGlzLnN0YXRpb25zXG4gICAgICB9O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBKb3VybmV5O1xufSgpO1xuXG52YXIgVGltZUNhcHN1bGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUaW1lQ2Fwc3VsZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGltZUNhcHN1bGUpO1xuXG4gICAgdGhpcy5tZW1vcnkgPSBbXTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUaW1lQ2Fwc3VsZSwgW3tcbiAgICBrZXk6IFwic3RhcnRKb3VybmV5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0Sm91cm5leShpbmNpZGVudCkge1xuICAgICAgaWYgKCFpbmNpZGVudCkge1xuICAgICAgICBoZWxwZXIuZXJyb3IoJ3N0YXJ0Sm91cm5leSBleHBlY3RzIGFuIEluY2lkZW50IGFzIGFuIGFyZ3VtZW50Jyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBKb3VybmV5KHtcbiAgICAgICAgaW5jaWRlbnQ6IGluY2lkZW50LFxuICAgICAgICBjYWxwdWxlTWVtb3J5OiB0aGlzLm1lbW9yeVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRpbWVDYXBzdWxlO1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRpbWVDYXBzdWxlOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/TimeCapsule.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/_decorators/getIncidentsByChannel.js":
/*!*******************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/_decorators/getIncidentsByChannel.js ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction getIncidentsByChannel(pld) {\n  pld.descriptor.value = function () {\n    var adjustMillisecond = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var parentMillisecond = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var incidentsByPlugin = {};\n    incidentsByPlugin[this.mc_plugin_npm_name] = [{\n      millisecond: adjustMillisecond,\n      parentMillisecond: parentMillisecond,\n      incident: this,\n      id: this.id\n    }];\n    return incidentsByPlugin;\n  };\n}\n\nmodule.exports = getIncidentsByChannel;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9fZGVjb3JhdG9ycy9nZXRJbmNpZGVudHNCeUNoYW5uZWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9fZGVjb3JhdG9ycy9nZXRJbmNpZGVudHNCeUNoYW5uZWwuanM/NTQ2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gZ2V0SW5jaWRlbnRzQnlDaGFubmVsKHBsZCkge1xuICBwbGQuZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYWRqdXN0TWlsbGlzZWNvbmQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgdmFyIHBhcmVudE1pbGxpc2Vjb25kID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgIHZhciBpbmNpZGVudHNCeVBsdWdpbiA9IHt9O1xuICAgIGluY2lkZW50c0J5UGx1Z2luW3RoaXMubWNfcGx1Z2luX25wbV9uYW1lXSA9IFt7XG4gICAgICBtaWxsaXNlY29uZDogYWRqdXN0TWlsbGlzZWNvbmQsXG4gICAgICBwYXJlbnRNaWxsaXNlY29uZDogcGFyZW50TWlsbGlzZWNvbmQsXG4gICAgICBpbmNpZGVudDogdGhpcyxcbiAgICAgIGlkOiB0aGlzLmlkXG4gICAgfV07XG4gICAgcmV0dXJuIGluY2lkZW50c0J5UGx1Z2luO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEluY2lkZW50c0J5Q2hhbm5lbDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/_decorators/getIncidentsByChannel.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/dist/main.js":
/*!**************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/dist/main.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar Validator = __webpack_require__(/*! fastest-validator */ \"../node_modules/fastest-validator/dist/index.min.js\");\n\nvar DescriptiveIncident = __webpack_require__(/*! ./DescriptiveIncidents/DescriptiveIncident */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveIncident.js\");\n\nvar DescriptiveGroup = __webpack_require__(/*! ./DescriptiveIncidents/DescriptiveGroup */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveGroup.js\");\n\nvar DescriptiveClip = __webpack_require__(/*! ./DescriptiveIncidents/DescriptiveClip */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveClip.js\");\n\nvar DescriptiveAudioClip = __webpack_require__(/*! ./DescriptiveIncidents/DescriptiveAudioClip */ \"../node_modules/@kissmybutton/motorcortex/dist/DescriptiveIncidents/DescriptiveAudioClip.js\");\n\nvar MonoIncident = __webpack_require__(/*! ./BaseClasses/MonoIncident */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/MonoIncident.js\");\n\nvar MediaPlayback = __webpack_require__(/*! ./BaseClasses/MediaPlayIncident */ \"../node_modules/@kissmybutton/motorcortex/dist/BaseClasses/MediaPlayIncident.js\");\n\nvar AudioPlaybackChannel = __webpack_require__(/*! ./Channels/Media/AudioPlaybackChannel */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Media/AudioPlaybackChannel.js\");\n\nvar ExtendableClip = __webpack_require__(/*! ./Clip/ExtendableClip */ \"../node_modules/@kissmybutton/motorcortex/dist/Clip/ExtendableClip.js\");\n\nvar AttributeChannel = __webpack_require__(/*! ./Channels/Attribute/AttributeChannel */ \"../node_modules/@kissmybutton/motorcortex/dist/Channels/Attribute/AttributeChannel.js\");\n\nvar TimeCapsule = __webpack_require__(/*! ./_coreUtils/TimeCapsule */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/TimeCapsule.js\");\n\nvar Helper = __webpack_require__(/*! ./_coreUtils/Helper */ \"../node_modules/@kissmybutton/motorcortex/dist/_coreUtils/Helper.js\");\n\nvar helper = new Helper({\n  logLevel: 0\n});\n\nvar checkPlugin = function checkPlugin(main) {\n  if (Object.prototype.hasOwnProperty.call(main, \"default\")) {\n    main = main[\"default\"];\n  }\n\n  var plugin_name = main.npm_name;\n  var check = true;\n\n  if (!Object.prototype.hasOwnProperty.call(main, \"name\")) {\n    helper.error(\"Warning on plugin \".concat(plugin_name, \". A plugin is always good to have its name on\\n        its main.js file, under the key \\\"name\\\". It's missing from this plugin\"));\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(main, \"incidents\")) {\n    helper.error(\"Error on plugin \".concat(plugin_name, \". A plugin must expose at least one Incident.\\n        Exposed plugin Incidents should be defined on the \\\"incidents\\\" key of the main.js file.\"));\n    check = false;\n  }\n\n  if (!helper.isArray(main.incidents)) {\n    helper.error(\"Error on plugin \".concat(plugin_name, \". thePlugin exposed Incidents are defined on the \\\"incidents\\\" key of the main.js file in array format.\\n        Please refer to the documentation\"));\n    check = false;\n  } else {\n    for (var i = 0; i < main.incidents.length; i++) {\n      var exposedIncidentDefinition = main.incidents[i];\n\n      if (_typeof(exposedIncidentDefinition.exportable) === \"object\") {\n        if (Object.prototype.hasOwnProperty.call(exposedIncidentDefinition.exportable, \"default\")) {\n          exposedIncidentDefinition.exportable = exposedIncidentDefinition.exportable[\"default\"];\n        }\n      }\n\n      if (!(exposedIncidentDefinition.exportable.prototype instanceof DescriptiveGroup) && !(exposedIncidentDefinition.exportable.prototype instanceof DescriptiveClip) && !(exposedIncidentDefinition.exportable.prototype instanceof MonoIncident) && !(exposedIncidentDefinition.exportable.prototype instanceof MediaPlayback)) {\n        helper.error(\"Error on plugin \".concat(plugin_name, \". Exportable Incidents by any plugin must extend one of the base classes provided by MotorCortex.\\n                \").concat(exposedIncidentDefinition.exportable.constructor.name, \" doesn't.\\n                Please refer to documentation\"));\n        check = false;\n      }\n\n      if (!Object.prototype.hasOwnProperty.call(exposedIncidentDefinition, \"name\")) {\n        helper.error(\"Error on plugin \".concat(plugin_name, \". Exportable Incidents by any plugin must have the \\\"name\\\" key which defines the name of the exported Incident.\\n                Please refer to documentation\"));\n        check = false;\n      }\n\n      if (!Object.prototype.hasOwnProperty.call(exposedIncidentDefinition, \"propTypes\")) {\n        helper.log(\"Warning on plugin \".concat(plugin_name, \".\\n                It's always good for plugins to define the supported propTypes of their exposed Incidents' supported properties.\\n                \").concat(exposedIncidentDefinition.exportable.constructor.name, \" doesn't.\\n                Please refer to documentation\"), 'warning');\n      }\n    }\n  }\n\n  return check;\n}; // plugin_name is the unique name of the plugin\n\n\nfunction loadPlugin(plugin) {\n  if (Object.prototype.hasOwnProperty.call(plugin, \"default\")) {\n    plugin = plugin[\"default\"];\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(plugin, \"npm_name\")) {\n    plugin.npm_name = \"plugin_\".concat(new Date().getTime());\n  }\n\n  if (!checkPlugin(plugin)) {\n    return false;\n  } else {\n    // thePlugin is the plugin object which will hold on its keys\n    // the names of the exposed Incidents of its. The keys of this object\n    // are going to be identical with the names of the classes exposed\n    var thePlugin = {};\n\n    if (Object.prototype.hasOwnProperty.call(plugin, \"Clip\")) {\n      var _class, _temp;\n\n      var DynamicDescriptiveClip = (_temp = _class =\n      /*#__PURE__*/\n      function (_DescriptiveClip) {\n        _inherits(DynamicDescriptiveClip, _DescriptiveClip);\n\n        function DynamicDescriptiveClip() {\n          _classCallCheck(this, DynamicDescriptiveClip);\n\n          return _possibleConstructorReturn(this, _getPrototypeOf(DynamicDescriptiveClip).apply(this, arguments));\n        }\n\n        return DynamicDescriptiveClip;\n      }(DescriptiveClip), _defineProperty(_class, \"Incident\", plugin.Clip), _defineProperty(_class, \"audio\", plugin.audio ? \"only\" : \"off\"), _temp);\n      thePlugin.Clip = DynamicDescriptiveClip;\n    } // if the plugin definition has compositeAttributes then we dynamically\n    // create a new Channel class extending AttributeChannel setting the\n    // composite Attributes on the fly. We can then use this Channel class\n    // for all Incidents exposed by the plugin\n\n\n    var AttributeChannelToUse = AttributeChannel;\n\n    if (Object.prototype.hasOwnProperty.call(plugin, \"compositeAttributes\")) {\n      AttributeChannelToUse =\n      /*#__PURE__*/\n      function (_AttributeChannel) {\n        _inherits(AttributeChannelToUse, _AttributeChannel);\n\n        function AttributeChannelToUse(props) {\n          _classCallCheck(this, AttributeChannelToUse);\n\n          props.comboAttributes = plugin.compositeAttributes;\n          return _possibleConstructorReturn(this, _getPrototypeOf(AttributeChannelToUse).call(this, props));\n        }\n\n        return AttributeChannelToUse;\n      }(AttributeChannel);\n    } // for each of the exposed Incidents\n\n\n    var _loop = function _loop(i) {\n      var incidentClass = plugin.incidents[i].exportable;\n      var DynamicDescriptiveIncident = void 0; // the exportable Incident can be either a Clip, a Compo or an Incident\n      // if it is an Incident\n\n      if (incidentClass.prototype instanceof MonoIncident) {\n        var _class2, _temp2;\n\n        DynamicDescriptiveIncident = (_temp2 = _class2 =\n        /*#__PURE__*/\n        function (_DescriptiveIncident) {\n          _inherits(DynamicDescriptiveIncident, _DescriptiveIncident);\n\n          function DynamicDescriptiveIncident() {\n            _classCallCheck(this, DynamicDescriptiveIncident);\n\n            return _possibleConstructorReturn(this, _getPrototypeOf(DynamicDescriptiveIncident).apply(this, arguments));\n          }\n\n          return DynamicDescriptiveIncident;\n        }(DescriptiveIncident), _defineProperty(_class2, \"Incident\", incidentClass), _defineProperty(_class2, \"plugin_npm_name\", plugin.npm_name), _defineProperty(_class2, \"plugin\", plugin.name), _defineProperty(_class2, \"ClassName\", plugin.incidents[i].name), _defineProperty(_class2, \"Channel\", AttributeChannelToUse), _defineProperty(_class2, \"audio\", plugin.audio ? \"only\" : \"off\"), _temp2);\n      } // if it is an Incident\n      else if (incidentClass.prototype instanceof MediaPlayback) {\n          var _class3, _temp3;\n\n          DynamicDescriptiveIncident = (_temp3 = _class3 =\n          /*#__PURE__*/\n          function (_DescriptiveIncident2) {\n            _inherits(DynamicDescriptiveIncident, _DescriptiveIncident2);\n\n            function DynamicDescriptiveIncident() {\n              _classCallCheck(this, DynamicDescriptiveIncident);\n\n              return _possibleConstructorReturn(this, _getPrototypeOf(DynamicDescriptiveIncident).apply(this, arguments));\n            }\n\n            return DynamicDescriptiveIncident;\n          }(DescriptiveIncident), _defineProperty(_class3, \"Incident\", incidentClass), _defineProperty(_class3, \"plugin_npm_name\", '@kissmybutton/media-playback'), _defineProperty(_class3, \"plugin\", plugin.name), _defineProperty(_class3, \"ClassName\", plugin.incidents[i].name), _defineProperty(_class3, \"Channel\", plugin.audio ? AudioPlaybackChannel : null), _defineProperty(_class3, \"audio\", plugin.audio ? \"only\" : \"off\"), _temp3);\n        } // else if it is a Clip\n        else if (incidentClass.prototype instanceof DescriptiveClip) {\n            var _class4, _temp4;\n\n            DynamicDescriptiveIncident = (_temp4 = _class4 =\n            /*#__PURE__*/\n            function (_incidentClass) {\n              _inherits(DynamicDescriptiveIncident, _incidentClass);\n\n              function DynamicDescriptiveIncident() {\n                _classCallCheck(this, DynamicDescriptiveIncident);\n\n                return _possibleConstructorReturn(this, _getPrototypeOf(DynamicDescriptiveIncident).apply(this, arguments));\n              }\n\n              return DynamicDescriptiveIncident;\n            }(incidentClass), _defineProperty(_class4, \"plugin\", plugin.name), _defineProperty(_class4, \"ClassName\", plugin.incidents[i].name), _defineProperty(_class4, \"audio\", plugin.audio ? \"only\" : \"on\"), _temp4);\n          } else if (incidentClass.prototype instanceof DescriptiveGroup) {\n            var _class5, _temp5;\n\n            DynamicDescriptiveIncident = (_temp5 = _class5 =\n            /*#__PURE__*/\n            function (_incidentClass2) {\n              _inherits(DynamicDescriptiveIncident, _incidentClass2);\n\n              function DynamicDescriptiveIncident() {\n                _classCallCheck(this, DynamicDescriptiveIncident);\n\n                return _possibleConstructorReturn(this, _getPrototypeOf(DynamicDescriptiveIncident).apply(this, arguments));\n              }\n\n              return DynamicDescriptiveIncident;\n            }(incidentClass), _defineProperty(_class5, \"plugin\", plugin.name), _defineProperty(_class5, \"ClassName\", plugin.incidents[i].name), _temp5);\n          }\n\n      Object.defineProperty(thePlugin, plugin.incidents[i].name, {\n        get: function get() {\n          // the getter will construct a wrapper class which on the constructor will instantiate an object of the\n          // exposed class, set to it the plugin name and channel class parameters and return\n          // it from the constructor\n          var WrapperClass = function WrapperClass(attrs, props) {\n            _classCallCheck(this, WrapperClass);\n\n            var instantiatedIncident = new DynamicDescriptiveIncident(attrs, props);\n\n            if (Object.prototype.hasOwnProperty.call(plugin.incidents[i], \"attributesValidationRules\")) {\n              var v = new Validator();\n              var validationResult = v.validate(attrs, plugin.incidents[i].attributesValidationRules);\n\n              if (validationResult.length > 0) {\n                return {\n                  result: false,\n                  errors: validationResult\n                };\n              }\n            } else {\n              helper.warning(\"It's always good to provide attributesValidationRules to the exported incidents. \".concat(plugin.npm_name, \".\").concat(instantiatedIncident.constructor.name, \" doesn't provide it\"));\n            }\n\n            return instantiatedIncident;\n          };\n\n          return WrapperClass;\n        }\n      });\n    };\n\n    for (var i = 0; i < plugin.incidents.length; i++) {\n      _loop(i);\n    }\n\n    return thePlugin;\n  }\n}\n\nvar audioPluginMain = __webpack_require__(/*! ./Audio/main */ \"../node_modules/@kissmybutton/motorcortex/dist/Audio/main.js\");\n\nvar AudioPlugin = loadPlugin(audioPluginMain);\nmodule.exports = {\n  API: {\n    MonoIncident: MonoIncident,\n    Group: DescriptiveGroup,\n    Clip: DescriptiveClip,\n    AudioClip: DescriptiveAudioClip,\n    MediaPlayback: MediaPlayback,\n    ExtendableClip: ExtendableClip\n  },\n  Group: DescriptiveGroup,\n  Clip: DescriptiveClip,\n  loadPlugin: loadPlugin,\n  AudioClip: AudioPlugin.Clip,\n  AudioPlayback: AudioPlugin.AudioPlayback,\n  TimeCapsule: TimeCapsule\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvZGlzdC9tYWluLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9Aa2lzc215YnV0dG9uL21vdG9yY29ydGV4L2Rpc3QvbWFpbi5qcz8zMjI4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbnZhciBWYWxpZGF0b3IgPSByZXF1aXJlKFwiZmFzdGVzdC12YWxpZGF0b3JcIik7XG5cbnZhciBEZXNjcmlwdGl2ZUluY2lkZW50ID0gcmVxdWlyZSgnLi9EZXNjcmlwdGl2ZUluY2lkZW50cy9EZXNjcmlwdGl2ZUluY2lkZW50Jyk7XG5cbnZhciBEZXNjcmlwdGl2ZUdyb3VwID0gcmVxdWlyZSgnLi9EZXNjcmlwdGl2ZUluY2lkZW50cy9EZXNjcmlwdGl2ZUdyb3VwJyk7XG5cbnZhciBEZXNjcmlwdGl2ZUNsaXAgPSByZXF1aXJlKCcuL0Rlc2NyaXB0aXZlSW5jaWRlbnRzL0Rlc2NyaXB0aXZlQ2xpcCcpO1xuXG52YXIgRGVzY3JpcHRpdmVBdWRpb0NsaXAgPSByZXF1aXJlKCcuL0Rlc2NyaXB0aXZlSW5jaWRlbnRzL0Rlc2NyaXB0aXZlQXVkaW9DbGlwJyk7XG5cbnZhciBNb25vSW5jaWRlbnQgPSByZXF1aXJlKCcuL0Jhc2VDbGFzc2VzL01vbm9JbmNpZGVudCcpO1xuXG52YXIgTWVkaWFQbGF5YmFjayA9IHJlcXVpcmUoJy4vQmFzZUNsYXNzZXMvTWVkaWFQbGF5SW5jaWRlbnQnKTtcblxudmFyIEF1ZGlvUGxheWJhY2tDaGFubmVsID0gcmVxdWlyZSgnLi9DaGFubmVscy9NZWRpYS9BdWRpb1BsYXliYWNrQ2hhbm5lbCcpO1xuXG52YXIgRXh0ZW5kYWJsZUNsaXAgPSByZXF1aXJlKCcuL0NsaXAvRXh0ZW5kYWJsZUNsaXAnKTtcblxudmFyIEF0dHJpYnV0ZUNoYW5uZWwgPSByZXF1aXJlKCcuL0NoYW5uZWxzL0F0dHJpYnV0ZS9BdHRyaWJ1dGVDaGFubmVsJyk7XG5cbnZhciBUaW1lQ2Fwc3VsZSA9IHJlcXVpcmUoJy4vX2NvcmVVdGlscy9UaW1lQ2Fwc3VsZScpO1xuXG52YXIgSGVscGVyID0gcmVxdWlyZSgnLi9fY29yZVV0aWxzL0hlbHBlcicpO1xuXG52YXIgaGVscGVyID0gbmV3IEhlbHBlcih7XG4gIGxvZ0xldmVsOiAwXG59KTtcblxudmFyIGNoZWNrUGx1Z2luID0gZnVuY3Rpb24gY2hlY2tQbHVnaW4obWFpbikge1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1haW4sIFwiZGVmYXVsdFwiKSkge1xuICAgIG1haW4gPSBtYWluW1wiZGVmYXVsdFwiXTtcbiAgfVxuXG4gIHZhciBwbHVnaW5fbmFtZSA9IG1haW4ubnBtX25hbWU7XG4gIHZhciBjaGVjayA9IHRydWU7XG5cbiAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWFpbiwgXCJuYW1lXCIpKSB7XG4gICAgaGVscGVyLmVycm9yKFwiV2FybmluZyBvbiBwbHVnaW4gXCIuY29uY2F0KHBsdWdpbl9uYW1lLCBcIi4gQSBwbHVnaW4gaXMgYWx3YXlzIGdvb2QgdG8gaGF2ZSBpdHMgbmFtZSBvblxcbiAgICAgICAgaXRzIG1haW4uanMgZmlsZSwgdW5kZXIgdGhlIGtleSBcXFwibmFtZVxcXCIuIEl0J3MgbWlzc2luZyBmcm9tIHRoaXMgcGx1Z2luXCIpKTtcbiAgfVxuXG4gIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1haW4sIFwiaW5jaWRlbnRzXCIpKSB7XG4gICAgaGVscGVyLmVycm9yKFwiRXJyb3Igb24gcGx1Z2luIFwiLmNvbmNhdChwbHVnaW5fbmFtZSwgXCIuIEEgcGx1Z2luIG11c3QgZXhwb3NlIGF0IGxlYXN0IG9uZSBJbmNpZGVudC5cXG4gICAgICAgIEV4cG9zZWQgcGx1Z2luIEluY2lkZW50cyBzaG91bGQgYmUgZGVmaW5lZCBvbiB0aGUgXFxcImluY2lkZW50c1xcXCIga2V5IG9mIHRoZSBtYWluLmpzIGZpbGUuXCIpKTtcbiAgICBjaGVjayA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKCFoZWxwZXIuaXNBcnJheShtYWluLmluY2lkZW50cykpIHtcbiAgICBoZWxwZXIuZXJyb3IoXCJFcnJvciBvbiBwbHVnaW4gXCIuY29uY2F0KHBsdWdpbl9uYW1lLCBcIi4gdGhlUGx1Z2luIGV4cG9zZWQgSW5jaWRlbnRzIGFyZSBkZWZpbmVkIG9uIHRoZSBcXFwiaW5jaWRlbnRzXFxcIiBrZXkgb2YgdGhlIG1haW4uanMgZmlsZSBpbiBhcnJheSBmb3JtYXQuXFxuICAgICAgICBQbGVhc2UgcmVmZXIgdG8gdGhlIGRvY3VtZW50YXRpb25cIikpO1xuICAgIGNoZWNrID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYWluLmluY2lkZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGV4cG9zZWRJbmNpZGVudERlZmluaXRpb24gPSBtYWluLmluY2lkZW50c1tpXTtcblxuICAgICAgaWYgKF90eXBlb2YoZXhwb3NlZEluY2lkZW50RGVmaW5pdGlvbi5leHBvcnRhYmxlKSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9zZWRJbmNpZGVudERlZmluaXRpb24uZXhwb3J0YWJsZSwgXCJkZWZhdWx0XCIpKSB7XG4gICAgICAgICAgZXhwb3NlZEluY2lkZW50RGVmaW5pdGlvbi5leHBvcnRhYmxlID0gZXhwb3NlZEluY2lkZW50RGVmaW5pdGlvbi5leHBvcnRhYmxlW1wiZGVmYXVsdFwiXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIShleHBvc2VkSW5jaWRlbnREZWZpbml0aW9uLmV4cG9ydGFibGUucHJvdG90eXBlIGluc3RhbmNlb2YgRGVzY3JpcHRpdmVHcm91cCkgJiYgIShleHBvc2VkSW5jaWRlbnREZWZpbml0aW9uLmV4cG9ydGFibGUucHJvdG90eXBlIGluc3RhbmNlb2YgRGVzY3JpcHRpdmVDbGlwKSAmJiAhKGV4cG9zZWRJbmNpZGVudERlZmluaXRpb24uZXhwb3J0YWJsZS5wcm90b3R5cGUgaW5zdGFuY2VvZiBNb25vSW5jaWRlbnQpICYmICEoZXhwb3NlZEluY2lkZW50RGVmaW5pdGlvbi5leHBvcnRhYmxlLnByb3RvdHlwZSBpbnN0YW5jZW9mIE1lZGlhUGxheWJhY2spKSB7XG4gICAgICAgIGhlbHBlci5lcnJvcihcIkVycm9yIG9uIHBsdWdpbiBcIi5jb25jYXQocGx1Z2luX25hbWUsIFwiLiBFeHBvcnRhYmxlIEluY2lkZW50cyBieSBhbnkgcGx1Z2luIG11c3QgZXh0ZW5kIG9uZSBvZiB0aGUgYmFzZSBjbGFzc2VzIHByb3ZpZGVkIGJ5IE1vdG9yQ29ydGV4LlxcbiAgICAgICAgICAgICAgICBcIikuY29uY2F0KGV4cG9zZWRJbmNpZGVudERlZmluaXRpb24uZXhwb3J0YWJsZS5jb25zdHJ1Y3Rvci5uYW1lLCBcIiBkb2Vzbid0LlxcbiAgICAgICAgICAgICAgICBQbGVhc2UgcmVmZXIgdG8gZG9jdW1lbnRhdGlvblwiKSk7XG4gICAgICAgIGNoZWNrID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9zZWRJbmNpZGVudERlZmluaXRpb24sIFwibmFtZVwiKSkge1xuICAgICAgICBoZWxwZXIuZXJyb3IoXCJFcnJvciBvbiBwbHVnaW4gXCIuY29uY2F0KHBsdWdpbl9uYW1lLCBcIi4gRXhwb3J0YWJsZSBJbmNpZGVudHMgYnkgYW55IHBsdWdpbiBtdXN0IGhhdmUgdGhlIFxcXCJuYW1lXFxcIiBrZXkgd2hpY2ggZGVmaW5lcyB0aGUgbmFtZSBvZiB0aGUgZXhwb3J0ZWQgSW5jaWRlbnQuXFxuICAgICAgICAgICAgICAgIFBsZWFzZSByZWZlciB0byBkb2N1bWVudGF0aW9uXCIpKTtcbiAgICAgICAgY2hlY2sgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3NlZEluY2lkZW50RGVmaW5pdGlvbiwgXCJwcm9wVHlwZXNcIikpIHtcbiAgICAgICAgaGVscGVyLmxvZyhcIldhcm5pbmcgb24gcGx1Z2luIFwiLmNvbmNhdChwbHVnaW5fbmFtZSwgXCIuXFxuICAgICAgICAgICAgICAgIEl0J3MgYWx3YXlzIGdvb2QgZm9yIHBsdWdpbnMgdG8gZGVmaW5lIHRoZSBzdXBwb3J0ZWQgcHJvcFR5cGVzIG9mIHRoZWlyIGV4cG9zZWQgSW5jaWRlbnRzJyBzdXBwb3J0ZWQgcHJvcGVydGllcy5cXG4gICAgICAgICAgICAgICAgXCIpLmNvbmNhdChleHBvc2VkSW5jaWRlbnREZWZpbml0aW9uLmV4cG9ydGFibGUuY29uc3RydWN0b3IubmFtZSwgXCIgZG9lc24ndC5cXG4gICAgICAgICAgICAgICAgUGxlYXNlIHJlZmVyIHRvIGRvY3VtZW50YXRpb25cIiksICd3YXJuaW5nJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNoZWNrO1xufTsgLy8gcGx1Z2luX25hbWUgaXMgdGhlIHVuaXF1ZSBuYW1lIG9mIHRoZSBwbHVnaW5cblxuXG5mdW5jdGlvbiBsb2FkUGx1Z2luKHBsdWdpbikge1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBsdWdpbiwgXCJkZWZhdWx0XCIpKSB7XG4gICAgcGx1Z2luID0gcGx1Z2luW1wiZGVmYXVsdFwiXTtcbiAgfVxuXG4gIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBsdWdpbiwgXCJucG1fbmFtZVwiKSkge1xuICAgIHBsdWdpbi5ucG1fbmFtZSA9IFwicGx1Z2luX1wiLmNvbmNhdChuZXcgRGF0ZSgpLmdldFRpbWUoKSk7XG4gIH1cblxuICBpZiAoIWNoZWNrUGx1Z2luKHBsdWdpbikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgLy8gdGhlUGx1Z2luIGlzIHRoZSBwbHVnaW4gb2JqZWN0IHdoaWNoIHdpbGwgaG9sZCBvbiBpdHMga2V5c1xuICAgIC8vIHRoZSBuYW1lcyBvZiB0aGUgZXhwb3NlZCBJbmNpZGVudHMgb2YgaXRzLiBUaGUga2V5cyBvZiB0aGlzIG9iamVjdFxuICAgIC8vIGFyZSBnb2luZyB0byBiZSBpZGVudGljYWwgd2l0aCB0aGUgbmFtZXMgb2YgdGhlIGNsYXNzZXMgZXhwb3NlZFxuICAgIHZhciB0aGVQbHVnaW4gPSB7fTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGx1Z2luLCBcIkNsaXBcIikpIHtcbiAgICAgIHZhciBfY2xhc3MsIF90ZW1wO1xuXG4gICAgICB2YXIgRHluYW1pY0Rlc2NyaXB0aXZlQ2xpcCA9IChfdGVtcCA9IF9jbGFzcyA9XG4gICAgICAvKiNfX1BVUkVfXyovXG4gICAgICBmdW5jdGlvbiAoX0Rlc2NyaXB0aXZlQ2xpcCkge1xuICAgICAgICBfaW5oZXJpdHMoRHluYW1pY0Rlc2NyaXB0aXZlQ2xpcCwgX0Rlc2NyaXB0aXZlQ2xpcCk7XG5cbiAgICAgICAgZnVuY3Rpb24gRHluYW1pY0Rlc2NyaXB0aXZlQ2xpcCgpIHtcbiAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRHluYW1pY0Rlc2NyaXB0aXZlQ2xpcCk7XG5cbiAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKER5bmFtaWNEZXNjcmlwdGl2ZUNsaXApLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIER5bmFtaWNEZXNjcmlwdGl2ZUNsaXA7XG4gICAgICB9KERlc2NyaXB0aXZlQ2xpcCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3MsIFwiSW5jaWRlbnRcIiwgcGx1Z2luLkNsaXApLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzLCBcImF1ZGlvXCIsIHBsdWdpbi5hdWRpbyA/IFwib25seVwiIDogXCJvZmZcIiksIF90ZW1wKTtcbiAgICAgIHRoZVBsdWdpbi5DbGlwID0gRHluYW1pY0Rlc2NyaXB0aXZlQ2xpcDtcbiAgICB9IC8vIGlmIHRoZSBwbHVnaW4gZGVmaW5pdGlvbiBoYXMgY29tcG9zaXRlQXR0cmlidXRlcyB0aGVuIHdlIGR5bmFtaWNhbGx5XG4gICAgLy8gY3JlYXRlIGEgbmV3IENoYW5uZWwgY2xhc3MgZXh0ZW5kaW5nIEF0dHJpYnV0ZUNoYW5uZWwgc2V0dGluZyB0aGVcbiAgICAvLyBjb21wb3NpdGUgQXR0cmlidXRlcyBvbiB0aGUgZmx5LiBXZSBjYW4gdGhlbiB1c2UgdGhpcyBDaGFubmVsIGNsYXNzXG4gICAgLy8gZm9yIGFsbCBJbmNpZGVudHMgZXhwb3NlZCBieSB0aGUgcGx1Z2luXG5cblxuICAgIHZhciBBdHRyaWJ1dGVDaGFubmVsVG9Vc2UgPSBBdHRyaWJ1dGVDaGFubmVsO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwbHVnaW4sIFwiY29tcG9zaXRlQXR0cmlidXRlc1wiKSkge1xuICAgICAgQXR0cmlidXRlQ2hhbm5lbFRvVXNlID1cbiAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgIGZ1bmN0aW9uIChfQXR0cmlidXRlQ2hhbm5lbCkge1xuICAgICAgICBfaW5oZXJpdHMoQXR0cmlidXRlQ2hhbm5lbFRvVXNlLCBfQXR0cmlidXRlQ2hhbm5lbCk7XG5cbiAgICAgICAgZnVuY3Rpb24gQXR0cmlidXRlQ2hhbm5lbFRvVXNlKHByb3BzKSB7XG4gICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF0dHJpYnV0ZUNoYW5uZWxUb1VzZSk7XG5cbiAgICAgICAgICBwcm9wcy5jb21ib0F0dHJpYnV0ZXMgPSBwbHVnaW4uY29tcG9zaXRlQXR0cmlidXRlcztcbiAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEF0dHJpYnV0ZUNoYW5uZWxUb1VzZSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEF0dHJpYnV0ZUNoYW5uZWxUb1VzZTtcbiAgICAgIH0oQXR0cmlidXRlQ2hhbm5lbCk7XG4gICAgfSAvLyBmb3IgZWFjaCBvZiB0aGUgZXhwb3NlZCBJbmNpZGVudHNcblxuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkge1xuICAgICAgdmFyIGluY2lkZW50Q2xhc3MgPSBwbHVnaW4uaW5jaWRlbnRzW2ldLmV4cG9ydGFibGU7XG4gICAgICB2YXIgRHluYW1pY0Rlc2NyaXB0aXZlSW5jaWRlbnQgPSB2b2lkIDA7IC8vIHRoZSBleHBvcnRhYmxlIEluY2lkZW50IGNhbiBiZSBlaXRoZXIgYSBDbGlwLCBhIENvbXBvIG9yIGFuIEluY2lkZW50XG4gICAgICAvLyBpZiBpdCBpcyBhbiBJbmNpZGVudFxuXG4gICAgICBpZiAoaW5jaWRlbnRDbGFzcy5wcm90b3R5cGUgaW5zdGFuY2VvZiBNb25vSW5jaWRlbnQpIHtcbiAgICAgICAgdmFyIF9jbGFzczIsIF90ZW1wMjtcblxuICAgICAgICBEeW5hbWljRGVzY3JpcHRpdmVJbmNpZGVudCA9IChfdGVtcDIgPSBfY2xhc3MyID1cbiAgICAgICAgLyojX19QVVJFX18qL1xuICAgICAgICBmdW5jdGlvbiAoX0Rlc2NyaXB0aXZlSW5jaWRlbnQpIHtcbiAgICAgICAgICBfaW5oZXJpdHMoRHluYW1pY0Rlc2NyaXB0aXZlSW5jaWRlbnQsIF9EZXNjcmlwdGl2ZUluY2lkZW50KTtcblxuICAgICAgICAgIGZ1bmN0aW9uIER5bmFtaWNEZXNjcmlwdGl2ZUluY2lkZW50KCkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIER5bmFtaWNEZXNjcmlwdGl2ZUluY2lkZW50KTtcblxuICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihEeW5hbWljRGVzY3JpcHRpdmVJbmNpZGVudCkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIER5bmFtaWNEZXNjcmlwdGl2ZUluY2lkZW50O1xuICAgICAgICB9KERlc2NyaXB0aXZlSW5jaWRlbnQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzMiwgXCJJbmNpZGVudFwiLCBpbmNpZGVudENsYXNzKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzczIsIFwicGx1Z2luX25wbV9uYW1lXCIsIHBsdWdpbi5ucG1fbmFtZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3MyLCBcInBsdWdpblwiLCBwbHVnaW4ubmFtZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3MyLCBcIkNsYXNzTmFtZVwiLCBwbHVnaW4uaW5jaWRlbnRzW2ldLm5hbWUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzMiwgXCJDaGFubmVsXCIsIEF0dHJpYnV0ZUNoYW5uZWxUb1VzZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3MyLCBcImF1ZGlvXCIsIHBsdWdpbi5hdWRpbyA/IFwib25seVwiIDogXCJvZmZcIiksIF90ZW1wMik7XG4gICAgICB9IC8vIGlmIGl0IGlzIGFuIEluY2lkZW50XG4gICAgICBlbHNlIGlmIChpbmNpZGVudENsYXNzLnByb3RvdHlwZSBpbnN0YW5jZW9mIE1lZGlhUGxheWJhY2spIHtcbiAgICAgICAgICB2YXIgX2NsYXNzMywgX3RlbXAzO1xuXG4gICAgICAgICAgRHluYW1pY0Rlc2NyaXB0aXZlSW5jaWRlbnQgPSAoX3RlbXAzID0gX2NsYXNzMyA9XG4gICAgICAgICAgLyojX19QVVJFX18qL1xuICAgICAgICAgIGZ1bmN0aW9uIChfRGVzY3JpcHRpdmVJbmNpZGVudDIpIHtcbiAgICAgICAgICAgIF9pbmhlcml0cyhEeW5hbWljRGVzY3JpcHRpdmVJbmNpZGVudCwgX0Rlc2NyaXB0aXZlSW5jaWRlbnQyKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gRHluYW1pY0Rlc2NyaXB0aXZlSW5jaWRlbnQoKSB7XG4gICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEeW5hbWljRGVzY3JpcHRpdmVJbmNpZGVudCk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihEeW5hbWljRGVzY3JpcHRpdmVJbmNpZGVudCkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBEeW5hbWljRGVzY3JpcHRpdmVJbmNpZGVudDtcbiAgICAgICAgICB9KERlc2NyaXB0aXZlSW5jaWRlbnQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzMywgXCJJbmNpZGVudFwiLCBpbmNpZGVudENsYXNzKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzczMsIFwicGx1Z2luX25wbV9uYW1lXCIsICdAa2lzc215YnV0dG9uL21lZGlhLXBsYXliYWNrJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3MzLCBcInBsdWdpblwiLCBwbHVnaW4ubmFtZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3MzLCBcIkNsYXNzTmFtZVwiLCBwbHVnaW4uaW5jaWRlbnRzW2ldLm5hbWUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzMywgXCJDaGFubmVsXCIsIHBsdWdpbi5hdWRpbyA/IEF1ZGlvUGxheWJhY2tDaGFubmVsIDogbnVsbCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3MzLCBcImF1ZGlvXCIsIHBsdWdpbi5hdWRpbyA/IFwib25seVwiIDogXCJvZmZcIiksIF90ZW1wMyk7XG4gICAgICAgIH0gLy8gZWxzZSBpZiBpdCBpcyBhIENsaXBcbiAgICAgICAgZWxzZSBpZiAoaW5jaWRlbnRDbGFzcy5wcm90b3R5cGUgaW5zdGFuY2VvZiBEZXNjcmlwdGl2ZUNsaXApIHtcbiAgICAgICAgICAgIHZhciBfY2xhc3M0LCBfdGVtcDQ7XG5cbiAgICAgICAgICAgIER5bmFtaWNEZXNjcmlwdGl2ZUluY2lkZW50ID0gKF90ZW1wNCA9IF9jbGFzczQgPVxuICAgICAgICAgICAgLyojX19QVVJFX18qL1xuICAgICAgICAgICAgZnVuY3Rpb24gKF9pbmNpZGVudENsYXNzKSB7XG4gICAgICAgICAgICAgIF9pbmhlcml0cyhEeW5hbWljRGVzY3JpcHRpdmVJbmNpZGVudCwgX2luY2lkZW50Q2xhc3MpO1xuXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIER5bmFtaWNEZXNjcmlwdGl2ZUluY2lkZW50KCkge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEeW5hbWljRGVzY3JpcHRpdmVJbmNpZGVudCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKER5bmFtaWNEZXNjcmlwdGl2ZUluY2lkZW50KS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBEeW5hbWljRGVzY3JpcHRpdmVJbmNpZGVudDtcbiAgICAgICAgICAgIH0oaW5jaWRlbnRDbGFzcyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3M0LCBcInBsdWdpblwiLCBwbHVnaW4ubmFtZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3M0LCBcIkNsYXNzTmFtZVwiLCBwbHVnaW4uaW5jaWRlbnRzW2ldLm5hbWUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzNCwgXCJhdWRpb1wiLCBwbHVnaW4uYXVkaW8gPyBcIm9ubHlcIiA6IFwib25cIiksIF90ZW1wNCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpbmNpZGVudENsYXNzLnByb3RvdHlwZSBpbnN0YW5jZW9mIERlc2NyaXB0aXZlR3JvdXApIHtcbiAgICAgICAgICAgIHZhciBfY2xhc3M1LCBfdGVtcDU7XG5cbiAgICAgICAgICAgIER5bmFtaWNEZXNjcmlwdGl2ZUluY2lkZW50ID0gKF90ZW1wNSA9IF9jbGFzczUgPVxuICAgICAgICAgICAgLyojX19QVVJFX18qL1xuICAgICAgICAgICAgZnVuY3Rpb24gKF9pbmNpZGVudENsYXNzMikge1xuICAgICAgICAgICAgICBfaW5oZXJpdHMoRHluYW1pY0Rlc2NyaXB0aXZlSW5jaWRlbnQsIF9pbmNpZGVudENsYXNzMik7XG5cbiAgICAgICAgICAgICAgZnVuY3Rpb24gRHluYW1pY0Rlc2NyaXB0aXZlSW5jaWRlbnQoKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIER5bmFtaWNEZXNjcmlwdGl2ZUluY2lkZW50KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoRHluYW1pY0Rlc2NyaXB0aXZlSW5jaWRlbnQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIER5bmFtaWNEZXNjcmlwdGl2ZUluY2lkZW50O1xuICAgICAgICAgICAgfShpbmNpZGVudENsYXNzKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzczUsIFwicGx1Z2luXCIsIHBsdWdpbi5uYW1lKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzczUsIFwiQ2xhc3NOYW1lXCIsIHBsdWdpbi5pbmNpZGVudHNbaV0ubmFtZSksIF90ZW1wNSk7XG4gICAgICAgICAgfVxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhlUGx1Z2luLCBwbHVnaW4uaW5jaWRlbnRzW2ldLm5hbWUsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgLy8gdGhlIGdldHRlciB3aWxsIGNvbnN0cnVjdCBhIHdyYXBwZXIgY2xhc3Mgd2hpY2ggb24gdGhlIGNvbnN0cnVjdG9yIHdpbGwgaW5zdGFudGlhdGUgYW4gb2JqZWN0IG9mIHRoZVxuICAgICAgICAgIC8vIGV4cG9zZWQgY2xhc3MsIHNldCB0byBpdCB0aGUgcGx1Z2luIG5hbWUgYW5kIGNoYW5uZWwgY2xhc3MgcGFyYW1ldGVycyBhbmQgcmV0dXJuXG4gICAgICAgICAgLy8gaXQgZnJvbSB0aGUgY29uc3RydWN0b3JcbiAgICAgICAgICB2YXIgV3JhcHBlckNsYXNzID0gZnVuY3Rpb24gV3JhcHBlckNsYXNzKGF0dHJzLCBwcm9wcykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdyYXBwZXJDbGFzcyk7XG5cbiAgICAgICAgICAgIHZhciBpbnN0YW50aWF0ZWRJbmNpZGVudCA9IG5ldyBEeW5hbWljRGVzY3JpcHRpdmVJbmNpZGVudChhdHRycywgcHJvcHMpO1xuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBsdWdpbi5pbmNpZGVudHNbaV0sIFwiYXR0cmlidXRlc1ZhbGlkYXRpb25SdWxlc1wiKSkge1xuICAgICAgICAgICAgICB2YXIgdiA9IG5ldyBWYWxpZGF0b3IoKTtcbiAgICAgICAgICAgICAgdmFyIHZhbGlkYXRpb25SZXN1bHQgPSB2LnZhbGlkYXRlKGF0dHJzLCBwbHVnaW4uaW5jaWRlbnRzW2ldLmF0dHJpYnV0ZXNWYWxpZGF0aW9uUnVsZXMpO1xuXG4gICAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uUmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGVycm9yczogdmFsaWRhdGlvblJlc3VsdFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGhlbHBlci53YXJuaW5nKFwiSXQncyBhbHdheXMgZ29vZCB0byBwcm92aWRlIGF0dHJpYnV0ZXNWYWxpZGF0aW9uUnVsZXMgdG8gdGhlIGV4cG9ydGVkIGluY2lkZW50cy4gXCIuY29uY2F0KHBsdWdpbi5ucG1fbmFtZSwgXCIuXCIpLmNvbmNhdChpbnN0YW50aWF0ZWRJbmNpZGVudC5jb25zdHJ1Y3Rvci5uYW1lLCBcIiBkb2Vzbid0IHByb3ZpZGUgaXRcIikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFudGlhdGVkSW5jaWRlbnQ7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJldHVybiBXcmFwcGVyQ2xhc3M7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBsdWdpbi5pbmNpZGVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIF9sb29wKGkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGVQbHVnaW47XG4gIH1cbn1cblxudmFyIGF1ZGlvUGx1Z2luTWFpbiA9IHJlcXVpcmUoJy4vQXVkaW8vbWFpbicpO1xuXG52YXIgQXVkaW9QbHVnaW4gPSBsb2FkUGx1Z2luKGF1ZGlvUGx1Z2luTWFpbik7XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQVBJOiB7XG4gICAgTW9ub0luY2lkZW50OiBNb25vSW5jaWRlbnQsXG4gICAgR3JvdXA6IERlc2NyaXB0aXZlR3JvdXAsXG4gICAgQ2xpcDogRGVzY3JpcHRpdmVDbGlwLFxuICAgIEF1ZGlvQ2xpcDogRGVzY3JpcHRpdmVBdWRpb0NsaXAsXG4gICAgTWVkaWFQbGF5YmFjazogTWVkaWFQbGF5YmFjayxcbiAgICBFeHRlbmRhYmxlQ2xpcDogRXh0ZW5kYWJsZUNsaXBcbiAgfSxcbiAgR3JvdXA6IERlc2NyaXB0aXZlR3JvdXAsXG4gIENsaXA6IERlc2NyaXB0aXZlQ2xpcCxcbiAgbG9hZFBsdWdpbjogbG9hZFBsdWdpbixcbiAgQXVkaW9DbGlwOiBBdWRpb1BsdWdpbi5DbGlwLFxuICBBdWRpb1BsYXliYWNrOiBBdWRpb1BsdWdpbi5BdWRpb1BsYXliYWNrLFxuICBUaW1lQ2Fwc3VsZTogVGltZUNhcHN1bGVcbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/dist/main.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.filter/index.js":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.filter/index.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global, module) {/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize include=\"filter,sortBy,findIndex,find,forEach,cloneDeep\" exports=\"npm\"`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports =  true && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\n/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = filter;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../webpack/buildin/global.js */ \"../node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../../../../../webpack/buildin/module.js */ \"../node_modules/webpack/buildin/module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvbG9kYXNoLWN1c3RvbS1idWlsZC9tb2R1bGFyaXplL2xvZGFzaC5maWx0ZXIvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvbG9kYXNoLWN1c3RvbS1idWlsZC9tb2R1bGFyaXplL2xvZGFzaC5maWx0ZXIvaW5kZXguanM/MmJlOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgaW5jbHVkZT1cImZpbHRlcixzb3J0QnksZmluZEluZGV4LGZpbmQsZm9yRWFjaCxjbG9uZURlZXBcIiBleHBvcnRzPVwibnBtXCJgXG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pzLmZvdW5kYXRpb24vPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgYXMgdGhlIG1heGltdW0gbWVtb2l6ZSBjYWNoZSBzaXplLiAqL1xudmFyIE1BWF9NRU1PSVpFX1NJWkUgPSA1MDA7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xudmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgIHJlSXNQbGFpblByb3AgPSAvXlxcdyokLyxcbiAgICByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAqL1xuZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgVWludDhBcnJheSA9IHJvb3QuVWludDhBcnJheSxcbiAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShyb290LCAnRGF0YVZpZXcnKSxcbiAgICBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIFByb21pc2UgPSBnZXROYXRpdmUocm9vdCwgJ1Byb21pc2UnKSxcbiAgICBTZXQgPSBnZXROYXRpdmUocm9vdCwgJ1NldCcpLFxuICAgIFdlYWtNYXAgPSBnZXROYXRpdmUocm9vdCwgJ1dlYWtNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG52YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIC0tdGhpcy5zaXplO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgKyt0aGlzLnNpemU7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4vKipcbiAqXG4gKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGFkZFxuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAYWxpYXMgcHVzaFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cblNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBTdGFja1xuICovXG5mdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICovXG52YXIgYmFzZUVhY2ggPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWx0ZXJgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYmFzZUZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gKiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xudmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gIHJldHVybiBvYmplY3QgJiYgYmFzZUZvcihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5nZXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVmYXVsdCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCBwYXRoKSB7XG4gIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gIHZhciBpbmRleCA9IDAsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICBvYmplY3QgPSBvYmplY3RbdG9LZXkocGF0aFtpbmRleCsrXSldO1xuICB9XG4gIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VIYXNJbihvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYga2V5IGluIE9iamVjdChvYmplY3QpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICogIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICogIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gIGlmICh2YWx1ZSA9PT0gb3RoZXIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCB8fCBvdGhlciA9PSBudWxsIHx8ICghaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgfVxuICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgYmFzZUlzRXF1YWwsIHN0YWNrKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICBvYmpJc09iaiA9IGZhbHNlO1xuICB9XG4gIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gIH1cbiAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgfVxuICB9XG4gIGlmICghaXNTYW1lVGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXRjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhLCBjdXN0b21pemVyKSB7XG4gIHZhciBpbmRleCA9IG1hdGNoRGF0YS5sZW5ndGgsXG4gICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgIG5vQ3VzdG9taXplciA9ICFjdXN0b21pemVyO1xuXG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybiAhbGVuZ3RoO1xuICB9XG4gIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICB3aGlsZSAoaW5kZXgtLSkge1xuICAgIHZhciBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICBpZiAoKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKVxuICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgOiAhKGRhdGFbMF0gaW4gb2JqZWN0KVxuICAgICAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICB2YXIga2V5ID0gZGF0YVswXSxcbiAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgc3JjVmFsdWUgPSBkYXRhWzFdO1xuXG4gICAgaWYgKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKSB7XG4gICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0YWNrID0gbmV3IFN0YWNrO1xuICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShyZXN1bHQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLml0ZXJhdGVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBbdmFsdWU9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGl0ZXJhdGVlLlxuICovXG5mdW5jdGlvbiBiYXNlSXRlcmF0ZWUodmFsdWUpIHtcbiAgLy8gRG9uJ3Qgc3RvcmUgdGhlIGB0eXBlb2ZgIHJlc3VsdCBpbiBhIHZhcmlhYmxlIHRvIGF2b2lkIGEgSklUIGJ1ZyBpbiBTYWZhcmkgOS5cbiAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTYwMzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGlkZW50aXR5O1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSlcbiAgICAgID8gYmFzZU1hdGNoZXNQcm9wZXJ0eSh2YWx1ZVswXSwgdmFsdWVbMV0pXG4gICAgICA6IGJhc2VNYXRjaGVzKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VNYXRjaGVzKHNvdXJjZSkge1xuICB2YXIgbWF0Y2hEYXRhID0gZ2V0TWF0Y2hEYXRhKHNvdXJjZSk7XG4gIGlmIChtYXRjaERhdGEubGVuZ3RoID09IDEgJiYgbWF0Y2hEYXRhWzBdWzJdKSB7XG4gICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKG1hdGNoRGF0YVswXVswXSwgbWF0Y2hEYXRhWzBdWzFdKTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEpO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNQcm9wZXJ0eWAgd2hpY2ggZG9lc24ndCBjbG9uZSBgc3JjVmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gIGlmIChpc0tleShwYXRoKSAmJiBpc1N0cmljdENvbXBhcmFibGUoc3JjVmFsdWUpKSB7XG4gICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKHRvS2V5KHBhdGgpLCBzcmNWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBvYmpWYWx1ZSA9IGdldChvYmplY3QsIHBhdGgpO1xuICAgIHJldHVybiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvYmpWYWx1ZSA9PT0gc3JjVmFsdWUpXG4gICAgICA/IGhhc0luKG9iamVjdCwgcGF0aClcbiAgICAgIDogYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpO1xuICB9O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVByb3BlcnR5YCB3aGljaCBzdXBwb3J0cyBkZWVwIHBhdGhzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VQcm9wZXJ0eURlZXAocGF0aCkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAvLyBSZWN1cnNpdmVseSBjb252ZXJ0IHZhbHVlcyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGNhc3RQYXRoKHZhbHVlLCBvYmplY3QpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHJldHVybiBpc0tleSh2YWx1ZSwgb2JqZWN0KSA/IFt2YWx1ZV0gOiBzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYGJhc2VFYWNoYCBvciBgYmFzZUVhY2hSaWdodGAgZnVuY3Rpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYSBjb2xsZWN0aW9uLlxuICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVCYXNlRWFjaChlYWNoRnVuYywgZnJvbVJpZ2h0KSB7XG4gIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgIH1cbiAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICByZXR1cm4gZWFjaEZ1bmMoY29sbGVjdGlvbiwgaXRlcmF0ZWUpO1xuICAgIH1cbiAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTEsXG4gICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuXG4gICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtpbmRleF0sIGluZGV4LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgcHJvcHMgPSBrZXlzRnVuYyhvYmplY3QpLFxuICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIHZhciBrZXkgPSBwcm9wc1tmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XTtcbiAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH07XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoc2Vlbikge1xuICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpIHtcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgY2FzZSBib29sVGFnOlxuICAgIGNhc2UgZGF0ZVRhZzpcbiAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgIGNhc2UgbWFwVGFnOlxuICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgY2FzZSBzZXRUYWc6XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciByZXN1bHQgPSB0cnVlO1xuICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgfVxuICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbWF0Y2ggZGF0YSBvZiBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0ga2V5cyhvYmplY3QpLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICB2YXIga2V5ID0gcmVzdWx0W2xlbmd0aF0sXG4gICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAqL1xudmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG52YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHBhdGhgIGV4aXN0cyBvbiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYXNGdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjayBwcm9wZXJ0aWVzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzUGF0aChvYmplY3QsIHBhdGgsIGhhc0Z1bmMpIHtcbiAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKTtcbiAgICBpZiAoIShyZXN1bHQgPSBvYmplY3QgIT0gbnVsbCAmJiBoYXNGdW5jKG9iamVjdCwga2V5KSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgfVxuICBpZiAocmVzdWx0IHx8ICsraW5kZXggIT0gbGVuZ3RoKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBsZW5ndGggPSBvYmplY3QgPT0gbnVsbCA/IDAgOiBvYmplY3QubGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpZiBzdWl0YWJsZSBmb3Igc3RyaWN0XG4gKiAgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgJiYgIWlzT2JqZWN0KHZhbHVlKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYG1hdGNoZXNQcm9wZXJ0eWAgZm9yIHNvdXJjZSB2YWx1ZXMgc3VpdGFibGVcbiAqIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShrZXksIHNyY1ZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdFtrZXldID09PSBzcmNWYWx1ZSAmJlxuICAgICAgKHNyY1ZhbHVlICE9PSB1bmRlZmluZWQgfHwgKGtleSBpbiBPYmplY3Qob2JqZWN0KSkpO1xuICB9O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tZW1vaXplYCB3aGljaCBjbGVhcnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uJ3NcbiAqIGNhY2hlIHdoZW4gaXQgZXhjZWVkcyBgTUFYX01FTU9JWkVfU0laRWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBtZW1vaXplQ2FwcGVkKGZ1bmMpIHtcbiAgdmFyIHJlc3VsdCA9IG1lbW9pemUoZnVuYywgZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKGNhY2hlLnNpemUgPT09IE1BWF9NRU1PSVpFX1NJWkUpIHtcbiAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH0pO1xuXG4gIHZhciBjYWNoZSA9IHJlc3VsdC5jYWNoZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG52YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZUNhcHBlZChmdW5jdGlvbihzdHJpbmcpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcbiAgICByZXN1bHQucHVzaCgnJyk7XG4gIH1cbiAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3ViU3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICovXG5mdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGFsbCBlbGVtZW50c1xuICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gKlxuICogKipOb3RlOioqIFVubGlrZSBgXy5yZW1vdmVgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAqIEBzZWUgXy5yZWplY3RcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIHVzZXJzID0gW1xuICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gKiBdO1xuICpcbiAqIF8uZmlsdGVyKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAqXG4gKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICogXy5maWx0ZXIodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAqXG4gKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gKiBfLmZpbHRlcih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAqXG4gKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAqIF8uZmlsdGVyKHVzZXJzLCAnYWN0aXZlJyk7XG4gKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gKi9cbmZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlGaWx0ZXIgOiBiYXNlRmlsdGVyO1xuICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBiYXNlSXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICpcbiAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBjbGVhcmAsIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICpcbiAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiB2YWx1ZXMob3RoZXIpO1xuICogLy8gPT4gWzMsIDRdXG4gKlxuICogb2JqZWN0LmEgPSAyO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWydhJywgJ2InXVxuICpcbiAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICovXG5mdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpIHx8IGNhY2hlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG4vLyBFeHBvc2UgYE1hcENhY2hlYC5cbm1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjMuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvU3RyaW5nKG51bGwpO1xuICogLy8gPT4gJydcbiAqXG4gKiBfLnRvU3RyaW5nKC0wKTtcbiAqIC8vID0+ICctMCdcbiAqXG4gKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiAnMSwyLDMnXG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzXG4gKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuNy4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAqXG4gKiBfLmdldChvYmplY3QsICdhWzBdLmIuYycpO1xuICogLy8gPT4gM1xuICpcbiAqIF8uZ2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICogLy8gPT4gM1xuICpcbiAqIF8uZ2V0KG9iamVjdCwgJ2EuYi5jJywgJ2RlZmF1bHQnKTtcbiAqIC8vID0+ICdkZWZhdWx0J1xuICovXG5mdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBvciBpbmhlcml0ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0gXy5jcmVhdGUoeyAnYSc6IF8uY3JlYXRlKHsgJ2InOiAyIH0pIH0pO1xuICpcbiAqIF8uaGFzSW4ob2JqZWN0LCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaGFzSW4ob2JqZWN0LCAnYS5iJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5oYXNJbihvYmplY3QsIFsnYScsICdiJ10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaGFzSW4ob2JqZWN0LCAnYicpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaGFzSW4ob2JqZWN0LCBwYXRoKSB7XG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhc0luKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXMobmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKlxuICogXy5rZXlzKCdoaScpO1xuICogLy8gPT4gWycwJywgJzEnXVxuICovXG5mdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKlxuICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3RzID0gW1xuICogICB7ICdhJzogeyAnYic6IDIgfSB9LFxuICogICB7ICdhJzogeyAnYic6IDEgfSB9XG4gKiBdO1xuICpcbiAqIF8ubWFwKG9iamVjdHMsIF8ucHJvcGVydHkoJ2EuYicpKTtcbiAqIC8vID0+IFsyLCAxXVxuICpcbiAqIF8ubWFwKF8uc29ydEJ5KG9iamVjdHMsIF8ucHJvcGVydHkoWydhJywgJ2InXSkpLCAnYS5iJyk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqL1xuZnVuY3Rpb24gcHJvcGVydHkocGF0aCkge1xuICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICogLy8gPT4gW1tdLCBbXV1cbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gIHJldHVybiBbXTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gKi9cbmZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZpbHRlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.filter/index.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.findindex/index.js":
/*!**********************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.findindex/index.js ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global, module) {/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize include=\"filter,sortBy,findIndex,find,forEach,cloneDeep\" exports=\"npm\"`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991,\n    MAX_INTEGER = 1.7976931348623157e+308,\n    NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports =  true && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max;\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\n/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = findIndex;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../webpack/buildin/global.js */ \"../node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../../../../../webpack/buildin/module.js */ \"../node_modules/webpack/buildin/module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvbG9kYXNoLWN1c3RvbS1idWlsZC9tb2R1bGFyaXplL2xvZGFzaC5maW5kaW5kZXgvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvbG9kYXNoLWN1c3RvbS1idWlsZC9tb2R1bGFyaXplL2xvZGFzaC5maW5kaW5kZXgvaW5kZXguanM/Y2EwMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgaW5jbHVkZT1cImZpbHRlcixzb3J0QnksZmluZEluZGV4LGZpbmQsZm9yRWFjaCxjbG9uZURlZXBcIiBleHBvcnRzPVwibnBtXCJgXG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pzLmZvdW5kYXRpb24vPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgYXMgdGhlIG1heGltdW0gbWVtb2l6ZSBjYWNoZSBzaXplLiAqL1xudmFyIE1BWF9NRU1PSVpFX1NJWkUgPSA1MDA7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xudmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcbiAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuICAgIE5BTiA9IDAgLyAwO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nO1xuXG52YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuICovXG52YXIgcmVUcmltID0gL15cXHMrfFxccyskL2c7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG52YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbnR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xudHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxudHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxudHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbnZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xudmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbi8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xudmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbi8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG52YXIgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmluZEluZGV4YCBhbmQgYF8uZmluZExhc3RJbmRleGAgd2l0aG91dFxuICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBiYXNlRmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCwgZnJvbVJpZ2h0KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICBpbmRleCA9IGZyb21JbmRleCArIChmcm9tUmlnaHQgPyAxIDogLTEpO1xuXG4gIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICovXG5mdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5LFxuICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KSxcbiAgICBuYXRpdmVNYXggPSBNYXRoLm1heDtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKHJvb3QsICdEYXRhVmlldycpLFxuICAgIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgUHJvbWlzZSA9IGdldE5hdGl2ZShyb290LCAnUHJvbWlzZScpLFxuICAgIFNldCA9IGdldE5hdGl2ZShyb290LCAnU2V0JyksXG4gICAgV2Vha01hcCA9IGdldE5hdGl2ZShyb290LCAnV2Vha01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbnZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgLS10aGlzLnNpemU7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICArK3RoaXMuc2l6ZTtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICpcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICB9XG59XG5cbi8qKlxuICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgYWRkXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBhbGlhcyBwdXNoXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG5TZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIFN0YWNrXG4gKi9cbmZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gIH1cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG5TdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0KG9iamVjdCwgcGF0aCkge1xuICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICB2YXIgaW5kZXggPSAwLFxuICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgfVxuICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc0luYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSGFzSW4ob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGtleSBpbiBPYmplY3Qob2JqZWN0KTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gIH1cbiAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgfVxuICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICB9XG4gIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgfVxuICBpZiAoIWlzU2FtZVRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWF0Y2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICogQHBhcmFtIHtBcnJheX0gbWF0Y2hEYXRhIFRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyB0byBtYXRjaC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuICB2YXIgaW5kZXggPSBtYXRjaERhdGEubGVuZ3RoLFxuICAgICAgbGVuZ3RoID0gaW5kZXgsXG4gICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblxuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gIWxlbmd0aDtcbiAgfVxuICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICB2YXIgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgaWYgKChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSlcbiAgICAgICAgICA/IGRhdGFbMV0gIT09IG9iamVjdFtkYXRhWzBdXVxuICAgICAgICAgIDogIShkYXRhWzBdIGluIG9iamVjdClcbiAgICAgICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgdmFyIGtleSA9IGRhdGFbMF0sXG4gICAgICAgIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgIHNyY1ZhbHVlID0gZGF0YVsxXTtcblxuICAgIGlmIChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSkge1xuICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzdGFjayA9IG5ldyBTdGFjaztcbiAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spO1xuICAgICAgfVxuICAgICAgaWYgKCEocmVzdWx0ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcsIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgOiByZXN1bHRcbiAgICAgICAgICApKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pdGVyYXRlZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gW3ZhbHVlPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBpdGVyYXRlZS5cbiAqL1xuZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlKSB7XG4gIC8vIERvbid0IHN0b3JlIHRoZSBgdHlwZW9mYCByZXN1bHQgaW4gYSB2YXJpYWJsZSB0byBhdm9pZCBhIEpJVCBidWcgaW4gU2FmYXJpIDkuXG4gIC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU2MDM0IGZvciBtb3JlIGRldGFpbHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBpZGVudGl0eTtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpXG4gICAgICA/IGJhc2VNYXRjaGVzUHJvcGVydHkodmFsdWVbMF0sIHZhbHVlWzFdKVxuICAgICAgOiBiYXNlTWF0Y2hlcyh2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHByb3BlcnR5KHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgdmFyIG1hdGNoRGF0YSA9IGdldE1hdGNoRGF0YShzb3VyY2UpO1xuICBpZiAobWF0Y2hEYXRhLmxlbmd0aCA9PSAxICYmIG1hdGNoRGF0YVswXVsyXSkge1xuICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzUHJvcGVydHlgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNyY1ZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICBpZiAoaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSkge1xuICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSh0b0tleShwYXRoKSwgc3JjVmFsdWUpO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIgb2JqVmFsdWUgPSBnZXQob2JqZWN0LCBwYXRoKTtcbiAgICByZXR1cm4gKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgb2JqVmFsdWUgPT09IHNyY1ZhbHVlKVxuICAgICAgPyBoYXNJbihvYmplY3QsIHBhdGgpXG4gICAgICA6IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gIH07XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG5mdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSwgb2JqZWN0KSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gaXNLZXkodmFsdWUsIG9iamVjdCkgPyBbdmFsdWVdIDogc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoc2Vlbikge1xuICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpIHtcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgY2FzZSBib29sVGFnOlxuICAgIGNhc2UgZGF0ZVRhZzpcbiAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgIGNhc2UgbWFwVGFnOlxuICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgY2FzZSBzZXRUYWc6XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciByZXN1bHQgPSB0cnVlO1xuICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgfVxuICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbWF0Y2ggZGF0YSBvZiBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0ga2V5cyhvYmplY3QpLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICB2YXIga2V5ID0gcmVzdWx0W2xlbmd0aF0sXG4gICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAqL1xudmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG52YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHBhdGhgIGV4aXN0cyBvbiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYXNGdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjayBwcm9wZXJ0aWVzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzUGF0aChvYmplY3QsIHBhdGgsIGhhc0Z1bmMpIHtcbiAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKTtcbiAgICBpZiAoIShyZXN1bHQgPSBvYmplY3QgIT0gbnVsbCAmJiBoYXNGdW5jKG9iamVjdCwga2V5KSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgfVxuICBpZiAocmVzdWx0IHx8ICsraW5kZXggIT0gbGVuZ3RoKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBsZW5ndGggPSBvYmplY3QgPT0gbnVsbCA/IDAgOiBvYmplY3QubGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpZiBzdWl0YWJsZSBmb3Igc3RyaWN0XG4gKiAgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgJiYgIWlzT2JqZWN0KHZhbHVlKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYG1hdGNoZXNQcm9wZXJ0eWAgZm9yIHNvdXJjZSB2YWx1ZXMgc3VpdGFibGVcbiAqIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShrZXksIHNyY1ZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdFtrZXldID09PSBzcmNWYWx1ZSAmJlxuICAgICAgKHNyY1ZhbHVlICE9PSB1bmRlZmluZWQgfHwgKGtleSBpbiBPYmplY3Qob2JqZWN0KSkpO1xuICB9O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tZW1vaXplYCB3aGljaCBjbGVhcnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uJ3NcbiAqIGNhY2hlIHdoZW4gaXQgZXhjZWVkcyBgTUFYX01FTU9JWkVfU0laRWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBtZW1vaXplQ2FwcGVkKGZ1bmMpIHtcbiAgdmFyIHJlc3VsdCA9IG1lbW9pemUoZnVuYywgZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKGNhY2hlLnNpemUgPT09IE1BWF9NRU1PSVpFX1NJWkUpIHtcbiAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH0pO1xuXG4gIHZhciBjYWNoZSA9IHJlc3VsdC5jYWNoZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG52YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZUNhcHBlZChmdW5jdGlvbihzdHJpbmcpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcbiAgICByZXN1bHQucHVzaCgnJyk7XG4gIH1cbiAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3ViU3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICovXG5mdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdFxuICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAxLjEuMFxuICogQGNhdGVnb3J5IEFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciB1c2VycyA9IFtcbiAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gKiBdO1xuICpcbiAqIF8uZmluZEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ2Jhcm5leSc7IH0pO1xuICogLy8gPT4gMFxuICpcbiAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gKiBfLmZpbmRJbmRleCh1c2VycywgeyAndXNlcic6ICdmcmVkJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICogLy8gPT4gMVxuICpcbiAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAqIF8uZmluZEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gKiAvLyA9PiAwXG4gKlxuICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gKiBfLmZpbmRJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICogLy8gPT4gMlxuICovXG5mdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gIGlmIChpbmRleCA8IDApIHtcbiAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gIH1cbiAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICpcbiAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBjbGVhcmAsIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICpcbiAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiB2YWx1ZXMob3RoZXIpO1xuICogLy8gPT4gWzMsIDRdXG4gKlxuICogb2JqZWN0LmEgPSAyO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWydhJywgJ2InXVxuICpcbiAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICovXG5mdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpIHx8IGNhY2hlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG4vLyBFeHBvc2UgYE1hcENhY2hlYC5cbm1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjMuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTIuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvRmluaXRlKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICpcbiAqIF8udG9GaW5pdGUoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gIH1cbiAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgcmV0dXJuIHNpZ24gKiBNQVhfSU5URUdFUjtcbiAgfVxuICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlci5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0ludGVnZXJgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9pbnRlZ2VyKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvSW50ZWdlcigzLjIpO1xuICogLy8gPT4gM1xuICpcbiAqIF8udG9JbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gMFxuICpcbiAqIF8udG9JbnRlZ2VyKEluZmluaXR5KTtcbiAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gKlxuICogXy50b0ludGVnZXIoJzMuMicpO1xuICogLy8gPT4gM1xuICovXG5mdW5jdGlvbiB0b0ludGVnZXIodmFsdWUpIHtcbiAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgIHJlbWFpbmRlciA9IHJlc3VsdCAlIDE7XG5cbiAgcmV0dXJuIHJlc3VsdCA9PT0gcmVzdWx0ID8gKHJlbWFpbmRlciA/IHJlc3VsdCAtIHJlbWFpbmRlciA6IHJlc3VsdCkgOiAwO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpc1xuICogYHVuZGVmaW5lZGAsIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpbiBpdHMgcGxhY2UuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjcuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gKlxuICogXy5nZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLmdldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLmdldChvYmplY3QsICdhLmIuYycsICdkZWZhdWx0Jyk7XG4gKiAvLyA9PiAnZGVmYXVsdCdcbiAqL1xuZnVuY3Rpb24gZ2V0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gIHZhciByZXN1bHQgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3Qgb3IgaW5oZXJpdGVkIHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAqXG4gKiBfLmhhc0luKG9iamVjdCwgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmhhc0luKG9iamVjdCwgJ2EuYicpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaGFzSW4ob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmhhc0luKG9iamVjdCwgJ2InKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGhhc0luKG9iamVjdCwgcGF0aCkge1xuICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXNJbik7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICpcbiAqIF8ua2V5cygnaGknKTtcbiAqIC8vID0+IFsnMCcsICcxJ11cbiAqL1xuZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICpcbiAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0cyA9IFtcbiAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAqICAgeyAnYSc6IHsgJ2InOiAxIH0gfVxuICogXTtcbiAqXG4gKiBfLm1hcChvYmplY3RzLCBfLnByb3BlcnR5KCdhLmInKSk7XG4gKiAvLyA9PiBbMiwgMV1cbiAqXG4gKiBfLm1hcChfLnNvcnRCeShvYmplY3RzLCBfLnByb3BlcnR5KFsnYScsICdiJ10pKSwgJ2EuYicpO1xuICogLy8gPT4gWzEsIDJdXG4gKi9cbmZ1bmN0aW9uIHByb3BlcnR5KHBhdGgpIHtcbiAgcmV0dXJuIGlzS2V5KHBhdGgpID8gYmFzZVByb3BlcnR5KHRvS2V5KHBhdGgpKSA6IGJhc2VQcm9wZXJ0eURlZXAocGF0aCk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gKlxuICogY29uc29sZS5sb2coYXJyYXlzKTtcbiAqIC8vID0+IFtbXSwgW11dXG4gKlxuICogY29uc29sZS5sb2coYXJyYXlzWzBdID09PSBhcnJheXNbMV0pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gc3R1YkFycmF5KCkge1xuICByZXR1cm4gW107XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmaW5kSW5kZXg7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.findindex/index.js\n");

/***/ }),

/***/ "../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.sortby/index.js":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.sortby/index.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global, module) {/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize include=\"filter,sortBy,findIndex,find,forEach,cloneDeep\" exports=\"npm\"`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports =  true && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  var index = -1;\n  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\n/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = sortBy;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../webpack/buildin/global.js */ \"../node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../../../../../webpack/buildin/module.js */ \"../node_modules/webpack/buildin/module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvbG9kYXNoLWN1c3RvbS1idWlsZC9tb2R1bGFyaXplL2xvZGFzaC5zb3J0YnkvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL0BraXNzbXlidXR0b24vbW90b3Jjb3J0ZXgvbG9kYXNoLWN1c3RvbS1idWlsZC9tb2R1bGFyaXplL2xvZGFzaC5zb3J0YnkvaW5kZXguanM/YWE4YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgaW5jbHVkZT1cImZpbHRlcixzb3J0QnksZmluZEluZGV4LGZpbmQsZm9yRWFjaCxjbG9uZURlZXBcIiBleHBvcnRzPVwibnBtXCJgXG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pzLmZvdW5kYXRpb24vPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgYXMgdGhlIG1heGltdW0gbWVtb2l6ZSBjYWNoZSBzaXplLiAqL1xudmFyIE1BWF9NRU1PSVpFX1NJWkUgPSA1MDA7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xudmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xudmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICBIT1RfU1BBTiA9IDE2O1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nO1xuXG52YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xudmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG50eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbnR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbnR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbnR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbnR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbnR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbnR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbnR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbnR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgfVxuICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVByb3BlcnR5KGtleSkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH07XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydEJ5YCB3aGljaCB1c2VzIGBjb21wYXJlcmAgdG8gZGVmaW5lIHRoZVxuICogc29ydCBvcmRlciBvZiBgYXJyYXlgIGFuZCByZXBsYWNlcyBjcml0ZXJpYSBvYmplY3RzIHdpdGggdGhlaXIgY29ycmVzcG9uZGluZ1xuICogdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc29ydC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmVyIFRoZSBmdW5jdGlvbiB0byBkZWZpbmUgc29ydCBvcmRlci5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBiYXNlU29ydEJ5KGFycmF5LCBjb21wYXJlcikge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIGFycmF5LnNvcnQoY29tcGFyZXIpO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBhcnJheVtsZW5ndGhdID0gYXJyYXlbbGVuZ3RoXS52YWx1ZTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gKi9cbmZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXksXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICBzcHJlYWRhYmxlU3ltYm9sID0gU3ltYm9sID8gU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICByZXR1cm4gZnVuYztcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KSxcbiAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVOb3cgPSBEYXRlLm5vdztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKHJvb3QsICdEYXRhVmlldycpLFxuICAgIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgUHJvbWlzZSA9IGdldE5hdGl2ZShyb290LCAnUHJvbWlzZScpLFxuICAgIFNldCA9IGdldE5hdGl2ZShyb290LCAnU2V0JyksXG4gICAgV2Vha01hcCA9IGdldE5hdGl2ZShyb290LCAnV2Vha01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbnZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgLS10aGlzLnNpemU7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICArK3RoaXMuc2l6ZTtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICpcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICB9XG59XG5cbi8qKlxuICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgYWRkXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBhbGlhcyBwdXNoXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG5TZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIFN0YWNrXG4gKi9cbmZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gIH1cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG5TdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gKi9cbnZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZsYXR0ZW5gIHdpdGggc3VwcG9ydCBmb3IgcmVzdHJpY3RpbmcgZmxhdHRlbmluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gKiBAcGFyYW0ge251bWJlcn0gZGVwdGggVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cmljdF0gUmVzdHJpY3QgdG8gdmFsdWVzIHRoYXQgcGFzcyBgcHJlZGljYXRlYCBjaGVja3MuXG4gKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0PVtdXSBUaGUgaW5pdGlhbCByZXN1bHQgdmFsdWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIHByZWRpY2F0ZSB8fCAocHJlZGljYXRlID0gaXNGbGF0dGVuYWJsZSk7XG4gIHJlc3VsdCB8fCAocmVzdWx0ID0gW10pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgIGlmIChkZXB0aCA+IDAgJiYgcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgaWYgKGRlcHRoID4gMSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBmbGF0dGVuIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBiYXNlRmxhdHRlbih2YWx1ZSwgZGVwdGggLSAxLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWlzU3RyaWN0KSB7XG4gICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aF0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbnZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93bmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VGb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0KG9iamVjdCwgcGF0aCkge1xuICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICB2YXIgaW5kZXggPSAwLFxuICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgfVxuICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc0luYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSGFzSW4ob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGtleSBpbiBPYmplY3Qob2JqZWN0KTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gIH1cbiAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgfVxuICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICB9XG4gIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgfVxuICBpZiAoIWlzU2FtZVRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWF0Y2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICogQHBhcmFtIHtBcnJheX0gbWF0Y2hEYXRhIFRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyB0byBtYXRjaC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuICB2YXIgaW5kZXggPSBtYXRjaERhdGEubGVuZ3RoLFxuICAgICAgbGVuZ3RoID0gaW5kZXgsXG4gICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblxuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gIWxlbmd0aDtcbiAgfVxuICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICB2YXIgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgaWYgKChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSlcbiAgICAgICAgICA/IGRhdGFbMV0gIT09IG9iamVjdFtkYXRhWzBdXVxuICAgICAgICAgIDogIShkYXRhWzBdIGluIG9iamVjdClcbiAgICAgICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgdmFyIGtleSA9IGRhdGFbMF0sXG4gICAgICAgIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgIHNyY1ZhbHVlID0gZGF0YVsxXTtcblxuICAgIGlmIChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSkge1xuICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzdGFjayA9IG5ldyBTdGFjaztcbiAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spO1xuICAgICAgfVxuICAgICAgaWYgKCEocmVzdWx0ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcsIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgOiByZXN1bHRcbiAgICAgICAgICApKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pdGVyYXRlZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gW3ZhbHVlPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBpdGVyYXRlZS5cbiAqL1xuZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlKSB7XG4gIC8vIERvbid0IHN0b3JlIHRoZSBgdHlwZW9mYCByZXN1bHQgaW4gYSB2YXJpYWJsZSB0byBhdm9pZCBhIEpJVCBidWcgaW4gU2FmYXJpIDkuXG4gIC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU2MDM0IGZvciBtb3JlIGRldGFpbHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBpZGVudGl0eTtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpXG4gICAgICA/IGJhc2VNYXRjaGVzUHJvcGVydHkodmFsdWVbMF0sIHZhbHVlWzFdKVxuICAgICAgOiBiYXNlTWF0Y2hlcyh2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHByb3BlcnR5KHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hcGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBiYXNlTWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gaXRlcmF0ZWUodmFsdWUsIGtleSwgY29sbGVjdGlvbik7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgdmFyIG1hdGNoRGF0YSA9IGdldE1hdGNoRGF0YShzb3VyY2UpO1xuICBpZiAobWF0Y2hEYXRhLmxlbmd0aCA9PSAxICYmIG1hdGNoRGF0YVswXVsyXSkge1xuICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzUHJvcGVydHlgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNyY1ZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICBpZiAoaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSkge1xuICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSh0b0tleShwYXRoKSwgc3JjVmFsdWUpO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIgb2JqVmFsdWUgPSBnZXQob2JqZWN0LCBwYXRoKTtcbiAgICByZXR1cm4gKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgb2JqVmFsdWUgPT09IHNyY1ZhbHVlKVxuICAgICAgPyBoYXNJbihvYmplY3QsIHBhdGgpXG4gICAgICA6IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5vcmRlckJ5YCB3aXRob3V0IHBhcmFtIGd1YXJkcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbltdfE9iamVjdFtdfHN0cmluZ1tdfSBpdGVyYXRlZXMgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICogQHBhcmFtIHtzdHJpbmdbXX0gb3JkZXJzIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcy5sZW5ndGggPyBpdGVyYXRlZXMgOiBbaWRlbnRpdHldLCBiYXNlVW5hcnkoYmFzZUl0ZXJhdGVlKSk7XG5cbiAgdmFyIHJlc3VsdCA9IGJhc2VNYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgIHZhciBjcml0ZXJpYSA9IGFycmF5TWFwKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgJ2NyaXRlcmlhJzogY3JpdGVyaWEsICdpbmRleCc6ICsraW5kZXgsICd2YWx1ZSc6IHZhbHVlIH07XG4gIH0pO1xuXG4gIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuICAgIHJldHVybiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUHJvcGVydHlgIHdoaWNoIHN1cHBvcnRzIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVByb3BlcnR5RGVlcChwYXRoKSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgc2V0VG9TdHJpbmdgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICovXG52YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICB9KTtcbn07XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG5mdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSwgb2JqZWN0KSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gaXNLZXkodmFsdWUsIG9iamVjdCkgPyBbdmFsdWVdIDogc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSk7XG59XG5cbi8qKlxuICogQ29tcGFyZXMgdmFsdWVzIHRvIHNvcnQgdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGB2YWx1ZWAuXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcodmFsdWUsIG90aGVyKSB7XG4gIGlmICh2YWx1ZSAhPT0gb3RoZXIpIHtcbiAgICB2YXIgdmFsSXNEZWZpbmVkID0gdmFsdWUgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgIHZhbElzUmVmbGV4aXZlID0gdmFsdWUgPT09IHZhbHVlLFxuICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKTtcblxuICAgIHZhciBvdGhJc0RlZmluZWQgPSBvdGhlciAhPT0gdW5kZWZpbmVkLFxuICAgICAgICBvdGhJc051bGwgPSBvdGhlciA9PT0gbnVsbCxcbiAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBvdGhlciA9PT0gb3RoZXIsXG4gICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2wob3RoZXIpO1xuXG4gICAgaWYgKCghb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCAmJiAhdmFsSXNTeW1ib2wgJiYgdmFsdWUgPiBvdGhlcikgfHxcbiAgICAgICAgKHZhbElzU3ltYm9sICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSAmJiAhb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCkgfHxcbiAgICAgICAgKHZhbElzTnVsbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICghdmFsSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAhdmFsSXNSZWZsZXhpdmUpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAoKCF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sICYmICFvdGhJc1N5bWJvbCAmJiB2YWx1ZSA8IG90aGVyKSB8fFxuICAgICAgICAob3RoSXNTeW1ib2wgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlICYmICF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sKSB8fFxuICAgICAgICAob3RoSXNOdWxsICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgKCFvdGhJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICFvdGhJc1JlZmxleGl2ZSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgfVxuICByZXR1cm4gMDtcbn1cblxuLyoqXG4gKiBVc2VkIGJ5IGBfLm9yZGVyQnlgIHRvIGNvbXBhcmUgbXVsdGlwbGUgcHJvcGVydGllcyBvZiBhIHZhbHVlIHRvIGFub3RoZXJcbiAqIGFuZCBzdGFibGUgc29ydCB0aGVtLlxuICpcbiAqIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsXG4gKiBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvciBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyXG4gKiBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtib29sZWFuW118c3RyaW5nW119IG9yZGVycyBUaGUgb3JkZXIgdG8gc29ydCBieSBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIG9iakNyaXRlcmlhID0gb2JqZWN0LmNyaXRlcmlhLFxuICAgICAgb3RoQ3JpdGVyaWEgPSBvdGhlci5jcml0ZXJpYSxcbiAgICAgIGxlbmd0aCA9IG9iakNyaXRlcmlhLmxlbmd0aCxcbiAgICAgIG9yZGVyc0xlbmd0aCA9IG9yZGVycy5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgcmVzdWx0ID0gY29tcGFyZUFzY2VuZGluZyhvYmpDcml0ZXJpYVtpbmRleF0sIG90aENyaXRlcmlhW2luZGV4XSk7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgaWYgKGluZGV4ID49IG9yZGVyc0xlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIG9yZGVyID0gb3JkZXJzW2luZGV4XTtcbiAgICAgIHJldHVybiByZXN1bHQgKiAob3JkZXIgPT0gJ2Rlc2MnID8gLTEgOiAxKTtcbiAgICB9XG4gIH1cbiAgLy8gRml4ZXMgYW4gYEFycmF5I3NvcnRgIGJ1ZyBpbiB0aGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIGFwcGxpY2F0aW9uc1xuICAvLyB0aGF0IGNhdXNlcyBpdCwgdW5kZXIgY2VydGFpbiBjaXJjdW1zdGFuY2VzLCB0byBwcm92aWRlIHRoZSBzYW1lIHZhbHVlIGZvclxuICAvLyBgb2JqZWN0YCBhbmQgYG90aGVyYC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9wdWxsLzEyNDdcbiAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgLy9cbiAgLy8gVGhpcyBhbHNvIGVuc3VyZXMgYSBzdGFibGUgc29ydCBpbiBWOCBhbmQgb3RoZXIgZW5naW5lcy5cbiAgLy8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTkwIGZvciBtb3JlIGRldGFpbHMuXG4gIHJldHVybiBvYmplY3QuaW5kZXggLSBvdGhlci5pbmRleDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYGJhc2VFYWNoYCBvciBgYmFzZUVhY2hSaWdodGAgZnVuY3Rpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYSBjb2xsZWN0aW9uLlxuICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVCYXNlRWFjaChlYWNoRnVuYywgZnJvbVJpZ2h0KSB7XG4gIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgIH1cbiAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICByZXR1cm4gZWFjaEZ1bmMoY29sbGVjdGlvbiwgaXRlcmF0ZWUpO1xuICAgIH1cbiAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTEsXG4gICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuXG4gICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtpbmRleF0sIGluZGV4LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgcHJvcHMgPSBrZXlzRnVuYyhvYmplY3QpLFxuICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIHZhciBrZXkgPSBwcm9wc1tmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XTtcbiAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH07XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoc2Vlbikge1xuICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpIHtcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgY2FzZSBib29sVGFnOlxuICAgIGNhc2UgZGF0ZVRhZzpcbiAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgIGNhc2UgbWFwVGFnOlxuICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgY2FzZSBzZXRUYWc6XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciByZXN1bHQgPSB0cnVlO1xuICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgfVxuICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbWF0Y2ggZGF0YSBvZiBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0ga2V5cyhvYmplY3QpLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICB2YXIga2V5ID0gcmVzdWx0W2xlbmd0aF0sXG4gICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAqL1xudmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG52YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHBhdGhgIGV4aXN0cyBvbiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYXNGdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjayBwcm9wZXJ0aWVzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzUGF0aChvYmplY3QsIHBhdGgsIGhhc0Z1bmMpIHtcbiAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKTtcbiAgICBpZiAoIShyZXN1bHQgPSBvYmplY3QgIT0gbnVsbCAmJiBoYXNGdW5jKG9iamVjdCwga2V5KSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgfVxuICBpZiAocmVzdWx0IHx8ICsraW5kZXggIT0gbGVuZ3RoKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBsZW5ndGggPSBvYmplY3QgPT0gbnVsbCA/IDAgOiBvYmplY3QubGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmbGF0dGVuYWJsZSBgYXJndW1lbnRzYCBvYmplY3Qgb3IgYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZmxhdHRlbmFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNGbGF0dGVuYWJsZSh2YWx1ZSkge1xuICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpIHx8XG4gICAgISEoc3ByZWFkYWJsZVN5bWJvbCAmJiB2YWx1ZSAmJiB2YWx1ZVtzcHJlYWRhYmxlU3ltYm9sXSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgKSB7XG4gICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lIGFuZCBub3QgYSBwcm9wZXJ0eSBwYXRoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXkodmFsdWUsIG9iamVjdCkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGlmICh0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicgfHxcbiAgICAgIHZhbHVlID09IG51bGwgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIHJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSkgfHwgIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKSB8fFxuICAgIChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiBPYmplY3Qob2JqZWN0KSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAqICBlcXVhbGl0eSBjb21wYXJpc29ucywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSAmJiAhaXNPYmplY3QodmFsdWUpO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgbWF0Y2hlc1Byb3BlcnR5YCBmb3Igc291cmNlIHZhbHVlcyBzdWl0YWJsZVxuICogZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKGtleSwgc3JjVmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0W2tleV0gPT09IHNyY1ZhbHVlICYmXG4gICAgICAoc3JjVmFsdWUgIT09IHVuZGVmaW5lZCB8fCAoa2V5IGluIE9iamVjdChvYmplY3QpKSk7XG4gIH07XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1lbW9pemVgIHdoaWNoIGNsZWFycyB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24nc1xuICogY2FjaGUgd2hlbiBpdCBleGNlZWRzIGBNQVhfTUVNT0laRV9TSVpFYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG1lbW9pemVDYXBwZWQoZnVuYykge1xuICB2YXIgcmVzdWx0ID0gbWVtb2l6ZShmdW5jLCBmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoY2FjaGUuc2l6ZSA9PT0gTUFYX01FTU9JWkVfU0laRSkge1xuICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbiAgfSk7XG5cbiAgdmFyIGNhY2hlID0gcmVzdWx0LmNhY2hlO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIHJlc3QgYXJyYXkgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgYXJyYXkgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgfVxuICAgIGluZGV4ID0gLTE7XG4gICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgIH1cbiAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICogbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICB2YXIgY291bnQgPSAwLFxuICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xudmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemVDYXBwZWQoZnVuY3Rpb24oc3RyaW5nKSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KDApID09PSA0NiAvKiAuICovKSB7XG4gICAgcmVzdWx0LnB1c2goJycpO1xuICB9XG4gIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdWJTdHJpbmcpIHtcbiAgICByZXN1bHQucHVzaChxdW90ZSA/IHN1YlN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAqL1xuZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICogcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uIHRocnUgZWFjaCBpdGVyYXRlZS4gVGhpcyBtZXRob2RcbiAqIHBlcmZvcm1zIGEgc3RhYmxlIHNvcnQsIHRoYXQgaXMsIGl0IHByZXNlcnZlcyB0aGUgb3JpZ2luYWwgc29ydCBvcmRlciBvZlxuICogZXF1YWwgZWxlbWVudHMuIFRoZSBpdGVyYXRlZXMgYXJlIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciB1c2VycyA9IFtcbiAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfVxuICogXTtcbiAqXG4gKiBfLnNvcnRCeSh1c2VycywgW2Z1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlcjsgfV0pO1xuICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCA0MF1dXG4gKlxuICogXy5zb3J0QnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSk7XG4gKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNF0sIFsnYmFybmV5JywgMzZdLCBbJ2ZyZWQnLCA0MF0sIFsnZnJlZCcsIDQ4XV1cbiAqL1xudmFyIHNvcnRCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlcykge1xuICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIHZhciBsZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoO1xuICBpZiAobGVuZ3RoID4gMSAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSkpIHtcbiAgICBpdGVyYXRlZXMgPSBbXTtcbiAgfSBlbHNlIGlmIChsZW5ndGggPiAyICYmIGlzSXRlcmF0ZWVDYWxsKGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdLCBpdGVyYXRlZXNbMl0pKSB7XG4gICAgaXRlcmF0ZWVzID0gW2l0ZXJhdGVlc1swXV07XG4gIH1cbiAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGJhc2VGbGF0dGVuKGl0ZXJhdGVlcywgMSksIFtdKTtcbn0pO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gKiBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZmlyc3QgYXJndW1lbnRcbiAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAqIGNvbnN0cnVjdG9yIHdpdGggb25lIHdob3NlIGluc3RhbmNlcyBpbXBsZW1lbnQgdGhlXG4gKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICogbWV0aG9kIGludGVyZmFjZSBvZiBgY2xlYXJgLCBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAqXG4gKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogdmFsdWVzKG90aGVyKTtcbiAqIC8vID0+IFszLCA0XVxuICpcbiAqIG9iamVjdC5hID0gMjtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogLy8gTW9kaWZ5IHRoZSByZXN1bHQgY2FjaGUuXG4gKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsnYScsICdiJ11cbiAqXG4gKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICogXy5tZW1vaXplLkNhY2hlID0gV2Vha01hcDtcbiAqL1xuZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJyB8fCAocmVzb2x2ZXIgIT0gbnVsbCAmJiB0eXBlb2YgcmVzb2x2ZXIgIT0gJ2Z1bmN0aW9uJykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJncykgOiBhcmdzWzBdLFxuICAgICAgICBjYWNoZSA9IG1lbW9pemVkLmNhY2hlO1xuXG4gICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KSB8fCBjYWNoZTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG4gIHJldHVybiBtZW1vaXplZDtcbn1cblxuLy8gRXhwb3NlIGBNYXBDYWNoZWAuXG5tZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4zLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpc1xuICogYHVuZGVmaW5lZGAsIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpbiBpdHMgcGxhY2UuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjcuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gKlxuICogXy5nZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLmdldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLmdldChvYmplY3QsICdhLmIuYycsICdkZWZhdWx0Jyk7XG4gKiAvLyA9PiAnZGVmYXVsdCdcbiAqL1xuZnVuY3Rpb24gZ2V0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gIHZhciByZXN1bHQgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3Qgb3IgaW5oZXJpdGVkIHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAqXG4gKiBfLmhhc0luKG9iamVjdCwgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmhhc0luKG9iamVjdCwgJ2EuYicpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaGFzSW4ob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmhhc0luKG9iamVjdCwgJ2InKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGhhc0luKG9iamVjdCwgcGF0aCkge1xuICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXNJbik7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICpcbiAqIF8ua2V5cygnaGknKTtcbiAqIC8vID0+IFsnMCcsICcxJ11cbiAqL1xuZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqXG4gKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdHMgPSBbXG4gKiAgIHsgJ2EnOiB7ICdiJzogMiB9IH0sXG4gKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAqIF07XG4gKlxuICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICogLy8gPT4gWzIsIDFdXG4gKlxuICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAqIC8vID0+IFsxLCAyXVxuICovXG5mdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gIHJldHVybiBpc0tleShwYXRoKSA/IGJhc2VQcm9wZXJ0eSh0b0tleShwYXRoKSkgOiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBhcnJheS5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGFycmF5cyA9IF8udGltZXMoMiwgXy5zdHViQXJyYXkpO1xuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gKiAvLyA9PiBbW10sIFtdXVxuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAqL1xuZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc29ydEJ5O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@kissmybutton/motorcortex/lodash-custom-build/modularize/lodash.sortby/index.js\n");

/***/ }),

/***/ "../node_modules/fastest-validator/dist/index.min.js":
/*!***********************************************************!*\
  !*** ../node_modules/fastest-validator/dist/index.min.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {function t(){function e(e){return\"number\"!=typeof e&&\"string\"!=typeof e?this.makeError(\"string\"):(\"string\"!=typeof e&&(e=String(e)),e=e.replace(/\\D+/g,\"\"),function(e){return function(t){for(var r=t?t.length:0,n=1,i=0;r--;)i+=(n^=1)?e[t[r]]:parseInt(t[r],10);return 0==i%10&&0<i}}([0,2,4,6,8,1,3,5,7,9])(e)||this.makeError(\"luhn\"))}function t(e){return\"string\"!=typeof e?this.makeError(\"string\"):(e=e.toLowerCase(),!!w.test(e)||this.makeError(\"mac\"))}function r(e,t){if(\"string\"!=typeof e)return this.makeError(\"string\");if(e=e.toLowerCase(),!M.test(e))return this.makeError(\"uuid\");var r=0|e.charAt(14);if(t.version&&t.version!==r)return this.makeError(\"uuidVersion\",t.version,r);switch(r){case 1:case 2:return!0;case 3:case 4:case 5:return-1!==[\"8\",\"9\",\"a\",\"b\"].indexOf(e.charAt(19))||this.makeError(\"uuid\")}}function n(e){return\"string\"!=typeof e?this.makeError(\"string\"):!!j.test(e)||this.makeError(\"url\")}function i(e,t){if(\"string\"!=typeof e)return this.makeError(\"string\");var r=e.length;return!1===t.empty&&0===r?this.makeError(\"stringEmpty\"):null!=t.min&&r<t.min?this.makeError(\"stringMin\",t.min,r):null!=t.max&&r>t.max?this.makeError(\"stringMax\",t.max,r):null!=t.length&&r!==t.length?this.makeError(\"stringLength\",t.length,r):null==t.pattern||(r=\"string\"==typeof t.pattern?new RegExp(t.pattern,t.patternFlags):t.pattern).test(e)?null!=t.contains&&-1===e.indexOf(t.contains)?this.makeError(\"stringContains\",t.contains):null!=t.enum&&-1===t.enum.indexOf(e)?this.makeError(\"stringEnum\",t.enum):!0!==t.numeric||O.test(e)?!0!==t.alpha||_.test(e)?!0!==t.alphanum||A.test(e)?!(!0===t.alphadash&&!T.test(e))||this.makeError(\"stringAlphadash\",\"An alphadash string\",e):this.makeError(\"stringAlphanum\",\"An alphanumeric string\",e):this.makeError(\"stringAlpha\",\"An alphabetic string\",e):this.makeError(\"stringNumeric\",\"A numeric string\",e):this.makeError(\"stringPattern\",r)}function a(e,t){if(\"object\"!=typeof e||null===e||Array.isArray(e))return this.makeError(\"object\");if(!0===t.strict&&t.props){t=Object.keys(t.props);var r=[];e=Object.keys(e);for(var n=0;n<e.length;n++)-1===t.indexOf(e[n])&&r.push(e[n]);if(0!==r.length)return this.makeError(\"objectStrict\",void 0,r.join(\", \"))}return!0}function o(e,t){return!0===t.convert&&\"number\"!=typeof e&&(e=Number(e)),\"number\"!=typeof e||isNaN(e)||!isFinite(e)?this.makeError(\"number\"):null!=t.min&&e<t.min?this.makeError(\"numberMin\",t.min,e):null!=t.max&&e>t.max?this.makeError(\"numberMax\",t.max,e):null!=t.equal&&e!==t.equal?this.makeError(\"numberEqual\",t.equal,e):null!=t.notEqual&&e===t.notEqual?this.makeError(\"numberNotEqual\",t.notEqual):!0===t.integer&&0!=e%1?this.makeError(\"numberInteger\",e):!0===t.positive&&0>=e?this.makeError(\"numberPositive\",e):!(!0===t.negative&&0<=e)||this.makeError(\"numberNegative\",e)}function s(e){return\"function\"==typeof e||this.makeError(\"function\")}function u(e){return null===e||void 0===e||this.makeError(\"forbidden\")}function l(e,t){return null==t.values||-1!==t.values.indexOf(e)||this.makeError(\"enumValue\",t.values,e)}function f(e,t){return\"string\"!=typeof e?this.makeError(\"string\"):!!(\"precise\"==t.mode?S:x).test(e)||this.makeError(\"email\")}function c(e,t){return!0!==t.convert||e instanceof Date||(e=new Date(e)),e instanceof Date&&!isNaN(e.getTime())||this.makeError(\"date\")}function h(e,t){return t.check.call(this,e,t)}function p(e,t){return!0===t.convert&&\"boolean\"!=typeof e&&(1===e||0===e||\"true\"===e||\"false\"===e||\"1\"===e||\"0\"===e||\"on\"===e||\"off\"===e)||(\"boolean\"==typeof e||this.makeError(\"boolean\"))}function m(e,t){if(!Array.isArray(e))return this.makeError(\"array\");var r=e.length;if(!1===t.empty&&0===r)return this.makeError(\"arrayEmpty\");if(null!=t.min&&r<t.min)return this.makeError(\"arrayMin\",t.min,r);if(null!=t.max&&r>t.max)return this.makeError(\"arrayMax\",t.max,r);if(null!=t.length&&r!==t.length)return this.makeError(\"arrayLength\",t.length,r);if(null!=t.contains&&-1===e.indexOf(t.contains))return this.makeError(\"arrayContains\",t.contains);if(null!=t.enum)for(r=0;r<e.length;r++)if(-1===t.enum.indexOf(e[r]))return this.makeError(\"arrayEnum\",e[r],t.enum);return!0}function d(){return!0}function y(e,t){t=t||[];for(var r=0;r<e.length;++r)Array.isArray(e[r])?y(e[r],t):t.push(e[r]);return t}function g(e,t){for(var r in t)\"object\"==typeof t[r]&&null!==t[r]?(e[r]=e[r]||{},g(e[r],t[r])):e[r]=t[r];return e}function b(e){return e.replace(R,function(e){switch(e){case'\"':case\"'\":case\"\\\\\":return\"\\\\\"+e;case\"\\n\":return\"\\\\n\";case\"\\r\":return\"\\\\r\";case\"\\u2028\":return\"\\\\u2028\";case\"\\u2029\":return\"\\\\u2029\"}})}function v(y){this.opts={messages:E({},k)},y&&E(this.opts,y),this.messages=this.opts.messages,this.messageKeys=Object.keys(this.messages),this.rules={any:d,array:m,boolean:p,custom:h,date:c,email:f,enum:l,forbidden:u,function:s,number:o,object:a,string:i,url:n,uuid:r,mac:t,luhn:e},this.cache=new Map}var E=g,k={required:\"The '{field}' field is required!\",string:\"The '{field}' field must be a string!\",stringEmpty:\"The '{field}' field must not be empty!\",stringMin:\"The '{field}' field length must be greater than or equal to {expected} characters long!\",stringMax:\"The '{field}' field length must be less than or equal to {expected} characters long!\",stringLength:\"The '{field}' field length must be {expected} characters long!\",stringPattern:\"The '{field}' field fails to match the required pattern!\",stringContains:\"The '{field}' field must contain the '{expected}' text!\",stringEnum:\"The '{field}' field does not match any of the allowed values!\",stringNumeric:\"The '{field}' field must be a numeric string\",stringAlpha:\"The '{field}' field must be an alphabetic string\",stringAlphanum:\"The '{field}' field must be an alphanumeric string\",stringAlphadash:\"The '{field}' field must be an alphadash string\",number:\"The '{field}' field must be a number!\",numberMin:\"The '{field}' field must be greater than or equal to {expected}!\",numberMax:\"The '{field}' field must be less than or equal to {expected}!\",numberEqual:\"The '{field}' field must be equal with {expected}!\",numberNotEqual:\"The '{field}' field can't be equal with {expected}!\",numberInteger:\"The '{field}' field must be an integer!\",numberPositive:\"The '{field}' field must be a positive number!\",numberNegative:\"The '{field}' field must be a negative number!\",array:\"The '{field}' field must be an array!\",arrayEmpty:\"The '{field}' field must not be an empty array!\",arrayMin:\"The '{field}' field must contain at least {expected} items!\",arrayMax:\"The '{field}' field must contain less than or equal to {expected} items!\",arrayLength:\"The '{field}' field must contain {expected} items!\",arrayContains:\"The '{field}' field must contain the '{expected}' item!\",arrayEnum:\"The '{field} field value '{expected}' does not match any of the allowed values!\",boolean:\"The '{field}' field must be a boolean!\",function:\"The '{field}' field must be a function!\",date:\"The '{field}' field must be a Date!\",dateMin:\"The '{field}' field must be greater than or equal to {expected}!\",dateMax:\"The '{field}' field must be less than or equal to {expected}!\",forbidden:\"The '{field}' field is forbidden!\",email:\"The '{field}' field must be a valid e-mail!\",url:\"The '{field}' field must be a valid URL!\",enumValue:\"The '{field} field value '{expected}' does not match any of the allowed values!\",object:\"The '{field}' must be an Object!\",objectStrict:\"The object '{field}' contains invalid keys: '{actual}'!\",uuid:\"The {field} field must be a valid UUID\",uuidVersion:\"The {field} field must be a valid version provided\",mac:\"The {field} field must be a valid MAC address\",luhn:\"The {field} field must be a valid checksum luhn\"},S=/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,x=/^\\S+@\\S+\\.\\S+$/,O=/^-?[0-9]\\d*(\\.\\d+)?$/,_=/^[a-zA-Z]+$/,A=/^[a-zA-Z0-9]+$/,T=/^[a-zA-Z0-9_-]+$/,j=/^https?:\\/\\/\\S+/,M=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i,w=/^((([a-f0-9][a-f0-9]+[-]){5}|([a-f0-9][a-f0-9]+[:]){5})([a-f0-9][a-f0-9])$)|(^([a-f0-9][a-f0-9][a-f0-9][a-f0-9]+[.]){2}([a-f0-9][a-f0-9][a-f0-9][a-f0-9]))$/i,P=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,R=/[\"'\\\\\\n\\r\\u2028\\u2029]/g;return v.prototype.validate=function(e,t){return this.compile(t)(e)},v.prototype.compile=function(e){var t=this;if(Array.isArray(e)){if(0==e.length)throw Error(\"If the schema is an Array, must contain at least one element!\");var r=this.compileSchemaType(e);return this.cache.clear(),function(e,n,i){return t.checkSchemaType(e,r,n,i||null)}}var n=this.compileSchemaObject(e);return this.cache.clear(),function(e,r,i){return t.checkSchemaObject(e,n,r,i||null)}},v.prototype.compileSchemaObject=function(e){var t=this;if(null===e||\"object\"!=typeof e||Array.isArray(e))throw Error(\"Invalid schema!\");var r=this.cache.get(e);if(r)return r.cycle=!0,r;r={cycle:!1,properties:null,compiledObjectFunction:null,objectStack:[]},this.cache.set(e,r),r.properties=Object.keys(e).filter(function(e){return\"$$strict\"!==e}).map(function(r){return{name:r,compiledType:t.compileSchemaType(e[r])}});var n=[];n.push(\"let res;\"),n.push(\"let propertyPath;\"),n.push(\"const errors = [];\"),!0===e.$$strict&&n.push(\"const givenProps = new Map(Object.keys(value).map(key => [key, true]));\");for(var i=0;i<r.properties.length;i++){var a=r.properties[i],o=b(a.name),s=P.test(o)?\"value.\"+o:'value[\"'+o+'\"]';n.push('propertyPath = (path !== undefined ? path + \".'+o+'\" : \"'+o+'\");'),Array.isArray(a.compiledType)?n.push(\"res = this.checkSchemaType(\"+s+\", properties[\"+i+\"].compiledType, propertyPath, value);\"):n.push(\"res = this.checkSchemaRule(\"+s+\", properties[\"+i+\"].compiledType, propertyPath, value);\"),n.push(\"if (res !== true) {\"),n.push(\"\\tthis.handleResult(errors, propertyPath, res, properties[\"+i+\"].compiledType.messages);\"),n.push(\"}\"),!0===e.$$strict&&n.push('givenProps.delete(\"'+o+'\");')}return!0===e.$$strict&&(n.push(\"if (givenProps.size !== 0) {\"),n.push(\"\\tthis.handleResult(errors, path || 'rootObject', this.makeError('objectStrict', undefined, [...givenProps.keys()].join(', ')), this.messages);\"),n.push(\"}\")),n.push(\"return errors.length === 0 ? true : errors;\"),r.compiledObjectFunction=new Function(\"value\",\"properties\",\"path\",\"parent\",n.join(\"\\n\")),r},v.prototype.compileSchemaType=function(e){var t=this;return Array.isArray(e)?(e=y(e.map(function(e){return t.compileSchemaType(e)})),1==e.length?e[0]:e):this.compileSchemaRule(e)},v.prototype.compileMessages=function(e){return e.messages?Object.assign({},this.messages,e.messages):this.messages},v.prototype.compileSchemaRule=function(e){\"string\"==typeof e&&(e={type:e});var t=this.rules[e.type];if(!t)throw Error(\"Invalid '\"+e.type+\"' type in validator schema!\");var r=this.compileMessages(e),n=null,i=null;return\"object\"===e.type&&e.props?(n=this.compileSchemaObject(e.props),i=this.checkSchemaObject):\"array\"===e.type&&e.items&&(n=this.compileSchemaType(e.items),i=this.checkSchemaArray),{messages:r,schemaRule:e,ruleFunction:t,dataFunction:i,dataParameter:n}},v.prototype.checkSchemaObject=function(e,t,r,n){return t.cycle?-1!==t.objectStack.indexOf(e)||(t.objectStack.push(e),e=this.checkSchemaObjectInner(e,t,r,n),t.objectStack.pop(),e):this.checkSchemaObjectInner(e,t,r,n)},v.prototype.checkSchemaObjectInner=function(e,t,r,n){return t.compiledObjectFunction.call(this,e,t.properties,r,n)},v.prototype.checkSchemaType=function(e,t,r,n){if(Array.isArray(t)){for(var i=[],a=t.length,o=0;o<a;o++){var s=this.checkSchemaRule(e,t[o],r,n);if(!0===s)return!0;this.handleResult(i,r,s,t.messages)}return i}return this.checkSchemaRule(e,t,r,n)},v.prototype.checkSchemaArray=function(e,t,r,n){for(var i=[],a=e.length,o=0;o<a;o++){var s=(void 0!==r?r:\"\")+\"[\"+o+\"]\",u=this.checkSchemaType(e[o],t,s,e,n);!0!==u&&this.handleResult(i,s,u,t.messages)}return 0===i.length||i},v.prototype.checkSchemaRule=function(e,t,r,n){var i=t.schemaRule;return void 0===e||null===e?\"forbidden\"===i.type||!0===i.optional||(e=[],this.handleResult(e,r,this.makeError(\"required\"),t.messages),e):(i=t.ruleFunction.call(this,e,i,r,n),!0!==i?(e=[],this.handleResult(e,r,i,t.messages),e):null===t.dataFunction||t.dataFunction.call(this,e,t.dataParameter,r,n))},v.prototype.handleResult=function(e,t,r,n){var i=this;(Array.isArray(r)?r:[r]).forEach(function(r){r.field||(r.field=t),r.message||(r.message=i.resolveMessage(r,n[r.type])),e.push(r)})},v.prototype.makeError=function(e,t,r){return{type:e,expected:t,actual:r}},v.prototype.resolveMessage=function(e,t){if(void 0===t&&(t=null),null!=t){var r=null!=e.expected?e.expected:\"\",n=null!=e.actual?e.actual:\"\";return t.replace(/\\{field\\}/g,e.field).replace(/\\{expected\\}/g,r).replace(/\\{actual\\}/g,n)}},v.prototype.add=function(e,t){this.rules[e]=t},v}var f=f||{};f.scope={},f.ASSUME_ES5=!1,f.ASSUME_NO_NATIVE_MAP=!1,f.ASSUME_NO_NATIVE_SET=!1,f.defineProperty=f.ASSUME_ES5||\"function\"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},f.getGlobal=function(e){return\"undefined\"!=typeof window&&window===e?e:\"undefined\"!=typeof global&&null!=global?global:e},f.global=f.getGlobal(this),f.SYMBOL_PREFIX=\"jscomp_symbol_\",f.initSymbol=function(){f.initSymbol=function(){},f.global.Symbol||(f.global.Symbol=f.Symbol)},f.Symbol=function(){var e=0;return function(t){return f.SYMBOL_PREFIX+(t||\"\")+e++}}(),f.initSymbolIterator=function(){f.initSymbol();var e=f.global.Symbol.iterator;e||(e=f.global.Symbol.iterator=f.global.Symbol(\"iterator\")),\"function\"!=typeof Array.prototype[e]&&f.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return f.arrayIterator(this)}}),f.initSymbolIterator=function(){}},f.arrayIterator=function(e){var t=0;return f.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},f.iteratorPrototype=function(e){return f.initSymbolIterator(),e={next:e},e[f.global.Symbol.iterator]=function(){return this},e},f.iteratorFromArray=function(e,t){f.initSymbolIterator(),e instanceof String&&(e+=\"\");var r=0,n={next:function(){if(r<e.length){var i=r++;return{value:t(i,e[i]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},f.polyfill=function(e,t){if(t){var r=f.global;e=e.split(\".\");for(var n=0;n<e.length-1;n++){var i=e[n];i in r||(r[i]={}),r=r[i]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&f.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},f.polyfill(\"Array.prototype.keys\",function(e){return e||function(){return f.iteratorFromArray(this,function(e){return e})}},\"es6\",\"es3\"),f.checkEs6ConformanceViaProxy=function(){try{var e={},t=Object.create(new f.global.Proxy(e,{get:function(r,n,i){return r==e&&\"q\"==n&&i==t}}));return!0===t.q}catch(e){return!1}},f.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,f.ES6_CONFORMANCE=f.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&f.checkEs6ConformanceViaProxy(),f.makeIterator=function(e){f.initSymbolIterator();var t=e[Symbol.iterator];return t?t.call(e):f.arrayIterator(e)},f.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},f.polyfill(\"WeakMap\",function(e){function t(e){if(this.id_=(a+=Math.random()+1).toString(),e){f.initSymbol(),f.initSymbolIterator(),e=f.makeIterator(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function r(e){f.owns(e,i)||f.defineProperty(e,i,{value:{}})}function n(e){var t=Object[e];t&&(Object[e]=function(e){return r(e),t(e)})}if(f.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&f.ES6_CONFORMANCE)return e}else if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),r=Object.seal({}),n=new e([[t,2],[r,3]]);return 2==n.get(t)&&3==n.get(r)&&(n.delete(t),n.set(r,4),!n.has(t)&&4==n.get(r))}catch(e){return!1}}())return e;var i=\"$jscomp_hidden_\"+Math.random();n(\"freeze\"),n(\"preventExtensions\"),n(\"seal\");var a=0;return t.prototype.set=function(e,t){if(r(e),!f.owns(e,i))throw Error(\"WeakMap key fail: \"+e);return e[i][this.id_]=t,this},t.prototype.get=function(e){return f.owns(e,i)?e[i][this.id_]:void 0},t.prototype.has=function(e){return f.owns(e,i)&&f.owns(e[i],this.id_)},t.prototype.delete=function(e){return!(!f.owns(e,i)||!f.owns(e[i],this.id_))&&delete e[i][this.id_]},t},\"es6\",\"es3\"),f.MapEntry=function(){},f.polyfill(\"Map\",function(e){function t(){var e={};return e.previous=e.next=e.head=e}function r(e,t){var r=e.head_;return f.iteratorPrototype(function(){if(r){for(;r.head!=e.head_;)r=r.previous;for(;r.next!=r.head;)return r=r.next,{done:!1,value:t(r)};r=null}return{done:!0,value:void 0}})}function n(e,t){var r=t&&typeof t;\"object\"==r||\"function\"==r?a.has(t)?r=a.get(t):(r=\"\"+ ++o,a.set(t,r)):r=\"p_\"+t;var n=e.data_[r];if(n&&f.owns(e.data_,r))for(e=0;e<n.length;e++){var i=n[e];if(t!==t&&i.key!==i.key||t===i.key)return{id:r,list:n,index:e,entry:i}}return{id:r,list:n,index:-1,entry:void 0}}function i(e){if(this.data_={},this.head_=t(),this.size=0,e){e=f.makeIterator(e);for(var r;!(r=e.next()).done;)r=r.value,this.set(r[0],r[1])}}if(f.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&f.ES6_CONFORMANCE)return e}else if(function(){if(f.ASSUME_NO_NATIVE_MAP||!e||\"function\"!=typeof e||!e.prototype.entries||\"function\"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),r=new e(f.makeIterator([[t,\"s\"]]));if(\"s\"!=r.get(t)||1!=r.size||r.get({x:4})||r.set({x:4},\"t\")!=r||2!=r.size)return!1;var n=r.entries(),i=n.next();return!i.done&&i.value[0]==t&&\"s\"==i.value[1]&&!((i=n.next()).done||4!=i.value[0].x||\"t\"!=i.value[1]||!n.next().done)}catch(e){return!1}}())return e;f.initSymbol(),f.initSymbolIterator();var a=new WeakMap;i.prototype.set=function(e,t){var r=n(this,e);return r.list||(r.list=this.data_[r.id]=[]),r.entry?r.entry.value=t:(r.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:t},r.list.push(r.entry),this.head_.previous.next=r.entry,this.head_.previous=r.entry,this.size++),this},i.prototype.delete=function(e){return!(!(e=n(this,e)).entry||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.data_[e.id],e.entry.previous.next=e.entry.next,e.entry.next.previous=e.entry.previous,e.entry.head=null,this.size--,!0)},i.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=t(),this.size=0},i.prototype.has=function(e){return!!n(this,e).entry},i.prototype.get=function(e){return(e=n(this,e).entry)&&e.value},i.prototype.entries=function(){return r(this,function(e){return[e.key,e.value]})},i.prototype.keys=function(){return r(this,function(e){return e.key})},i.prototype.values=function(){return r(this,function(e){return e.value})},i.prototype.forEach=function(e,t){for(var r,n=this.entries();!(r=n.next()).done;)r=r.value,e.call(t,r[1],r[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var o=0;return i},\"es6\",\"es3\"),f.assign=\"function\"==typeof Object.assign?Object.assign:function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(n)for(var i in n)f.owns(n,i)&&(e[i]=n[i])}return e},f.polyfill(\"Object.assign\",function(e){return e||f.assign},\"es6\",\"es3\");var r=this; true?module.exports=t():undefined;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"../node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2Zhc3Rlc3QtdmFsaWRhdG9yL2Rpc3QvaW5kZXgubWluLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9mYXN0ZXN0LXZhbGlkYXRvci9kaXN0L2luZGV4Lm1pbi5qcz9hODZhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoKXtmdW5jdGlvbiBlKGUpe3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiBlJiZcInN0cmluZ1wiIT10eXBlb2YgZT90aGlzLm1ha2VFcnJvcihcInN0cmluZ1wiKTooXCJzdHJpbmdcIiE9dHlwZW9mIGUmJihlPVN0cmluZyhlKSksZT1lLnJlcGxhY2UoL1xcRCsvZyxcIlwiKSxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciByPXQ/dC5sZW5ndGg6MCxuPTEsaT0wO3ItLTspaSs9KG5ePTEpP2VbdFtyXV06cGFyc2VJbnQodFtyXSwxMCk7cmV0dXJuIDA9PWklMTAmJjA8aX19KFswLDIsNCw2LDgsMSwzLDUsNyw5XSkoZSl8fHRoaXMubWFrZUVycm9yKFwibHVoblwiKSl9ZnVuY3Rpb24gdChlKXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZT90aGlzLm1ha2VFcnJvcihcInN0cmluZ1wiKTooZT1lLnRvTG93ZXJDYXNlKCksISF3LnRlc3QoZSl8fHRoaXMubWFrZUVycm9yKFwibWFjXCIpKX1mdW5jdGlvbiByKGUsdCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIHRoaXMubWFrZUVycm9yKFwic3RyaW5nXCIpO2lmKGU9ZS50b0xvd2VyQ2FzZSgpLCFNLnRlc3QoZSkpcmV0dXJuIHRoaXMubWFrZUVycm9yKFwidXVpZFwiKTt2YXIgcj0wfGUuY2hhckF0KDE0KTtpZih0LnZlcnNpb24mJnQudmVyc2lvbiE9PXIpcmV0dXJuIHRoaXMubWFrZUVycm9yKFwidXVpZFZlcnNpb25cIix0LnZlcnNpb24scik7c3dpdGNoKHIpe2Nhc2UgMTpjYXNlIDI6cmV0dXJuITA7Y2FzZSAzOmNhc2UgNDpjYXNlIDU6cmV0dXJuLTEhPT1bXCI4XCIsXCI5XCIsXCJhXCIsXCJiXCJdLmluZGV4T2YoZS5jaGFyQXQoMTkpKXx8dGhpcy5tYWtlRXJyb3IoXCJ1dWlkXCIpfX1mdW5jdGlvbiBuKGUpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlP3RoaXMubWFrZUVycm9yKFwic3RyaW5nXCIpOiEhai50ZXN0KGUpfHx0aGlzLm1ha2VFcnJvcihcInVybFwiKX1mdW5jdGlvbiBpKGUsdCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIHRoaXMubWFrZUVycm9yKFwic3RyaW5nXCIpO3ZhciByPWUubGVuZ3RoO3JldHVybiExPT09dC5lbXB0eSYmMD09PXI/dGhpcy5tYWtlRXJyb3IoXCJzdHJpbmdFbXB0eVwiKTpudWxsIT10Lm1pbiYmcjx0Lm1pbj90aGlzLm1ha2VFcnJvcihcInN0cmluZ01pblwiLHQubWluLHIpOm51bGwhPXQubWF4JiZyPnQubWF4P3RoaXMubWFrZUVycm9yKFwic3RyaW5nTWF4XCIsdC5tYXgscik6bnVsbCE9dC5sZW5ndGgmJnIhPT10Lmxlbmd0aD90aGlzLm1ha2VFcnJvcihcInN0cmluZ0xlbmd0aFwiLHQubGVuZ3RoLHIpOm51bGw9PXQucGF0dGVybnx8KHI9XCJzdHJpbmdcIj09dHlwZW9mIHQucGF0dGVybj9uZXcgUmVnRXhwKHQucGF0dGVybix0LnBhdHRlcm5GbGFncyk6dC5wYXR0ZXJuKS50ZXN0KGUpP251bGwhPXQuY29udGFpbnMmJi0xPT09ZS5pbmRleE9mKHQuY29udGFpbnMpP3RoaXMubWFrZUVycm9yKFwic3RyaW5nQ29udGFpbnNcIix0LmNvbnRhaW5zKTpudWxsIT10LmVudW0mJi0xPT09dC5lbnVtLmluZGV4T2YoZSk/dGhpcy5tYWtlRXJyb3IoXCJzdHJpbmdFbnVtXCIsdC5lbnVtKTohMCE9PXQubnVtZXJpY3x8Ty50ZXN0KGUpPyEwIT09dC5hbHBoYXx8Xy50ZXN0KGUpPyEwIT09dC5hbHBoYW51bXx8QS50ZXN0KGUpPyEoITA9PT10LmFscGhhZGFzaCYmIVQudGVzdChlKSl8fHRoaXMubWFrZUVycm9yKFwic3RyaW5nQWxwaGFkYXNoXCIsXCJBbiBhbHBoYWRhc2ggc3RyaW5nXCIsZSk6dGhpcy5tYWtlRXJyb3IoXCJzdHJpbmdBbHBoYW51bVwiLFwiQW4gYWxwaGFudW1lcmljIHN0cmluZ1wiLGUpOnRoaXMubWFrZUVycm9yKFwic3RyaW5nQWxwaGFcIixcIkFuIGFscGhhYmV0aWMgc3RyaW5nXCIsZSk6dGhpcy5tYWtlRXJyb3IoXCJzdHJpbmdOdW1lcmljXCIsXCJBIG51bWVyaWMgc3RyaW5nXCIsZSk6dGhpcy5tYWtlRXJyb3IoXCJzdHJpbmdQYXR0ZXJuXCIscil9ZnVuY3Rpb24gYShlLHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZXx8QXJyYXkuaXNBcnJheShlKSlyZXR1cm4gdGhpcy5tYWtlRXJyb3IoXCJvYmplY3RcIik7aWYoITA9PT10LnN0cmljdCYmdC5wcm9wcyl7dD1PYmplY3Qua2V5cyh0LnByb3BzKTt2YXIgcj1bXTtlPU9iamVjdC5rZXlzKGUpO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKS0xPT09dC5pbmRleE9mKGVbbl0pJiZyLnB1c2goZVtuXSk7aWYoMCE9PXIubGVuZ3RoKXJldHVybiB0aGlzLm1ha2VFcnJvcihcIm9iamVjdFN0cmljdFwiLHZvaWQgMCxyLmpvaW4oXCIsIFwiKSl9cmV0dXJuITB9ZnVuY3Rpb24gbyhlLHQpe3JldHVybiEwPT09dC5jb252ZXJ0JiZcIm51bWJlclwiIT10eXBlb2YgZSYmKGU9TnVtYmVyKGUpKSxcIm51bWJlclwiIT10eXBlb2YgZXx8aXNOYU4oZSl8fCFpc0Zpbml0ZShlKT90aGlzLm1ha2VFcnJvcihcIm51bWJlclwiKTpudWxsIT10Lm1pbiYmZTx0Lm1pbj90aGlzLm1ha2VFcnJvcihcIm51bWJlck1pblwiLHQubWluLGUpOm51bGwhPXQubWF4JiZlPnQubWF4P3RoaXMubWFrZUVycm9yKFwibnVtYmVyTWF4XCIsdC5tYXgsZSk6bnVsbCE9dC5lcXVhbCYmZSE9PXQuZXF1YWw/dGhpcy5tYWtlRXJyb3IoXCJudW1iZXJFcXVhbFwiLHQuZXF1YWwsZSk6bnVsbCE9dC5ub3RFcXVhbCYmZT09PXQubm90RXF1YWw/dGhpcy5tYWtlRXJyb3IoXCJudW1iZXJOb3RFcXVhbFwiLHQubm90RXF1YWwpOiEwPT09dC5pbnRlZ2VyJiYwIT1lJTE/dGhpcy5tYWtlRXJyb3IoXCJudW1iZXJJbnRlZ2VyXCIsZSk6ITA9PT10LnBvc2l0aXZlJiYwPj1lP3RoaXMubWFrZUVycm9yKFwibnVtYmVyUG9zaXRpdmVcIixlKTohKCEwPT09dC5uZWdhdGl2ZSYmMDw9ZSl8fHRoaXMubWFrZUVycm9yKFwibnVtYmVyTmVnYXRpdmVcIixlKX1mdW5jdGlvbiBzKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV8fHRoaXMubWFrZUVycm9yKFwiZnVuY3Rpb25cIil9ZnVuY3Rpb24gdShlKXtyZXR1cm4gbnVsbD09PWV8fHZvaWQgMD09PWV8fHRoaXMubWFrZUVycm9yKFwiZm9yYmlkZGVuXCIpfWZ1bmN0aW9uIGwoZSx0KXtyZXR1cm4gbnVsbD09dC52YWx1ZXN8fC0xIT09dC52YWx1ZXMuaW5kZXhPZihlKXx8dGhpcy5tYWtlRXJyb3IoXCJlbnVtVmFsdWVcIix0LnZhbHVlcyxlKX1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGU/dGhpcy5tYWtlRXJyb3IoXCJzdHJpbmdcIik6ISEoXCJwcmVjaXNlXCI9PXQubW9kZT9TOngpLnRlc3QoZSl8fHRoaXMubWFrZUVycm9yKFwiZW1haWxcIil9ZnVuY3Rpb24gYyhlLHQpe3JldHVybiEwIT09dC5jb252ZXJ0fHxlIGluc3RhbmNlb2YgRGF0ZXx8KGU9bmV3IERhdGUoZSkpLGUgaW5zdGFuY2VvZiBEYXRlJiYhaXNOYU4oZS5nZXRUaW1lKCkpfHx0aGlzLm1ha2VFcnJvcihcImRhdGVcIil9ZnVuY3Rpb24gaChlLHQpe3JldHVybiB0LmNoZWNrLmNhbGwodGhpcyxlLHQpfWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4hMD09PXQuY29udmVydCYmXCJib29sZWFuXCIhPXR5cGVvZiBlJiYoMT09PWV8fDA9PT1lfHxcInRydWVcIj09PWV8fFwiZmFsc2VcIj09PWV8fFwiMVwiPT09ZXx8XCIwXCI9PT1lfHxcIm9uXCI9PT1lfHxcIm9mZlwiPT09ZSl8fChcImJvb2xlYW5cIj09dHlwZW9mIGV8fHRoaXMubWFrZUVycm9yKFwiYm9vbGVhblwiKSl9ZnVuY3Rpb24gbShlLHQpe2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiB0aGlzLm1ha2VFcnJvcihcImFycmF5XCIpO3ZhciByPWUubGVuZ3RoO2lmKCExPT09dC5lbXB0eSYmMD09PXIpcmV0dXJuIHRoaXMubWFrZUVycm9yKFwiYXJyYXlFbXB0eVwiKTtpZihudWxsIT10Lm1pbiYmcjx0Lm1pbilyZXR1cm4gdGhpcy5tYWtlRXJyb3IoXCJhcnJheU1pblwiLHQubWluLHIpO2lmKG51bGwhPXQubWF4JiZyPnQubWF4KXJldHVybiB0aGlzLm1ha2VFcnJvcihcImFycmF5TWF4XCIsdC5tYXgscik7aWYobnVsbCE9dC5sZW5ndGgmJnIhPT10Lmxlbmd0aClyZXR1cm4gdGhpcy5tYWtlRXJyb3IoXCJhcnJheUxlbmd0aFwiLHQubGVuZ3RoLHIpO2lmKG51bGwhPXQuY29udGFpbnMmJi0xPT09ZS5pbmRleE9mKHQuY29udGFpbnMpKXJldHVybiB0aGlzLm1ha2VFcnJvcihcImFycmF5Q29udGFpbnNcIix0LmNvbnRhaW5zKTtpZihudWxsIT10LmVudW0pZm9yKHI9MDtyPGUubGVuZ3RoO3IrKylpZigtMT09PXQuZW51bS5pbmRleE9mKGVbcl0pKXJldHVybiB0aGlzLm1ha2VFcnJvcihcImFycmF5RW51bVwiLGVbcl0sdC5lbnVtKTtyZXR1cm4hMH1mdW5jdGlvbiBkKCl7cmV0dXJuITB9ZnVuY3Rpb24geShlLHQpe3Q9dHx8W107Zm9yKHZhciByPTA7cjxlLmxlbmd0aDsrK3IpQXJyYXkuaXNBcnJheShlW3JdKT95KGVbcl0sdCk6dC5wdXNoKGVbcl0pO3JldHVybiB0fWZ1bmN0aW9uIGcoZSx0KXtmb3IodmFyIHIgaW4gdClcIm9iamVjdFwiPT10eXBlb2YgdFtyXSYmbnVsbCE9PXRbcl0/KGVbcl09ZVtyXXx8e30sZyhlW3JdLHRbcl0pKTplW3JdPXRbcl07cmV0dXJuIGV9ZnVuY3Rpb24gYihlKXtyZXR1cm4gZS5yZXBsYWNlKFIsZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UnXCInOmNhc2VcIidcIjpjYXNlXCJcXFxcXCI6cmV0dXJuXCJcXFxcXCIrZTtjYXNlXCJcXG5cIjpyZXR1cm5cIlxcXFxuXCI7Y2FzZVwiXFxyXCI6cmV0dXJuXCJcXFxcclwiO2Nhc2VcIlxcdTIwMjhcIjpyZXR1cm5cIlxcXFx1MjAyOFwiO2Nhc2VcIlxcdTIwMjlcIjpyZXR1cm5cIlxcXFx1MjAyOVwifX0pfWZ1bmN0aW9uIHYoeSl7dGhpcy5vcHRzPXttZXNzYWdlczpFKHt9LGspfSx5JiZFKHRoaXMub3B0cyx5KSx0aGlzLm1lc3NhZ2VzPXRoaXMub3B0cy5tZXNzYWdlcyx0aGlzLm1lc3NhZ2VLZXlzPU9iamVjdC5rZXlzKHRoaXMubWVzc2FnZXMpLHRoaXMucnVsZXM9e2FueTpkLGFycmF5Om0sYm9vbGVhbjpwLGN1c3RvbTpoLGRhdGU6YyxlbWFpbDpmLGVudW06bCxmb3JiaWRkZW46dSxmdW5jdGlvbjpzLG51bWJlcjpvLG9iamVjdDphLHN0cmluZzppLHVybDpuLHV1aWQ6cixtYWM6dCxsdWhuOmV9LHRoaXMuY2FjaGU9bmV3IE1hcH12YXIgRT1nLGs9e3JlcXVpcmVkOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBpcyByZXF1aXJlZCFcIixzdHJpbmc6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgYSBzdHJpbmchXCIsc3RyaW5nRW1wdHk6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3Qgbm90IGJlIGVtcHR5IVwiLHN0cmluZ01pbjpcIlRoZSAne2ZpZWxkfScgZmllbGQgbGVuZ3RoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHtleHBlY3RlZH0gY2hhcmFjdGVycyBsb25nIVwiLHN0cmluZ01heDpcIlRoZSAne2ZpZWxkfScgZmllbGQgbGVuZ3RoIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHtleHBlY3RlZH0gY2hhcmFjdGVycyBsb25nIVwiLHN0cmluZ0xlbmd0aDpcIlRoZSAne2ZpZWxkfScgZmllbGQgbGVuZ3RoIG11c3QgYmUge2V4cGVjdGVkfSBjaGFyYWN0ZXJzIGxvbmchXCIsc3RyaW5nUGF0dGVybjpcIlRoZSAne2ZpZWxkfScgZmllbGQgZmFpbHMgdG8gbWF0Y2ggdGhlIHJlcXVpcmVkIHBhdHRlcm4hXCIsc3RyaW5nQ29udGFpbnM6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgY29udGFpbiB0aGUgJ3tleHBlY3RlZH0nIHRleHQhXCIsc3RyaW5nRW51bTpcIlRoZSAne2ZpZWxkfScgZmllbGQgZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBhbGxvd2VkIHZhbHVlcyFcIixzdHJpbmdOdW1lcmljOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGEgbnVtZXJpYyBzdHJpbmdcIixzdHJpbmdBbHBoYTpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhbiBhbHBoYWJldGljIHN0cmluZ1wiLHN0cmluZ0FscGhhbnVtOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGFuIGFscGhhbnVtZXJpYyBzdHJpbmdcIixzdHJpbmdBbHBoYWRhc2g6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgYW4gYWxwaGFkYXNoIHN0cmluZ1wiLG51bWJlcjpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhIG51bWJlciFcIixudW1iZXJNaW46XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHtleHBlY3RlZH0hXCIsbnVtYmVyTWF4OlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB7ZXhwZWN0ZWR9IVwiLG51bWJlckVxdWFsOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGVxdWFsIHdpdGgge2V4cGVjdGVkfSFcIixudW1iZXJOb3RFcXVhbDpcIlRoZSAne2ZpZWxkfScgZmllbGQgY2FuJ3QgYmUgZXF1YWwgd2l0aCB7ZXhwZWN0ZWR9IVwiLG51bWJlckludGVnZXI6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgYW4gaW50ZWdlciFcIixudW1iZXJQb3NpdGl2ZTpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlciFcIixudW1iZXJOZWdhdGl2ZTpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhIG5lZ2F0aXZlIG51bWJlciFcIixhcnJheTpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhbiBhcnJheSFcIixhcnJheUVtcHR5OlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IG5vdCBiZSBhbiBlbXB0eSBhcnJheSFcIixhcnJheU1pbjpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBjb250YWluIGF0IGxlYXN0IHtleHBlY3RlZH0gaXRlbXMhXCIsYXJyYXlNYXg6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgY29udGFpbiBsZXNzIHRoYW4gb3IgZXF1YWwgdG8ge2V4cGVjdGVkfSBpdGVtcyFcIixhcnJheUxlbmd0aDpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBjb250YWluIHtleHBlY3RlZH0gaXRlbXMhXCIsYXJyYXlDb250YWluczpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBjb250YWluIHRoZSAne2V4cGVjdGVkfScgaXRlbSFcIixhcnJheUVudW06XCJUaGUgJ3tmaWVsZH0gZmllbGQgdmFsdWUgJ3tleHBlY3RlZH0nIGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgYWxsb3dlZCB2YWx1ZXMhXCIsYm9vbGVhbjpcIlRoZSAne2ZpZWxkfScgZmllbGQgbXVzdCBiZSBhIGJvb2xlYW4hXCIsZnVuY3Rpb246XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgYSBmdW5jdGlvbiFcIixkYXRlOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGEgRGF0ZSFcIixkYXRlTWluOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB7ZXhwZWN0ZWR9IVwiLGRhdGVNYXg6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHtleHBlY3RlZH0hXCIsZm9yYmlkZGVuOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBpcyBmb3JiaWRkZW4hXCIsZW1haWw6XCJUaGUgJ3tmaWVsZH0nIGZpZWxkIG11c3QgYmUgYSB2YWxpZCBlLW1haWwhXCIsdXJsOlwiVGhlICd7ZmllbGR9JyBmaWVsZCBtdXN0IGJlIGEgdmFsaWQgVVJMIVwiLGVudW1WYWx1ZTpcIlRoZSAne2ZpZWxkfSBmaWVsZCB2YWx1ZSAne2V4cGVjdGVkfScgZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBhbGxvd2VkIHZhbHVlcyFcIixvYmplY3Q6XCJUaGUgJ3tmaWVsZH0nIG11c3QgYmUgYW4gT2JqZWN0IVwiLG9iamVjdFN0cmljdDpcIlRoZSBvYmplY3QgJ3tmaWVsZH0nIGNvbnRhaW5zIGludmFsaWQga2V5czogJ3thY3R1YWx9JyFcIix1dWlkOlwiVGhlIHtmaWVsZH0gZmllbGQgbXVzdCBiZSBhIHZhbGlkIFVVSURcIix1dWlkVmVyc2lvbjpcIlRoZSB7ZmllbGR9IGZpZWxkIG11c3QgYmUgYSB2YWxpZCB2ZXJzaW9uIHByb3ZpZGVkXCIsbWFjOlwiVGhlIHtmaWVsZH0gZmllbGQgbXVzdCBiZSBhIHZhbGlkIE1BQyBhZGRyZXNzXCIsbHVobjpcIlRoZSB7ZmllbGR9IGZpZWxkIG11c3QgYmUgYSB2YWxpZCBjaGVja3N1bSBsdWhuXCJ9LFM9L14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvLHg9L15cXFMrQFxcUytcXC5cXFMrJC8sTz0vXi0/WzAtOV1cXGQqKFxcLlxcZCspPyQvLF89L15bYS16QS1aXSskLyxBPS9eW2EtekEtWjAtOV0rJC8sVD0vXlthLXpBLVowLTlfLV0rJC8saj0vXmh0dHBzPzpcXC9cXC9cXFMrLyxNPS9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bMC05YS1mXXs0fS1bMC05YS1mXXsxMn0kL2ksdz0vXigoKFthLWYwLTldW2EtZjAtOV0rWy1dKXs1fXwoW2EtZjAtOV1bYS1mMC05XStbOl0pezV9KShbYS1mMC05XVthLWYwLTldKSQpfCheKFthLWYwLTldW2EtZjAtOV1bYS1mMC05XVthLWYwLTldK1suXSl7Mn0oW2EtZjAtOV1bYS1mMC05XVthLWYwLTldW2EtZjAtOV0pKSQvaSxQPS9eW18kYS16QS1aXVtfJGEtekEtWjAtOV0qJC8sUj0vW1wiJ1xcXFxcXG5cXHJcXHUyMDI4XFx1MjAyOV0vZztyZXR1cm4gdi5wcm90b3R5cGUudmFsaWRhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5jb21waWxlKHQpKGUpfSx2LnByb3RvdHlwZS5jb21waWxlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoQXJyYXkuaXNBcnJheShlKSl7aWYoMD09ZS5sZW5ndGgpdGhyb3cgRXJyb3IoXCJJZiB0aGUgc2NoZW1hIGlzIGFuIEFycmF5LCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGVsZW1lbnQhXCIpO3ZhciByPXRoaXMuY29tcGlsZVNjaGVtYVR5cGUoZSk7cmV0dXJuIHRoaXMuY2FjaGUuY2xlYXIoKSxmdW5jdGlvbihlLG4saSl7cmV0dXJuIHQuY2hlY2tTY2hlbWFUeXBlKGUscixuLGl8fG51bGwpfX12YXIgbj10aGlzLmNvbXBpbGVTY2hlbWFPYmplY3QoZSk7cmV0dXJuIHRoaXMuY2FjaGUuY2xlYXIoKSxmdW5jdGlvbihlLHIsaSl7cmV0dXJuIHQuY2hlY2tTY2hlbWFPYmplY3QoZSxuLHIsaXx8bnVsbCl9fSx2LnByb3RvdHlwZS5jb21waWxlU2NoZW1hT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlfHxBcnJheS5pc0FycmF5KGUpKXRocm93IEVycm9yKFwiSW52YWxpZCBzY2hlbWEhXCIpO3ZhciByPXRoaXMuY2FjaGUuZ2V0KGUpO2lmKHIpcmV0dXJuIHIuY3ljbGU9ITAscjtyPXtjeWNsZTohMSxwcm9wZXJ0aWVzOm51bGwsY29tcGlsZWRPYmplY3RGdW5jdGlvbjpudWxsLG9iamVjdFN0YWNrOltdfSx0aGlzLmNhY2hlLnNldChlLHIpLHIucHJvcGVydGllcz1PYmplY3Qua2V5cyhlKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCIkJHN0cmljdFwiIT09ZX0pLm1hcChmdW5jdGlvbihyKXtyZXR1cm57bmFtZTpyLGNvbXBpbGVkVHlwZTp0LmNvbXBpbGVTY2hlbWFUeXBlKGVbcl0pfX0pO3ZhciBuPVtdO24ucHVzaChcImxldCByZXM7XCIpLG4ucHVzaChcImxldCBwcm9wZXJ0eVBhdGg7XCIpLG4ucHVzaChcImNvbnN0IGVycm9ycyA9IFtdO1wiKSwhMD09PWUuJCRzdHJpY3QmJm4ucHVzaChcImNvbnN0IGdpdmVuUHJvcHMgPSBuZXcgTWFwKE9iamVjdC5rZXlzKHZhbHVlKS5tYXAoa2V5ID0+IFtrZXksIHRydWVdKSk7XCIpO2Zvcih2YXIgaT0wO2k8ci5wcm9wZXJ0aWVzLmxlbmd0aDtpKyspe3ZhciBhPXIucHJvcGVydGllc1tpXSxvPWIoYS5uYW1lKSxzPVAudGVzdChvKT9cInZhbHVlLlwiK286J3ZhbHVlW1wiJytvKydcIl0nO24ucHVzaCgncHJvcGVydHlQYXRoID0gKHBhdGggIT09IHVuZGVmaW5lZCA/IHBhdGggKyBcIi4nK28rJ1wiIDogXCInK28rJ1wiKTsnKSxBcnJheS5pc0FycmF5KGEuY29tcGlsZWRUeXBlKT9uLnB1c2goXCJyZXMgPSB0aGlzLmNoZWNrU2NoZW1hVHlwZShcIitzK1wiLCBwcm9wZXJ0aWVzW1wiK2krXCJdLmNvbXBpbGVkVHlwZSwgcHJvcGVydHlQYXRoLCB2YWx1ZSk7XCIpOm4ucHVzaChcInJlcyA9IHRoaXMuY2hlY2tTY2hlbWFSdWxlKFwiK3MrXCIsIHByb3BlcnRpZXNbXCIraStcIl0uY29tcGlsZWRUeXBlLCBwcm9wZXJ0eVBhdGgsIHZhbHVlKTtcIiksbi5wdXNoKFwiaWYgKHJlcyAhPT0gdHJ1ZSkge1wiKSxuLnB1c2goXCJcXHR0aGlzLmhhbmRsZVJlc3VsdChlcnJvcnMsIHByb3BlcnR5UGF0aCwgcmVzLCBwcm9wZXJ0aWVzW1wiK2krXCJdLmNvbXBpbGVkVHlwZS5tZXNzYWdlcyk7XCIpLG4ucHVzaChcIn1cIiksITA9PT1lLiQkc3RyaWN0JiZuLnB1c2goJ2dpdmVuUHJvcHMuZGVsZXRlKFwiJytvKydcIik7Jyl9cmV0dXJuITA9PT1lLiQkc3RyaWN0JiYobi5wdXNoKFwiaWYgKGdpdmVuUHJvcHMuc2l6ZSAhPT0gMCkge1wiKSxuLnB1c2goXCJcXHR0aGlzLmhhbmRsZVJlc3VsdChlcnJvcnMsIHBhdGggfHwgJ3Jvb3RPYmplY3QnLCB0aGlzLm1ha2VFcnJvcignb2JqZWN0U3RyaWN0JywgdW5kZWZpbmVkLCBbLi4uZ2l2ZW5Qcm9wcy5rZXlzKCldLmpvaW4oJywgJykpLCB0aGlzLm1lc3NhZ2VzKTtcIiksbi5wdXNoKFwifVwiKSksbi5wdXNoKFwicmV0dXJuIGVycm9ycy5sZW5ndGggPT09IDAgPyB0cnVlIDogZXJyb3JzO1wiKSxyLmNvbXBpbGVkT2JqZWN0RnVuY3Rpb249bmV3IEZ1bmN0aW9uKFwidmFsdWVcIixcInByb3BlcnRpZXNcIixcInBhdGhcIixcInBhcmVudFwiLG4uam9pbihcIlxcblwiKSkscn0sdi5wcm90b3R5cGUuY29tcGlsZVNjaGVtYVR5cGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gQXJyYXkuaXNBcnJheShlKT8oZT15KGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0LmNvbXBpbGVTY2hlbWFUeXBlKGUpfSkpLDE9PWUubGVuZ3RoP2VbMF06ZSk6dGhpcy5jb21waWxlU2NoZW1hUnVsZShlKX0sdi5wcm90b3R5cGUuY29tcGlsZU1lc3NhZ2VzPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1lc3NhZ2VzP09iamVjdC5hc3NpZ24oe30sdGhpcy5tZXNzYWdlcyxlLm1lc3NhZ2VzKTp0aGlzLm1lc3NhZ2VzfSx2LnByb3RvdHlwZS5jb21waWxlU2NoZW1hUnVsZT1mdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9e3R5cGU6ZX0pO3ZhciB0PXRoaXMucnVsZXNbZS50eXBlXTtpZighdCl0aHJvdyBFcnJvcihcIkludmFsaWQgJ1wiK2UudHlwZStcIicgdHlwZSBpbiB2YWxpZGF0b3Igc2NoZW1hIVwiKTt2YXIgcj10aGlzLmNvbXBpbGVNZXNzYWdlcyhlKSxuPW51bGwsaT1udWxsO3JldHVyblwib2JqZWN0XCI9PT1lLnR5cGUmJmUucHJvcHM/KG49dGhpcy5jb21waWxlU2NoZW1hT2JqZWN0KGUucHJvcHMpLGk9dGhpcy5jaGVja1NjaGVtYU9iamVjdCk6XCJhcnJheVwiPT09ZS50eXBlJiZlLml0ZW1zJiYobj10aGlzLmNvbXBpbGVTY2hlbWFUeXBlKGUuaXRlbXMpLGk9dGhpcy5jaGVja1NjaGVtYUFycmF5KSx7bWVzc2FnZXM6cixzY2hlbWFSdWxlOmUscnVsZUZ1bmN0aW9uOnQsZGF0YUZ1bmN0aW9uOmksZGF0YVBhcmFtZXRlcjpufX0sdi5wcm90b3R5cGUuY2hlY2tTY2hlbWFPYmplY3Q9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHQuY3ljbGU/LTEhPT10Lm9iamVjdFN0YWNrLmluZGV4T2YoZSl8fCh0Lm9iamVjdFN0YWNrLnB1c2goZSksZT10aGlzLmNoZWNrU2NoZW1hT2JqZWN0SW5uZXIoZSx0LHIsbiksdC5vYmplY3RTdGFjay5wb3AoKSxlKTp0aGlzLmNoZWNrU2NoZW1hT2JqZWN0SW5uZXIoZSx0LHIsbil9LHYucHJvdG90eXBlLmNoZWNrU2NoZW1hT2JqZWN0SW5uZXI9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHQuY29tcGlsZWRPYmplY3RGdW5jdGlvbi5jYWxsKHRoaXMsZSx0LnByb3BlcnRpZXMscixuKX0sdi5wcm90b3R5cGUuY2hlY2tTY2hlbWFUeXBlPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgaT1bXSxhPXQubGVuZ3RoLG89MDtvPGE7bysrKXt2YXIgcz10aGlzLmNoZWNrU2NoZW1hUnVsZShlLHRbb10scixuKTtpZighMD09PXMpcmV0dXJuITA7dGhpcy5oYW5kbGVSZXN1bHQoaSxyLHMsdC5tZXNzYWdlcyl9cmV0dXJuIGl9cmV0dXJuIHRoaXMuY2hlY2tTY2hlbWFSdWxlKGUsdCxyLG4pfSx2LnByb3RvdHlwZS5jaGVja1NjaGVtYUFycmF5PWZ1bmN0aW9uKGUsdCxyLG4pe2Zvcih2YXIgaT1bXSxhPWUubGVuZ3RoLG89MDtvPGE7bysrKXt2YXIgcz0odm9pZCAwIT09cj9yOlwiXCIpK1wiW1wiK28rXCJdXCIsdT10aGlzLmNoZWNrU2NoZW1hVHlwZShlW29dLHQscyxlLG4pOyEwIT09dSYmdGhpcy5oYW5kbGVSZXN1bHQoaSxzLHUsdC5tZXNzYWdlcyl9cmV0dXJuIDA9PT1pLmxlbmd0aHx8aX0sdi5wcm90b3R5cGUuY2hlY2tTY2hlbWFSdWxlPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXQuc2NoZW1hUnVsZTtyZXR1cm4gdm9pZCAwPT09ZXx8bnVsbD09PWU/XCJmb3JiaWRkZW5cIj09PWkudHlwZXx8ITA9PT1pLm9wdGlvbmFsfHwoZT1bXSx0aGlzLmhhbmRsZVJlc3VsdChlLHIsdGhpcy5tYWtlRXJyb3IoXCJyZXF1aXJlZFwiKSx0Lm1lc3NhZ2VzKSxlKTooaT10LnJ1bGVGdW5jdGlvbi5jYWxsKHRoaXMsZSxpLHIsbiksITAhPT1pPyhlPVtdLHRoaXMuaGFuZGxlUmVzdWx0KGUscixpLHQubWVzc2FnZXMpLGUpOm51bGw9PT10LmRhdGFGdW5jdGlvbnx8dC5kYXRhRnVuY3Rpb24uY2FsbCh0aGlzLGUsdC5kYXRhUGFyYW1ldGVyLHIsbikpfSx2LnByb3RvdHlwZS5oYW5kbGVSZXN1bHQ9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpczsoQXJyYXkuaXNBcnJheShyKT9yOltyXSkuZm9yRWFjaChmdW5jdGlvbihyKXtyLmZpZWxkfHwoci5maWVsZD10KSxyLm1lc3NhZ2V8fChyLm1lc3NhZ2U9aS5yZXNvbHZlTWVzc2FnZShyLG5bci50eXBlXSkpLGUucHVzaChyKX0pfSx2LnByb3RvdHlwZS5tYWtlRXJyb3I9ZnVuY3Rpb24oZSx0LHIpe3JldHVybnt0eXBlOmUsZXhwZWN0ZWQ6dCxhY3R1YWw6cn19LHYucHJvdG90eXBlLnJlc29sdmVNZXNzYWdlPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9bnVsbCksbnVsbCE9dCl7dmFyIHI9bnVsbCE9ZS5leHBlY3RlZD9lLmV4cGVjdGVkOlwiXCIsbj1udWxsIT1lLmFjdHVhbD9lLmFjdHVhbDpcIlwiO3JldHVybiB0LnJlcGxhY2UoL1xce2ZpZWxkXFx9L2csZS5maWVsZCkucmVwbGFjZSgvXFx7ZXhwZWN0ZWRcXH0vZyxyKS5yZXBsYWNlKC9cXHthY3R1YWxcXH0vZyxuKX19LHYucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLHQpe3RoaXMucnVsZXNbZV09dH0sdn12YXIgZj1mfHx7fTtmLnNjb3BlPXt9LGYuQVNTVU1FX0VTNT0hMSxmLkFTU1VNRV9OT19OQVRJVkVfTUFQPSExLGYuQVNTVU1FX05PX05BVElWRV9TRVQ9ITEsZi5kZWZpbmVQcm9wZXJ0eT1mLkFTU1VNRV9FUzV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7ZSE9QXJyYXkucHJvdG90eXBlJiZlIT1PYmplY3QucHJvdG90eXBlJiYoZVt0XT1yLnZhbHVlKX0sZi5nZXRHbG9iYWw9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93PT09ZT9lOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWwmJm51bGwhPWdsb2JhbD9nbG9iYWw6ZX0sZi5nbG9iYWw9Zi5nZXRHbG9iYWwodGhpcyksZi5TWU1CT0xfUFJFRklYPVwianNjb21wX3N5bWJvbF9cIixmLmluaXRTeW1ib2w9ZnVuY3Rpb24oKXtmLmluaXRTeW1ib2w9ZnVuY3Rpb24oKXt9LGYuZ2xvYmFsLlN5bWJvbHx8KGYuZ2xvYmFsLlN5bWJvbD1mLlN5bWJvbCl9LGYuU3ltYm9sPWZ1bmN0aW9uKCl7dmFyIGU9MDtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGYuU1lNQk9MX1BSRUZJWCsodHx8XCJcIikrZSsrfX0oKSxmLmluaXRTeW1ib2xJdGVyYXRvcj1mdW5jdGlvbigpe2YuaW5pdFN5bWJvbCgpO3ZhciBlPWYuZ2xvYmFsLlN5bWJvbC5pdGVyYXRvcjtlfHwoZT1mLmdsb2JhbC5TeW1ib2wuaXRlcmF0b3I9Zi5nbG9iYWwuU3ltYm9sKFwiaXRlcmF0b3JcIikpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIEFycmF5LnByb3RvdHlwZVtlXSYmZi5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsZSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuYXJyYXlJdGVyYXRvcih0aGlzKX19KSxmLmluaXRTeW1ib2xJdGVyYXRvcj1mdW5jdGlvbigpe319LGYuYXJyYXlJdGVyYXRvcj1mdW5jdGlvbihlKXt2YXIgdD0wO3JldHVybiBmLml0ZXJhdG9yUHJvdG90eXBlKGZ1bmN0aW9uKCl7cmV0dXJuIHQ8ZS5sZW5ndGg/e2RvbmU6ITEsdmFsdWU6ZVt0KytdfTp7ZG9uZTohMH19KX0sZi5pdGVyYXRvclByb3RvdHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gZi5pbml0U3ltYm9sSXRlcmF0b3IoKSxlPXtuZXh0OmV9LGVbZi5nbG9iYWwuU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlfSxmLml0ZXJhdG9yRnJvbUFycmF5PWZ1bmN0aW9uKGUsdCl7Zi5pbml0U3ltYm9sSXRlcmF0b3IoKSxlIGluc3RhbmNlb2YgU3RyaW5nJiYoZSs9XCJcIik7dmFyIHI9MCxuPXtuZXh0OmZ1bmN0aW9uKCl7aWYocjxlLmxlbmd0aCl7dmFyIGk9cisrO3JldHVybnt2YWx1ZTp0KGksZVtpXSksZG9uZTohMX19cmV0dXJuIG4ubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOiEwLHZhbHVlOnZvaWQgMH19LG4ubmV4dCgpfX07cmV0dXJuIG5bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiBufSxufSxmLnBvbHlmaWxsPWZ1bmN0aW9uKGUsdCl7aWYodCl7dmFyIHI9Zi5nbG9iYWw7ZT1lLnNwbGl0KFwiLlwiKTtmb3IodmFyIG49MDtuPGUubGVuZ3RoLTE7bisrKXt2YXIgaT1lW25dO2kgaW4gcnx8KHJbaV09e30pLHI9cltpXX0odD10KG49cltlPWVbZS5sZW5ndGgtMV1dKSkhPW4mJm51bGwhPXQmJmYuZGVmaW5lUHJvcGVydHkocixlLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pfX0sZi5wb2x5ZmlsbChcIkFycmF5LnByb3RvdHlwZS5rZXlzXCIsZnVuY3Rpb24oZSl7cmV0dXJuIGV8fGZ1bmN0aW9uKCl7cmV0dXJuIGYuaXRlcmF0b3JGcm9tQXJyYXkodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gZX0pfX0sXCJlczZcIixcImVzM1wiKSxmLmNoZWNrRXM2Q29uZm9ybWFuY2VWaWFQcm94eT1mdW5jdGlvbigpe3RyeXt2YXIgZT17fSx0PU9iamVjdC5jcmVhdGUobmV3IGYuZ2xvYmFsLlByb3h5KGUse2dldDpmdW5jdGlvbihyLG4saSl7cmV0dXJuIHI9PWUmJlwicVwiPT1uJiZpPT10fX0pKTtyZXR1cm4hMD09PXQucX1jYXRjaChlKXtyZXR1cm4hMX19LGYuVVNFX1BST1hZX0ZPUl9FUzZfQ09ORk9STUFOQ0VfQ0hFQ0tTPSExLGYuRVM2X0NPTkZPUk1BTkNFPWYuVVNFX1BST1hZX0ZPUl9FUzZfQ09ORk9STUFOQ0VfQ0hFQ0tTJiZmLmNoZWNrRXM2Q29uZm9ybWFuY2VWaWFQcm94eSgpLGYubWFrZUl0ZXJhdG9yPWZ1bmN0aW9uKGUpe2YuaW5pdFN5bWJvbEl0ZXJhdG9yKCk7dmFyIHQ9ZVtTeW1ib2wuaXRlcmF0b3JdO3JldHVybiB0P3QuY2FsbChlKTpmLmFycmF5SXRlcmF0b3IoZSl9LGYub3ducz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sZi5wb2x5ZmlsbChcIldlYWtNYXBcIixmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe2lmKHRoaXMuaWRfPShhKz1NYXRoLnJhbmRvbSgpKzEpLnRvU3RyaW5nKCksZSl7Zi5pbml0U3ltYm9sKCksZi5pbml0U3ltYm9sSXRlcmF0b3IoKSxlPWYubWFrZUl0ZXJhdG9yKGUpO2Zvcih2YXIgdDshKHQ9ZS5uZXh0KCkpLmRvbmU7KXQ9dC52YWx1ZSx0aGlzLnNldCh0WzBdLHRbMV0pfX1mdW5jdGlvbiByKGUpe2Yub3ducyhlLGkpfHxmLmRlZmluZVByb3BlcnR5KGUsaSx7dmFsdWU6e319KX1mdW5jdGlvbiBuKGUpe3ZhciB0PU9iamVjdFtlXTt0JiYoT2JqZWN0W2VdPWZ1bmN0aW9uKGUpe3JldHVybiByKGUpLHQoZSl9KX1pZihmLlVTRV9QUk9YWV9GT1JfRVM2X0NPTkZPUk1BTkNFX0NIRUNLUyl7aWYoZSYmZi5FUzZfQ09ORk9STUFOQ0UpcmV0dXJuIGV9ZWxzZSBpZihmdW5jdGlvbigpe2lmKCFlfHwhT2JqZWN0LnNlYWwpcmV0dXJuITE7dHJ5e3ZhciB0PU9iamVjdC5zZWFsKHt9KSxyPU9iamVjdC5zZWFsKHt9KSxuPW5ldyBlKFtbdCwyXSxbciwzXV0pO3JldHVybiAyPT1uLmdldCh0KSYmMz09bi5nZXQocikmJihuLmRlbGV0ZSh0KSxuLnNldChyLDQpLCFuLmhhcyh0KSYmND09bi5nZXQocikpfWNhdGNoKGUpe3JldHVybiExfX0oKSlyZXR1cm4gZTt2YXIgaT1cIiRqc2NvbXBfaGlkZGVuX1wiK01hdGgucmFuZG9tKCk7bihcImZyZWV6ZVwiKSxuKFwicHJldmVudEV4dGVuc2lvbnNcIiksbihcInNlYWxcIik7dmFyIGE9MDtyZXR1cm4gdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7aWYocihlKSwhZi5vd25zKGUsaSkpdGhyb3cgRXJyb3IoXCJXZWFrTWFwIGtleSBmYWlsOiBcIitlKTtyZXR1cm4gZVtpXVt0aGlzLmlkX109dCx0aGlzfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGYub3ducyhlLGkpP2VbaV1bdGhpcy5pZF9dOnZvaWQgMH0sdC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiBmLm93bnMoZSxpKSYmZi5vd25zKGVbaV0sdGhpcy5pZF8pfSx0LnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7cmV0dXJuISghZi5vd25zKGUsaSl8fCFmLm93bnMoZVtpXSx0aGlzLmlkXykpJiZkZWxldGUgZVtpXVt0aGlzLmlkX119LHR9LFwiZXM2XCIsXCJlczNcIiksZi5NYXBFbnRyeT1mdW5jdGlvbigpe30sZi5wb2x5ZmlsbChcIk1hcFwiLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZT17fTtyZXR1cm4gZS5wcmV2aW91cz1lLm5leHQ9ZS5oZWFkPWV9ZnVuY3Rpb24gcihlLHQpe3ZhciByPWUuaGVhZF87cmV0dXJuIGYuaXRlcmF0b3JQcm90b3R5cGUoZnVuY3Rpb24oKXtpZihyKXtmb3IoO3IuaGVhZCE9ZS5oZWFkXzspcj1yLnByZXZpb3VzO2Zvcig7ci5uZXh0IT1yLmhlYWQ7KXJldHVybiByPXIubmV4dCx7ZG9uZTohMSx2YWx1ZTp0KHIpfTtyPW51bGx9cmV0dXJue2RvbmU6ITAsdmFsdWU6dm9pZCAwfX0pfWZ1bmN0aW9uIG4oZSx0KXt2YXIgcj10JiZ0eXBlb2YgdDtcIm9iamVjdFwiPT1yfHxcImZ1bmN0aW9uXCI9PXI/YS5oYXModCk/cj1hLmdldCh0KToocj1cIlwiKyArK28sYS5zZXQodCxyKSk6cj1cInBfXCIrdDt2YXIgbj1lLmRhdGFfW3JdO2lmKG4mJmYub3ducyhlLmRhdGFfLHIpKWZvcihlPTA7ZTxuLmxlbmd0aDtlKyspe3ZhciBpPW5bZV07aWYodCE9PXQmJmkua2V5IT09aS5rZXl8fHQ9PT1pLmtleSlyZXR1cm57aWQ6cixsaXN0Om4saW5kZXg6ZSxlbnRyeTppfX1yZXR1cm57aWQ6cixsaXN0Om4saW5kZXg6LTEsZW50cnk6dm9pZCAwfX1mdW5jdGlvbiBpKGUpe2lmKHRoaXMuZGF0YV89e30sdGhpcy5oZWFkXz10KCksdGhpcy5zaXplPTAsZSl7ZT1mLm1ha2VJdGVyYXRvcihlKTtmb3IodmFyIHI7IShyPWUubmV4dCgpKS5kb25lOylyPXIudmFsdWUsdGhpcy5zZXQoclswXSxyWzFdKX19aWYoZi5VU0VfUFJPWFlfRk9SX0VTNl9DT05GT1JNQU5DRV9DSEVDS1Mpe2lmKGUmJmYuRVM2X0NPTkZPUk1BTkNFKXJldHVybiBlfWVsc2UgaWYoZnVuY3Rpb24oKXtpZihmLkFTU1VNRV9OT19OQVRJVkVfTUFQfHwhZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgZXx8IWUucHJvdG90eXBlLmVudHJpZXN8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIE9iamVjdC5zZWFsKXJldHVybiExO3RyeXt2YXIgdD1PYmplY3Quc2VhbCh7eDo0fSkscj1uZXcgZShmLm1ha2VJdGVyYXRvcihbW3QsXCJzXCJdXSkpO2lmKFwic1wiIT1yLmdldCh0KXx8MSE9ci5zaXplfHxyLmdldCh7eDo0fSl8fHIuc2V0KHt4OjR9LFwidFwiKSE9cnx8MiE9ci5zaXplKXJldHVybiExO3ZhciBuPXIuZW50cmllcygpLGk9bi5uZXh0KCk7cmV0dXJuIWkuZG9uZSYmaS52YWx1ZVswXT09dCYmXCJzXCI9PWkudmFsdWVbMV0mJiEoKGk9bi5uZXh0KCkpLmRvbmV8fDQhPWkudmFsdWVbMF0ueHx8XCJ0XCIhPWkudmFsdWVbMV18fCFuLm5leHQoKS5kb25lKX1jYXRjaChlKXtyZXR1cm4hMX19KCkpcmV0dXJuIGU7Zi5pbml0U3ltYm9sKCksZi5pbml0U3ltYm9sSXRlcmF0b3IoKTt2YXIgYT1uZXcgV2Vha01hcDtpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uKHRoaXMsZSk7cmV0dXJuIHIubGlzdHx8KHIubGlzdD10aGlzLmRhdGFfW3IuaWRdPVtdKSxyLmVudHJ5P3IuZW50cnkudmFsdWU9dDooci5lbnRyeT17bmV4dDp0aGlzLmhlYWRfLHByZXZpb3VzOnRoaXMuaGVhZF8ucHJldmlvdXMsaGVhZDp0aGlzLmhlYWRfLGtleTplLHZhbHVlOnR9LHIubGlzdC5wdXNoKHIuZW50cnkpLHRoaXMuaGVhZF8ucHJldmlvdXMubmV4dD1yLmVudHJ5LHRoaXMuaGVhZF8ucHJldmlvdXM9ci5lbnRyeSx0aGlzLnNpemUrKyksdGhpc30saS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUpe3JldHVybiEoIShlPW4odGhpcyxlKSkuZW50cnl8fCFlLmxpc3QpJiYoZS5saXN0LnNwbGljZShlLmluZGV4LDEpLGUubGlzdC5sZW5ndGh8fGRlbGV0ZSB0aGlzLmRhdGFfW2UuaWRdLGUuZW50cnkucHJldmlvdXMubmV4dD1lLmVudHJ5Lm5leHQsZS5lbnRyeS5uZXh0LnByZXZpb3VzPWUuZW50cnkucHJldmlvdXMsZS5lbnRyeS5oZWFkPW51bGwsdGhpcy5zaXplLS0sITApfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuZGF0YV89e30sdGhpcy5oZWFkXz10aGlzLmhlYWRfLnByZXZpb3VzPXQoKSx0aGlzLnNpemU9MH0saS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiEhbih0aGlzLGUpLmVudHJ5fSxpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuKGU9bih0aGlzLGUpLmVudHJ5KSYmZS52YWx1ZX0saS5wcm90b3R5cGUuZW50cmllcz1mdW5jdGlvbigpe3JldHVybiByKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuW2Uua2V5LGUudmFsdWVdfSl9LGkucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmtleX0pfSxpLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiBlLnZhbHVlfSl9LGkucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbj10aGlzLmVudHJpZXMoKTshKHI9bi5uZXh0KCkpLmRvbmU7KXI9ci52YWx1ZSxlLmNhbGwodCxyWzFdLHJbMF0sdGhpcyl9LGkucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09aS5wcm90b3R5cGUuZW50cmllczt2YXIgbz0wO3JldHVybiBpfSxcImVzNlwiLFwiZXMzXCIpLGYuYXNzaWduPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5hc3NpZ24/T2JqZWN0LmFzc2lnbjpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBuPWFyZ3VtZW50c1tyXTtpZihuKWZvcih2YXIgaSBpbiBuKWYub3ducyhuLGkpJiYoZVtpXT1uW2ldKX1yZXR1cm4gZX0sZi5wb2x5ZmlsbChcIk9iamVjdC5hc3NpZ25cIixmdW5jdGlvbihlKXtyZXR1cm4gZXx8Zi5hc3NpZ259LFwiZXM2XCIsXCJlczNcIik7dmFyIHI9dGhpcztcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSh0KToocj1yfHxzZWxmLHIuRmFzdGVzdFZhbGlkYXRvcj10KCkpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/fastest-validator/dist/index.min.js\n");

/***/ }),

/***/ "../node_modules/webpack/buildin/global.js":
/*!*************************************************!*\
  !*** ../node_modules/webpack/buildin/global.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanM/YTQyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/webpack/buildin/global.js\n");

/***/ }),

/***/ "../node_modules/webpack/buildin/module.js":
/*!*************************************************!*\
  !*** ../node_modules/webpack/buildin/module.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9tb2R1bGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9tb2R1bGUuanM/NDY4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/webpack/buildin/module.js\n");

/***/ }),

/***/ "../src/Player.js":
/*!************************!*\
  !*** ../src/Player.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar MC = __webpack_require__(/*! @kissmybutton/motorcortex */ \"../node_modules/@kissmybutton/motorcortex/dist/main.js\");\n\nvar timeCapsule = new MC.TimeCapsule();\n\nvar _require = __webpack_require__(/*! ./helpers */ \"../src/helpers.js\"),\n    elid = _require.elid,\n    eltag = _require.eltag,\n    elcreate = _require.elcreate;\n\nvar svg = __webpack_require__(/*! ./html/svg */ \"../src/html/svg.js\");\n\nvar config = __webpack_require__(/*! ./config */ \"../src/config.js\");\n\nvar confStyle = __webpack_require__(/*! ./html/style */ \"../src/html/style.js\");\n\nvar confThemes = __webpack_require__(/*! ./html/themes */ \"../src/html/themes.js\");\n\nvar setElements = __webpack_require__(/*! ./html/setElements */ \"../src/html/setElements.js\");\n\nvar volumeListener = __webpack_require__(/*! ./listeners/volume */ \"../src/listeners/volume.js\");\n\nvar loopBarStartListener = __webpack_require__(/*! ./listeners/loopBarStart */ \"../src/listeners/loopBarStart.js\");\n\nvar loopBarEndListener = __webpack_require__(/*! ./listeners/loopBarEnd */ \"../src/listeners/loopBarEnd.js\");\n\nvar loopStartEndListener = __webpack_require__(/*! ./listeners/loopStartEnd */ \"../src/listeners/loopStartEnd.js\");\n\nvar progressBarListener = __webpack_require__(/*! ./listeners/progressBar */ \"../src/listeners/progressBar.js\");\n\nvar statusBtnListener = __webpack_require__(/*! ./listeners/statusBtn */ \"../src/listeners/statusBtn.js\");\n\nvar settingsListener = __webpack_require__(/*! ./listeners/settings */ \"../src/listeners/settings.js\");\n\nvar speedListener = __webpack_require__(/*! ./listeners/speed */ \"../src/listeners/speed.js\");\n\nvar loopBtnListener = __webpack_require__(/*! ./listeners/loopBtn */ \"../src/listeners/loopBtn.js\");\n\nvar controlsListener = __webpack_require__(/*! ./listeners/controls */ \"../src/listeners/controls.js\");\n\nvar fullscreenListener = __webpack_require__(/*! ./listeners/fullscreen */ \"../src/listeners/fullscreen.js\");\n\nvar donkeyclipListener = __webpack_require__(/*! ./listeners/donkeyclip */ \"../src/listeners/donkeyclip.js\");\n\nvar previewListener = __webpack_require__(/*! ./listeners/preview */ \"../src/listeners/preview.js\");\n\nvar bodyListener = __webpack_require__(/*! ./listeners/body */ \"../src/listeners/body.js\");\n/**\n * @classdesc\n * Timer's purpose is to provide an interface through which any TimedIncident\n * (such as a Scene or a Clip) can both privide info regarding their timing\n * state but also provide an interface for interacting/altering the timing of it\n */\n\n\nvar Player =\n/*#__PURE__*/\nfunction () {\n  function Player(options) {\n    var _this = this;\n\n    _classCallCheck(this, Player);\n\n    // set defaults\n    options.id = options.id || Date.now();\n    options.preview = options.preview || false;\n    options.showVolume = options.showVolume || false;\n    options.theme = options.theme || \"transparent on-top\";\n    options.host = options.host || options.clip.props.host;\n    options.buttons = options.buttons || {};\n\n    if (options.pointerEvents === undefined || options.pointerEvents === null) {\n      options.pointerEvents = true;\n    } else {\n      options.pointerEvents = Boolean(options.pointerEvents);\n    }\n\n    options.onMillisecondChange = options.onMillisecondChange || null;\n    options.speedValues = options.speedValues || [-4, -2, -1, -0.5, 0, 0.5, 1, 2, 4]; // remove strings\n\n    for (var i in options.speedValues) {\n      if (!isFinite(options.speedValues[i])) {\n        options.speedValues.splice(i, 1);\n      }\n    }\n\n    options.speedValues.sort(function (a, b) {\n      return a - b;\n    });\n    this.className = config.name;\n    config.playerName = options.id;\n    this.options = options;\n    this.id = this.options.id;\n    this.name = config.name;\n    this.previewClip = null;\n    this.clip = options.clip; // host to apply the timer\n\n    this.clipClass = options.clipClass;\n    this.state = this.clip.runTimeInfo.state;\n    this.listeners = {};\n    this.previewScale = 0.25;\n    this.settings = {\n      volume: 1,\n      journey: null,\n      previousVolume: 1,\n      volumeMute: false,\n      needsUpdate: true,\n      resizeLoop: false,\n      loopJourney: false,\n      previewJourney: null,\n      loopActivated: false,\n      requestingLoop: false,\n      playAfterResize: false,\n      loopStartMillisecond: 0,\n      loopLastPositionXPxls: 0,\n      loopLastPositionXPercentage: 0,\n      loopEndMillisecond: this.clip.duration\n    };\n    this.functions = {\n      millisecondChange: this.millisecondChange,\n      createJourney: this.createJourney\n    }; // create the timer controls main div\n\n    setElements(this);\n    this.setTheme();\n    this.setSpeed();\n    this.subscribeToTimer();\n    this.subscribeToDurationChange();\n    this.addEventListeners();\n\n    if (this.options.preview) {\n      this.createPreviewDisplay();\n    }\n\n    window.addEventListener(\"resize\", function () {\n      if (_this.options.preview) {\n        _this.setPreviewDimentions();\n      }\n    });\n  }\n\n  _createClass(Player, [{\n    key: \"createJourney\",\n    value: function createJourney(clip, millisecond) {\n      var _this2 = this;\n\n      var clipCommands = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      setTimeout(function () {\n        var def = null;\n        var _clipCommands$before = clipCommands.before,\n            before = _clipCommands$before === void 0 ? def : _clipCommands$before,\n            _clipCommands$after = clipCommands.after,\n            after = _clipCommands$after === void 0 ? def : _clipCommands$after;\n        before ? clip[before]() : null;\n        _this2.settings.journey = timeCapsule.startJourney(clip);\n\n        _this2.settings.journey.station(millisecond);\n\n        _this2.settings.journey.destination();\n\n        after ? clip[after]() : null;\n      }, 0);\n    }\n  }, {\n    key: \"millisecondChange\",\n    value: function millisecondChange(millisecond, state, roundTo, makeJouney) {\n      var executeOnMillisecondChange = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n\n      if (this.state !== state) {\n        this.state = state;\n        this.eventBroadcast(\"state-change\", state);\n      }\n\n      if (!this.settings.needsUpdate) {\n        this.clip.pause();\n        return 1;\n      }\n\n      var clip = this.clip;\n      var _this$settings = this.settings,\n          loopActivated = _this$settings.loopActivated,\n          loopEndMillisecond = _this$settings.loopEndMillisecond,\n          loopStartMillisecond = _this$settings.loopStartMillisecond;\n      var duration = this.clip.duration;\n      var _this$elements = this.elements,\n          totalBar = _this$elements.totalBar,\n          loopBar = _this$elements.loopBar;\n      var loopBarWidth = loopBar.offsetWidth;\n      var loopBarLeft = loopBar.offsetLeft / totalBar.offsetWidth;\n      var localMillisecond = millisecond - duration * loopBarLeft;\n      var localDuration = duration / totalBar.offsetWidth * loopBarWidth;\n\n      if (millisecond >= loopEndMillisecond && loopActivated && this.clip.speed >= 0) {\n        this.createJourney(clip, loopStartMillisecond + 1, {\n          after: this.settings.playAfterResize || this.clip.runTimeInfo.state == \"playing\" ? \"play\" : null\n        });\n        return 1;\n      } else if (millisecond >= loopEndMillisecond && loopActivated && this.clip.speed < 0) {\n        this.createJourney(clip, loopEndMillisecond - 1, {\n          after: this.settings.playAfterResize || this.clip.runTimeInfo.state == \"playing\" ? \"play\" : null\n        });\n        return 1;\n      } else if (millisecond <= loopStartMillisecond && loopActivated && this.clip.speed >= 0) {\n        this.createJourney(clip, loopStartMillisecond + 1, {\n          after: this.settings.playAfterResize || this.clip.runTimeInfo.state == \"playing\" ? \"play\" : null\n        });\n        return 1;\n      } else if (millisecond <= loopStartMillisecond && loopActivated && this.clip.speed < 0) {\n        this.createJourney(clip, loopEndMillisecond - 1, {\n          after: this.settings.playAfterResize || this.clip.runTimeInfo.state == \"playing\" ? \"play\" : null\n        });\n        return 1;\n      }\n\n      if (makeJouney) {\n        this.createJourney(clip, millisecond, {\n          after: this.settings.playAfterResize ? \"play\" : null\n        });\n      }\n\n      this.elements.runningBar.style.width = localMillisecond / localDuration * 100 + \"%\";\n      this.elements.currentTime.innerHTML = millisecond;\n\n      if (this.options.onMillisecondChange && executeOnMillisecondChange) {\n        this.options.onMillisecondChange(millisecond);\n      }\n    }\n  }, {\n    key: \"eventBroadcast\",\n    value: function eventBroadcast(eventName, state) {\n      if (eventName === \"state-change\") {\n        if (state === \"paused\" || state === \"idle\" || state === \"transitional\" || state === \"armed\" || state === \"blocked\") {\n          this.elements.statusButton.innerHTML = svg.playSVG;\n          this.elements.statusButton.appendChild(this.elements.indicator);\n          this.elements.indicator.innerHTML = \"\".concat(state.charAt(0).toUpperCase() + state.slice(1));\n\n          if (state === \"blocked\") {\n            this.elements.pointerEventPanel.innerHTML = \"\\n            <div style=\\\"width:100%;height:100%;background:rgba(0,0,0,0.5);display:flex;justify-content:center;align-items:center;\\\">\".concat(svg.loadingSVG, \"</div>\");\n          }\n        } else {\n          this.elements.statusButton.innerHTML = svg.pauseSVG;\n          this.elements.statusButton.appendChild(this.elements.indicator);\n          this.elements.indicator.innerHTML = \"Playing\";\n          this.elements.pointerEventPanel.innerHTML = \"\";\n\n          if (state === \"playing\" && this.clip.runTimeInfo.currentMillisecond === this.clip.duration && this.clip.speed >= 0) {\n            this.createJourney(this.clip, 1, {\n              after: \"play\"\n            });\n          } else if (state === \"playing\" && this.clip.runTimeInfo.currentMillisecond === 0 && this.clip.speed < 0) {\n            this.createJourney(this.clip, this.clip.duration - 1, {\n              after: \"play\"\n            });\n          } else if (state === \"playing\" && this.clip.runTimeInfo.currentMillisecond === this.clip.duration && this.clip.speed < 0) {\n            this.createJourney(this.clip, this.clip.duration - 1, {\n              after: \"play\"\n            });\n          }\n        }\n      } else if (eventName === \"duration-change\") {\n        this.elements.totalTime.innerHTML = this.clip.duration;\n        this.settings.loopEndMillisecond = this.clip.duration;\n        this.elements.pointerEventPanel.innerHTML = \"\";\n        this.millisecondChange(this.clip.runTimeInfo.currentMillisecond);\n      }\n    }\n  }, {\n    key: \"subscribeToDurationChange\",\n    value: function subscribeToDurationChange() {\n      this.clip.subscribeToDurationChange(this.id, this.eventBroadcast.bind(this));\n    }\n  }, {\n    key: \"subscribeToTimer\",\n    value: function subscribeToTimer() {\n      this.clip.subscribe(this.id, this.millisecondChange.bind(this));\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart() {\n      this.settings.needsUpdate = true;\n      this.settings.journey = timeCapsule.startJourney(this.clip);\n    }\n  }, {\n    key: \"handleDrag\",\n    value: function handleDrag(loopBarPositionX) {\n      var executeOnMillisecondChange = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      if (!isFinite(loopBarPositionX)) {\n        loopBarPositionX = 0;\n      }\n\n      var duration = this.clip.duration;\n      var journey = this.settings.journey;\n      var _this$elements2 = this.elements,\n          loopBar = _this$elements2.loopBar,\n          totalBar = _this$elements2.totalBar,\n          runningBar = _this$elements2.runningBar,\n          currentTime = _this$elements2.currentTime;\n      var totalBarPositionX = loopBarPositionX + loopBar.offsetLeft;\n      var millisecond = Math.round(duration * totalBarPositionX / totalBar.offsetWidth);\n      currentTime.innerHTML = millisecond;\n      runningBar.style.width = loopBarPositionX / loopBar.offsetWidth * 100 + \"%\";\n      journey.station(millisecond);\n\n      if (this.options.onMillisecondChange && executeOnMillisecondChange) {\n        this.options.onMillisecondChange(millisecond);\n      }\n    }\n  }, {\n    key: \"handleDragEnd\",\n    value: function handleDragEnd() {\n      this.settings.journey.destination();\n    }\n  }, {\n    key: \"createProgressDrag\",\n    value: function createProgressDrag(loopBarPositionX) {\n      this.handleDragStart();\n      this.handleDrag(loopBarPositionX);\n      this.handleDragEnd();\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners() {\n      loopBarEndListener(this);\n      progressBarListener(this);\n      loopBarStartListener(this);\n      loopStartEndListener(this);\n      volumeListener(this);\n      statusBtnListener(this);\n      settingsListener(this);\n      speedListener(this);\n      loopBtnListener(this);\n      controlsListener(this);\n      fullscreenListener(this);\n      donkeyclipListener(this);\n      previewListener(this);\n      bodyListener(this);\n    }\n  }, {\n    key: \"launchIntoFullscreen\",\n    value: function launchIntoFullscreen(element) {\n      if (this.options.preview) {\n        this.setPreviewDimentions();\n      }\n\n      this.elements.mcPlayer.classList.toggle(\"full-screen\");\n\n      if (element.requestFullscreen) {\n        element.requestFullscreen();\n      } else if (element.mozRequestFullScreen) {\n        element.mozRequestFullScreen();\n      } else if (element.webkitRequestFullscreen) {\n        element.webkitRequestFullscreen();\n      } else if (element.msRequestFullscreen) {\n        element.msRequestFullscreen();\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen() {\n      if (this.options.preview) {\n        this.setPreviewDimentions();\n      }\n\n      this.elements.mcPlayer.classList.toggle(\"full-screen\");\n\n      if (document.exitFullscreen) {\n        document.exitFullscreen();\n      } else if (document.mozCancelFullScreen) {\n        document.mozCancelFullScreen();\n      } else if (document.webkitExitFullscreen) {\n        document.webkitExitFullscreen();\n      }\n    }\n  }, {\n    key: \"setTheme\",\n    value: function setTheme() {\n      // replace multiple spaces with one space\n      this.options.theme.replace(/\\s\\s+/g, \" \");\n      this.options.theme.trim();\n\n      if (!this.options.theme.includes(\"on-top\") && !this.options.theme.includes(\"position-default\")) {\n        this.options.theme += \" position-default\";\n      }\n\n      var theme = {};\n\n      for (var i in this.options.theme.split(\" \")) {\n        var confTheme = confThemes(this.options.theme.split(\" \")[i]);\n\n        for (var q in confTheme || {}) {\n          theme[q] = confTheme[q];\n        }\n      }\n\n      var css = confStyle(theme, this.name, this.options);\n      var style = elcreate(\"style\");\n      style.styleSheet ? style.styleSheet.cssText = css : style.appendChild(document.createTextNode(css)); // append player style to document\n\n      eltag(\"head\")[0].appendChild(style);\n    }\n  }, {\n    key: \"setSpeed\",\n    value: function setSpeed() {\n      var _this3 = this;\n\n      var currentSpeed;\n      this.clip.speed == 1 ? currentSpeed = \"Normal\" : currentSpeed = this.clip.speed;\n      this.elements.speedCurrent.innerHTML = currentSpeed;\n\n      var targetZone = function () {\n        for (var i = 0; i < _this3.options.speedValues.length - 1; i++) {\n          if (_this3.options.speedValues[i] <= _this3.clip.speed && _this3.options.speedValues[i + 1] > _this3.clip.speed) {\n            return i + Math.abs((_this3.clip.speed - _this3.options.speedValues[i]) / (_this3.options.speedValues[i] - _this3.options.speedValues[i + 1]));\n          }\n        }\n      }();\n\n      var step = 1 / (this.options.speedValues.length - 1);\n      var positionY = (targetZone * step - 1) * -1 * (this.options.speedValues.length - 1) * 16;\n      elid(\"\".concat(this.name, \"-speed-cursor\")).style.top = positionY + \"px\";\n    }\n  }, {\n    key: \"calculateSpeed\",\n    value: function calculateSpeed(step, arrayOfValues, currentPercentage) {\n      var botLimitIndex = Math.floor(currentPercentage / step);\n\n      if (botLimitIndex === arrayOfValues.length - 1) {\n        return arrayOfValues[botLimitIndex].toFixed(1);\n      }\n\n      var limitZonePercentage = currentPercentage / step % 1;\n      var limitZoneLength = Math.abs(arrayOfValues[botLimitIndex] - arrayOfValues[botLimitIndex + 1]);\n      var realZoneSpeed = limitZonePercentage * limitZoneLength;\n      var realSpeed = (realZoneSpeed + arrayOfValues[botLimitIndex]).toFixed(1);\n\n      if (realSpeed == 0) {\n        return \"0.0\";\n      }\n\n      return realSpeed;\n    }\n  }, {\n    key: \"createPreviewDisplay\",\n    value: function createPreviewDisplay() {\n      this.previewClip = this.clip.paste(elid(\"\".concat(this.name, \"-hover-display\")));\n      var previewClip = elid(\"\".concat(this.name, \"-hover-display\"));\n      previewClip.style.position = \"absolute\";\n      previewClip.style.zIndex = 1;\n      this.setPreviewDimentions();\n    }\n  }, {\n    key: \"setPreviewDimentions\",\n    value: function setPreviewDimentions() {\n      var clip = this.clip.props.host;\n      var previewClip = this.previewClip.ownClip.props.host;\n      var clipWidth = clip.offsetWidth;\n      var clipHeight = clip.offsetHeight;\n      var previewWidth = clipWidth * this.previewScale; // max width is 300\n\n      if (previewWidth > 300) {\n        // previewWidth = parseFloat(\n        //   elid(`${this.name}-hover-display`).style.maxWidth\n        // );\n        previewWidth = 300;\n        this.previewScale = previewWidth / clipWidth;\n      }\n\n      elid(\"\".concat(this.name, \"-hover-display\")).style.width = clipWidth + \"px\";\n      elid(\"\".concat(this.name, \"-hover-display\")).style.height = clipHeight + \"px\";\n      previewClip.style.transform = \"scale(\".concat(this.previewScale, \")\");\n      previewClip.style.transformOrigin = \"center bottom\";\n      previewClip.style.boxSizing = \"border-box\";\n    }\n  }]);\n\n  return Player;\n}();\n\nmodule.exports = Player;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL1BsYXllci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9zcmMvUGxheWVyLmpzPzY2ZDYiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTUMgPSByZXF1aXJlKGBAa2lzc215YnV0dG9uL21vdG9yY29ydGV4YCk7XG5cbmNvbnN0IHRpbWVDYXBzdWxlID0gbmV3IE1DLlRpbWVDYXBzdWxlKCk7XG5cbmNvbnN0IHsgZWxpZCwgZWx0YWcsIGVsY3JlYXRlIH0gPSByZXF1aXJlKGAuL2hlbHBlcnNgKTtcbmNvbnN0IHN2ZyA9IHJlcXVpcmUoXCIuL2h0bWwvc3ZnXCIpO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZShgLi9jb25maWdgKTtcbmNvbnN0IGNvbmZTdHlsZSA9IHJlcXVpcmUoYC4vaHRtbC9zdHlsZWApO1xuY29uc3QgY29uZlRoZW1lcyA9IHJlcXVpcmUoYC4vaHRtbC90aGVtZXNgKTtcbmNvbnN0IHNldEVsZW1lbnRzID0gcmVxdWlyZShgLi9odG1sL3NldEVsZW1lbnRzYCk7XG5cbmNvbnN0IHZvbHVtZUxpc3RlbmVyID0gcmVxdWlyZShgLi9saXN0ZW5lcnMvdm9sdW1lYCk7XG5jb25zdCBsb29wQmFyU3RhcnRMaXN0ZW5lciA9IHJlcXVpcmUoYC4vbGlzdGVuZXJzL2xvb3BCYXJTdGFydGApO1xuY29uc3QgbG9vcEJhckVuZExpc3RlbmVyID0gcmVxdWlyZShgLi9saXN0ZW5lcnMvbG9vcEJhckVuZGApO1xuY29uc3QgbG9vcFN0YXJ0RW5kTGlzdGVuZXIgPSByZXF1aXJlKGAuL2xpc3RlbmVycy9sb29wU3RhcnRFbmRgKTtcbmNvbnN0IHByb2dyZXNzQmFyTGlzdGVuZXIgPSByZXF1aXJlKGAuL2xpc3RlbmVycy9wcm9ncmVzc0JhcmApO1xuY29uc3Qgc3RhdHVzQnRuTGlzdGVuZXIgPSByZXF1aXJlKGAuL2xpc3RlbmVycy9zdGF0dXNCdG5gKTtcbmNvbnN0IHNldHRpbmdzTGlzdGVuZXIgPSByZXF1aXJlKGAuL2xpc3RlbmVycy9zZXR0aW5nc2ApO1xuY29uc3Qgc3BlZWRMaXN0ZW5lciA9IHJlcXVpcmUoYC4vbGlzdGVuZXJzL3NwZWVkYCk7XG5jb25zdCBsb29wQnRuTGlzdGVuZXIgPSByZXF1aXJlKGAuL2xpc3RlbmVycy9sb29wQnRuYCk7XG5jb25zdCBjb250cm9sc0xpc3RlbmVyID0gcmVxdWlyZShgLi9saXN0ZW5lcnMvY29udHJvbHNgKTtcbmNvbnN0IGZ1bGxzY3JlZW5MaXN0ZW5lciA9IHJlcXVpcmUoYC4vbGlzdGVuZXJzL2Z1bGxzY3JlZW5gKTtcbmNvbnN0IGRvbmtleWNsaXBMaXN0ZW5lciA9IHJlcXVpcmUoYC4vbGlzdGVuZXJzL2RvbmtleWNsaXBgKTtcbmNvbnN0IHByZXZpZXdMaXN0ZW5lciA9IHJlcXVpcmUoYC4vbGlzdGVuZXJzL3ByZXZpZXdgKTtcbmNvbnN0IGJvZHlMaXN0ZW5lciA9IHJlcXVpcmUoYC4vbGlzdGVuZXJzL2JvZHlgKTtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBUaW1lcidzIHB1cnBvc2UgaXMgdG8gcHJvdmlkZSBhbiBpbnRlcmZhY2UgdGhyb3VnaCB3aGljaCBhbnkgVGltZWRJbmNpZGVudFxuICogKHN1Y2ggYXMgYSBTY2VuZSBvciBhIENsaXApIGNhbiBib3RoIHByaXZpZGUgaW5mbyByZWdhcmRpbmcgdGhlaXIgdGltaW5nXG4gKiBzdGF0ZSBidXQgYWxzbyBwcm92aWRlIGFuIGludGVyZmFjZSBmb3IgaW50ZXJhY3RpbmcvYWx0ZXJpbmcgdGhlIHRpbWluZyBvZiBpdFxuICovXG5cbmNsYXNzIFBsYXllciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAvLyBzZXQgZGVmYXVsdHNcbiAgICBvcHRpb25zLmlkID0gb3B0aW9ucy5pZCB8fCBEYXRlLm5vdygpO1xuICAgIG9wdGlvbnMucHJldmlldyA9IG9wdGlvbnMucHJldmlldyB8fCBmYWxzZTtcbiAgICBvcHRpb25zLnNob3dWb2x1bWUgPSBvcHRpb25zLnNob3dWb2x1bWUgfHwgZmFsc2U7XG4gICAgb3B0aW9ucy50aGVtZSA9IG9wdGlvbnMudGhlbWUgfHwgYHRyYW5zcGFyZW50IG9uLXRvcGA7XG4gICAgb3B0aW9ucy5ob3N0ID0gb3B0aW9ucy5ob3N0IHx8IG9wdGlvbnMuY2xpcC5wcm9wcy5ob3N0O1xuICAgIG9wdGlvbnMuYnV0dG9ucyA9IG9wdGlvbnMuYnV0dG9ucyB8fCB7fTtcblxuICAgIGlmIChvcHRpb25zLnBvaW50ZXJFdmVudHMgPT09IHVuZGVmaW5lZCB8fCBvcHRpb25zLnBvaW50ZXJFdmVudHMgPT09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMucG9pbnRlckV2ZW50cyA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMucG9pbnRlckV2ZW50cyA9IEJvb2xlYW4ob3B0aW9ucy5wb2ludGVyRXZlbnRzKTtcbiAgICB9XG4gICAgb3B0aW9ucy5vbk1pbGxpc2Vjb25kQ2hhbmdlID0gb3B0aW9ucy5vbk1pbGxpc2Vjb25kQ2hhbmdlIHx8IG51bGw7XG4gICAgb3B0aW9ucy5zcGVlZFZhbHVlcyA9IG9wdGlvbnMuc3BlZWRWYWx1ZXMgfHwgW1xuICAgICAgLTQsXG4gICAgICAtMixcbiAgICAgIC0xLFxuICAgICAgLTAuNSxcbiAgICAgIDAsXG4gICAgICAwLjUsXG4gICAgICAxLFxuICAgICAgMixcbiAgICAgIDRcbiAgICBdO1xuICAgIC8vIHJlbW92ZSBzdHJpbmdzXG4gICAgZm9yIChjb25zdCBpIGluIG9wdGlvbnMuc3BlZWRWYWx1ZXMpIHtcbiAgICAgIGlmICghaXNGaW5pdGUob3B0aW9ucy5zcGVlZFZhbHVlc1tpXSkpIHtcbiAgICAgICAgb3B0aW9ucy5zcGVlZFZhbHVlcy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgb3B0aW9ucy5zcGVlZFZhbHVlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHJldHVybiBhIC0gYjtcbiAgICB9KTtcblxuICAgIHRoaXMuY2xhc3NOYW1lID0gY29uZmlnLm5hbWU7XG5cbiAgICBjb25maWcucGxheWVyTmFtZSA9IG9wdGlvbnMuaWQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmlkID0gdGhpcy5vcHRpb25zLmlkO1xuICAgIHRoaXMubmFtZSA9IGNvbmZpZy5uYW1lO1xuXG4gICAgdGhpcy5wcmV2aWV3Q2xpcCA9IG51bGw7XG4gICAgdGhpcy5jbGlwID0gb3B0aW9ucy5jbGlwOyAvLyBob3N0IHRvIGFwcGx5IHRoZSB0aW1lclxuICAgIHRoaXMuY2xpcENsYXNzID0gb3B0aW9ucy5jbGlwQ2xhc3M7XG4gICAgdGhpcy5zdGF0ZSA9IHRoaXMuY2xpcC5ydW5UaW1lSW5mby5zdGF0ZTtcbiAgICB0aGlzLmxpc3RlbmVycyA9IHt9O1xuICAgIHRoaXMucHJldmlld1NjYWxlID0gMC4yNTtcblxuICAgIHRoaXMuc2V0dGluZ3MgPSB7XG4gICAgICB2b2x1bWU6IDEsXG4gICAgICBqb3VybmV5OiBudWxsLFxuICAgICAgcHJldmlvdXNWb2x1bWU6IDEsXG4gICAgICB2b2x1bWVNdXRlOiBmYWxzZSxcbiAgICAgIG5lZWRzVXBkYXRlOiB0cnVlLFxuICAgICAgcmVzaXplTG9vcDogZmFsc2UsXG4gICAgICBsb29wSm91cm5leTogZmFsc2UsXG4gICAgICBwcmV2aWV3Sm91cm5leTogbnVsbCxcbiAgICAgIGxvb3BBY3RpdmF0ZWQ6IGZhbHNlLFxuICAgICAgcmVxdWVzdGluZ0xvb3A6IGZhbHNlLFxuICAgICAgcGxheUFmdGVyUmVzaXplOiBmYWxzZSxcbiAgICAgIGxvb3BTdGFydE1pbGxpc2Vjb25kOiAwLFxuICAgICAgbG9vcExhc3RQb3NpdGlvblhQeGxzOiAwLFxuICAgICAgbG9vcExhc3RQb3NpdGlvblhQZXJjZW50YWdlOiAwLFxuICAgICAgbG9vcEVuZE1pbGxpc2Vjb25kOiB0aGlzLmNsaXAuZHVyYXRpb25cbiAgICB9O1xuXG4gICAgdGhpcy5mdW5jdGlvbnMgPSB7XG4gICAgICBtaWxsaXNlY29uZENoYW5nZTogdGhpcy5taWxsaXNlY29uZENoYW5nZSxcbiAgICAgIGNyZWF0ZUpvdXJuZXk6IHRoaXMuY3JlYXRlSm91cm5leVxuICAgIH07XG4gICAgLy8gY3JlYXRlIHRoZSB0aW1lciBjb250cm9scyBtYWluIGRpdlxuICAgIHNldEVsZW1lbnRzKHRoaXMpO1xuICAgIHRoaXMuc2V0VGhlbWUoKTtcbiAgICB0aGlzLnNldFNwZWVkKCk7XG4gICAgdGhpcy5zdWJzY3JpYmVUb1RpbWVyKCk7XG4gICAgdGhpcy5zdWJzY3JpYmVUb0R1cmF0aW9uQ2hhbmdlKCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5wcmV2aWV3KSB7XG4gICAgICB0aGlzLmNyZWF0ZVByZXZpZXdEaXNwbGF5KCk7XG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGByZXNpemVgLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnByZXZpZXcpIHtcbiAgICAgICAgdGhpcy5zZXRQcmV2aWV3RGltZW50aW9ucygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlSm91cm5leShjbGlwLCBtaWxsaXNlY29uZCwgY2xpcENvbW1hbmRzID0ge30pIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGRlZiA9IG51bGw7XG4gICAgICBjb25zdCB7IGJlZm9yZSA9IGRlZiwgYWZ0ZXIgPSBkZWYgfSA9IGNsaXBDb21tYW5kcztcbiAgICAgIGJlZm9yZSA/IGNsaXBbYmVmb3JlXSgpIDogbnVsbDtcbiAgICAgIHRoaXMuc2V0dGluZ3Muam91cm5leSA9IHRpbWVDYXBzdWxlLnN0YXJ0Sm91cm5leShjbGlwKTtcbiAgICAgIHRoaXMuc2V0dGluZ3Muam91cm5leS5zdGF0aW9uKG1pbGxpc2Vjb25kKTtcbiAgICAgIHRoaXMuc2V0dGluZ3Muam91cm5leS5kZXN0aW5hdGlvbigpO1xuICAgICAgYWZ0ZXIgPyBjbGlwW2FmdGVyXSgpIDogbnVsbDtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIG1pbGxpc2Vjb25kQ2hhbmdlKFxuICAgIG1pbGxpc2Vjb25kLFxuICAgIHN0YXRlLFxuICAgIHJvdW5kVG8sXG4gICAgbWFrZUpvdW5leSxcbiAgICBleGVjdXRlT25NaWxsaXNlY29uZENoYW5nZSA9IHRydWVcbiAgKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgIT09IHN0YXRlKSB7XG4gICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICB0aGlzLmV2ZW50QnJvYWRjYXN0KFwic3RhdGUtY2hhbmdlXCIsIHN0YXRlKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnNldHRpbmdzLm5lZWRzVXBkYXRlKSB7XG4gICAgICB0aGlzLmNsaXAucGF1c2UoKTtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIGNvbnN0IHsgY2xpcCB9ID0gdGhpcztcblxuICAgIGNvbnN0IHtcbiAgICAgIGxvb3BBY3RpdmF0ZWQsXG4gICAgICBsb29wRW5kTWlsbGlzZWNvbmQsXG4gICAgICBsb29wU3RhcnRNaWxsaXNlY29uZFxuICAgIH0gPSB0aGlzLnNldHRpbmdzO1xuXG4gICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLmNsaXAuZHVyYXRpb247XG5cbiAgICBjb25zdCB7IHRvdGFsQmFyLCBsb29wQmFyIH0gPSB0aGlzLmVsZW1lbnRzO1xuXG4gICAgY29uc3QgbG9vcEJhcldpZHRoID0gbG9vcEJhci5vZmZzZXRXaWR0aDtcbiAgICBjb25zdCBsb29wQmFyTGVmdCA9IGxvb3BCYXIub2Zmc2V0TGVmdCAvIHRvdGFsQmFyLm9mZnNldFdpZHRoO1xuICAgIGNvbnN0IGxvY2FsTWlsbGlzZWNvbmQgPSBtaWxsaXNlY29uZCAtIGR1cmF0aW9uICogbG9vcEJhckxlZnQ7XG4gICAgY29uc3QgbG9jYWxEdXJhdGlvbiA9IChkdXJhdGlvbiAvIHRvdGFsQmFyLm9mZnNldFdpZHRoKSAqIGxvb3BCYXJXaWR0aDtcblxuICAgIGlmIChcbiAgICAgIG1pbGxpc2Vjb25kID49IGxvb3BFbmRNaWxsaXNlY29uZCAmJlxuICAgICAgbG9vcEFjdGl2YXRlZCAmJlxuICAgICAgdGhpcy5jbGlwLnNwZWVkID49IDBcbiAgICApIHtcbiAgICAgIHRoaXMuY3JlYXRlSm91cm5leShjbGlwLCBsb29wU3RhcnRNaWxsaXNlY29uZCArIDEsIHtcbiAgICAgICAgYWZ0ZXI6XG4gICAgICAgICAgdGhpcy5zZXR0aW5ncy5wbGF5QWZ0ZXJSZXNpemUgfHxcbiAgICAgICAgICB0aGlzLmNsaXAucnVuVGltZUluZm8uc3RhdGUgPT0gXCJwbGF5aW5nXCJcbiAgICAgICAgICAgID8gXCJwbGF5XCJcbiAgICAgICAgICAgIDogbnVsbFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgbWlsbGlzZWNvbmQgPj0gbG9vcEVuZE1pbGxpc2Vjb25kICYmXG4gICAgICBsb29wQWN0aXZhdGVkICYmXG4gICAgICB0aGlzLmNsaXAuc3BlZWQgPCAwXG4gICAgKSB7XG4gICAgICB0aGlzLmNyZWF0ZUpvdXJuZXkoY2xpcCwgbG9vcEVuZE1pbGxpc2Vjb25kIC0gMSwge1xuICAgICAgICBhZnRlcjpcbiAgICAgICAgICB0aGlzLnNldHRpbmdzLnBsYXlBZnRlclJlc2l6ZSB8fFxuICAgICAgICAgIHRoaXMuY2xpcC5ydW5UaW1lSW5mby5zdGF0ZSA9PSBcInBsYXlpbmdcIlxuICAgICAgICAgICAgPyBcInBsYXlcIlxuICAgICAgICAgICAgOiBudWxsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBtaWxsaXNlY29uZCA8PSBsb29wU3RhcnRNaWxsaXNlY29uZCAmJlxuICAgICAgbG9vcEFjdGl2YXRlZCAmJlxuICAgICAgdGhpcy5jbGlwLnNwZWVkID49IDBcbiAgICApIHtcbiAgICAgIHRoaXMuY3JlYXRlSm91cm5leShjbGlwLCBsb29wU3RhcnRNaWxsaXNlY29uZCArIDEsIHtcbiAgICAgICAgYWZ0ZXI6XG4gICAgICAgICAgdGhpcy5zZXR0aW5ncy5wbGF5QWZ0ZXJSZXNpemUgfHxcbiAgICAgICAgICB0aGlzLmNsaXAucnVuVGltZUluZm8uc3RhdGUgPT0gXCJwbGF5aW5nXCJcbiAgICAgICAgICAgID8gXCJwbGF5XCJcbiAgICAgICAgICAgIDogbnVsbFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgbWlsbGlzZWNvbmQgPD0gbG9vcFN0YXJ0TWlsbGlzZWNvbmQgJiZcbiAgICAgIGxvb3BBY3RpdmF0ZWQgJiZcbiAgICAgIHRoaXMuY2xpcC5zcGVlZCA8IDBcbiAgICApIHtcbiAgICAgIHRoaXMuY3JlYXRlSm91cm5leShjbGlwLCBsb29wRW5kTWlsbGlzZWNvbmQgLSAxLCB7XG4gICAgICAgIGFmdGVyOlxuICAgICAgICAgIHRoaXMuc2V0dGluZ3MucGxheUFmdGVyUmVzaXplIHx8XG4gICAgICAgICAgdGhpcy5jbGlwLnJ1blRpbWVJbmZvLnN0YXRlID09IFwicGxheWluZ1wiXG4gICAgICAgICAgICA/IFwicGxheVwiXG4gICAgICAgICAgICA6IG51bGxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgaWYgKG1ha2VKb3VuZXkpIHtcbiAgICAgIHRoaXMuY3JlYXRlSm91cm5leShjbGlwLCBtaWxsaXNlY29uZCwge1xuICAgICAgICBhZnRlcjogdGhpcy5zZXR0aW5ncy5wbGF5QWZ0ZXJSZXNpemUgPyBcInBsYXlcIiA6IG51bGxcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLmVsZW1lbnRzLnJ1bm5pbmdCYXIuc3R5bGUud2lkdGggPVxuICAgICAgKGxvY2FsTWlsbGlzZWNvbmQgLyBsb2NhbER1cmF0aW9uKSAqIDEwMCArIGAlYDtcblxuICAgIHRoaXMuZWxlbWVudHMuY3VycmVudFRpbWUuaW5uZXJIVE1MID0gbWlsbGlzZWNvbmQ7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLm9uTWlsbGlzZWNvbmRDaGFuZ2UgJiYgZXhlY3V0ZU9uTWlsbGlzZWNvbmRDaGFuZ2UpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vbk1pbGxpc2Vjb25kQ2hhbmdlKG1pbGxpc2Vjb25kKTtcbiAgICB9XG4gIH1cblxuICBldmVudEJyb2FkY2FzdChldmVudE5hbWUsIHN0YXRlKSB7XG4gICAgaWYgKGV2ZW50TmFtZSA9PT0gYHN0YXRlLWNoYW5nZWApIHtcbiAgICAgIGlmIChcbiAgICAgICAgc3RhdGUgPT09IGBwYXVzZWRgIHx8XG4gICAgICAgIHN0YXRlID09PSBgaWRsZWAgfHxcbiAgICAgICAgc3RhdGUgPT09IGB0cmFuc2l0aW9uYWxgIHx8XG4gICAgICAgIHN0YXRlID09PSBgYXJtZWRgIHx8XG4gICAgICAgIHN0YXRlID09PSBgYmxvY2tlZGBcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVsZW1lbnRzLnN0YXR1c0J1dHRvbi5pbm5lckhUTUwgPSBzdmcucGxheVNWRztcbiAgICAgICAgdGhpcy5lbGVtZW50cy5zdGF0dXNCdXR0b24uYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50cy5pbmRpY2F0b3IpO1xuICAgICAgICB0aGlzLmVsZW1lbnRzLmluZGljYXRvci5pbm5lckhUTUwgPSBgJHtzdGF0ZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgc3RhdGUuc2xpY2UoMSl9YDtcbiAgICAgICAgaWYgKHN0YXRlID09PSBgYmxvY2tlZGApIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzLnBvaW50ZXJFdmVudFBhbmVsLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjUpO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtcIj4ke1xuICAgICAgICAgICAgICBzdmcubG9hZGluZ1NWR1xuICAgICAgICAgICAgfTwvZGl2PmA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHMuc3RhdHVzQnV0dG9uLmlubmVySFRNTCA9IHN2Zy5wYXVzZVNWRztcbiAgICAgICAgdGhpcy5lbGVtZW50cy5zdGF0dXNCdXR0b24uYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50cy5pbmRpY2F0b3IpO1xuICAgICAgICB0aGlzLmVsZW1lbnRzLmluZGljYXRvci5pbm5lckhUTUwgPSBgUGxheWluZ2A7XG4gICAgICAgIHRoaXMuZWxlbWVudHMucG9pbnRlckV2ZW50UGFuZWwuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHN0YXRlID09PSBgcGxheWluZ2AgJiZcbiAgICAgICAgICB0aGlzLmNsaXAucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kID09PSB0aGlzLmNsaXAuZHVyYXRpb24gJiZcbiAgICAgICAgICB0aGlzLmNsaXAuc3BlZWQgPj0gMFxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmNyZWF0ZUpvdXJuZXkodGhpcy5jbGlwLCAxLCB7IGFmdGVyOiBcInBsYXlcIiB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBzdGF0ZSA9PT0gYHBsYXlpbmdgICYmXG4gICAgICAgICAgdGhpcy5jbGlwLnJ1blRpbWVJbmZvLmN1cnJlbnRNaWxsaXNlY29uZCA9PT0gMCAmJlxuICAgICAgICAgIHRoaXMuY2xpcC5zcGVlZCA8IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5jcmVhdGVKb3VybmV5KHRoaXMuY2xpcCwgdGhpcy5jbGlwLmR1cmF0aW9uIC0gMSwge1xuICAgICAgICAgICAgYWZ0ZXI6IFwicGxheVwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgc3RhdGUgPT09IGBwbGF5aW5nYCAmJlxuICAgICAgICAgIHRoaXMuY2xpcC5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmQgPT09IHRoaXMuY2xpcC5kdXJhdGlvbiAmJlxuICAgICAgICAgIHRoaXMuY2xpcC5zcGVlZCA8IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5jcmVhdGVKb3VybmV5KHRoaXMuY2xpcCwgdGhpcy5jbGlwLmR1cmF0aW9uIC0gMSwge1xuICAgICAgICAgICAgYWZ0ZXI6IFwicGxheVwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV2ZW50TmFtZSA9PT0gYGR1cmF0aW9uLWNoYW5nZWApIHtcbiAgICAgIHRoaXMuZWxlbWVudHMudG90YWxUaW1lLmlubmVySFRNTCA9IHRoaXMuY2xpcC5kdXJhdGlvbjtcbiAgICAgIHRoaXMuc2V0dGluZ3MubG9vcEVuZE1pbGxpc2Vjb25kID0gdGhpcy5jbGlwLmR1cmF0aW9uO1xuICAgICAgdGhpcy5lbGVtZW50cy5wb2ludGVyRXZlbnRQYW5lbC5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgdGhpcy5taWxsaXNlY29uZENoYW5nZSh0aGlzLmNsaXAucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kKTtcbiAgICB9XG4gIH1cblxuICBzdWJzY3JpYmVUb0R1cmF0aW9uQ2hhbmdlKCkge1xuICAgIHRoaXMuY2xpcC5zdWJzY3JpYmVUb0R1cmF0aW9uQ2hhbmdlKFxuICAgICAgdGhpcy5pZCxcbiAgICAgIHRoaXMuZXZlbnRCcm9hZGNhc3QuYmluZCh0aGlzKVxuICAgICk7XG4gIH1cblxuICBzdWJzY3JpYmVUb1RpbWVyKCkge1xuICAgIHRoaXMuY2xpcC5zdWJzY3JpYmUodGhpcy5pZCwgdGhpcy5taWxsaXNlY29uZENoYW5nZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIGhhbmRsZURyYWdTdGFydCgpIHtcbiAgICB0aGlzLnNldHRpbmdzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB0aGlzLnNldHRpbmdzLmpvdXJuZXkgPSB0aW1lQ2Fwc3VsZS5zdGFydEpvdXJuZXkodGhpcy5jbGlwKTtcbiAgfVxuXG4gIGhhbmRsZURyYWcobG9vcEJhclBvc2l0aW9uWCwgZXhlY3V0ZU9uTWlsbGlzZWNvbmRDaGFuZ2UgPSB0cnVlKSB7XG4gICAgaWYgKCFpc0Zpbml0ZShsb29wQmFyUG9zaXRpb25YKSkge1xuICAgICAgbG9vcEJhclBvc2l0aW9uWCA9IDA7XG4gICAgfVxuICAgIGNvbnN0IHsgZHVyYXRpb24gfSA9IHRoaXMuY2xpcDtcbiAgICBjb25zdCB7IGpvdXJuZXkgfSA9IHRoaXMuc2V0dGluZ3M7XG4gICAgY29uc3QgeyBsb29wQmFyLCB0b3RhbEJhciwgcnVubmluZ0JhciwgY3VycmVudFRpbWUgfSA9IHRoaXMuZWxlbWVudHM7XG5cbiAgICBjb25zdCB0b3RhbEJhclBvc2l0aW9uWCA9IGxvb3BCYXJQb3NpdGlvblggKyBsb29wQmFyLm9mZnNldExlZnQ7XG5cbiAgICBjb25zdCBtaWxsaXNlY29uZCA9IE1hdGgucm91bmQoXG4gICAgICAoZHVyYXRpb24gKiB0b3RhbEJhclBvc2l0aW9uWCkgLyB0b3RhbEJhci5vZmZzZXRXaWR0aFxuICAgICk7XG5cbiAgICBjdXJyZW50VGltZS5pbm5lckhUTUwgPSBtaWxsaXNlY29uZDtcblxuICAgIHJ1bm5pbmdCYXIuc3R5bGUud2lkdGggPVxuICAgICAgKGxvb3BCYXJQb3NpdGlvblggLyBsb29wQmFyLm9mZnNldFdpZHRoKSAqIDEwMCArIGAlYDtcblxuICAgIGpvdXJuZXkuc3RhdGlvbihtaWxsaXNlY29uZCk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLm9uTWlsbGlzZWNvbmRDaGFuZ2UgJiYgZXhlY3V0ZU9uTWlsbGlzZWNvbmRDaGFuZ2UpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vbk1pbGxpc2Vjb25kQ2hhbmdlKG1pbGxpc2Vjb25kKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVEcmFnRW5kKCkge1xuICAgIHRoaXMuc2V0dGluZ3Muam91cm5leS5kZXN0aW5hdGlvbigpO1xuICB9XG5cbiAgY3JlYXRlUHJvZ3Jlc3NEcmFnKGxvb3BCYXJQb3NpdGlvblgpIHtcbiAgICB0aGlzLmhhbmRsZURyYWdTdGFydCgpO1xuICAgIHRoaXMuaGFuZGxlRHJhZyhsb29wQmFyUG9zaXRpb25YKTtcbiAgICB0aGlzLmhhbmRsZURyYWdFbmQoKTtcbiAgfVxuICBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICBsb29wQmFyRW5kTGlzdGVuZXIodGhpcyk7XG4gICAgcHJvZ3Jlc3NCYXJMaXN0ZW5lcih0aGlzKTtcbiAgICBsb29wQmFyU3RhcnRMaXN0ZW5lcih0aGlzKTtcbiAgICBsb29wU3RhcnRFbmRMaXN0ZW5lcih0aGlzKTtcbiAgICB2b2x1bWVMaXN0ZW5lcih0aGlzKTtcbiAgICBzdGF0dXNCdG5MaXN0ZW5lcih0aGlzKTtcbiAgICBzZXR0aW5nc0xpc3RlbmVyKHRoaXMpO1xuICAgIHNwZWVkTGlzdGVuZXIodGhpcyk7XG4gICAgbG9vcEJ0bkxpc3RlbmVyKHRoaXMpO1xuICAgIGNvbnRyb2xzTGlzdGVuZXIodGhpcyk7XG4gICAgZnVsbHNjcmVlbkxpc3RlbmVyKHRoaXMpO1xuICAgIGRvbmtleWNsaXBMaXN0ZW5lcih0aGlzKTtcbiAgICBwcmV2aWV3TGlzdGVuZXIodGhpcyk7XG4gICAgYm9keUxpc3RlbmVyKHRoaXMpO1xuICB9XG5cbiAgbGF1bmNoSW50b0Z1bGxzY3JlZW4oZWxlbWVudCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMucHJldmlldykge1xuICAgICAgdGhpcy5zZXRQcmV2aWV3RGltZW50aW9ucygpO1xuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudHMubWNQbGF5ZXIuY2xhc3NMaXN0LnRvZ2dsZShgZnVsbC1zY3JlZW5gKTtcbiAgICBpZiAoZWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgZWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5tb3pSZXF1ZXN0RnVsbFNjcmVlbikge1xuICAgICAgZWxlbWVudC5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgZWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5tc1JlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICBlbGVtZW50Lm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICB9XG4gIH1cblxuICBleGl0RnVsbHNjcmVlbigpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnByZXZpZXcpIHtcbiAgICAgIHRoaXMuc2V0UHJldmlld0RpbWVudGlvbnMoKTtcbiAgICB9XG4gICAgdGhpcy5lbGVtZW50cy5tY1BsYXllci5jbGFzc0xpc3QudG9nZ2xlKGBmdWxsLXNjcmVlbmApO1xuICAgIGlmIChkb2N1bWVudC5leGl0RnVsbHNjcmVlbikge1xuICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4pIHtcbiAgICAgIGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICBkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpO1xuICAgIH1cbiAgfVxuXG4gIHNldFRoZW1lKCkge1xuICAgIC8vIHJlcGxhY2UgbXVsdGlwbGUgc3BhY2VzIHdpdGggb25lIHNwYWNlXG4gICAgdGhpcy5vcHRpb25zLnRoZW1lLnJlcGxhY2UoL1xcc1xccysvZywgYCBgKTtcbiAgICB0aGlzLm9wdGlvbnMudGhlbWUudHJpbSgpO1xuXG4gICAgaWYgKFxuICAgICAgIXRoaXMub3B0aW9ucy50aGVtZS5pbmNsdWRlcyhgb24tdG9wYCkgJiZcbiAgICAgICF0aGlzLm9wdGlvbnMudGhlbWUuaW5jbHVkZXMoYHBvc2l0aW9uLWRlZmF1bHRgKVxuICAgICkge1xuICAgICAgdGhpcy5vcHRpb25zLnRoZW1lICs9IGAgcG9zaXRpb24tZGVmYXVsdGA7XG4gICAgfVxuXG4gICAgY29uc3QgdGhlbWUgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5vcHRpb25zLnRoZW1lLnNwbGl0KGAgYCkpIHtcbiAgICAgIGNvbnN0IGNvbmZUaGVtZSA9IGNvbmZUaGVtZXModGhpcy5vcHRpb25zLnRoZW1lLnNwbGl0KGAgYClbaV0pO1xuICAgICAgZm9yIChjb25zdCBxIGluIGNvbmZUaGVtZSB8fCB7fSkge1xuICAgICAgICB0aGVtZVtxXSA9IGNvbmZUaGVtZVtxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY3NzID0gY29uZlN0eWxlKHRoZW1lLCB0aGlzLm5hbWUsIHRoaXMub3B0aW9ucyk7XG4gICAgY29uc3Qgc3R5bGUgPSBlbGNyZWF0ZShgc3R5bGVgKTtcblxuICAgIHN0eWxlLnN0eWxlU2hlZXRcbiAgICAgID8gKHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcylcbiAgICAgIDogc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cbiAgICAvLyBhcHBlbmQgcGxheWVyIHN0eWxlIHRvIGRvY3VtZW50XG4gICAgZWx0YWcoYGhlYWRgKVswXS5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICBzZXRTcGVlZCgpIHtcbiAgICBsZXQgY3VycmVudFNwZWVkO1xuICAgIHRoaXMuY2xpcC5zcGVlZCA9PSAxXG4gICAgICA/IChjdXJyZW50U3BlZWQgPSBgTm9ybWFsYClcbiAgICAgIDogKGN1cnJlbnRTcGVlZCA9IHRoaXMuY2xpcC5zcGVlZCk7XG4gICAgdGhpcy5lbGVtZW50cy5zcGVlZEN1cnJlbnQuaW5uZXJIVE1MID0gY3VycmVudFNwZWVkO1xuXG4gICAgY29uc3QgdGFyZ2V0Wm9uZSA9ICgoKSA9PiB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub3B0aW9ucy5zcGVlZFZhbHVlcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMub3B0aW9ucy5zcGVlZFZhbHVlc1tpXSA8PSB0aGlzLmNsaXAuc3BlZWQgJiZcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuc3BlZWRWYWx1ZXNbaSArIDFdID4gdGhpcy5jbGlwLnNwZWVkXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBpICtcbiAgICAgICAgICAgIE1hdGguYWJzKFxuICAgICAgICAgICAgICAodGhpcy5jbGlwLnNwZWVkIC0gdGhpcy5vcHRpb25zLnNwZWVkVmFsdWVzW2ldKSAvXG4gICAgICAgICAgICAgICAgKHRoaXMub3B0aW9ucy5zcGVlZFZhbHVlc1tpXSAtIHRoaXMub3B0aW9ucy5zcGVlZFZhbHVlc1tpICsgMV0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKCk7XG5cbiAgICBjb25zdCBzdGVwID0gMSAvICh0aGlzLm9wdGlvbnMuc3BlZWRWYWx1ZXMubGVuZ3RoIC0gMSk7XG5cbiAgICBjb25zdCBwb3NpdGlvblkgPVxuICAgICAgKHRhcmdldFpvbmUgKiBzdGVwIC0gMSkgKiAtMSAqICh0aGlzLm9wdGlvbnMuc3BlZWRWYWx1ZXMubGVuZ3RoIC0gMSkgKiAxNjtcblxuICAgIGVsaWQoYCR7dGhpcy5uYW1lfS1zcGVlZC1jdXJzb3JgKS5zdHlsZS50b3AgPSBwb3NpdGlvblkgKyBgcHhgO1xuICB9XG5cbiAgY2FsY3VsYXRlU3BlZWQoc3RlcCwgYXJyYXlPZlZhbHVlcywgY3VycmVudFBlcmNlbnRhZ2UpIHtcbiAgICBjb25zdCBib3RMaW1pdEluZGV4ID0gTWF0aC5mbG9vcihjdXJyZW50UGVyY2VudGFnZSAvIHN0ZXApO1xuXG4gICAgaWYgKGJvdExpbWl0SW5kZXggPT09IGFycmF5T2ZWYWx1ZXMubGVuZ3RoIC0gMSkge1xuICAgICAgcmV0dXJuIGFycmF5T2ZWYWx1ZXNbYm90TGltaXRJbmRleF0udG9GaXhlZCgxKTtcbiAgICB9XG5cbiAgICBjb25zdCBsaW1pdFpvbmVQZXJjZW50YWdlID0gKGN1cnJlbnRQZXJjZW50YWdlIC8gc3RlcCkgJSAxO1xuXG4gICAgY29uc3QgbGltaXRab25lTGVuZ3RoID0gTWF0aC5hYnMoXG4gICAgICBhcnJheU9mVmFsdWVzW2JvdExpbWl0SW5kZXhdIC0gYXJyYXlPZlZhbHVlc1tib3RMaW1pdEluZGV4ICsgMV1cbiAgICApO1xuXG4gICAgY29uc3QgcmVhbFpvbmVTcGVlZCA9IGxpbWl0Wm9uZVBlcmNlbnRhZ2UgKiBsaW1pdFpvbmVMZW5ndGg7XG5cbiAgICBjb25zdCByZWFsU3BlZWQgPSAocmVhbFpvbmVTcGVlZCArIGFycmF5T2ZWYWx1ZXNbYm90TGltaXRJbmRleF0pLnRvRml4ZWQoMSk7XG5cbiAgICBpZiAocmVhbFNwZWVkID09IDApIHtcbiAgICAgIHJldHVybiBgMC4wYDtcbiAgICB9XG4gICAgcmV0dXJuIHJlYWxTcGVlZDtcbiAgfVxuXG4gIGNyZWF0ZVByZXZpZXdEaXNwbGF5KCkge1xuICAgIHRoaXMucHJldmlld0NsaXAgPSB0aGlzLmNsaXAucGFzdGUoZWxpZChgJHt0aGlzLm5hbWV9LWhvdmVyLWRpc3BsYXlgKSk7XG4gICAgY29uc3QgcHJldmlld0NsaXAgPSBlbGlkKGAke3RoaXMubmFtZX0taG92ZXItZGlzcGxheWApO1xuXG4gICAgcHJldmlld0NsaXAuc3R5bGUucG9zaXRpb24gPSBgYWJzb2x1dGVgO1xuXG4gICAgcHJldmlld0NsaXAuc3R5bGUuekluZGV4ID0gMTtcbiAgICB0aGlzLnNldFByZXZpZXdEaW1lbnRpb25zKCk7XG4gIH1cblxuICBzZXRQcmV2aWV3RGltZW50aW9ucygpIHtcbiAgICBjb25zdCBjbGlwID0gdGhpcy5jbGlwLnByb3BzLmhvc3Q7XG4gICAgY29uc3QgcHJldmlld0NsaXAgPSB0aGlzLnByZXZpZXdDbGlwLm93bkNsaXAucHJvcHMuaG9zdDtcbiAgICBjb25zdCBjbGlwV2lkdGggPSBjbGlwLm9mZnNldFdpZHRoO1xuICAgIGNvbnN0IGNsaXBIZWlnaHQgPSBjbGlwLm9mZnNldEhlaWdodDtcblxuICAgIGxldCBwcmV2aWV3V2lkdGggPSBjbGlwV2lkdGggKiB0aGlzLnByZXZpZXdTY2FsZTtcblxuICAgIC8vIG1heCB3aWR0aCBpcyAzMDBcbiAgICBpZiAocHJldmlld1dpZHRoID4gMzAwKSB7XG4gICAgICAvLyBwcmV2aWV3V2lkdGggPSBwYXJzZUZsb2F0KFxuICAgICAgLy8gICBlbGlkKGAke3RoaXMubmFtZX0taG92ZXItZGlzcGxheWApLnN0eWxlLm1heFdpZHRoXG4gICAgICAvLyApO1xuICAgICAgcHJldmlld1dpZHRoID0gMzAwO1xuICAgICAgdGhpcy5wcmV2aWV3U2NhbGUgPSBwcmV2aWV3V2lkdGggLyBjbGlwV2lkdGg7XG4gICAgfVxuXG4gICAgZWxpZChgJHt0aGlzLm5hbWV9LWhvdmVyLWRpc3BsYXlgKS5zdHlsZS53aWR0aCA9IGNsaXBXaWR0aCArIGBweGA7XG4gICAgZWxpZChgJHt0aGlzLm5hbWV9LWhvdmVyLWRpc3BsYXlgKS5zdHlsZS5oZWlnaHQgPSBjbGlwSGVpZ2h0ICsgYHB4YDtcblxuICAgIHByZXZpZXdDbGlwLnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3RoaXMucHJldmlld1NjYWxlfSlgO1xuICAgIHByZXZpZXdDbGlwLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IGBjZW50ZXIgYm90dG9tYDtcbiAgICBwcmV2aWV3Q2xpcC5zdHlsZS5ib3hTaXppbmcgPSBgYm9yZGVyLWJveGA7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQbGF5ZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7Ozs7Ozs7O0FBT0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFmQTtBQWtCQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFHQTtBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFrQkE7QUFsQkE7QUFBQTtBQUFBO0FBc0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFEQTtBQU9BO0FBQ0E7QUFLQTtBQUNBO0FBREE7QUFPQTtBQUNBO0FBS0E7QUFDQTtBQURBO0FBT0E7QUFDQTtBQUtBO0FBQ0E7QUFEQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQ0E7QUFLQTtBQUNBO0FBREE7QUFHQTtBQUtBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUlBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFFQTtBQUlBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../src/Player.js\n");

/***/ }),

/***/ "../src/config.js":
/*!************************!*\
  !*** ../src/config.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = {\n  // the players start name\n  name: \"mc-player\",\n\n  // set the players total name\n  set playerName(name) {\n    this.name += \"-\" + name;\n  }\n\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2NvbmZpZy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9zcmMvY29uZmlnLmpzPzEyMDYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIHRoZSBwbGF5ZXJzIHN0YXJ0IG5hbWVcbiAgbmFtZTogXCJtYy1wbGF5ZXJcIixcblxuICAvLyBzZXQgdGhlIHBsYXllcnMgdG90YWwgbmFtZVxuICBzZXQgcGxheWVyTmFtZShuYW1lKSB7XG4gICAgdGhpcy5uYW1lICs9IFwiLVwiICsgbmFtZTtcbiAgfVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../src/config.js\n");

/***/ }),

/***/ "../src/helpers.js":
/*!*************************!*\
  !*** ../src/helpers.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = {\n  el: function el(selector) {\n    return document.querySelectorAll(selector);\n  },\n  elid: function elid(id) {\n    return document.getElementById(id);\n  },\n  eltag: function eltag(tag) {\n    return document.getElementsByTagName(tag);\n  },\n  elcreate: function elcreate(tag) {\n    return document.createElement(tag);\n  },\n  addListener: function addListener() {\n    var _document;\n\n    return (_document = document).addEventListener.apply(_document, arguments);\n  },\n  removeListener: function removeListener() {\n    var _document2;\n\n    return (_document2 = document).removeEventListener.apply(_document2, arguments);\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2hlbHBlcnMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL2hlbHBlcnMuanM/YmMxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgZWw6IHNlbGVjdG9yID0+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpLFxuICBlbGlkOiBpZCA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCksXG4gIGVsdGFnOiB0YWcgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnKSxcbiAgZWxjcmVhdGU6IHRhZyA9PiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyksXG4gIGFkZExpc3RlbmVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciguLi5hcmd1bWVudHMpO1xuICB9LFxuICByZW1vdmVMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoLi4uYXJndW1lbnRzKTtcbiAgfVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQVZBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../src/helpers.js\n");

/***/ }),

/***/ "../src/html/playerHTML.js":
/*!*********************************!*\
  !*** ../src/html/playerHTML.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function (config) {\n  return \"\\n  <div\\n    class=\\\"pointer-event-panel\\\"\\n    id=\\\"\".concat(config.name, \"-pointer-event-panel\\\"\\n  ></div>\\n  <div\\n    class=\\\"pointer-event-panel\\\"\\n    id=\\\"\").concat(config.name, \"-listener-helper\\\"\\n  ></div>\\n  <div class=\\\"grad\\\"></div>\\n  <div class=\\\"background\\\"></div>\\n  <div id=\\\"\").concat(config.name, \"-controls\\\">\\n    <div id=\\\"\").concat(config.name, \"-totalbar\\\">\\n      <div id=\\\"\").concat(config.name, \"-hover-display\\\">\\n        <div id=\\\"\").concat(config.name, \"-hover-millisecond\\\"></div>\\n      </div>\\n      <div id=\\\"\").concat(config.name, \"-loopbar\\\">\\n        <div\\n          class=\\\"\").concat(config.name, \"-loop-boundaries\\\"\\n          id=\\\"\").concat(config.name, \"-loopbar-start\\\"\\n        ></div>\\n        <div\\n          class=\\\"\").concat(config.name, \"-loop-boundaries\\\"\\n          id=\\\"\").concat(config.name, \"-loopbar-end\\\"\\n        ></div>\\n        <div id=\\\"\").concat(config.name, \"-helperbar\\\"></div>\\n        <div id=\\\"\").concat(config.name, \"-runningbar\\\">\\n          <div id=\\\"\").concat(config.name, \"-cursor\\\"></div>\\n        </div>\\n      </div>\\n    </div>\\n    <div id=\\\"\").concat(config.name, \"-left-controls\\\">\\n      <div id=\\\"\").concat(config.name, \"-status-btn\\\">\\n        \").concat(config.svg.playSVG, \"\\n        <span id=\\\"\").concat(config.name, \"-indicator\\\"></span>\\n      </div>\\n      <div id=\\\"\").concat(config.name, \"-volume\\\">\\n        <div id=\\\"\").concat(config.name, \"-volume-btn\\\">\\n          \").concat(config.svg.volumeSVG, \"\\n        </div>\\n        <div id=\\\"\").concat(config.name, \"-volumebar-helper\\\"></div>\\n        <div id=\\\"\").concat(config.name, \"-volumebar\\\">\\n            <div id=\\\"\").concat(config.name, \"-volumebar-active\\\">\\n              <div id=\\\"\").concat(config.name, \"-volume-cursor\\\"></div>\\n            </div>\\n        </div>\\n      </div>\\n      <div id=\\\"\").concat(config.name, \"-time-display\\\">\\n        <span id=\\\"\").concat(config.name, \"-time-current\\\"></span>\\n        <span id=\\\"\").concat(config.name, \"-time-separator\\\"></span>\\n        <span id=\\\"\").concat(config.name, \"-time-total\\\"></span>\\n      </div>\\n    </div>\\n    <div\\n      id=\\\"\").concat(config.name, \"-full-screen-btn\\\"\\n      class=\\\"\").concat(config.name, \"-mc-right-controls\\\"\\n    >\").concat(config.svg.fullScreenSVG, \"</div>\\n    <div\\n      id=\\\"\").concat(config.name, \"-settings-btn\\\"\\n      class=\\\"\").concat(config.name, \"-mc-right-controls\\\"\\n    >\").concat(config.svg.settingsSVG, \"</div>\\n    <div\\n      id=\\\"\").concat(config.name, \"-dc-btn\\\"\\n      class=\\\"\").concat(config.name, \"-mc-right-controls\\\"\\n    >\\n      \").concat(config.svg.dcSVG, \"\\n    </div>\\n    <div\\n      id=\\\"\").concat(config.name, \"-loop-btn-container\\\"\\n      class=\\\"\").concat(config.name, \"-mc-right-controls\\\"\\n    >\\n      <div\\n        id=\\\"\").concat(config.name, \"-loop-btn\\\"\\n        class=\\\"\").concat(config.name, \"-mc-right-controls\\\"\\n      >\").concat(config.svg.loopSVG, \"</div>\\n      <div\\n        id=\\\"\").concat(config.name, \"-loop-time\\\"\\n        class=\\\"\").concat(config.name, \"-mc-right-controls\\\"\\n      >\\n        <span\\n          id=\\\"\").concat(config.name, \"-loopbar-start-time\\\"\\n          class=\\\"\").concat(config.name, \"-loopbar-time\\\"\\n        ></span>\\n        <span>:</span>\\n        <span\\n          id=\\\"\").concat(config.name, \"-loopbar-end-time\\\"\\n          class=\\\"\").concat(config.name, \"-loopbar-time\\\"\\n        ></span>\\n      </div>\\n    </div>\\n\\n  </div>\\n  <div id=\\\"\").concat(config.name, \"-settings-panel\\\">\\n    <ul id=\\\"\").concat(config.name, \"-main-settings\\\">\\n      <li id=\\\"\").concat(config.name, \"-settings-pointer-events\\\">\\n        <label>Pointer Events</label>\\n        <label class=\\\"switch settings-switch\\\">\\n          <input id=\\\"\").concat(config.name, \"-pointer-events-checkbox\\\" type=\\\"checkbox\\\">\\n          <span class=\\\"slider round\\\"></span>\\n        </label>\\n      </li>\\n      <li id=\\\"\").concat(config.name, \"-settings-preview\\\">\\n        <label>Show Preview</label>\\n        <label class=\\\"switch settings-switch\\\">\\n          <input id=\\\"\").concat(config.name, \"-show-preview-checkbox\\\" type=\\\"checkbox\\\">\\n          <span class=\\\"slider round\\\"></span>\\n        </label>\\n      </li>\\n      <li id=\\\"\").concat(config.name, \"-settings-indicator\\\">\\n        <label>Show Indicator</label>\\n        <label class=\\\"switch settings-switch\\\">\\n          <input id=\\\"\").concat(config.name, \"-show-indicator-checkbox\\\" type=\\\"checkbox\\\">\\n          <span class=\\\"slider round\\\"></span>\\n        </label>\\n      </li>\\n      <li id=\\\"\").concat(config.name, \"-settings-volume\\\">\\n        <label>Show Volume</label>\\n        <label class=\\\"switch settings-switch\\\">\\n          <input id=\\\"\").concat(config.name, \"-show-volume-checkbox\\\" type=\\\"checkbox\\\">\\n          <span class=\\\"slider round\\\"></span>\\n        </label>\\n      </li>\\n      <li id=\\\"\").concat(config.name, \"-settings-speed-show\\\">\\n        <label>Speed</label>\\n        <div class=\\\"\").concat(config.name, \"-speed-btn\\\">\").concat(config.svg.arrowRightSVG, \"</div>\\n        <span id=\\\"\").concat(config.name, \"-speed-current\\\"></span>\\n      </li>\\n    </ul>\\n    <ul id=\\\"\").concat(config.name, \"-speed-settings\\\">\\n      <li id=\\\"\").concat(config.name, \"-settings-speed-hide\\\">\\n        <div class=\\\"\").concat(config.name, \"-speed-btn\\\">\").concat(config.svg.arrowLeftSVG, \"</div>\\n        <label id=\").concat(config.name, \"-speed-runtime>Speed</label>\\n      </li>\\n      <li>\\n        <div id=\\\"\").concat(config.name, \"-speed-value-helperbar\\\"></div>\\n        <div id=\\\"\").concat(config.name, \"-speed-value-bar\\\">\\n          <div\\n            class=\\\"\").concat(config.name, \"-speed-value-step\\\"\\n            id=\\\"\").concat(config.name, \"-speed-cursor\\\"\\n          >\\n            <div></div>\\n          </div>\\n        </div>\\n        <div id=\\\"\").concat(config.name, \"-speed-value\\\">\\n        </div>\\n      </li>\\n    </ul>\\n  </div>\\n\");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2h0bWwvcGxheWVySFRNTC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9zcmMvaHRtbC9wbGF5ZXJIVE1MLmpzPzNkMDUiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBjb25maWcgPT4gYFxuICA8ZGl2XG4gICAgY2xhc3M9XCJwb2ludGVyLWV2ZW50LXBhbmVsXCJcbiAgICBpZD1cIiR7Y29uZmlnLm5hbWV9LXBvaW50ZXItZXZlbnQtcGFuZWxcIlxuICA+PC9kaXY+XG4gIDxkaXZcbiAgICBjbGFzcz1cInBvaW50ZXItZXZlbnQtcGFuZWxcIlxuICAgIGlkPVwiJHtjb25maWcubmFtZX0tbGlzdGVuZXItaGVscGVyXCJcbiAgPjwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiZ3JhZFwiPjwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiYmFja2dyb3VuZFwiPjwvZGl2PlxuICA8ZGl2IGlkPVwiJHtjb25maWcubmFtZX0tY29udHJvbHNcIj5cbiAgICA8ZGl2IGlkPVwiJHtjb25maWcubmFtZX0tdG90YWxiYXJcIj5cbiAgICAgIDxkaXYgaWQ9XCIke2NvbmZpZy5uYW1lfS1ob3Zlci1kaXNwbGF5XCI+XG4gICAgICAgIDxkaXYgaWQ9XCIke2NvbmZpZy5uYW1lfS1ob3Zlci1taWxsaXNlY29uZFwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGlkPVwiJHtjb25maWcubmFtZX0tbG9vcGJhclwiPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3M9XCIke2NvbmZpZy5uYW1lfS1sb29wLWJvdW5kYXJpZXNcIlxuICAgICAgICAgIGlkPVwiJHtjb25maWcubmFtZX0tbG9vcGJhci1zdGFydFwiXG4gICAgICAgID48L2Rpdj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwiJHtjb25maWcubmFtZX0tbG9vcC1ib3VuZGFyaWVzXCJcbiAgICAgICAgICBpZD1cIiR7Y29uZmlnLm5hbWV9LWxvb3BiYXItZW5kXCJcbiAgICAgICAgPjwvZGl2PlxuICAgICAgICA8ZGl2IGlkPVwiJHtjb25maWcubmFtZX0taGVscGVyYmFyXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgaWQ9XCIke2NvbmZpZy5uYW1lfS1ydW5uaW5nYmFyXCI+XG4gICAgICAgICAgPGRpdiBpZD1cIiR7Y29uZmlnLm5hbWV9LWN1cnNvclwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCIke2NvbmZpZy5uYW1lfS1sZWZ0LWNvbnRyb2xzXCI+XG4gICAgICA8ZGl2IGlkPVwiJHtjb25maWcubmFtZX0tc3RhdHVzLWJ0blwiPlxuICAgICAgICAke2NvbmZpZy5zdmcucGxheVNWR31cbiAgICAgICAgPHNwYW4gaWQ9XCIke2NvbmZpZy5uYW1lfS1pbmRpY2F0b3JcIj48L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgaWQ9XCIke2NvbmZpZy5uYW1lfS12b2x1bWVcIj5cbiAgICAgICAgPGRpdiBpZD1cIiR7Y29uZmlnLm5hbWV9LXZvbHVtZS1idG5cIj5cbiAgICAgICAgICAke2NvbmZpZy5zdmcudm9sdW1lU1ZHfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBpZD1cIiR7Y29uZmlnLm5hbWV9LXZvbHVtZWJhci1oZWxwZXJcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBpZD1cIiR7Y29uZmlnLm5hbWV9LXZvbHVtZWJhclwiPlxuICAgICAgICAgICAgPGRpdiBpZD1cIiR7Y29uZmlnLm5hbWV9LXZvbHVtZWJhci1hY3RpdmVcIj5cbiAgICAgICAgICAgICAgPGRpdiBpZD1cIiR7Y29uZmlnLm5hbWV9LXZvbHVtZS1jdXJzb3JcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBpZD1cIiR7Y29uZmlnLm5hbWV9LXRpbWUtZGlzcGxheVwiPlxuICAgICAgICA8c3BhbiBpZD1cIiR7Y29uZmlnLm5hbWV9LXRpbWUtY3VycmVudFwiPjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gaWQ9XCIke2NvbmZpZy5uYW1lfS10aW1lLXNlcGFyYXRvclwiPjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gaWQ9XCIke2NvbmZpZy5uYW1lfS10aW1lLXRvdGFsXCI+PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdlxuICAgICAgaWQ9XCIke2NvbmZpZy5uYW1lfS1mdWxsLXNjcmVlbi1idG5cIlxuICAgICAgY2xhc3M9XCIke2NvbmZpZy5uYW1lfS1tYy1yaWdodC1jb250cm9sc1wiXG4gICAgPiR7Y29uZmlnLnN2Zy5mdWxsU2NyZWVuU1ZHfTwvZGl2PlxuICAgIDxkaXZcbiAgICAgIGlkPVwiJHtjb25maWcubmFtZX0tc2V0dGluZ3MtYnRuXCJcbiAgICAgIGNsYXNzPVwiJHtjb25maWcubmFtZX0tbWMtcmlnaHQtY29udHJvbHNcIlxuICAgID4ke2NvbmZpZy5zdmcuc2V0dGluZ3NTVkd9PC9kaXY+XG4gICAgPGRpdlxuICAgICAgaWQ9XCIke2NvbmZpZy5uYW1lfS1kYy1idG5cIlxuICAgICAgY2xhc3M9XCIke2NvbmZpZy5uYW1lfS1tYy1yaWdodC1jb250cm9sc1wiXG4gICAgPlxuICAgICAgJHtjb25maWcuc3ZnLmRjU1ZHfVxuICAgIDwvZGl2PlxuICAgIDxkaXZcbiAgICAgIGlkPVwiJHtjb25maWcubmFtZX0tbG9vcC1idG4tY29udGFpbmVyXCJcbiAgICAgIGNsYXNzPVwiJHtjb25maWcubmFtZX0tbWMtcmlnaHQtY29udHJvbHNcIlxuICAgID5cbiAgICAgIDxkaXZcbiAgICAgICAgaWQ9XCIke2NvbmZpZy5uYW1lfS1sb29wLWJ0blwiXG4gICAgICAgIGNsYXNzPVwiJHtjb25maWcubmFtZX0tbWMtcmlnaHQtY29udHJvbHNcIlxuICAgICAgPiR7Y29uZmlnLnN2Zy5sb29wU1ZHfTwvZGl2PlxuICAgICAgPGRpdlxuICAgICAgICBpZD1cIiR7Y29uZmlnLm5hbWV9LWxvb3AtdGltZVwiXG4gICAgICAgIGNsYXNzPVwiJHtjb25maWcubmFtZX0tbWMtcmlnaHQtY29udHJvbHNcIlxuICAgICAgPlxuICAgICAgICA8c3BhblxuICAgICAgICAgIGlkPVwiJHtjb25maWcubmFtZX0tbG9vcGJhci1zdGFydC10aW1lXCJcbiAgICAgICAgICBjbGFzcz1cIiR7Y29uZmlnLm5hbWV9LWxvb3BiYXItdGltZVwiXG4gICAgICAgID48L3NwYW4+XG4gICAgICAgIDxzcGFuPjo8L3NwYW4+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgaWQ9XCIke2NvbmZpZy5uYW1lfS1sb29wYmFyLWVuZC10aW1lXCJcbiAgICAgICAgICBjbGFzcz1cIiR7Y29uZmlnLm5hbWV9LWxvb3BiYXItdGltZVwiXG4gICAgICAgID48L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICA8L2Rpdj5cbiAgPGRpdiBpZD1cIiR7Y29uZmlnLm5hbWV9LXNldHRpbmdzLXBhbmVsXCI+XG4gICAgPHVsIGlkPVwiJHtjb25maWcubmFtZX0tbWFpbi1zZXR0aW5nc1wiPlxuICAgICAgPGxpIGlkPVwiJHtjb25maWcubmFtZX0tc2V0dGluZ3MtcG9pbnRlci1ldmVudHNcIj5cbiAgICAgICAgPGxhYmVsPlBvaW50ZXIgRXZlbnRzPC9sYWJlbD5cbiAgICAgICAgPGxhYmVsIGNsYXNzPVwic3dpdGNoIHNldHRpbmdzLXN3aXRjaFwiPlxuICAgICAgICAgIDxpbnB1dCBpZD1cIiR7Y29uZmlnLm5hbWV9LXBvaW50ZXItZXZlbnRzLWNoZWNrYm94XCIgdHlwZT1cImNoZWNrYm94XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzbGlkZXIgcm91bmRcIj48L3NwYW4+XG4gICAgICAgIDwvbGFiZWw+XG4gICAgICA8L2xpPlxuICAgICAgPGxpIGlkPVwiJHtjb25maWcubmFtZX0tc2V0dGluZ3MtcHJldmlld1wiPlxuICAgICAgICA8bGFiZWw+U2hvdyBQcmV2aWV3PC9sYWJlbD5cbiAgICAgICAgPGxhYmVsIGNsYXNzPVwic3dpdGNoIHNldHRpbmdzLXN3aXRjaFwiPlxuICAgICAgICAgIDxpbnB1dCBpZD1cIiR7Y29uZmlnLm5hbWV9LXNob3ctcHJldmlldy1jaGVja2JveFwiIHR5cGU9XCJjaGVja2JveFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwic2xpZGVyIHJvdW5kXCI+PC9zcGFuPlxuICAgICAgICA8L2xhYmVsPlxuICAgICAgPC9saT5cbiAgICAgIDxsaSBpZD1cIiR7Y29uZmlnLm5hbWV9LXNldHRpbmdzLWluZGljYXRvclwiPlxuICAgICAgICA8bGFiZWw+U2hvdyBJbmRpY2F0b3I8L2xhYmVsPlxuICAgICAgICA8bGFiZWwgY2xhc3M9XCJzd2l0Y2ggc2V0dGluZ3Mtc3dpdGNoXCI+XG4gICAgICAgICAgPGlucHV0IGlkPVwiJHtjb25maWcubmFtZX0tc2hvdy1pbmRpY2F0b3ItY2hlY2tib3hcIiB0eXBlPVwiY2hlY2tib3hcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInNsaWRlciByb3VuZFwiPjwvc3Bhbj5cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgIDwvbGk+XG4gICAgICA8bGkgaWQ9XCIke2NvbmZpZy5uYW1lfS1zZXR0aW5ncy12b2x1bWVcIj5cbiAgICAgICAgPGxhYmVsPlNob3cgVm9sdW1lPC9sYWJlbD5cbiAgICAgICAgPGxhYmVsIGNsYXNzPVwic3dpdGNoIHNldHRpbmdzLXN3aXRjaFwiPlxuICAgICAgICAgIDxpbnB1dCBpZD1cIiR7Y29uZmlnLm5hbWV9LXNob3ctdm9sdW1lLWNoZWNrYm94XCIgdHlwZT1cImNoZWNrYm94XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzbGlkZXIgcm91bmRcIj48L3NwYW4+XG4gICAgICAgIDwvbGFiZWw+XG4gICAgICA8L2xpPlxuICAgICAgPGxpIGlkPVwiJHtjb25maWcubmFtZX0tc2V0dGluZ3Mtc3BlZWQtc2hvd1wiPlxuICAgICAgICA8bGFiZWw+U3BlZWQ8L2xhYmVsPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiJHtjb25maWcubmFtZX0tc3BlZWQtYnRuXCI+JHtjb25maWcuc3ZnLmFycm93UmlnaHRTVkd9PC9kaXY+XG4gICAgICAgIDxzcGFuIGlkPVwiJHtjb25maWcubmFtZX0tc3BlZWQtY3VycmVudFwiPjwvc3Bhbj5cbiAgICAgIDwvbGk+XG4gICAgPC91bD5cbiAgICA8dWwgaWQ9XCIke2NvbmZpZy5uYW1lfS1zcGVlZC1zZXR0aW5nc1wiPlxuICAgICAgPGxpIGlkPVwiJHtjb25maWcubmFtZX0tc2V0dGluZ3Mtc3BlZWQtaGlkZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiJHtjb25maWcubmFtZX0tc3BlZWQtYnRuXCI+JHtjb25maWcuc3ZnLmFycm93TGVmdFNWR308L2Rpdj5cbiAgICAgICAgPGxhYmVsIGlkPSR7Y29uZmlnLm5hbWV9LXNwZWVkLXJ1bnRpbWU+U3BlZWQ8L2xhYmVsPlxuICAgICAgPC9saT5cbiAgICAgIDxsaT5cbiAgICAgICAgPGRpdiBpZD1cIiR7Y29uZmlnLm5hbWV9LXNwZWVkLXZhbHVlLWhlbHBlcmJhclwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGlkPVwiJHtjb25maWcubmFtZX0tc3BlZWQtdmFsdWUtYmFyXCI+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3M9XCIke2NvbmZpZy5uYW1lfS1zcGVlZC12YWx1ZS1zdGVwXCJcbiAgICAgICAgICAgIGlkPVwiJHtjb25maWcubmFtZX0tc3BlZWQtY3Vyc29yXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBpZD1cIiR7Y29uZmlnLm5hbWV9LXNwZWVkLXZhbHVlXCI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICA8L3VsPlxuICA8L2Rpdj5cbmA7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../src/html/playerHTML.js\n");

/***/ }),

/***/ "../src/html/setElements.js":
/*!**********************************!*\
  !*** ../src/html/setElements.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ../helpers */ \"../src/helpers.js\"),\n    elid = _require.elid,\n    elcreate = _require.elcreate;\n\nvar svg = __webpack_require__(/*! ./svg */ \"../src/html/svg.js\");\n\nvar playerHTML = __webpack_require__(/*! ./playerHTML */ \"../src/html/playerHTML.js\");\n\nmodule.exports = function (_this) {\n  _this.elements = {};\n  var clipIframe = _this.clip.props.host; // console.log(_this.clip);\n  // set _this.clip position to relative\n\n  clipIframe.style.display = \"flex\";\n  clipIframe.style.justifyContent = \"center\";\n  clipIframe.style.alignItems = \"center\";\n  _this.clip.props.host.style.position = \"relative\";\n  _this.clip.props.host.style.zIndex = \"0\";\n  _this.elements.mcPlayer = elcreate(\"div\");\n  _this.elements.mcPlayer.id = \"\".concat(_this.name);\n  _this.elements.mcPlayer.className = \"\".concat(_this.className);\n  _this.elements.mcPlayer.innerHTML = playerHTML({\n    svg: svg,\n    name: _this.name\n  });\n\n  _this.options.host.appendChild(_this.elements.mcPlayer);\n\n  _this.elements.pointerEventPanel = elid(\"\".concat(_this.name, \"-pointer-event-panel\"));\n  _this.elements.listenerHelper = elid(\"\".concat(_this.name, \"-listener-helper\"));\n  _this.elements.loopBar = elid(\"\".concat(_this.name, \"-loopbar\"));\n  _this.elements.totalBar = elid(\"\".concat(_this.name, \"-totalbar\"));\n  _this.elements.indicator = elid(\"\".concat(_this.name, \"-indicator\"));\n  _this.elements.loopButton = elid(\"\".concat(_this.name, \"-loop-btn\"));\n  _this.elements.volumeBar = elid(\"\".concat(_this.name, \"-volumebar\"));\n  _this.elements.totalTime = elid(\"\".concat(_this.name, \"-time-total\"));\n  _this.elements.volumeControl = elid(\"\".concat(_this.name, \"-volume\"));\n  _this.elements.volumeBtn = elid(\"\".concat(_this.name, \"-volume-btn\"));\n  _this.elements.runningBar = elid(\"\".concat(_this.name, \"-runningbar\"));\n  _this.elements.loopBarEnd = elid(\"\".concat(_this.name, \"-loopbar-end\"));\n  _this.elements.statusButton = elid(\"\".concat(_this.name, \"-status-btn\"));\n  _this.elements.speedBar = elid(\"\".concat(_this.name, \"-speed-value-bar\"));\n  _this.elements.currentTime = elid(\"\".concat(_this.name, \"-time-current\"));\n  _this.elements.timeDisplay = elid(\"\".concat(_this.name, \"-time-display\"));\n  _this.elements.speedCurrent = elid(\"\".concat(_this.name, \"-speed-current\"));\n  _this.elements.loopBarStart = elid(\"\".concat(_this.name, \"-loopbar-start\"));\n  _this.elements.volumeCursor = elid(\"\".concat(_this.name, \"-volume-cursor\"));\n  _this.elements.settingsButton = elid(\"\".concat(_this.name, \"-settings-btn\"));\n  _this.elements.donkeyclipButton = elid(\"\".concat(_this.name, \"-dc-btn\"));\n  _this.elements.timeSeparator = elid(\"\".concat(_this.name, \"-time-separator\"));\n  _this.elements.settingsPanel = elid(\"\".concat(_this.name, \"-settings-panel\"));\n  _this.elements.settingsMainPanel = elid(\"\".concat(_this.name, \"-main-settings\"));\n  _this.elements.fullScreenButton = elid(\"\".concat(_this.name, \"-full-screen-btn\"));\n  _this.elements.volumeBarHelper = elid(\"\".concat(_this.name, \"-volumebar-helper\"));\n  _this.elements.volumeBarActive = elid(\"\".concat(_this.name, \"-volumebar-active\"));\n  _this.elements.settingsSpeedPanel = elid(\"\".concat(_this.name, \"-speed-settings\"));\n  _this.elements.settingsShowVolume = elid(\"\".concat(_this.name, \"-settings-volume\"));\n  _this.elements.settingsShowPreview = elid(\"\".concat(_this.name, \"-settings-preview\"));\n  _this.elements.settingsPointerEvents = elid(\"\".concat(_this.name, \"-settings-pointer-events\"));\n  _this.elements.speedBarHelper = elid(\"\".concat(_this.name, \"-speed-value-helperbar\"));\n  _this.elements.settingsShowIndicator = elid(\"\".concat(_this.name, \"-settings-indicator\"));\n  _this.elements.settingsSpeedButtonShow = elid(\"\".concat(_this.name, \"-settings-speed-show\"));\n  _this.elements.settingsSpeedButtonHide = elid(\"\".concat(_this.name, \"-settings-speed-hide\"));\n  _this.elements.volumeBarActive.style.width = _this.settings.volume * 100 + \"%\";\n  _this.elements.currentTime.innerHTML = 0;\n  _this.elements.totalTime.innerHTML = _this.clip.duration;\n  _this.elements.timeSeparator.innerHTML = \"/\";\n\n  _this.elements.settingsPanel.classList.add(\"m-fadeOut\", \"\".concat(_this.name, \"-hide\"));\n\n  _this.elements.indicator.style.visibility = \"hidden\";\n  _this.elements.indicator.innerHTML = _this.clip.runTimeInfo.state;\n  _this.elements.settingsSpeedPanel.style.display = \"none\";\n\n  _this.elements.settingsSpeedPanel.getElementsByTagName(\"li\")[1].classList.add(\"no-hover\");\n\n  _this.elements.loopBarStart.style.left = \"0%\";\n\n  _this.elements.loopBarStart.classList.add(\"m-fadeOut\", \"\".concat(_this.name, \"-hide\"));\n\n  _this.elements.loopBarEnd.style.left = \"100%\";\n\n  _this.elements.loopBarEnd.classList.add(\"m-fadeOut\", \"\".concat(_this.name, \"-hide\"));\n\n  _this.elements.loopStartTime = elid(\"\".concat(_this.name, \"-loopbar-start-time\"));\n  _this.elements.loopEndTime = elid(\"\".concat(_this.name, \"-loopbar-end-time\"));\n  _this.elements.editableLoopStartTime = document.createElement(\"input\");\n  _this.elements.editableLoopStartTime.type = \"text\";\n  _this.elements.editableLoopStartTime.size = elid(\"\".concat(_this.name, \"-time-total\")).innerHTML.length + 1;\n  _this.elements.editableLoopStartTime.maxLength = elid(\"\".concat(_this.name, \"-time-total\")).innerHTML.length;\n  _this.elements.editableLoopStartTime.style.height = elid(\"\".concat(_this.name, \"-time-total\")).offsetHeight;\n  _this.elements.editableLoopStartTime.value = elid(\"\".concat(_this.name, \"-loopbar-start-time\")).innerHTML;\n  _this.elements.editableLoopStartTime.style.fontSize = \"8px\";\n  _this.elements.editableLoopEndTime = document.createElement(\"input\");\n  _this.elements.editableLoopEndTime.type = \"text\";\n  _this.elements.editableLoopEndTime.size = elid(\"\".concat(_this.name, \"-time-total\")).innerHTML.length + 1;\n  _this.elements.editableLoopEndTime.maxLength = elid(\"\".concat(_this.name, \"-time-total\")).innerHTML.length;\n  _this.elements.editableLoopEndTime.style.height = elid(\"\".concat(_this.name, \"-time-total\")).offsetHeight;\n  _this.elements.editableLoopEndTime.value = elid(\"\".concat(_this.name, \"-loopbar-start-time\")).innerHTML;\n  _this.elements.editableLoopEndTime.pattern = \"d*\";\n  _this.elements.editableLoopEndTime.style.fontSize = \"8px\";\n  elid(\"\".concat(_this.name, \"-loop-time\")).classList.add(\"m-fadeOut\", \"\".concat(_this.name, \"-hide\"));\n  elid(\"\".concat(_this.name, \"-hover-display\")).classList.add(\"m-fadeOut\", \"\".concat(_this.name, \"-hide\"));\n  elid(\"\".concat(_this.name, \"-show-volume-checkbox\")).checked = _this.options.showVolume;\n  elid(\"\".concat(_this.name, \"-show-preview-checkbox\")).checked = _this.options.preview;\n  elid(\"\".concat(_this.name, \"-pointer-events-checkbox\")).checked = _this.options.pointerEvents;\n\n  if (_this.options.pointerEvents) {\n    _this.elements.mcPlayer.style.pointerEvents = \"none\";\n    _this.elements.pointerEventPanel.style.pointerEvents = \"auto\";\n    elid(\"\".concat(_this.name, \"-controls\")).style.pointerEvents = \"auto\";\n    _this.elements.settingsPanel.style.pointerEvents = \"auto\";\n  } else {\n    _this.elements.mcPlayer.style.pointerEvents = \"none\";\n    _this.elements.pointerEventPanel.style.pointerEvents = \"none\";\n    elid(\"\".concat(_this.name, \"-controls\")).style.pointerEvents = \"auto\";\n    _this.elements.settingsPanel.style.pointerEvents = \"auto\";\n  }\n\n  _this.elements.listenerHelper.style.pointerEvents = \"none\";\n\n  if (!_this.options.showVolume) {\n    _this.elements.timeDisplay.style.left = \"45px\";\n    _this.elements.volumeControl.style.visibility = \"hidden\";\n\n    _this.elements.volumeBar.classList.toggle(\"\".concat(_this.name, \"-hide\"));\n\n    _this.elements.volumeBar.classList.toggle(\"\".concat(_this.name, \"-volume-width-transition\"));\n  } else {\n    _this.elements.timeDisplay.style.left = \"\";\n    _this.elements.volumeControl.style.visibility = \"visible\";\n  }\n\n  for (var i in _this.options.speedValues) {\n    var barDiv = elcreate(\"div\");\n    barDiv.className = \"\".concat(_this.name, \"-speed-value-step\");\n    var valueDiv = elcreate(\"div\");\n    valueDiv.className = \"\".concat(_this.name, \"-speed-value\");\n    valueDiv.dataset.speedValue = _this.options.speedValues[i];\n    valueDiv.innerHTML = _this.options.speedValues[i];\n    valueDiv.dataset.zone = i;\n    elid(\"\".concat(_this.name, \"-speed-value\")).prepend(valueDiv);\n\n    _this.elements.speedBar.prepend(barDiv);\n  } // show hide buttons\n\n\n  if (_this.options.buttons.fullScreen === false) {\n    _this.elements.fullScreenButton.remove();\n  }\n\n  if (_this.options.buttons.settings === false) {\n    _this.elements.settingsButton.remove();\n  }\n\n  if (_this.options.buttons.donkeyclip === false) {\n    _this.elements.donkeyclipButton.remove();\n  }\n\n  if (_this.options.buttons.loop === false) {\n    _this.elements.loopButton.remove();\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2h0bWwvc2V0RWxlbWVudHMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL2h0bWwvc2V0RWxlbWVudHMuanM/MjE3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGVsaWQsIGVsY3JlYXRlIH0gPSByZXF1aXJlKFwiLi4vaGVscGVyc1wiKTtcbmNvbnN0IHN2ZyA9IHJlcXVpcmUoXCIuL3N2Z1wiKTtcbmNvbnN0IHBsYXllckhUTUwgPSByZXF1aXJlKFwiLi9wbGF5ZXJIVE1MXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IF90aGlzID0+IHtcbiAgX3RoaXMuZWxlbWVudHMgPSB7fTtcbiAgY29uc3QgY2xpcElmcmFtZSA9IF90aGlzLmNsaXAucHJvcHMuaG9zdDtcbiAgLy8gY29uc29sZS5sb2coX3RoaXMuY2xpcCk7XG4gIC8vIHNldCBfdGhpcy5jbGlwIHBvc2l0aW9uIHRvIHJlbGF0aXZlXG4gIGNsaXBJZnJhbWUuc3R5bGUuZGlzcGxheSA9IGBmbGV4YDtcbiAgY2xpcElmcmFtZS5zdHlsZS5qdXN0aWZ5Q29udGVudCA9IGBjZW50ZXJgO1xuICBjbGlwSWZyYW1lLnN0eWxlLmFsaWduSXRlbXMgPSBgY2VudGVyYDtcbiAgX3RoaXMuY2xpcC5wcm9wcy5ob3N0LnN0eWxlLnBvc2l0aW9uID0gYHJlbGF0aXZlYDtcbiAgX3RoaXMuY2xpcC5wcm9wcy5ob3N0LnN0eWxlLnpJbmRleCA9IGAwYDtcbiAgX3RoaXMuZWxlbWVudHMubWNQbGF5ZXIgPSBlbGNyZWF0ZShgZGl2YCk7XG5cbiAgX3RoaXMuZWxlbWVudHMubWNQbGF5ZXIuaWQgPSBgJHtfdGhpcy5uYW1lfWA7XG4gIF90aGlzLmVsZW1lbnRzLm1jUGxheWVyLmNsYXNzTmFtZSA9IGAke190aGlzLmNsYXNzTmFtZX1gO1xuICBfdGhpcy5lbGVtZW50cy5tY1BsYXllci5pbm5lckhUTUwgPSBwbGF5ZXJIVE1MKHsgc3ZnLCBuYW1lOiBfdGhpcy5uYW1lIH0pO1xuICBfdGhpcy5vcHRpb25zLmhvc3QuYXBwZW5kQ2hpbGQoX3RoaXMuZWxlbWVudHMubWNQbGF5ZXIpO1xuXG4gIF90aGlzLmVsZW1lbnRzLnBvaW50ZXJFdmVudFBhbmVsID0gZWxpZChgJHtfdGhpcy5uYW1lfS1wb2ludGVyLWV2ZW50LXBhbmVsYCk7XG4gIF90aGlzLmVsZW1lbnRzLmxpc3RlbmVySGVscGVyID0gZWxpZChgJHtfdGhpcy5uYW1lfS1saXN0ZW5lci1oZWxwZXJgKTtcbiAgX3RoaXMuZWxlbWVudHMubG9vcEJhciA9IGVsaWQoYCR7X3RoaXMubmFtZX0tbG9vcGJhcmApO1xuICBfdGhpcy5lbGVtZW50cy50b3RhbEJhciA9IGVsaWQoYCR7X3RoaXMubmFtZX0tdG90YWxiYXJgKTtcbiAgX3RoaXMuZWxlbWVudHMuaW5kaWNhdG9yID0gZWxpZChgJHtfdGhpcy5uYW1lfS1pbmRpY2F0b3JgKTtcbiAgX3RoaXMuZWxlbWVudHMubG9vcEJ1dHRvbiA9IGVsaWQoYCR7X3RoaXMubmFtZX0tbG9vcC1idG5gKTtcbiAgX3RoaXMuZWxlbWVudHMudm9sdW1lQmFyID0gZWxpZChgJHtfdGhpcy5uYW1lfS12b2x1bWViYXJgKTtcbiAgX3RoaXMuZWxlbWVudHMudG90YWxUaW1lID0gZWxpZChgJHtfdGhpcy5uYW1lfS10aW1lLXRvdGFsYCk7XG4gIF90aGlzLmVsZW1lbnRzLnZvbHVtZUNvbnRyb2wgPSBlbGlkKGAke190aGlzLm5hbWV9LXZvbHVtZWApO1xuICBfdGhpcy5lbGVtZW50cy52b2x1bWVCdG4gPSBlbGlkKGAke190aGlzLm5hbWV9LXZvbHVtZS1idG5gKTtcbiAgX3RoaXMuZWxlbWVudHMucnVubmluZ0JhciA9IGVsaWQoYCR7X3RoaXMubmFtZX0tcnVubmluZ2JhcmApO1xuICBfdGhpcy5lbGVtZW50cy5sb29wQmFyRW5kID0gZWxpZChgJHtfdGhpcy5uYW1lfS1sb29wYmFyLWVuZGApO1xuICBfdGhpcy5lbGVtZW50cy5zdGF0dXNCdXR0b24gPSBlbGlkKGAke190aGlzLm5hbWV9LXN0YXR1cy1idG5gKTtcbiAgX3RoaXMuZWxlbWVudHMuc3BlZWRCYXIgPSBlbGlkKGAke190aGlzLm5hbWV9LXNwZWVkLXZhbHVlLWJhcmApO1xuICBfdGhpcy5lbGVtZW50cy5jdXJyZW50VGltZSA9IGVsaWQoYCR7X3RoaXMubmFtZX0tdGltZS1jdXJyZW50YCk7XG4gIF90aGlzLmVsZW1lbnRzLnRpbWVEaXNwbGF5ID0gZWxpZChgJHtfdGhpcy5uYW1lfS10aW1lLWRpc3BsYXlgKTtcbiAgX3RoaXMuZWxlbWVudHMuc3BlZWRDdXJyZW50ID0gZWxpZChgJHtfdGhpcy5uYW1lfS1zcGVlZC1jdXJyZW50YCk7XG4gIF90aGlzLmVsZW1lbnRzLmxvb3BCYXJTdGFydCA9IGVsaWQoYCR7X3RoaXMubmFtZX0tbG9vcGJhci1zdGFydGApO1xuICBfdGhpcy5lbGVtZW50cy52b2x1bWVDdXJzb3IgPSBlbGlkKGAke190aGlzLm5hbWV9LXZvbHVtZS1jdXJzb3JgKTtcbiAgX3RoaXMuZWxlbWVudHMuc2V0dGluZ3NCdXR0b24gPSBlbGlkKGAke190aGlzLm5hbWV9LXNldHRpbmdzLWJ0bmApO1xuICBfdGhpcy5lbGVtZW50cy5kb25rZXljbGlwQnV0dG9uID0gZWxpZChgJHtfdGhpcy5uYW1lfS1kYy1idG5gKTtcbiAgX3RoaXMuZWxlbWVudHMudGltZVNlcGFyYXRvciA9IGVsaWQoYCR7X3RoaXMubmFtZX0tdGltZS1zZXBhcmF0b3JgKTtcbiAgX3RoaXMuZWxlbWVudHMuc2V0dGluZ3NQYW5lbCA9IGVsaWQoYCR7X3RoaXMubmFtZX0tc2V0dGluZ3MtcGFuZWxgKTtcbiAgX3RoaXMuZWxlbWVudHMuc2V0dGluZ3NNYWluUGFuZWwgPSBlbGlkKGAke190aGlzLm5hbWV9LW1haW4tc2V0dGluZ3NgKTtcbiAgX3RoaXMuZWxlbWVudHMuZnVsbFNjcmVlbkJ1dHRvbiA9IGVsaWQoYCR7X3RoaXMubmFtZX0tZnVsbC1zY3JlZW4tYnRuYCk7XG4gIF90aGlzLmVsZW1lbnRzLnZvbHVtZUJhckhlbHBlciA9IGVsaWQoYCR7X3RoaXMubmFtZX0tdm9sdW1lYmFyLWhlbHBlcmApO1xuICBfdGhpcy5lbGVtZW50cy52b2x1bWVCYXJBY3RpdmUgPSBlbGlkKGAke190aGlzLm5hbWV9LXZvbHVtZWJhci1hY3RpdmVgKTtcbiAgX3RoaXMuZWxlbWVudHMuc2V0dGluZ3NTcGVlZFBhbmVsID0gZWxpZChgJHtfdGhpcy5uYW1lfS1zcGVlZC1zZXR0aW5nc2ApO1xuICBfdGhpcy5lbGVtZW50cy5zZXR0aW5nc1Nob3dWb2x1bWUgPSBlbGlkKGAke190aGlzLm5hbWV9LXNldHRpbmdzLXZvbHVtZWApO1xuICBfdGhpcy5lbGVtZW50cy5zZXR0aW5nc1Nob3dQcmV2aWV3ID0gZWxpZChgJHtfdGhpcy5uYW1lfS1zZXR0aW5ncy1wcmV2aWV3YCk7XG4gIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzUG9pbnRlckV2ZW50cyA9IGVsaWQoXG4gICAgYCR7X3RoaXMubmFtZX0tc2V0dGluZ3MtcG9pbnRlci1ldmVudHNgXG4gICk7XG4gIF90aGlzLmVsZW1lbnRzLnNwZWVkQmFySGVscGVyID0gZWxpZChgJHtfdGhpcy5uYW1lfS1zcGVlZC12YWx1ZS1oZWxwZXJiYXJgKTtcbiAgX3RoaXMuZWxlbWVudHMuc2V0dGluZ3NTaG93SW5kaWNhdG9yID0gZWxpZChcbiAgICBgJHtfdGhpcy5uYW1lfS1zZXR0aW5ncy1pbmRpY2F0b3JgXG4gICk7XG4gIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzU3BlZWRCdXR0b25TaG93ID0gZWxpZChcbiAgICBgJHtfdGhpcy5uYW1lfS1zZXR0aW5ncy1zcGVlZC1zaG93YFxuICApO1xuICBfdGhpcy5lbGVtZW50cy5zZXR0aW5nc1NwZWVkQnV0dG9uSGlkZSA9IGVsaWQoXG4gICAgYCR7X3RoaXMubmFtZX0tc2V0dGluZ3Mtc3BlZWQtaGlkZWBcbiAgKTtcblxuICBfdGhpcy5lbGVtZW50cy52b2x1bWVCYXJBY3RpdmUuc3R5bGUud2lkdGggPVxuICAgIF90aGlzLnNldHRpbmdzLnZvbHVtZSAqIDEwMCArIGAlYDtcblxuICBfdGhpcy5lbGVtZW50cy5jdXJyZW50VGltZS5pbm5lckhUTUwgPSAwO1xuXG4gIF90aGlzLmVsZW1lbnRzLnRvdGFsVGltZS5pbm5lckhUTUwgPSBfdGhpcy5jbGlwLmR1cmF0aW9uO1xuXG4gIF90aGlzLmVsZW1lbnRzLnRpbWVTZXBhcmF0b3IuaW5uZXJIVE1MID0gYC9gO1xuXG4gIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzUGFuZWwuY2xhc3NMaXN0LmFkZChgbS1mYWRlT3V0YCwgYCR7X3RoaXMubmFtZX0taGlkZWApO1xuXG4gIF90aGlzLmVsZW1lbnRzLmluZGljYXRvci5zdHlsZS52aXNpYmlsaXR5ID0gYGhpZGRlbmA7XG4gIF90aGlzLmVsZW1lbnRzLmluZGljYXRvci5pbm5lckhUTUwgPSBfdGhpcy5jbGlwLnJ1blRpbWVJbmZvLnN0YXRlO1xuXG4gIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzU3BlZWRQYW5lbC5zdHlsZS5kaXNwbGF5ID0gYG5vbmVgO1xuXG4gIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzU3BlZWRQYW5lbFxuICAgIC5nZXRFbGVtZW50c0J5VGFnTmFtZShgbGlgKVsxXVxuICAgIC5jbGFzc0xpc3QuYWRkKGBuby1ob3ZlcmApO1xuXG4gIF90aGlzLmVsZW1lbnRzLmxvb3BCYXJTdGFydC5zdHlsZS5sZWZ0ID0gYDAlYDtcbiAgX3RoaXMuZWxlbWVudHMubG9vcEJhclN0YXJ0LmNsYXNzTGlzdC5hZGQoYG0tZmFkZU91dGAsIGAke190aGlzLm5hbWV9LWhpZGVgKTtcblxuICBfdGhpcy5lbGVtZW50cy5sb29wQmFyRW5kLnN0eWxlLmxlZnQgPSBgMTAwJWA7XG4gIF90aGlzLmVsZW1lbnRzLmxvb3BCYXJFbmQuY2xhc3NMaXN0LmFkZChgbS1mYWRlT3V0YCwgYCR7X3RoaXMubmFtZX0taGlkZWApO1xuXG4gIF90aGlzLmVsZW1lbnRzLmxvb3BTdGFydFRpbWUgPSBlbGlkKGAke190aGlzLm5hbWV9LWxvb3BiYXItc3RhcnQtdGltZWApO1xuXG4gIF90aGlzLmVsZW1lbnRzLmxvb3BFbmRUaW1lID0gZWxpZChgJHtfdGhpcy5uYW1lfS1sb29wYmFyLWVuZC10aW1lYCk7XG5cbiAgX3RoaXMuZWxlbWVudHMuZWRpdGFibGVMb29wU3RhcnRUaW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgaW5wdXRgKTtcblxuICBfdGhpcy5lbGVtZW50cy5lZGl0YWJsZUxvb3BTdGFydFRpbWUudHlwZSA9IGB0ZXh0YDtcblxuICBfdGhpcy5lbGVtZW50cy5lZGl0YWJsZUxvb3BTdGFydFRpbWUuc2l6ZSA9XG4gICAgZWxpZChgJHtfdGhpcy5uYW1lfS10aW1lLXRvdGFsYCkuaW5uZXJIVE1MLmxlbmd0aCArIDE7XG5cbiAgX3RoaXMuZWxlbWVudHMuZWRpdGFibGVMb29wU3RhcnRUaW1lLm1heExlbmd0aCA9IGVsaWQoXG4gICAgYCR7X3RoaXMubmFtZX0tdGltZS10b3RhbGBcbiAgKS5pbm5lckhUTUwubGVuZ3RoO1xuXG4gIF90aGlzLmVsZW1lbnRzLmVkaXRhYmxlTG9vcFN0YXJ0VGltZS5zdHlsZS5oZWlnaHQgPSBlbGlkKFxuICAgIGAke190aGlzLm5hbWV9LXRpbWUtdG90YWxgXG4gICkub2Zmc2V0SGVpZ2h0O1xuXG4gIF90aGlzLmVsZW1lbnRzLmVkaXRhYmxlTG9vcFN0YXJ0VGltZS52YWx1ZSA9IGVsaWQoXG4gICAgYCR7X3RoaXMubmFtZX0tbG9vcGJhci1zdGFydC10aW1lYFxuICApLmlubmVySFRNTDtcblxuICBfdGhpcy5lbGVtZW50cy5lZGl0YWJsZUxvb3BTdGFydFRpbWUuc3R5bGUuZm9udFNpemUgPSBgOHB4YDtcblxuICBfdGhpcy5lbGVtZW50cy5lZGl0YWJsZUxvb3BFbmRUaW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgaW5wdXRgKTtcblxuICBfdGhpcy5lbGVtZW50cy5lZGl0YWJsZUxvb3BFbmRUaW1lLnR5cGUgPSBgdGV4dGA7XG5cbiAgX3RoaXMuZWxlbWVudHMuZWRpdGFibGVMb29wRW5kVGltZS5zaXplID1cbiAgICBlbGlkKGAke190aGlzLm5hbWV9LXRpbWUtdG90YWxgKS5pbm5lckhUTUwubGVuZ3RoICsgMTtcblxuICBfdGhpcy5lbGVtZW50cy5lZGl0YWJsZUxvb3BFbmRUaW1lLm1heExlbmd0aCA9IGVsaWQoXG4gICAgYCR7X3RoaXMubmFtZX0tdGltZS10b3RhbGBcbiAgKS5pbm5lckhUTUwubGVuZ3RoO1xuXG4gIF90aGlzLmVsZW1lbnRzLmVkaXRhYmxlTG9vcEVuZFRpbWUuc3R5bGUuaGVpZ2h0ID0gZWxpZChcbiAgICBgJHtfdGhpcy5uYW1lfS10aW1lLXRvdGFsYFxuICApLm9mZnNldEhlaWdodDtcblxuICBfdGhpcy5lbGVtZW50cy5lZGl0YWJsZUxvb3BFbmRUaW1lLnZhbHVlID0gZWxpZChcbiAgICBgJHtfdGhpcy5uYW1lfS1sb29wYmFyLXN0YXJ0LXRpbWVgXG4gICkuaW5uZXJIVE1MO1xuXG4gIF90aGlzLmVsZW1lbnRzLmVkaXRhYmxlTG9vcEVuZFRpbWUucGF0dGVybiA9IGBkKmA7XG5cbiAgX3RoaXMuZWxlbWVudHMuZWRpdGFibGVMb29wRW5kVGltZS5zdHlsZS5mb250U2l6ZSA9IGA4cHhgO1xuXG4gIGVsaWQoYCR7X3RoaXMubmFtZX0tbG9vcC10aW1lYCkuY2xhc3NMaXN0LmFkZChcbiAgICBgbS1mYWRlT3V0YCxcbiAgICBgJHtfdGhpcy5uYW1lfS1oaWRlYFxuICApO1xuXG4gIGVsaWQoYCR7X3RoaXMubmFtZX0taG92ZXItZGlzcGxheWApLmNsYXNzTGlzdC5hZGQoXG4gICAgYG0tZmFkZU91dGAsXG4gICAgYCR7X3RoaXMubmFtZX0taGlkZWBcbiAgKTtcblxuICBlbGlkKGAke190aGlzLm5hbWV9LXNob3ctdm9sdW1lLWNoZWNrYm94YCkuY2hlY2tlZCA9IF90aGlzLm9wdGlvbnMuc2hvd1ZvbHVtZTtcblxuICBlbGlkKGAke190aGlzLm5hbWV9LXNob3ctcHJldmlldy1jaGVja2JveGApLmNoZWNrZWQgPSBfdGhpcy5vcHRpb25zLnByZXZpZXc7XG5cbiAgZWxpZChgJHtfdGhpcy5uYW1lfS1wb2ludGVyLWV2ZW50cy1jaGVja2JveGApLmNoZWNrZWQgPVxuICAgIF90aGlzLm9wdGlvbnMucG9pbnRlckV2ZW50cztcblxuICBpZiAoX3RoaXMub3B0aW9ucy5wb2ludGVyRXZlbnRzKSB7XG4gICAgX3RoaXMuZWxlbWVudHMubWNQbGF5ZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuICAgIF90aGlzLmVsZW1lbnRzLnBvaW50ZXJFdmVudFBhbmVsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcImF1dG9cIjtcbiAgICBlbGlkKGAke190aGlzLm5hbWV9LWNvbnRyb2xzYCkuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiO1xuICAgIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzUGFuZWwuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiO1xuICB9IGVsc2Uge1xuICAgIF90aGlzLmVsZW1lbnRzLm1jUGxheWVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICBfdGhpcy5lbGVtZW50cy5wb2ludGVyRXZlbnRQYW5lbC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gICAgZWxpZChgJHtfdGhpcy5uYW1lfS1jb250cm9sc2ApLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcImF1dG9cIjtcbiAgICBfdGhpcy5lbGVtZW50cy5zZXR0aW5nc1BhbmVsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcImF1dG9cIjtcbiAgfVxuICBfdGhpcy5lbGVtZW50cy5saXN0ZW5lckhlbHBlci5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG5cbiAgaWYgKCFfdGhpcy5vcHRpb25zLnNob3dWb2x1bWUpIHtcbiAgICBfdGhpcy5lbGVtZW50cy50aW1lRGlzcGxheS5zdHlsZS5sZWZ0ID0gYDQ1cHhgO1xuICAgIF90aGlzLmVsZW1lbnRzLnZvbHVtZUNvbnRyb2wuc3R5bGUudmlzaWJpbGl0eSA9IGBoaWRkZW5gO1xuICAgIF90aGlzLmVsZW1lbnRzLnZvbHVtZUJhci5jbGFzc0xpc3QudG9nZ2xlKGAke190aGlzLm5hbWV9LWhpZGVgKTtcbiAgICBfdGhpcy5lbGVtZW50cy52b2x1bWVCYXIuY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAgIGAke190aGlzLm5hbWV9LXZvbHVtZS13aWR0aC10cmFuc2l0aW9uYFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgX3RoaXMuZWxlbWVudHMudGltZURpc3BsYXkuc3R5bGUubGVmdCA9IGBgO1xuICAgIF90aGlzLmVsZW1lbnRzLnZvbHVtZUNvbnRyb2wuc3R5bGUudmlzaWJpbGl0eSA9IGB2aXNpYmxlYDtcbiAgfVxuXG4gIGZvciAoY29uc3QgaSBpbiBfdGhpcy5vcHRpb25zLnNwZWVkVmFsdWVzKSB7XG4gICAgY29uc3QgYmFyRGl2ID0gZWxjcmVhdGUoXCJkaXZcIik7XG4gICAgYmFyRGl2LmNsYXNzTmFtZSA9IGAke190aGlzLm5hbWV9LXNwZWVkLXZhbHVlLXN0ZXBgO1xuXG4gICAgY29uc3QgdmFsdWVEaXYgPSBlbGNyZWF0ZShcImRpdlwiKTtcbiAgICB2YWx1ZURpdi5jbGFzc05hbWUgPSBgJHtfdGhpcy5uYW1lfS1zcGVlZC12YWx1ZWA7XG4gICAgdmFsdWVEaXYuZGF0YXNldC5zcGVlZFZhbHVlID0gX3RoaXMub3B0aW9ucy5zcGVlZFZhbHVlc1tpXTtcbiAgICB2YWx1ZURpdi5pbm5lckhUTUwgPSBfdGhpcy5vcHRpb25zLnNwZWVkVmFsdWVzW2ldO1xuICAgIHZhbHVlRGl2LmRhdGFzZXQuem9uZSA9IGk7XG4gICAgZWxpZChgJHtfdGhpcy5uYW1lfS1zcGVlZC12YWx1ZWApLnByZXBlbmQodmFsdWVEaXYpO1xuXG4gICAgX3RoaXMuZWxlbWVudHMuc3BlZWRCYXIucHJlcGVuZChiYXJEaXYpO1xuICB9XG5cbiAgLy8gc2hvdyBoaWRlIGJ1dHRvbnNcbiAgaWYgKF90aGlzLm9wdGlvbnMuYnV0dG9ucy5mdWxsU2NyZWVuID09PSBmYWxzZSkge1xuICAgIF90aGlzLmVsZW1lbnRzLmZ1bGxTY3JlZW5CdXR0b24ucmVtb3ZlKCk7XG4gIH1cblxuICBpZiAoX3RoaXMub3B0aW9ucy5idXR0b25zLnNldHRpbmdzID09PSBmYWxzZSkge1xuICAgIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzQnV0dG9uLnJlbW92ZSgpO1xuICB9XG5cbiAgaWYgKF90aGlzLm9wdGlvbnMuYnV0dG9ucy5kb25rZXljbGlwID09PSBmYWxzZSkge1xuICAgIF90aGlzLmVsZW1lbnRzLmRvbmtleWNsaXBCdXR0b24ucmVtb3ZlKCk7XG4gIH1cblxuICBpZiAoX3RoaXMub3B0aW9ucy5idXR0b25zLmxvb3AgPT09IGZhbHNlKSB7XG4gICAgX3RoaXMuZWxlbWVudHMubG9vcEJ1dHRvbi5yZW1vdmUoKTtcbiAgfVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUdBO0FBSUE7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUdBO0FBSUE7QUFJQTtBQUlBO0FBRUE7QUFFQTtBQUVBO0FBR0E7QUFJQTtBQUlBO0FBSUE7QUFFQTtBQUVBO0FBS0E7QUFLQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../src/html/setElements.js\n");

/***/ }),

/***/ "../src/html/style.js":
/*!****************************!*\
  !*** ../src/html/style.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function (theme, name, options) {\n  return \"\\n.background {\\n  background-color: black;\\n  width:100%;\\n  height:\".concat(theme[\"background-height\"], \";;\\n  position:absolute;\\n  top:0px;\\n  left:0px;\\n  z-index:-2000;\\n}\\n\\n.full-screen #\").concat(name, \"-controls {\\n  position:fixed;\\n  left:0px;\\n  bottom:0px;\\n}\\n\\n.full-screen #\").concat(name, \"-settings-panel {\\n  position:fixed;\\n  bottom: 45px;\\n}\\n\\n.svg {\\n  fill: \").concat(theme[\"svg-color\"], \";\\n  stroke: \").concat(theme[\"svg-color\"], \";\\n}\\n\\n.pointer-event-panel {\\n  height: \").concat(theme[\"pointer-event-panel-height\"], \";\\n  display:flex;\\n  align-items:center;\\n  justify-content:center;\\n}\\n#\").concat(name, \"-pointer-event-panel{\\n  width:100%;\\n  position:absolute;\\n  z-index:100;\\n}\\n#\").concat(name, \"-listener-helper{\\n  width:100%;\\n  height:calc( 100% - 45px );\\n  position:absolute;\\n  z-index:110;\\n}\\n.svg-selected svg{\\n  fill: \").concat(theme[\"svg-selected-color\"], \";\\n  stroke: \").concat(theme[\"svg-selected-color\"], \";\\n}\\n#\").concat(name, \"-hover-display{\\n    border: \").concat(theme[\"preview-border\"], \";\\n    display: flex;\\n    overflow:hidden;\\n    background-color: black;\\n    position: absolute;\\n    bottom: 14px;\\n    left: 0px;\\n    align-items: flex-end;\\n    justify-content: center;\\n}\\n\\n#\").concat(name, \"-hover-millisecond {\\n  background-color: \").concat(theme[\"hms-background-color\"], \";\\n  padding:3px;\\n  height:18px;\\n  margin:0px;\\n  line-height:12px;\\n  font-size:10px;\\n  text-align: center;\\n  min-width:20px;\\n  max-width:100px;\\n  z-index:2;\\n}\\n#\").concat(name, \",\\n#\").concat(name, \" ::before,\\n#\").concat(name, \" ::after,\\n#\").concat(name, \" div,\\n#\").concat(name, \" p,\\n#\").concat(name, \" span,\\n#\").concat(name, \" ul,\\n#\").concat(name, \" li {\\n  font-weight: 400;\\n  line-height: 1.9 !important;\\n  color: \").concat(theme[\"color\"], \";\\n  font-family: \\\"Century Gothic\\\", CenturyGothic, AppleGothic, sans-serif;\\n  box-sizing:border-box;\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n#\").concat(name, \" {\\n  line-height: 1.9;\\n  font-size: 12px;\\n  overflow:hidden;\\n  height: calc(100% + \").concat(theme[\"controls-position\"], \");\\n  width:100%;\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  \\n}\\n\\n#\").concat(name, \"-settings-speed-hide {\\n  text-align:right;\\n}\\n\\n.grad {\\n  background-image: linear-gradient(\\n    rgba(100,100,100,00.01),\\n    rgba(100,100,100,00.02),\\n    rgba(100,100,100,00.03),\\n    rgba(100,100,100,0.04),\\n    rgba(100,100,100,0.05),\\n    rgba(0,0,0,0.06),\\n    rgba(0,0,0,0.07),\\n    rgba(0,0,0,0.08),\\n    rgba(0,0,0,0.09),\\n    rgba(0,0,0,0.1),\\n    rgba(0,0,0,0.2),\\n    rgba(0,0,0,0.3),\\n    rgba(0,0,0,0.4),\\n    rgba(0,0,0,0.4),\\n    rgba(0,0,0,0.5),\\n    rgba(0,0,0,0.6),\\n    rgba(0,0,0,0.7),\\n    rgba(0,0,0,0.8),\\n    rgba(0,0,0,0.9),\\n    rgba(0,0,0,1)\\n  );\\n  position:absolute;\\n  width:100%;\\n  height:\").concat(theme[\"grad-height\"], \";\\n  left:0px;\\n  bottom:0px;\\n  z-index:100;\\n}\\n\\n#\").concat(name, \"-controls {\\n  touch-action: none;\\n  background-color: \").concat(theme[\"background-color\"], \";\\n  border: \").concat(theme[\"controls-border\"], \";\\n  position: absolute;\\n  bottom: \").concat(theme[\"controls-bottom\"], \";\\n  left: 0px;\\n  width: 100%;\\n  height: 40px;\\n  z-index:100;\\n}\\n\\n#\").concat(name, \"-totalbar {\\n  width: calc(100% - 20px);\\n  height: 5px;\\n  margin: 0px 10px 0px 10px;\\n  background-color: #505056;\\n  position: relative;\\n  top: 0px;\\n  left: 0px;\\n}\\n\\n#\").concat(name, \"-loopbar {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  top: 0px;\\n  left: 0px;\\n  background-color: \").concat(theme[\"loopbar-color\"], \";\\n}\\n\\n.\").concat(name, \"-loop-boundaries {\\n  transform:translate(-50%,-37%);\\n  position:absolute;\\n  width:18px;\\n  background-color:\").concat(theme[\"loopbar-color\"], \";\\n  height:18px;\\n  border-radius:10px;\\n  z-index:40;\\n}\\n\\n#\").concat(name, \"-helperbar {\\n  position: absolute;\\n  height: 20px;\\n  top: -10px;\\n  left: 0px;\\n  right: 0px;\\n  z-index:2;\\n}\\n\\n#\").concat(name, \"-runningbar {\\n  position: relative;\\n  width: 0px;\\n  max-width:100%;\\n  height: 100%;\\n  background-color: \").concat(theme[\"runningbar-color\"], \";\\n}\\n\\n#\").concat(name, \"-cursor {\\n  transform:translate(50%,-36%);\\n  right: 0px;\\n  top: 0px;\\n  width: 0px;\\n  height: 0px;\\n  position: absolute;\\n  background-color: \").concat(theme[\"cursor-color\"], \";\\n  border-radius: 10px;\\n  z-index: 5;\\n}\\n\\n#\").concat(name, \"-left-controls {\\n  display:inline-block;\\n  width:200px;\\n  height:35px;\\n}\\n#\").concat(name, \"-time-display {\\n  display: table;\\n  text-align: center;\\n  width: auto;\\n  height: 34px;\\n  position: absolute;\\n  left: 90px;\\n  -webkit-transition: left 0.1s ease;\\n  -moz-transition: left 0.1s ease;\\n  transition: left 0.1s ease;\\n}\\n\\n#\").concat(name, \"-time-display span {\\n  display: table-cell;\\n  vertical-align: middle;\\n}\\n\\n#\").concat(name, \"-status-btn {\\n  opacity: \").concat(theme[\"button-opacity\"], \";\\n  background-repeat: no-repeat;\\n  background-size: 100% 100%;\\n  width: 40px;\\n  height: 25px;\\n  position: absolute;\\n  overflow:visible;\\n  left: 0px;\\n  bottom: 0px;\\n  margin: 10px 5px 5px 5px;\\n  text-align: center;\\n  z-index:3;\\n}\\n\\n#\").concat(name, \"-volume {\\n  opacity: \").concat(theme[\"button-opacity\"], \";\\n  background-repeat: no-repeat;\\n  background-size: 100% 100%;\\n  position: absolute;\\n  left: 45px;\\n  bottom: 5px;\\n  margin: 10px 5px 5px 5px;\\n  text-align: center;\\n  z-index:3;\\n}\\n#\").concat(name, \"-volume-btn {\\n  width: 20px;\\n  height: 15px;\\n}\\n\\n#\").concat(name, \"-volumebar {\\n  width: 0px;\\n  height: 3px;\\n  background-color: \").concat(theme[\"loopbar-color\"], \";\\n  position:absolute;\\n  left:25px;\\n  bottom:6px;\\n  -webkit-transition: left 0.1s ease;\\n  -moz-transition: left 0.1s ease;\\n  transition: left 0.1s ease;\\n}\\n\\n#\").concat(name, \"-volumebar-helper {\\n  position: absolute;\\n  width: 0px;\\n  height: 15px;\\n  left:25px;\\n  bottom:0px;\\n  z-index:10;\\n}\\n\\n#\").concat(name, \"-volumebar-active {\\n  position: relative;\\n  width: 0%;\\n  height: 100%;\\n  background-color: \").concat(theme[\"color\"], \";\\n  position:relative;\\n  left:0px;\\n  bottom:0px;\\n}\\n\\n#\").concat(name, \"-volume-cursor {\\n  transform:translate(50%,-36%);\\n  right: 0px;\\n  top: 0px;\\n  width: 0px;\\n  height: 0px;\\n  position: absolute;\\n  background-color: \").concat(theme[\"color\"], \";\\n  border-radius: 10px;\\n  z-index: 5;\\n}\\n\\n.\").concat(name, \"-loopbar-time {\\n  width:auto;\\n  height:12px;\\n  background-color:\").concat(theme[\"background-color\"], \";\\n  line-height:10px;\\n  font-size:10px;\\n}\\n\\n#\").concat(name, \"-loop-time {\\n  margin: 7px;\\n}\\n\\n#\").concat(name, \"-dc-btn {\\n    opacity: 0.8;\\n    background-repeat: no-repeat;\\n    background-size: 100% 100%;\\n    width: 20px;\\n    height: 15px;\\n    margin: 7px 10px 5px 0px;\\n    transform: scale(1.5,1.5);\\n}\\n\\n#\").concat(name, \"-loop-btn {\\n  opacity: \").concat(theme[\"button-opacity\"], \";\\n  background-repeat: no-repeat;\\n  background-size: 100% 100%;\\n  width: 15px;\\n  height: 15px;\\n  margin: 10px 5px 5px 5px;\\n}\\n\\n\\n#\").concat(name, \"-settings-btn {\\n  opacity: \").concat(theme[\"button-opacity\"], \";\\n  background-repeat: no-repeat;\\n  background-size: 100% 100%;\\n  width: 15px;\\n  height: 15px;\\n  margin: 10px 5px 5px 5px;\\n}\\n\\n#\").concat(name, \"-full-screen-btn {\\n  opacity: \").concat(theme[\"button-opacity\"], \";\\n  background-repeat: no-repeat;\\n  background-size: 100% 100%;\\n  width: 15px;\\n  height: 15px;\\n  margin: 10px 5px 5px 5px;\\n}\\n\\n.\").concat(name, \"-speed-btn {\\n  position: relative;\\n  opacity: \").concat(theme[\"button-opacity\"], \";\\n  width: 10px;\\n  height: 10px;\\n  display: inline-block;\\n}\\n\\n#\").concat(name, \"-settings-panel {\\n  touch-action: none;\\n  box-sizing: border-box;\\n  position: absolute;\\n  z-index:101;\\n  background-color: \").concat(theme[\"settings-background-color\"], \";\\n  bottom: \").concat(theme[\"settings-panel-bottom\"], \";\\n  border: \").concat(theme[\"border\"], \";\\n  right: 5px;\\n  width: 164px;\\n  height: 175px;\\n  padding: 5px;\\n  margin: 0px;\\n  -webkit-transition: all 0.3s ease;\\n  -moz-transition: all 0.3s ease;\\n  transition: all 0.3s ease;\\n}\\n\\n.\").concat(name, \"-mc-right-controls {\\n  float: right;\\n}\\n\\n.\").concat(name, \"-hide {\\n  display:none !important;\\n}\\n\\n#\").concat(name, \"-speed-value-bar {\\n  position: relative;\\n  width: 5px;\\n  background-color: \").concat(theme[\"speedbar-color\"], \";\\n  display: inline-block;\\n  box-sizing: border-box;\\n  height: \").concat(options.speedValues.length * 16, \"px;\\n  float: left;\\n  margin-right:15px;\\n}\\n\\n#\").concat(name, \"-speed-value-helperbar {\\n  position: absolute;\\n  width: 25px;\\n  height: \").concat(options.speedValues.length * 16, \"px;\\n  float: left;\\n  left: -5px;\\n  z-index:10;\\n}\\n\\n\\n#\").concat(name, \"-speed-value-bar:hover,\\n#\").concat(name, \"-speed-value-helperbar {\\n  cursor: pointer;\\n}\\n\\n#\").concat(name, \"-volumebar:hover,\\n#\").concat(name, \"-volumebar-helper:hover,\\n#\").concat(name, \"-volume-btn:hover,\\n#\").concat(name, \"-volumebar:active,\\n#\").concat(name, \"-volumebar-helper:active,\\n#\").concat(name, \"-volume-btn:active {\\n  cursor:pointer;\\n}\\n\\n#\").concat(name, \"-speed-cursor {\\n  position: absolute;\\n  background-color: \").concat(theme[\"speedbar-cursor-color\"], \";\\n  top: 0px;\\n  left: 0px;\\n}\\n\\n#\").concat(name, \"-speed-cursor div {\\n  position: absolute;\\n  background-color: \").concat(theme[\"speedbar-cursor-color\"], \";\\n  left: -2.5px;\\n  top: -4px;\\n  width: 10px;\\n  height: 10px;\\n  border-radius: 5px;\\n}\\n\\n#\").concat(name, \"-speed-cursor:hover {\\n  cursor: pointer;\\n}\\n\\n.\").concat(name, \"-speed-value-step {\\n  width: 16px;\\n  background-color: \").concat(theme[\"speedbar-color\"], \";\\n  display: inline-block;\\n  box-sizing: border-box;\\n  height: 2px;\\n  margin-top: 7px;\\n  margin-bottom: 7px;\\n  float: left;\\n}\\n\\n#\").concat(name, \"-speed-value {\\n  display: inline-block;\\n  box-sizing: border-box;\\n  height: \").concat(options.speedValues.length * 16, \"px;\\n  text-align: left;\\n}\\n\\n.\").concat(name, \"-speed-value {\\n  box-sizing: border-box;\\n  height: 16px;\\n  font-size: 12px;\\n}\\n\\n#\").concat(name, \"-indicator {\\n  font-size: 8px !important;\\n  position: relative;\\n  bottom: 15px;\\n  color: \").concat(theme[\"color\"], \";\\n  white-space: nowrap;\\n}\\n\\n#\").concat(name, \"-speed-settings {\\n  height: \").concat(options.speedValues.length * 16 + 32 + 10 - 2, \"px;\\n}\\n\\n#\").concat(name, \"-speed-settings li.no-hover { \\n  height: \").concat(options.speedValues.length * 16 + 10 - 2, \"px; \\n}\\n#\").concat(name, \"-settings-panel.\").concat(name, \"-settings-speed-panel {\\n  overflow: hidden;\\n  width: 80px;\\n  height: \").concat(options.speedValues.length * 16 + 32 + 20, \"px;\\n  -webkit-transition: all 0.3s ease;\\n  -moz-transition: all 0.3s ease;\\n  transition: all 0.3s ease;\\n}\\n\\n#\").concat(name, \"-settings-panel.\").concat(name, \"-settings-speed-panel .\").concat(name, \"-speed-btn {\\n  float: left;\\n}\\n\\n.\").concat(name, \"-settings-speed-panel ul:first-child {\\n  text-align: right;\\n}\\n\\n#\").concat(name, \"-speed-current {\\n  float: right;\\n  padding-right: 10px\\n}\\n\\n#\").concat(name, \"-settings-panel .\").concat(name, \"-speed-btn {\\n  float: right;\\n}\\n\\n#\").concat(name, \"-settings-panel ul {\\n  width: 100%;\\n  margin: 0px;\\n  padding: 0px;\\n  overflow: hidden;\\n}\\n\\n#\").concat(name, \"-settings-panel.\").concat(name, \"-settings-speed-panel ul li {\\n  min-width: 70px;\\n}\\n\\n#\").concat(name, \"-settings-panel ul li.no-hover:hover {\\n  background-color: transparent;\\n  cursor: default;\\n}\\n\\ndiv.\").concat(name, \"-speed-value:hover {\\n  background-color: \").concat(theme[\"hover-color\"], \";\\n  cursor: pointer;\\n}\\n\\n#\").concat(name, \"-settings-panel ul li {\\n  position: relative;\\n  width: 100%;\\n  min-width: 154px;\\n  list-style-type: none;\\n  margin: 0px;\\n  padding: 5px;\\n}\\n\\n#\").concat(name, \"-settings-panel ul li label {\\n  margin: 0px;\\n}\\n\\n.switch {\\n  position: relative;\\n  display: inline-block;\\n  width: 35px;\\n  height: 18px;\\n}\\n\\n.switch input {\\n  display: none;\\n}\\n\\n.settings-switch {\\n  float: right;\\n}\\n\\n.settings-switch:after {\\n  clear: both;\\n}\\n\\n.slider {\\n  position: absolute;\\n  cursor: pointer;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: \").concat(theme[\"slider-off-color\"], \";\\n  -webkit-transition: .4s;\\n  transition: .4s;\\n}\\n\\n.slider:before {\\n  position: absolute;\\n  content: \\\"\\\";\\n  height: 16px;\\n  width: 16px;\\n  left: 1px;\\n  bottom: 1px;\\n  background-color: white;\\n  -webkit-transition: .4s;\\n  transition: .4s;\\n}\\n\\ninput:checked+.slider {\\n  background-color: \").concat(theme[\"slider-on-color\"], \";\\n}\\n\\ninput:focus+.slider {\\n  box-shadow: 0 0 1px \").concat(theme[\"slider-on-color\"], \";\\n}\\n\\ninput:checked+.slider:before {\\n  -webkit-transform: translateX(16px);\\n  -ms-transform: translateX(16px);\\n  transform: translateX(16px);\\n}\\n\\n\\n/* Rounded sliders */\\n\\n.slider.round {\\n  border-radius: 34px;\\n}\\n\\n.slider.round:before {\\n  border-radius: 50%;\\n}\\n\\n\\n.m-fadeOut {\\n  visibility: hidden;\\n  opacity: 0;\\n  transition: visibility 0s linear 300ms, opacity 300ms;\\n}\\n\\n.m-fadeIn {\\n  visibility: visible;\\n  opacity: 1;\\n  transition: visibility 0s linear 0s, opacity 300ms;\\n}\\n\\n#\").concat(name, \"-settings-panel ul li:hover {\\n  background-color: \").concat(theme[\"hover-color\"], \";\\n  cursor: pointer;\\n}\\n\\n#\").concat(name, \"-settings-panel ul li label:hover {\\n  cursor: pointer;\\n}\\n\\n#\").concat(name, \"-loopbar:hover {\\n  cursor: pointer;\\n}\\n\\n#\").concat(name, \"-status-btn:hover {\\n  cursor: pointer;\\n}\\n\\n#\").concat(name, \"-controls:active #\").concat(name, \"-cursor,\\n#\").concat(name, \"-controls:hover #\").concat(name, \"-cursor  {\\n  width: 16px;\\n  height: 16px;\\n  -webkit-transition: all 0.3s ease;\\n  -moz-transition: all 0.3s ease;\\n  transition: all 0.3s ease;\\n}\\n\\n#\").concat(name, \"-volume .\").concat(name, \"-volume-cursor-transition {\\n  width: 12px;\\n  height: 12px;\\n  -webkit-transition: all 0.3s ease;\\n  -moz-transition: all 0.3s ease;\\n  transition: all 0.3s ease;\\n}\\n\\n#\").concat(name, \"-volume .\").concat(name, \"-volume-width-transition\\n {\\n  width: 50px;\\n  -webkit-transition: all 0.3s ease;\\n  -moz-transition: all 0.3s ease;\\n  transition: all 0.3s ease;\\n}\\n\\n#\").concat(name, \"-time-display.\").concat(name, \"-time-width-transition {\\n  left: 140px;\\n  -webkit-transition: left 0.3s ease;\\n  -moz-transition: left 0.3s ease;\\n  transition: left 0.3s ease;\\n}\\n\\n#\").concat(name, \"-settings-speed:hover .\").concat(name, \"-speed-btn {\\n  opacity: 1;\\n  -webkit-transition: all 0.3s ease;\\n  -moz-transition: all 0.3s ease;\\n  transition: all 0.3s ease;\\n}\\n\\n#\").concat(name, \"-status-btn:hover {\\n  opacity: 1;\\n  -webkit-transition: all 0.3s ease;\\n  -moz-transition: all 0.3s ease;\\n  transition: all 0.3s ease;\\n}\\n\\n#\").concat(name, \"-loop-btn:hover,\\n#\").concat(name, \"-dc-btn:hover\\n {\\n  cursor: pointer;\\n  opacity: 1;\\n  -webkit-transition: all 0.3s ease;\\n  -moz-transition: all 0.3s ease;\\n  transition: all 0.3s ease;\\n}\\n#\").concat(name, \"-settings-btn:hover {\\n  cursor: pointer;\\n  opacity: 1;\\n  -webkit-transition: all 0.3s ease;\\n  -moz-transition: all 0.3s ease;\\n  transition: all 0.3s ease;\\n}\\n\\n#\").concat(name, \"-full-screen-btn:hover {\\n  cursor: pointer;\\n  opacity: 1;\\n  -webkit-transition: all 0.3s ease;\\n  -moz-transition: all 0.3s ease;\\n  transition: all 0.3s ease;\\n}\");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2h0bWwvc3R5bGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL2h0bWwvc3R5bGUuanM/NzZlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9ICh0aGVtZSwgbmFtZSwgb3B0aW9ucykgPT4gYFxuLmJhY2tncm91bmQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcbiAgd2lkdGg6MTAwJTtcbiAgaGVpZ2h0OiR7dGhlbWVbXCJiYWNrZ3JvdW5kLWhlaWdodFwiXX07O1xuICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgdG9wOjBweDtcbiAgbGVmdDowcHg7XG4gIHotaW5kZXg6LTIwMDA7XG59XG5cbi5mdWxsLXNjcmVlbiAjJHtuYW1lfS1jb250cm9scyB7XG4gIHBvc2l0aW9uOmZpeGVkO1xuICBsZWZ0OjBweDtcbiAgYm90dG9tOjBweDtcbn1cblxuLmZ1bGwtc2NyZWVuICMke25hbWV9LXNldHRpbmdzLXBhbmVsIHtcbiAgcG9zaXRpb246Zml4ZWQ7XG4gIGJvdHRvbTogNDVweDtcbn1cblxuLnN2ZyB7XG4gIGZpbGw6ICR7dGhlbWVbXCJzdmctY29sb3JcIl19O1xuICBzdHJva2U6ICR7dGhlbWVbXCJzdmctY29sb3JcIl19O1xufVxuXG4ucG9pbnRlci1ldmVudC1wYW5lbCB7XG4gIGhlaWdodDogJHt0aGVtZVtcInBvaW50ZXItZXZlbnQtcGFuZWwtaGVpZ2h0XCJdfTtcbiAgZGlzcGxheTpmbGV4O1xuICBhbGlnbi1pdGVtczpjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDpjZW50ZXI7XG59XG4jJHtuYW1lfS1wb2ludGVyLWV2ZW50LXBhbmVse1xuICB3aWR0aDoxMDAlO1xuICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgei1pbmRleDoxMDA7XG59XG4jJHtuYW1lfS1saXN0ZW5lci1oZWxwZXJ7XG4gIHdpZHRoOjEwMCU7XG4gIGhlaWdodDpjYWxjKCAxMDAlIC0gNDVweCApO1xuICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgei1pbmRleDoxMTA7XG59XG4uc3ZnLXNlbGVjdGVkIHN2Z3tcbiAgZmlsbDogJHt0aGVtZVtcInN2Zy1zZWxlY3RlZC1jb2xvclwiXX07XG4gIHN0cm9rZTogJHt0aGVtZVtcInN2Zy1zZWxlY3RlZC1jb2xvclwiXX07XG59XG4jJHtuYW1lfS1ob3Zlci1kaXNwbGF5e1xuICAgIGJvcmRlcjogJHt0aGVtZVtcInByZXZpZXctYm9yZGVyXCJdfTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG92ZXJmbG93OmhpZGRlbjtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm90dG9tOiAxNHB4O1xuICAgIGxlZnQ6IDBweDtcbiAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbiMke25hbWV9LWhvdmVyLW1pbGxpc2Vjb25kIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZVtcImhtcy1iYWNrZ3JvdW5kLWNvbG9yXCJdfTtcbiAgcGFkZGluZzozcHg7XG4gIGhlaWdodDoxOHB4O1xuICBtYXJnaW46MHB4O1xuICBsaW5lLWhlaWdodDoxMnB4O1xuICBmb250LXNpemU6MTBweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtaW4td2lkdGg6MjBweDtcbiAgbWF4LXdpZHRoOjEwMHB4O1xuICB6LWluZGV4OjI7XG59XG4jJHtuYW1lfSxcbiMke25hbWV9IDo6YmVmb3JlLFxuIyR7bmFtZX0gOjphZnRlcixcbiMke25hbWV9IGRpdixcbiMke25hbWV9IHAsXG4jJHtuYW1lfSBzcGFuLFxuIyR7bmFtZX0gdWwsXG4jJHtuYW1lfSBsaSB7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGxpbmUtaGVpZ2h0OiAxLjkgIWltcG9ydGFudDtcbiAgY29sb3I6ICR7dGhlbWVbXCJjb2xvclwiXX07XG4gIGZvbnQtZmFtaWx5OiBcIkNlbnR1cnkgR290aGljXCIsIENlbnR1cnlHb3RoaWMsIEFwcGxlR290aGljLCBzYW5zLXNlcmlmO1xuICBib3gtc2l6aW5nOmJvcmRlci1ib3g7XG4gIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICB1c2VyLXNlbGVjdDogbm9uZTtcbn1cbiMke25hbWV9IHtcbiAgbGluZS1oZWlnaHQ6IDEuOTtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBvdmVyZmxvdzpoaWRkZW47XG4gIGhlaWdodDogY2FsYygxMDAlICsgJHt0aGVtZVtcImNvbnRyb2xzLXBvc2l0aW9uXCJdfSk7XG4gIHdpZHRoOjEwMCU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwcHg7XG4gIGxlZnQ6IDBweDtcbiAgXG59XG5cbiMke25hbWV9LXNldHRpbmdzLXNwZWVkLWhpZGUge1xuICB0ZXh0LWFsaWduOnJpZ2h0O1xufVxuXG4uZ3JhZCB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcbiAgICByZ2JhKDEwMCwxMDAsMTAwLDAwLjAxKSxcbiAgICByZ2JhKDEwMCwxMDAsMTAwLDAwLjAyKSxcbiAgICByZ2JhKDEwMCwxMDAsMTAwLDAwLjAzKSxcbiAgICByZ2JhKDEwMCwxMDAsMTAwLDAuMDQpLFxuICAgIHJnYmEoMTAwLDEwMCwxMDAsMC4wNSksXG4gICAgcmdiYSgwLDAsMCwwLjA2KSxcbiAgICByZ2JhKDAsMCwwLDAuMDcpLFxuICAgIHJnYmEoMCwwLDAsMC4wOCksXG4gICAgcmdiYSgwLDAsMCwwLjA5KSxcbiAgICByZ2JhKDAsMCwwLDAuMSksXG4gICAgcmdiYSgwLDAsMCwwLjIpLFxuICAgIHJnYmEoMCwwLDAsMC4zKSxcbiAgICByZ2JhKDAsMCwwLDAuNCksXG4gICAgcmdiYSgwLDAsMCwwLjQpLFxuICAgIHJnYmEoMCwwLDAsMC41KSxcbiAgICByZ2JhKDAsMCwwLDAuNiksXG4gICAgcmdiYSgwLDAsMCwwLjcpLFxuICAgIHJnYmEoMCwwLDAsMC44KSxcbiAgICByZ2JhKDAsMCwwLDAuOSksXG4gICAgcmdiYSgwLDAsMCwxKVxuICApO1xuICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgd2lkdGg6MTAwJTtcbiAgaGVpZ2h0OiR7dGhlbWVbXCJncmFkLWhlaWdodFwiXX07XG4gIGxlZnQ6MHB4O1xuICBib3R0b206MHB4O1xuICB6LWluZGV4OjEwMDtcbn1cblxuIyR7bmFtZX0tY29udHJvbHMge1xuICB0b3VjaC1hY3Rpb246IG5vbmU7XG4gIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWVbXCJiYWNrZ3JvdW5kLWNvbG9yXCJdfTtcbiAgYm9yZGVyOiAke3RoZW1lW1wiY29udHJvbHMtYm9yZGVyXCJdfTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206ICR7dGhlbWVbXCJjb250cm9scy1ib3R0b21cIl19O1xuICBsZWZ0OiAwcHg7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDQwcHg7XG4gIHotaW5kZXg6MTAwO1xufVxuXG4jJHtuYW1lfS10b3RhbGJhciB7XG4gIHdpZHRoOiBjYWxjKDEwMCUgLSAyMHB4KTtcbiAgaGVpZ2h0OiA1cHg7XG4gIG1hcmdpbjogMHB4IDEwcHggMHB4IDEwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICM1MDUwNTY7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiAwcHg7XG4gIGxlZnQ6IDBweDtcbn1cblxuIyR7bmFtZX0tbG9vcGJhciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgdG9wOiAwcHg7XG4gIGxlZnQ6IDBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZVtcImxvb3BiYXItY29sb3JcIl19O1xufVxuXG4uJHtuYW1lfS1sb29wLWJvdW5kYXJpZXMge1xuICB0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTM3JSk7XG4gIHBvc2l0aW9uOmFic29sdXRlO1xuICB3aWR0aDoxOHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiR7dGhlbWVbXCJsb29wYmFyLWNvbG9yXCJdfTtcbiAgaGVpZ2h0OjE4cHg7XG4gIGJvcmRlci1yYWRpdXM6MTBweDtcbiAgei1pbmRleDo0MDtcbn1cblxuIyR7bmFtZX0taGVscGVyYmFyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBoZWlnaHQ6IDIwcHg7XG4gIHRvcDogLTEwcHg7XG4gIGxlZnQ6IDBweDtcbiAgcmlnaHQ6IDBweDtcbiAgei1pbmRleDoyO1xufVxuXG4jJHtuYW1lfS1ydW5uaW5nYmFyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMHB4O1xuICBtYXgtd2lkdGg6MTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lW1wicnVubmluZ2Jhci1jb2xvclwiXX07XG59XG5cbiMke25hbWV9LWN1cnNvciB7XG4gIHRyYW5zZm9ybTp0cmFuc2xhdGUoNTAlLC0zNiUpO1xuICByaWdodDogMHB4O1xuICB0b3A6IDBweDtcbiAgd2lkdGg6IDBweDtcbiAgaGVpZ2h0OiAwcHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZVtcImN1cnNvci1jb2xvclwiXX07XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIHotaW5kZXg6IDU7XG59XG5cbiMke25hbWV9LWxlZnQtY29udHJvbHMge1xuICBkaXNwbGF5OmlubGluZS1ibG9jaztcbiAgd2lkdGg6MjAwcHg7XG4gIGhlaWdodDozNXB4O1xufVxuIyR7bmFtZX0tdGltZS1kaXNwbGF5IHtcbiAgZGlzcGxheTogdGFibGU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgd2lkdGg6IGF1dG87XG4gIGhlaWdodDogMzRweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiA5MHB4O1xuICAtd2Via2l0LXRyYW5zaXRpb246IGxlZnQgMC4xcyBlYXNlO1xuICAtbW96LXRyYW5zaXRpb246IGxlZnQgMC4xcyBlYXNlO1xuICB0cmFuc2l0aW9uOiBsZWZ0IDAuMXMgZWFzZTtcbn1cblxuIyR7bmFtZX0tdGltZS1kaXNwbGF5IHNwYW4ge1xuICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xufVxuXG4jJHtuYW1lfS1zdGF0dXMtYnRuIHtcbiAgb3BhY2l0eTogJHt0aGVtZVtcImJ1dHRvbi1vcGFjaXR5XCJdfTtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgYmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7XG4gIHdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDI1cHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgb3ZlcmZsb3c6dmlzaWJsZTtcbiAgbGVmdDogMHB4O1xuICBib3R0b206IDBweDtcbiAgbWFyZ2luOiAxMHB4IDVweCA1cHggNXB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHotaW5kZXg6Mztcbn1cblxuIyR7bmFtZX0tdm9sdW1lIHtcbiAgb3BhY2l0eTogJHt0aGVtZVtcImJ1dHRvbi1vcGFjaXR5XCJdfTtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgYmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogNDVweDtcbiAgYm90dG9tOiA1cHg7XG4gIG1hcmdpbjogMTBweCA1cHggNXB4IDVweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB6LWluZGV4OjM7XG59XG4jJHtuYW1lfS12b2x1bWUtYnRuIHtcbiAgd2lkdGg6IDIwcHg7XG4gIGhlaWdodDogMTVweDtcbn1cblxuIyR7bmFtZX0tdm9sdW1lYmFyIHtcbiAgd2lkdGg6IDBweDtcbiAgaGVpZ2h0OiAzcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWVbXCJsb29wYmFyLWNvbG9yXCJdfTtcbiAgcG9zaXRpb246YWJzb2x1dGU7XG4gIGxlZnQ6MjVweDtcbiAgYm90dG9tOjZweDtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBsZWZ0IDAuMXMgZWFzZTtcbiAgLW1vei10cmFuc2l0aW9uOiBsZWZ0IDAuMXMgZWFzZTtcbiAgdHJhbnNpdGlvbjogbGVmdCAwLjFzIGVhc2U7XG59XG5cbiMke25hbWV9LXZvbHVtZWJhci1oZWxwZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAwcHg7XG4gIGhlaWdodDogMTVweDtcbiAgbGVmdDoyNXB4O1xuICBib3R0b206MHB4O1xuICB6LWluZGV4OjEwO1xufVxuXG4jJHtuYW1lfS12b2x1bWViYXItYWN0aXZlIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZVtcImNvbG9yXCJdfTtcbiAgcG9zaXRpb246cmVsYXRpdmU7XG4gIGxlZnQ6MHB4O1xuICBib3R0b206MHB4O1xufVxuXG4jJHtuYW1lfS12b2x1bWUtY3Vyc29yIHtcbiAgdHJhbnNmb3JtOnRyYW5zbGF0ZSg1MCUsLTM2JSk7XG4gIHJpZ2h0OiAwcHg7XG4gIHRvcDogMHB4O1xuICB3aWR0aDogMHB4O1xuICBoZWlnaHQ6IDBweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lW1wiY29sb3JcIl19O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICB6LWluZGV4OiA1O1xufVxuXG4uJHtuYW1lfS1sb29wYmFyLXRpbWUge1xuICB3aWR0aDphdXRvO1xuICBoZWlnaHQ6MTJweDtcbiAgYmFja2dyb3VuZC1jb2xvcjoke3RoZW1lW1wiYmFja2dyb3VuZC1jb2xvclwiXX07XG4gIGxpbmUtaGVpZ2h0OjEwcHg7XG4gIGZvbnQtc2l6ZToxMHB4O1xufVxuXG4jJHtuYW1lfS1sb29wLXRpbWUge1xuICBtYXJnaW46IDdweDtcbn1cblxuIyR7bmFtZX0tZGMtYnRuIHtcbiAgICBvcGFjaXR5OiAwLjg7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDEwMCUgMTAwJTtcbiAgICB3aWR0aDogMjBweDtcbiAgICBoZWlnaHQ6IDE1cHg7XG4gICAgbWFyZ2luOiA3cHggMTBweCA1cHggMHB4O1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMS41LDEuNSk7XG59XG5cbiMke25hbWV9LWxvb3AtYnRuIHtcbiAgb3BhY2l0eTogJHt0aGVtZVtcImJ1dHRvbi1vcGFjaXR5XCJdfTtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgYmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7XG4gIHdpZHRoOiAxNXB4O1xuICBoZWlnaHQ6IDE1cHg7XG4gIG1hcmdpbjogMTBweCA1cHggNXB4IDVweDtcbn1cblxuXG4jJHtuYW1lfS1zZXR0aW5ncy1idG4ge1xuICBvcGFjaXR5OiAke3RoZW1lW1wiYnV0dG9uLW9wYWNpdHlcIl19O1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICBiYWNrZ3JvdW5kLXNpemU6IDEwMCUgMTAwJTtcbiAgd2lkdGg6IDE1cHg7XG4gIGhlaWdodDogMTVweDtcbiAgbWFyZ2luOiAxMHB4IDVweCA1cHggNXB4O1xufVxuXG4jJHtuYW1lfS1mdWxsLXNjcmVlbi1idG4ge1xuICBvcGFjaXR5OiAke3RoZW1lW1wiYnV0dG9uLW9wYWNpdHlcIl19O1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICBiYWNrZ3JvdW5kLXNpemU6IDEwMCUgMTAwJTtcbiAgd2lkdGg6IDE1cHg7XG4gIGhlaWdodDogMTVweDtcbiAgbWFyZ2luOiAxMHB4IDVweCA1cHggNXB4O1xufVxuXG4uJHtuYW1lfS1zcGVlZC1idG4ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG9wYWNpdHk6ICR7dGhlbWVbXCJidXR0b24tb3BhY2l0eVwiXX07XG4gIHdpZHRoOiAxMHB4O1xuICBoZWlnaHQ6IDEwcHg7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuIyR7bmFtZX0tc2V0dGluZ3MtcGFuZWwge1xuICB0b3VjaC1hY3Rpb246IG5vbmU7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDoxMDE7XG4gIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWVbXCJzZXR0aW5ncy1iYWNrZ3JvdW5kLWNvbG9yXCJdfTtcbiAgYm90dG9tOiAke3RoZW1lW1wic2V0dGluZ3MtcGFuZWwtYm90dG9tXCJdfTtcbiAgYm9yZGVyOiAke3RoZW1lW1wiYm9yZGVyXCJdfTtcbiAgcmlnaHQ6IDVweDtcbiAgd2lkdGg6IDE2NHB4O1xuICBoZWlnaHQ6IDE3NXB4O1xuICBwYWRkaW5nOiA1cHg7XG4gIG1hcmdpbjogMHB4O1xuICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbn1cblxuLiR7bmFtZX0tbWMtcmlnaHQtY29udHJvbHMge1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbi4ke25hbWV9LWhpZGUge1xuICBkaXNwbGF5Om5vbmUgIWltcG9ydGFudDtcbn1cblxuIyR7bmFtZX0tc3BlZWQtdmFsdWUtYmFyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogNXB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lW1wic3BlZWRiYXItY29sb3JcIl19O1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGhlaWdodDogJHtvcHRpb25zLnNwZWVkVmFsdWVzLmxlbmd0aCAqIDE2fXB4O1xuICBmbG9hdDogbGVmdDtcbiAgbWFyZ2luLXJpZ2h0OjE1cHg7XG59XG5cbiMke25hbWV9LXNwZWVkLXZhbHVlLWhlbHBlcmJhciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2lkdGg6IDI1cHg7XG4gIGhlaWdodDogJHtvcHRpb25zLnNwZWVkVmFsdWVzLmxlbmd0aCAqIDE2fXB4O1xuICBmbG9hdDogbGVmdDtcbiAgbGVmdDogLTVweDtcbiAgei1pbmRleDoxMDtcbn1cblxuXG4jJHtuYW1lfS1zcGVlZC12YWx1ZS1iYXI6aG92ZXIsXG4jJHtuYW1lfS1zcGVlZC12YWx1ZS1oZWxwZXJiYXIge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbiMke25hbWV9LXZvbHVtZWJhcjpob3ZlcixcbiMke25hbWV9LXZvbHVtZWJhci1oZWxwZXI6aG92ZXIsXG4jJHtuYW1lfS12b2x1bWUtYnRuOmhvdmVyLFxuIyR7bmFtZX0tdm9sdW1lYmFyOmFjdGl2ZSxcbiMke25hbWV9LXZvbHVtZWJhci1oZWxwZXI6YWN0aXZlLFxuIyR7bmFtZX0tdm9sdW1lLWJ0bjphY3RpdmUge1xuICBjdXJzb3I6cG9pbnRlcjtcbn1cblxuIyR7bmFtZX0tc3BlZWQtY3Vyc29yIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lW1wic3BlZWRiYXItY3Vyc29yLWNvbG9yXCJdfTtcbiAgdG9wOiAwcHg7XG4gIGxlZnQ6IDBweDtcbn1cblxuIyR7bmFtZX0tc3BlZWQtY3Vyc29yIGRpdiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZVtcInNwZWVkYmFyLWN1cnNvci1jb2xvclwiXX07XG4gIGxlZnQ6IC0yLjVweDtcbiAgdG9wOiAtNHB4O1xuICB3aWR0aDogMTBweDtcbiAgaGVpZ2h0OiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbiMke25hbWV9LXNwZWVkLWN1cnNvcjpob3ZlciB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLiR7bmFtZX0tc3BlZWQtdmFsdWUtc3RlcCB7XG4gIHdpZHRoOiAxNnB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lW1wic3BlZWRiYXItY29sb3JcIl19O1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGhlaWdodDogMnB4O1xuICBtYXJnaW4tdG9wOiA3cHg7XG4gIG1hcmdpbi1ib3R0b206IDdweDtcbiAgZmxvYXQ6IGxlZnQ7XG59XG5cbiMke25hbWV9LXNwZWVkLXZhbHVlIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBoZWlnaHQ6ICR7b3B0aW9ucy5zcGVlZFZhbHVlcy5sZW5ndGggKiAxNn1weDtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbn1cblxuLiR7bmFtZX0tc3BlZWQtdmFsdWUge1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBoZWlnaHQ6IDE2cHg7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuIyR7bmFtZX0taW5kaWNhdG9yIHtcbiAgZm9udC1zaXplOiA4cHggIWltcG9ydGFudDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBib3R0b206IDE1cHg7XG4gIGNvbG9yOiAke3RoZW1lW1wiY29sb3JcIl19O1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG4jJHtuYW1lfS1zcGVlZC1zZXR0aW5ncyB7XG4gIGhlaWdodDogJHtvcHRpb25zLnNwZWVkVmFsdWVzLmxlbmd0aCAqIDE2ICsgMzIgKyAxMCAtIDJ9cHg7XG59XG5cbiMke25hbWV9LXNwZWVkLXNldHRpbmdzIGxpLm5vLWhvdmVyIHsgXG4gIGhlaWdodDogJHtvcHRpb25zLnNwZWVkVmFsdWVzLmxlbmd0aCAqIDE2ICsgMTAgLSAyfXB4OyBcbn1cbiMke25hbWV9LXNldHRpbmdzLXBhbmVsLiR7bmFtZX0tc2V0dGluZ3Mtc3BlZWQtcGFuZWwge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB3aWR0aDogODBweDtcbiAgaGVpZ2h0OiAke29wdGlvbnMuc3BlZWRWYWx1ZXMubGVuZ3RoICogMTYgKyAzMiArIDIwfXB4O1xuICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbn1cblxuIyR7bmFtZX0tc2V0dGluZ3MtcGFuZWwuJHtuYW1lfS1zZXR0aW5ncy1zcGVlZC1wYW5lbCAuJHtuYW1lfS1zcGVlZC1idG4ge1xuICBmbG9hdDogbGVmdDtcbn1cblxuLiR7bmFtZX0tc2V0dGluZ3Mtc3BlZWQtcGFuZWwgdWw6Zmlyc3QtY2hpbGQge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn1cblxuIyR7bmFtZX0tc3BlZWQtY3VycmVudCB7XG4gIGZsb2F0OiByaWdodDtcbiAgcGFkZGluZy1yaWdodDogMTBweFxufVxuXG4jJHtuYW1lfS1zZXR0aW5ncy1wYW5lbCAuJHtuYW1lfS1zcGVlZC1idG4ge1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbiMke25hbWV9LXNldHRpbmdzLXBhbmVsIHVsIHtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbjogMHB4O1xuICBwYWRkaW5nOiAwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbiMke25hbWV9LXNldHRpbmdzLXBhbmVsLiR7bmFtZX0tc2V0dGluZ3Mtc3BlZWQtcGFuZWwgdWwgbGkge1xuICBtaW4td2lkdGg6IDcwcHg7XG59XG5cbiMke25hbWV9LXNldHRpbmdzLXBhbmVsIHVsIGxpLm5vLWhvdmVyOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGN1cnNvcjogZGVmYXVsdDtcbn1cblxuZGl2LiR7bmFtZX0tc3BlZWQtdmFsdWU6aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lW1wiaG92ZXItY29sb3JcIl19O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbiMke25hbWV9LXNldHRpbmdzLXBhbmVsIHVsIGxpIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgbWluLXdpZHRoOiAxNTRweDtcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBtYXJnaW46IDBweDtcbiAgcGFkZGluZzogNXB4O1xufVxuXG4jJHtuYW1lfS1zZXR0aW5ncy1wYW5lbCB1bCBsaSBsYWJlbCB7XG4gIG1hcmdpbjogMHB4O1xufVxuXG4uc3dpdGNoIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHdpZHRoOiAzNXB4O1xuICBoZWlnaHQ6IDE4cHg7XG59XG5cbi5zd2l0Y2ggaW5wdXQge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4uc2V0dGluZ3Mtc3dpdGNoIHtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG4uc2V0dGluZ3Mtc3dpdGNoOmFmdGVyIHtcbiAgY2xlYXI6IGJvdGg7XG59XG5cbi5zbGlkZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lW1wic2xpZGVyLW9mZi1jb2xvclwiXX07XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogLjRzO1xuICB0cmFuc2l0aW9uOiAuNHM7XG59XG5cbi5zbGlkZXI6YmVmb3JlIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBjb250ZW50OiBcIlwiO1xuICBoZWlnaHQ6IDE2cHg7XG4gIHdpZHRoOiAxNnB4O1xuICBsZWZ0OiAxcHg7XG4gIGJvdHRvbTogMXB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiAuNHM7XG4gIHRyYW5zaXRpb246IC40cztcbn1cblxuaW5wdXQ6Y2hlY2tlZCsuc2xpZGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZVtcInNsaWRlci1vbi1jb2xvclwiXX07XG59XG5cbmlucHV0OmZvY3VzKy5zbGlkZXIge1xuICBib3gtc2hhZG93OiAwIDAgMXB4ICR7dGhlbWVbXCJzbGlkZXItb24tY29sb3JcIl19O1xufVxuXG5pbnB1dDpjaGVja2VkKy5zbGlkZXI6YmVmb3JlIHtcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTZweCk7XG4gIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTZweCk7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxNnB4KTtcbn1cblxuXG4vKiBSb3VuZGVkIHNsaWRlcnMgKi9cblxuLnNsaWRlci5yb3VuZCB7XG4gIGJvcmRlci1yYWRpdXM6IDM0cHg7XG59XG5cbi5zbGlkZXIucm91bmQ6YmVmb3JlIHtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xufVxuXG5cbi5tLWZhZGVPdXQge1xuICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gIG9wYWNpdHk6IDA7XG4gIHRyYW5zaXRpb246IHZpc2liaWxpdHkgMHMgbGluZWFyIDMwMG1zLCBvcGFjaXR5IDMwMG1zO1xufVxuXG4ubS1mYWRlSW4ge1xuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICBvcGFjaXR5OiAxO1xuICB0cmFuc2l0aW9uOiB2aXNpYmlsaXR5IDBzIGxpbmVhciAwcywgb3BhY2l0eSAzMDBtcztcbn1cblxuIyR7bmFtZX0tc2V0dGluZ3MtcGFuZWwgdWwgbGk6aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lW1wiaG92ZXItY29sb3JcIl19O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbiMke25hbWV9LXNldHRpbmdzLXBhbmVsIHVsIGxpIGxhYmVsOmhvdmVyIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4jJHtuYW1lfS1sb29wYmFyOmhvdmVyIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4jJHtuYW1lfS1zdGF0dXMtYnRuOmhvdmVyIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4jJHtuYW1lfS1jb250cm9sczphY3RpdmUgIyR7bmFtZX0tY3Vyc29yLFxuIyR7bmFtZX0tY29udHJvbHM6aG92ZXIgIyR7bmFtZX0tY3Vyc29yICB7XG4gIHdpZHRoOiAxNnB4O1xuICBoZWlnaHQ6IDE2cHg7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xufVxuXG4jJHtuYW1lfS12b2x1bWUgLiR7bmFtZX0tdm9sdW1lLWN1cnNvci10cmFuc2l0aW9uIHtcbiAgd2lkdGg6IDEycHg7XG4gIGhlaWdodDogMTJweDtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICAtbW96LXRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG59XG5cbiMke25hbWV9LXZvbHVtZSAuJHtuYW1lfS12b2x1bWUtd2lkdGgtdHJhbnNpdGlvblxuIHtcbiAgd2lkdGg6IDUwcHg7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xufVxuXG4jJHtuYW1lfS10aW1lLWRpc3BsYXkuJHtuYW1lfS10aW1lLXdpZHRoLXRyYW5zaXRpb24ge1xuICBsZWZ0OiAxNDBweDtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBsZWZ0IDAuM3MgZWFzZTtcbiAgLW1vei10cmFuc2l0aW9uOiBsZWZ0IDAuM3MgZWFzZTtcbiAgdHJhbnNpdGlvbjogbGVmdCAwLjNzIGVhc2U7XG59XG5cbiMke25hbWV9LXNldHRpbmdzLXNwZWVkOmhvdmVyIC4ke25hbWV9LXNwZWVkLWJ0biB7XG4gIG9wYWNpdHk6IDE7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xufVxuXG4jJHtuYW1lfS1zdGF0dXMtYnRuOmhvdmVyIHtcbiAgb3BhY2l0eTogMTtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICAtbW96LXRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG59XG5cbiMke25hbWV9LWxvb3AtYnRuOmhvdmVyLFxuIyR7bmFtZX0tZGMtYnRuOmhvdmVyXG4ge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIG9wYWNpdHk6IDE7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xufVxuIyR7bmFtZX0tc2V0dGluZ3MtYnRuOmhvdmVyIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBvcGFjaXR5OiAxO1xuICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbn1cblxuIyR7bmFtZX0tZnVsbC1zY3JlZW4tYnRuOmhvdmVyIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBvcGFjaXR5OiAxO1xuICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbn1gO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../src/html/style.js\n");

/***/ }),

/***/ "../src/html/svg.js":
/*!**************************!*\
  !*** ../src/html/svg.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var svg = module.exports = {};\nsvg.playSVG = \"\\n  <svg width=\\\"100%\\\" class=\\\"svg\\\" height=\\\"100%\\\" viewBox=\\\"0 0 36 36\\\" >\\n    <path id=\\\"play-icon\\\" data-state=\\\"paused\\\"  d=\\\"M11,10 L18,13.74 18,22.28 11,26 M18,13.74 L26,18 26,18 18,22.28\\\" />\\n  </svg>\\n\";\nsvg.dcSVG = \"\\n  <svg class=\\\"svg\\\" width=\\\"100%\\\" height=\\\"100%\\\" version=\\\"1.1\\\" id=\\\"Capa_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n   viewBox=\\\"0 0 400 400\\\" style=\\\"enable-background:new 0 0 286.374 286.374;\\\" xml:space=\\\"preserve\\\">\\n<path stroke-width=\\\"10.00\\\" stroke-linecap=\\\"butt\\\" stroke-linejoin=\\\"miter\\\" opacity=\\\"1\\\" d=\\\"M 120.17407989501953 162.04714965820312 L 121.16549682617188 320.6739196777344 Q 279.79229736328125 321.66534423828125 280.78369140625 241.36053466796875 Q 281.77508544921875 161.05572509765625 439.41046142578125 160.06431579589844 L 439.41046142578125 200.71243286132812 Q 281.7751159667969 163.03857421875 280.78369140625 241.36053466796875 Q 279.7922668457031 319.6824951171875 159.8307647705078 281.0172424316406 L 158.83935546875 198.72959899902344 Q 281.7751159667969 161.05572509765625 280.78369140625 241.36053466796875 Q 279.7922668457031 321.66534423828125 440.40185546875 320.6739196777344 L 440.40185546875 280.02581787109375 Q 280.78369140625 321.66534423828125 280.78369140625 241.36053466796875 C 280.78369140625 161.05572509765625 161.8135986328125 161.05572509765625 120.17407989501953 162.04714965820312 Z\\\" selected=\\\"true\\\" transform=\\\"matrix(1 0 0 1 0 0)\\\"></path></svg>\";\nsvg.pauseSVG = \"\\n  <svg class=\\\"svg\\\" width=\\\"100%\\\" height=\\\"100%\\\" viewBox=\\\"0 0 36 36\\\" >\\n    <path id=\\\"pause-icon\\\" data-state=\\\"playing\\\" d=\\\"M11,10 L17,10 17,26 11,26 M20,10 L26,10 26,26 20,26\\\" />\\n  </svg>\\n\";\nsvg.replaySVG = \"\\n  <svg class=\\\"svg\\\" width=\\\"100%\\\" height=\\\"100%\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\" viewBox=\\\"0 0 1000 1000\\\" enable-background=\\\"new 0 0 1000 1000\\\" xml:space=\\\"preserve\\\">\\n    <metadata> Svg Vector Icons : http://www.onlinewebfonts.com/icon </metadata>\\n    <g><g transform=\\\"translate(0.000000,511.000000) scale(0.100000,-0.100000)\\\">\\n      <path d=\\\"M5356.3,4203.8c-1247.8-153.1-2324.2-811.3-3000.7-1839.7c-379.4-578.2-596.5-1209-660.5-1933.4l-27.4-294.8H883.9c-431.9,0-783.9-6.9-783.9-18.3c0-9.2,477.6-493.7,1062.7-1078.7l1062.7-1062.7L3288.1-961.1C3873.1-376,4350.8,108.5,4350.8,117.6c0,11.4-356.5,18.3-790.7,18.3h-793l18.3,189.7C2831,876.3,2991,1338,3288.1,1779.1C4122.3,3026.9,5706,3472.5,7065.8,2841.8C7639.4,2578.9,8197,2035,8487.3,1461.4C8581,1274,8709,896.9,8754.7,666.1c48-246.8,54.8-811.3,9.1-1055.8C8567.3-1491.3,7788-2394,6720.7-2750.5c-315.4-107.4-541.6-139.4-941.6-139.4c-287.9,0-415.9,11.4-598.8,50.3c-523.3,112-973.6,335.9-1371.2,681c-75.4,68.6-148.5,123.4-160,123.4c-9.1,0-187.4-169.1-393.1-374.8c-434.2-434.2-420.5-363.4-105.1-628.5c852.4-710.7,1972.3-1055.8,3046.4-937c1627.2,176,2977.8,1257,3489.8,2790.4c457.1,1368.9,169.1,2843-777,3969.7C8322.7,3484,7417.8,4000.4,6503.6,4160.4C6197.4,4213,5619.2,4235.8,5356.3,4203.8z\\\"/>\\n      <path d=\\\"M4990.7,124.5c0-1503.8,4.6-1794,32-1778c16,9.1,505.1,413.6,1085.6,895.8C7113.8,78.8,7161.8,122.2,7122.9,161c-80,75.4-2109.4,1757.5-2120.8,1757.5C4995.3,1918.5,4990.7,1111.8,4990.7,124.5z\\\"/>\\n    </g></g>\\n  </svg>\\n\";\nsvg.volumeSVG = \"\\n  <svg class=\\\"svg\\\" width=\\\"100%\\\" height=\\\"100%\\\" version=\\\"1.1\\\" id=\\\"Capa_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n   viewBox=\\\"0 0 286.374 286.374\\\" style=\\\"enable-background:new 0 0 286.374 286.374;\\\" xml:space=\\\"preserve\\\">\\n    <g id=\\\"Volume_2\\\">\\n      <path style=\\\"fill-rule:evenodd;clip-rule:evenodd;\\\" d=\\\"M233.636,26.767l-33.372,28.5c25.659,21.07,42.006,52.616,42.006,87.92\\n        c0,35.305-16.347,66.851-42.006,87.921l33.372,28.499c32.324-28.869,52.738-70.268,52.738-116.421\\n        C286.374,97.034,265.96,55.635,233.636,26.767z M177.737,74.513l-34.69,29.64c15.14,6.818,27.19,21.681,27.19,39.034\\n        s-12.05,32.216-27.19,39.034l34.69,29.64c21.294-15.717,36.051-40.586,36.051-68.674C213.788,115.099,199.03,90.23,177.737,74.513z\\n         M108.672,48.317L44.746,98.441H17.898C4.671,98.441,0,103.268,0,116.34v53.695c0,13.072,4.951,17.898,17.898,17.898h26.848\\n        l63.926,50.068c7.668,4.948,16.558,6.505,16.558-7.365V55.683C125.23,41.813,116.34,43.37,108.672,48.317z\\\"/>\\n    </g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>\\n  </svg>\\n\";\nsvg.volumeMuteSVG = \"\\n  <svg class=\\\"svg\\\" width=\\\"100%\\\" height=\\\"100%\\\" version=\\\"1.1\\\" id=\\\"Capa_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n   viewBox=\\\"0 0 286.277 286.277\\\" style=\\\"enable-background:new 0 0 286.277 286.277;\\\" xml:space=\\\"preserve\\\">\\n    <g id=\\\"Volume_none\\\">\\n      <path style=\\\"fill-rule:evenodd;clip-rule:evenodd;\\\" d=\\\"M245.102,143.151l36.98-37.071c5.593-5.605,5.593-14.681,0-20.284\\n        l-10.124-10.142c-5.593-5.604-14.655-5.604-20.247,0l-36.98,37.071l-36.977-37.043c-5.594-5.603-14.654-5.603-20.247,0\\n        l-10.124,10.143c-5.594,5.603-5.594,14.679,0,20.282l36.987,37.053l-36.961,37.051c-5.591,5.604-5.591,14.681,0,20.284\\n        l10.126,10.141c5.593,5.604,14.654,5.604,20.247,0l36.96-37.05l36.97,37.035c5.592,5.605,14.654,5.605,20.247,0l10.124-10.141\\n        c5.593-5.603,5.593-14.68,0-20.282L245.102,143.151z M108.674,48.296L44.747,98.42H17.9c-13.228,0-17.899,4.826-17.899,17.898\\n        L0,142.719l0.001,27.295c0,13.072,4.951,17.898,17.899,17.898h26.847l63.927,50.068c7.667,4.948,16.557,6.505,16.557-7.365V55.662\\n        C125.23,41.792,116.341,43.349,108.674,48.296z\\\"/>\\n    </g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>\\n  </svg>\\n\";\nsvg.settingsSVG = \"\\n  <svg class=\\\"svg\\\" width=\\\"100%\\\" height=\\\"100%\\\" version=\\\"1.1\\\" id=\\\"Capa_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\" viewBox=\\\"0 0 268.765 268.765\\\" style=\\\"enable-background:new 0 0 268.765 268.765;\\\" xml:space=\\\"preserve\\\">\\n    <g id=\\\"Settings\\\">\\n      <g>\\n        <path style=\\\"fill-rule:evenodd;clip-rule:evenodd;\\\" d=\\\"M267.92,119.461c-0.425-3.778-4.83-6.617-8.639-6.617\\n          c-12.315,0-23.243-7.231-27.826-18.414c-4.682-11.454-1.663-24.812,7.515-33.231c2.889-2.641,3.24-7.062,0.817-10.133\\n          c-6.303-8.004-13.467-15.234-21.289-21.5c-3.063-2.458-7.557-2.116-10.213,0.825c-8.01,8.871-22.398,12.168-33.516,7.529\\n          c-11.57-4.867-18.866-16.591-18.152-29.176c0.235-3.953-2.654-7.39-6.595-7.849c-10.038-1.161-20.164-1.197-30.232-0.08\\n          c-3.896,0.43-6.785,3.786-6.654,7.689c0.438,12.461-6.946,23.98-18.401,28.672c-10.985,4.487-25.272,1.218-33.266-7.574\\n          c-2.642-2.896-7.063-3.252-10.141-0.853c-8.054,6.319-15.379,13.555-21.74,21.493c-2.481,3.086-2.116,7.559,0.802,10.214\\n          c9.353,8.47,12.373,21.944,7.514,33.53c-4.639,11.046-16.109,18.165-29.24,18.165c-4.261-0.137-7.296,2.723-7.762,6.597\\n          c-1.182,10.096-1.196,20.383-0.058,30.561c0.422,3.794,4.961,6.608,8.812,6.608c11.702-0.299,22.937,6.946,27.65,18.415\\n          c4.698,11.454,1.678,24.804-7.514,33.23c-2.875,2.641-3.24,7.055-0.817,10.126c6.244,7.953,13.409,15.19,21.259,21.508\\n          c3.079,2.481,7.559,2.131,10.228-0.81c8.04-8.893,22.427-12.184,33.501-7.536c11.599,4.852,18.895,16.575,18.181,29.167\\n          c-0.233,3.955,2.67,7.398,6.595,7.85c5.135,0.599,10.301,0.898,15.481,0.898c4.917,0,9.835-0.27,14.752-0.817\\n          c3.897-0.43,6.784-3.786,6.653-7.696c-0.451-12.454,6.946-23.973,18.386-28.657c11.059-4.517,25.286-1.211,33.281,7.572\\n          c2.657,2.89,7.047,3.239,10.142,0.848c8.039-6.304,15.349-13.534,21.74-21.494c2.48-3.079,2.13-7.559-0.803-10.213\\n          c-9.353-8.47-12.388-21.946-7.529-33.524c4.568-10.899,15.612-18.217,27.491-18.217l1.662,0.043\\n          c3.853,0.313,7.398-2.655,7.865-6.588C269.044,139.917,269.058,129.639,267.92,119.461z M134.595,179.491\\n          c-24.718,0-44.824-20.106-44.824-44.824c0-24.717,20.106-44.824,44.824-44.824c24.717,0,44.823,20.107,44.823,44.824\\n          C179.418,159.385,159.312,179.491,134.595,179.491z\\\"/>\\n      </g>\\n    </g>\\n  <g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>\\n  </svg>\\n\";\nsvg.arrowRightSVG = \"\\n  <svg class=\\\"svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"100%\\\" height=\\\"100%\\\" viewBox=\\\"0 0 50 80\\\" xml:space=\\\"preserve\\\">\\n    <polyline fill=\\\"none\\\" stroke-width=\\\"10\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" points=\\\"0.375,0.375 45.63,38.087 0.375,75.8 \\\"/>\\n  </svg>\\n\";\nsvg.arrowLeftSVG = \"\\n  <svg class=\\\"svg\\\" class=\\\"svg\\\" width=\\\"100%\\\" height=\\\"100%\\\" viewBox=\\\"0 0 50 80\\\" xml:space=\\\"preserve\\\">\\n    <polyline fill=\\\"none\\\" stroke-width=\\\"10\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" points=\\\"45.63,75.8 0.375,38.087 45.63,0.375 \\\"/>\\n  </svg> \\n\";\nsvg.fullScreenSVG = \"\\n  <svg class=\\\"svg\\\" width=\\\"100%\\\" height=\\\"100%\\\" version=\\\"1.1\\\" id=\\\"Capa_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\" viewBox=\\\"0 0 298.667 298.667\\\" style=\\\"enable-background:new 0 0 298.667 298.667;\\\" xml:space=\\\"preserve\\\">\\n    <g>\\n      <g>\\n        <g>\\n          <polygon points=\\\"42.667,192 0,192 0,298.667 106.667,298.667 106.667,256 42.667,256\\\"/>\\n          <polygon points=\\\"0,106.667 42.667,106.667 42.667,42.667 106.667,42.667 106.667,0 0,0\\\"/>\\n          <polygon points=\\\"192,0 192,42.667 256,42.667 256,106.667 298.667,106.667 298.667,0\\\"/>\\n          <polygon points=\\\"256,256 192,256 192,298.667 298.667,298.667 298.667,192 256,192\\\"/>\\n        </g>\\n      </g>\\n    </g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>\\n  </svg>\\n\";\nsvg.loopSVG = \"\\n<svg class=\\\"svg\\\" width=\\\"100%\\\" height=\\\"100%\\\" version=\\\"1.1\\\" id=\\\"Capa_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\" viewBox=\\\"0 0 32 32\\\" style=\\\"enable-background:new 0 0 32 32;\\\" xml:space=\\\"preserve\\\">\\n  <g>\\n    <g id=\\\"loop_x5F_alt3\\\">\\n      <g>\\n        <path d=\\\"M28,16v2c0,1.102-0.898,2-2,2H11.996L12,16l-8,6l8,6l-0.004-4H26c3.309,0,6-2.695,6-6v-2H28z\\\"/>\\n        <path d=\\\"M4,14c0-1.105,0.898-2,2-2h14v4l7.992-6L20,4v4H6c-3.309,0-6,2.688-6,6v2h4V14z\\\"/>\\n      </g>\\n    </g>\\n  </g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>\\n</svg>\";\nsvg.loadingSVG = \"<svg class=\\\"lds-spinner\\\" width=\\\"80px\\\"  height=\\\"80px\\\"  xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 100 100\\\" preserveAspectRatio=\\\"xMidYMid\\\" style=\\\"background: none;\\\"><g transform=\\\"rotate(0 50 50)\\\">\\n  <rect x=\\\"47\\\" y=\\\"24\\\" rx=\\\"9.4\\\" ry=\\\"4.8\\\" width=\\\"6\\\" height=\\\"12\\\" fill=\\\"#fff\\\">\\n    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" keyTimes=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.9166666666666666s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n  </rect>\\n</g><g transform=\\\"rotate(30 50 50)\\\">\\n  <rect x=\\\"47\\\" y=\\\"24\\\" rx=\\\"9.4\\\" ry=\\\"4.8\\\" width=\\\"6\\\" height=\\\"12\\\" fill=\\\"#fff\\\">\\n    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" keyTimes=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.8333333333333334s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n  </rect>\\n</g><g transform=\\\"rotate(60 50 50)\\\">\\n  <rect x=\\\"47\\\" y=\\\"24\\\" rx=\\\"9.4\\\" ry=\\\"4.8\\\" width=\\\"6\\\" height=\\\"12\\\" fill=\\\"#fff\\\">\\n    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" keyTimes=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.75s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n  </rect>\\n</g><g transform=\\\"rotate(90 50 50)\\\">\\n  <rect x=\\\"47\\\" y=\\\"24\\\" rx=\\\"9.4\\\" ry=\\\"4.8\\\" width=\\\"6\\\" height=\\\"12\\\" fill=\\\"#fff\\\">\\n    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" keyTimes=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.6666666666666666s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n  </rect>\\n</g><g transform=\\\"rotate(120 50 50)\\\">\\n  <rect x=\\\"47\\\" y=\\\"24\\\" rx=\\\"9.4\\\" ry=\\\"4.8\\\" width=\\\"6\\\" height=\\\"12\\\" fill=\\\"#fff\\\">\\n    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" keyTimes=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.5833333333333334s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n  </rect>\\n</g><g transform=\\\"rotate(150 50 50)\\\">\\n  <rect x=\\\"47\\\" y=\\\"24\\\" rx=\\\"9.4\\\" ry=\\\"4.8\\\" width=\\\"6\\\" height=\\\"12\\\" fill=\\\"#fff\\\">\\n    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" keyTimes=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.5s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n  </rect>\\n</g><g transform=\\\"rotate(180 50 50)\\\">\\n  <rect x=\\\"47\\\" y=\\\"24\\\" rx=\\\"9.4\\\" ry=\\\"4.8\\\" width=\\\"6\\\" height=\\\"12\\\" fill=\\\"#fff\\\">\\n    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" keyTimes=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.4166666666666667s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n  </rect>\\n</g><g transform=\\\"rotate(210 50 50)\\\">\\n  <rect x=\\\"47\\\" y=\\\"24\\\" rx=\\\"9.4\\\" ry=\\\"4.8\\\" width=\\\"6\\\" height=\\\"12\\\" fill=\\\"#fff\\\">\\n    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" keyTimes=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.3333333333333333s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n  </rect>\\n</g><g transform=\\\"rotate(240 50 50)\\\">\\n  <rect x=\\\"47\\\" y=\\\"24\\\" rx=\\\"9.4\\\" ry=\\\"4.8\\\" width=\\\"6\\\" height=\\\"12\\\" fill=\\\"#fff\\\">\\n    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" keyTimes=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.25s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n  </rect>\\n</g><g transform=\\\"rotate(270 50 50)\\\">\\n  <rect x=\\\"47\\\" y=\\\"24\\\" rx=\\\"9.4\\\" ry=\\\"4.8\\\" width=\\\"6\\\" height=\\\"12\\\" fill=\\\"#fff\\\">\\n    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" keyTimes=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.16666666666666666s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n  </rect>\\n</g><g transform=\\\"rotate(300 50 50)\\\">\\n  <rect x=\\\"47\\\" y=\\\"24\\\" rx=\\\"9.4\\\" ry=\\\"4.8\\\" width=\\\"6\\\" height=\\\"12\\\" fill=\\\"#fff\\\">\\n    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" keyTimes=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.08333333333333333s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n  </rect>\\n</g><g transform=\\\"rotate(330 50 50)\\\">\\n  <rect x=\\\"47\\\" y=\\\"24\\\" rx=\\\"9.4\\\" ry=\\\"4.8\\\" width=\\\"6\\\" height=\\\"12\\\" fill=\\\"#fff\\\">\\n    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" keyTimes=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"0s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n  </rect>\\n</g></svg>\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2h0bWwvc3ZnLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9odG1sL3N2Zy5qcz8xYjg3Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHN2ZyA9IChtb2R1bGUuZXhwb3J0cyA9IHt9KTtcbnN2Zy5wbGF5U1ZHID0gYFxuICA8c3ZnIHdpZHRoPVwiMTAwJVwiIGNsYXNzPVwic3ZnXCIgaGVpZ2h0PVwiMTAwJVwiIHZpZXdCb3g9XCIwIDAgMzYgMzZcIiA+XG4gICAgPHBhdGggaWQ9XCJwbGF5LWljb25cIiBkYXRhLXN0YXRlPVwicGF1c2VkXCIgIGQ9XCJNMTEsMTAgTDE4LDEzLjc0IDE4LDIyLjI4IDExLDI2IE0xOCwxMy43NCBMMjYsMTggMjYsMTggMTgsMjIuMjhcIiAvPlxuICA8L3N2Zz5cbmA7XG5zdmcuZGNTVkcgPSBgXG4gIDxzdmcgY2xhc3M9XCJzdmdcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgdmVyc2lvbj1cIjEuMVwiIGlkPVwiQ2FwYV8xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCJcbiAgIHZpZXdCb3g9XCIwIDAgNDAwIDQwMFwiIHN0eWxlPVwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyODYuMzc0IDI4Ni4zNzQ7XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbjxwYXRoIHN0cm9rZS13aWR0aD1cIjEwLjAwXCIgc3Ryb2tlLWxpbmVjYXA9XCJidXR0XCIgc3Ryb2tlLWxpbmVqb2luPVwibWl0ZXJcIiBvcGFjaXR5PVwiMVwiIGQ9XCJNIDEyMC4xNzQwNzk4OTUwMTk1MyAxNjIuMDQ3MTQ5NjU4MjAzMTIgTCAxMjEuMTY1NDk2ODI2MTcxODggMzIwLjY3MzkxOTY3NzczNDQgUSAyNzkuNzkyMjk3MzYzMjgxMjUgMzIxLjY2NTM0NDIzODI4MTI1IDI4MC43ODM2OTE0MDYyNSAyNDEuMzYwNTM0NjY3OTY4NzUgUSAyODEuNzc1MDg1NDQ5MjE4NzUgMTYxLjA1NTcyNTA5NzY1NjI1IDQzOS40MTA0NjE0MjU3ODEyNSAxNjAuMDY0MzE1Nzk1ODk4NDQgTCA0MzkuNDEwNDYxNDI1NzgxMjUgMjAwLjcxMjQzMjg2MTMyODEyIFEgMjgxLjc3NTExNTk2Njc5NjkgMTYzLjAzODU3NDIxODc1IDI4MC43ODM2OTE0MDYyNSAyNDEuMzYwNTM0NjY3OTY4NzUgUSAyNzkuNzkyMjY2ODQ1NzAzMSAzMTkuNjgyNDk1MTE3MTg3NSAxNTkuODMwNzY0NzcwNTA3OCAyODEuMDE3MjQyNDMxNjQwNiBMIDE1OC44MzkzNTU0Njg3NSAxOTguNzI5NTk4OTk5MDIzNDQgUSAyODEuNzc1MTE1OTY2Nzk2OSAxNjEuMDU1NzI1MDk3NjU2MjUgMjgwLjc4MzY5MTQwNjI1IDI0MS4zNjA1MzQ2Njc5Njg3NSBRIDI3OS43OTIyNjY4NDU3MDMxIDMyMS42NjUzNDQyMzgyODEyNSA0NDAuNDAxODU1NDY4NzUgMzIwLjY3MzkxOTY3NzczNDQgTCA0NDAuNDAxODU1NDY4NzUgMjgwLjAyNTgxNzg3MTA5Mzc1IFEgMjgwLjc4MzY5MTQwNjI1IDMyMS42NjUzNDQyMzgyODEyNSAyODAuNzgzNjkxNDA2MjUgMjQxLjM2MDUzNDY2Nzk2ODc1IEMgMjgwLjc4MzY5MTQwNjI1IDE2MS4wNTU3MjUwOTc2NTYyNSAxNjEuODEzNTk4NjMyODEyNSAxNjEuMDU1NzI1MDk3NjU2MjUgMTIwLjE3NDA3OTg5NTAxOTUzIDE2Mi4wNDcxNDk2NTgyMDMxMiBaXCIgc2VsZWN0ZWQ9XCJ0cnVlXCIgdHJhbnNmb3JtPVwibWF0cml4KDEgMCAwIDEgMCAwKVwiPjwvcGF0aD48L3N2Zz5gO1xuXG5zdmcucGF1c2VTVkcgPSBgXG4gIDxzdmcgY2xhc3M9XCJzdmdcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgdmlld0JveD1cIjAgMCAzNiAzNlwiID5cbiAgICA8cGF0aCBpZD1cInBhdXNlLWljb25cIiBkYXRhLXN0YXRlPVwicGxheWluZ1wiIGQ9XCJNMTEsMTAgTDE3LDEwIDE3LDI2IDExLDI2IE0yMCwxMCBMMjYsMTAgMjYsMjYgMjAsMjZcIiAvPlxuICA8L3N2Zz5cbmA7XG5cbnN2Zy5yZXBsYXlTVkcgPSBgXG4gIDxzdmcgY2xhc3M9XCJzdmdcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHZpZXdCb3g9XCIwIDAgMTAwMCAxMDAwXCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDEwMDAgMTAwMFwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+XG4gICAgPG1ldGFkYXRhPiBTdmcgVmVjdG9yIEljb25zIDogaHR0cDovL3d3dy5vbmxpbmV3ZWJmb250cy5jb20vaWNvbiA8L21ldGFkYXRhPlxuICAgIDxnPjxnIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgwLjAwMDAwMCw1MTEuMDAwMDAwKSBzY2FsZSgwLjEwMDAwMCwtMC4xMDAwMDApXCI+XG4gICAgICA8cGF0aCBkPVwiTTUzNTYuMyw0MjAzLjhjLTEyNDcuOC0xNTMuMS0yMzI0LjItODExLjMtMzAwMC43LTE4MzkuN2MtMzc5LjQtNTc4LjItNTk2LjUtMTIwOS02NjAuNS0xOTMzLjRsLTI3LjQtMjk0LjhIODgzLjljLTQzMS45LDAtNzgzLjktNi45LTc4My45LTE4LjNjMC05LjIsNDc3LjYtNDkzLjcsMTA2Mi43LTEwNzguN2wxMDYyLjctMTA2Mi43TDMyODguMS05NjEuMUMzODczLjEtMzc2LDQzNTAuOCwxMDguNSw0MzUwLjgsMTE3LjZjMCwxMS40LTM1Ni41LDE4LjMtNzkwLjcsMTguM2gtNzkzbDE4LjMsMTg5LjdDMjgzMSw4NzYuMywyOTkxLDEzMzgsMzI4OC4xLDE3NzkuMUM0MTIyLjMsMzAyNi45LDU3MDYsMzQ3Mi41LDcwNjUuOCwyODQxLjhDNzYzOS40LDI1NzguOSw4MTk3LDIwMzUsODQ4Ny4zLDE0NjEuNEM4NTgxLDEyNzQsODcwOSw4OTYuOSw4NzU0LjcsNjY2LjFjNDgtMjQ2LjgsNTQuOC04MTEuMyw5LjEtMTA1NS44Qzg1NjcuMy0xNDkxLjMsNzc4OC0yMzk0LDY3MjAuNy0yNzUwLjVjLTMxNS40LTEwNy40LTU0MS42LTEzOS40LTk0MS42LTEzOS40Yy0yODcuOSwwLTQxNS45LDExLjQtNTk4LjgsNTAuM2MtNTIzLjMsMTEyLTk3My42LDMzNS45LTEzNzEuMiw2ODFjLTc1LjQsNjguNi0xNDguNSwxMjMuNC0xNjAsMTIzLjRjLTkuMSwwLTE4Ny40LTE2OS4xLTM5My4xLTM3NC44Yy00MzQuMi00MzQuMi00MjAuNS0zNjMuNC0xMDUuMS02MjguNWM4NTIuNC03MTAuNywxOTcyLjMtMTA1NS44LDMwNDYuNC05MzdjMTYyNy4yLDE3NiwyOTc3LjgsMTI1NywzNDg5LjgsMjc5MC40YzQ1Ny4xLDEzNjguOSwxNjkuMSwyODQzLTc3NywzOTY5LjdDODMyMi43LDM0ODQsNzQxNy44LDQwMDAuNCw2NTAzLjYsNDE2MC40QzYxOTcuNCw0MjEzLDU2MTkuMiw0MjM1LjgsNTM1Ni4zLDQyMDMuOHpcIi8+XG4gICAgICA8cGF0aCBkPVwiTTQ5OTAuNywxMjQuNWMwLTE1MDMuOCw0LjYtMTc5NCwzMi0xNzc4YzE2LDkuMSw1MDUuMSw0MTMuNiwxMDg1LjYsODk1LjhDNzExMy44LDc4LjgsNzE2MS44LDEyMi4yLDcxMjIuOSwxNjFjLTgwLDc1LjQtMjEwOS40LDE3NTcuNS0yMTIwLjgsMTc1Ny41QzQ5OTUuMywxOTE4LjUsNDk5MC43LDExMTEuOCw0OTkwLjcsMTI0LjV6XCIvPlxuICAgIDwvZz48L2c+XG4gIDwvc3ZnPlxuYDtcblxuc3ZnLnZvbHVtZVNWRyA9IGBcbiAgPHN2ZyBjbGFzcz1cInN2Z1wiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiB2ZXJzaW9uPVwiMS4xXCIgaWQ9XCJDYXBhXzFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeD1cIjBweFwiIHk9XCIwcHhcIlxuICAgdmlld0JveD1cIjAgMCAyODYuMzc0IDI4Ni4zNzRcIiBzdHlsZT1cImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjg2LjM3NCAyODYuMzc0O1wiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+XG4gICAgPGcgaWQ9XCJWb2x1bWVfMlwiPlxuICAgICAgPHBhdGggc3R5bGU9XCJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtcIiBkPVwiTTIzMy42MzYsMjYuNzY3bC0zMy4zNzIsMjguNWMyNS42NTksMjEuMDcsNDIuMDA2LDUyLjYxNiw0Mi4wMDYsODcuOTJcbiAgICAgICAgYzAsMzUuMzA1LTE2LjM0Nyw2Ni44NTEtNDIuMDA2LDg3LjkyMWwzMy4zNzIsMjguNDk5YzMyLjMyNC0yOC44NjksNTIuNzM4LTcwLjI2OCw1Mi43MzgtMTE2LjQyMVxuICAgICAgICBDMjg2LjM3NCw5Ny4wMzQsMjY1Ljk2LDU1LjYzNSwyMzMuNjM2LDI2Ljc2N3ogTTE3Ny43MzcsNzQuNTEzbC0zNC42OSwyOS42NGMxNS4xNCw2LjgxOCwyNy4xOSwyMS42ODEsMjcuMTksMzkuMDM0XG4gICAgICAgIHMtMTIuMDUsMzIuMjE2LTI3LjE5LDM5LjAzNGwzNC42OSwyOS42NGMyMS4yOTQtMTUuNzE3LDM2LjA1MS00MC41ODYsMzYuMDUxLTY4LjY3NEMyMTMuNzg4LDExNS4wOTksMTk5LjAzLDkwLjIzLDE3Ny43MzcsNzQuNTEzelxuICAgICAgICAgTTEwOC42NzIsNDguMzE3TDQ0Ljc0Niw5OC40NDFIMTcuODk4QzQuNjcxLDk4LjQ0MSwwLDEwMy4yNjgsMCwxMTYuMzR2NTMuNjk1YzAsMTMuMDcyLDQuOTUxLDE3Ljg5OCwxNy44OTgsMTcuODk4aDI2Ljg0OFxuICAgICAgICBsNjMuOTI2LDUwLjA2OGM3LjY2OCw0Ljk0OCwxNi41NTgsNi41MDUsMTYuNTU4LTcuMzY1VjU1LjY4M0MxMjUuMjMsNDEuODEzLDExNi4zNCw0My4zNywxMDguNjcyLDQ4LjMxN3pcIi8+XG4gICAgPC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPlxuICA8L3N2Zz5cbmA7XG5cbnN2Zy52b2x1bWVNdXRlU1ZHID0gYFxuICA8c3ZnIGNsYXNzPVwic3ZnXCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiIHZlcnNpb249XCIxLjFcIiBpZD1cIkNhcGFfMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMHB4XCIgeT1cIjBweFwiXG4gICB2aWV3Qm94PVwiMCAwIDI4Ni4yNzcgMjg2LjI3N1wiIHN0eWxlPVwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyODYuMjc3IDI4Ni4yNzc7XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbiAgICA8ZyBpZD1cIlZvbHVtZV9ub25lXCI+XG4gICAgICA8cGF0aCBzdHlsZT1cImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO1wiIGQ9XCJNMjQ1LjEwMiwxNDMuMTUxbDM2Ljk4LTM3LjA3MWM1LjU5My01LjYwNSw1LjU5My0xNC42ODEsMC0yMC4yODRcbiAgICAgICAgbC0xMC4xMjQtMTAuMTQyYy01LjU5My01LjYwNC0xNC42NTUtNS42MDQtMjAuMjQ3LDBsLTM2Ljk4LDM3LjA3MWwtMzYuOTc3LTM3LjA0M2MtNS41OTQtNS42MDMtMTQuNjU0LTUuNjAzLTIwLjI0NywwXG4gICAgICAgIGwtMTAuMTI0LDEwLjE0M2MtNS41OTQsNS42MDMtNS41OTQsMTQuNjc5LDAsMjAuMjgybDM2Ljk4NywzNy4wNTNsLTM2Ljk2MSwzNy4wNTFjLTUuNTkxLDUuNjA0LTUuNTkxLDE0LjY4MSwwLDIwLjI4NFxuICAgICAgICBsMTAuMTI2LDEwLjE0MWM1LjU5Myw1LjYwNCwxNC42NTQsNS42MDQsMjAuMjQ3LDBsMzYuOTYtMzcuMDVsMzYuOTcsMzcuMDM1YzUuNTkyLDUuNjA1LDE0LjY1NCw1LjYwNSwyMC4yNDcsMGwxMC4xMjQtMTAuMTQxXG4gICAgICAgIGM1LjU5My01LjYwMyw1LjU5My0xNC42OCwwLTIwLjI4MkwyNDUuMTAyLDE0My4xNTF6IE0xMDguNjc0LDQ4LjI5Nkw0NC43NDcsOTguNDJIMTcuOWMtMTMuMjI4LDAtMTcuODk5LDQuODI2LTE3Ljg5OSwxNy44OThcbiAgICAgICAgTDAsMTQyLjcxOWwwLjAwMSwyNy4yOTVjMCwxMy4wNzIsNC45NTEsMTcuODk4LDE3Ljg5OSwxNy44OThoMjYuODQ3bDYzLjkyNyw1MC4wNjhjNy42NjcsNC45NDgsMTYuNTU3LDYuNTA1LDE2LjU1Ny03LjM2NVY1NS42NjJcbiAgICAgICAgQzEyNS4yMyw0MS43OTIsMTE2LjM0MSw0My4zNDksMTA4LjY3NCw0OC4yOTZ6XCIvPlxuICAgIDwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz5cbiAgPC9zdmc+XG5gO1xuXG5zdmcuc2V0dGluZ3NTVkcgPSBgXG4gIDxzdmcgY2xhc3M9XCJzdmdcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgdmVyc2lvbj1cIjEuMVwiIGlkPVwiQ2FwYV8xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCIgdmlld0JveD1cIjAgMCAyNjguNzY1IDI2OC43NjVcIiBzdHlsZT1cImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjY4Ljc2NSAyNjguNzY1O1wiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+XG4gICAgPGcgaWQ9XCJTZXR0aW5nc1wiPlxuICAgICAgPGc+XG4gICAgICAgIDxwYXRoIHN0eWxlPVwiZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7XCIgZD1cIk0yNjcuOTIsMTE5LjQ2MWMtMC40MjUtMy43NzgtNC44My02LjYxNy04LjYzOS02LjYxN1xuICAgICAgICAgIGMtMTIuMzE1LDAtMjMuMjQzLTcuMjMxLTI3LjgyNi0xOC40MTRjLTQuNjgyLTExLjQ1NC0xLjY2My0yNC44MTIsNy41MTUtMzMuMjMxYzIuODg5LTIuNjQxLDMuMjQtNy4wNjIsMC44MTctMTAuMTMzXG4gICAgICAgICAgYy02LjMwMy04LjAwNC0xMy40NjctMTUuMjM0LTIxLjI4OS0yMS41Yy0zLjA2My0yLjQ1OC03LjU1Ny0yLjExNi0xMC4yMTMsMC44MjVjLTguMDEsOC44NzEtMjIuMzk4LDEyLjE2OC0zMy41MTYsNy41MjlcbiAgICAgICAgICBjLTExLjU3LTQuODY3LTE4Ljg2Ni0xNi41OTEtMTguMTUyLTI5LjE3NmMwLjIzNS0zLjk1My0yLjY1NC03LjM5LTYuNTk1LTcuODQ5Yy0xMC4wMzgtMS4xNjEtMjAuMTY0LTEuMTk3LTMwLjIzMi0wLjA4XG4gICAgICAgICAgYy0zLjg5NiwwLjQzLTYuNzg1LDMuNzg2LTYuNjU0LDcuNjg5YzAuNDM4LDEyLjQ2MS02Ljk0NiwyMy45OC0xOC40MDEsMjguNjcyYy0xMC45ODUsNC40ODctMjUuMjcyLDEuMjE4LTMzLjI2Ni03LjU3NFxuICAgICAgICAgIGMtMi42NDItMi44OTYtNy4wNjMtMy4yNTItMTAuMTQxLTAuODUzYy04LjA1NCw2LjMxOS0xNS4zNzksMTMuNTU1LTIxLjc0LDIxLjQ5M2MtMi40ODEsMy4wODYtMi4xMTYsNy41NTksMC44MDIsMTAuMjE0XG4gICAgICAgICAgYzkuMzUzLDguNDcsMTIuMzczLDIxLjk0NCw3LjUxNCwzMy41M2MtNC42MzksMTEuMDQ2LTE2LjEwOSwxOC4xNjUtMjkuMjQsMTguMTY1Yy00LjI2MS0wLjEzNy03LjI5NiwyLjcyMy03Ljc2Miw2LjU5N1xuICAgICAgICAgIGMtMS4xODIsMTAuMDk2LTEuMTk2LDIwLjM4My0wLjA1OCwzMC41NjFjMC40MjIsMy43OTQsNC45NjEsNi42MDgsOC44MTIsNi42MDhjMTEuNzAyLTAuMjk5LDIyLjkzNyw2Ljk0NiwyNy42NSwxOC40MTVcbiAgICAgICAgICBjNC42OTgsMTEuNDU0LDEuNjc4LDI0LjgwNC03LjUxNCwzMy4yM2MtMi44NzUsMi42NDEtMy4yNCw3LjA1NS0wLjgxNywxMC4xMjZjNi4yNDQsNy45NTMsMTMuNDA5LDE1LjE5LDIxLjI1OSwyMS41MDhcbiAgICAgICAgICBjMy4wNzksMi40ODEsNy41NTksMi4xMzEsMTAuMjI4LTAuODFjOC4wNC04Ljg5MywyMi40MjctMTIuMTg0LDMzLjUwMS03LjUzNmMxMS41OTksNC44NTIsMTguODk1LDE2LjU3NSwxOC4xODEsMjkuMTY3XG4gICAgICAgICAgYy0wLjIzMywzLjk1NSwyLjY3LDcuMzk4LDYuNTk1LDcuODVjNS4xMzUsMC41OTksMTAuMzAxLDAuODk4LDE1LjQ4MSwwLjg5OGM0LjkxNywwLDkuODM1LTAuMjcsMTQuNzUyLTAuODE3XG4gICAgICAgICAgYzMuODk3LTAuNDMsNi43ODQtMy43ODYsNi42NTMtNy42OTZjLTAuNDUxLTEyLjQ1NCw2Ljk0Ni0yMy45NzMsMTguMzg2LTI4LjY1N2MxMS4wNTktNC41MTcsMjUuMjg2LTEuMjExLDMzLjI4MSw3LjU3MlxuICAgICAgICAgIGMyLjY1NywyLjg5LDcuMDQ3LDMuMjM5LDEwLjE0MiwwLjg0OGM4LjAzOS02LjMwNCwxNS4zNDktMTMuNTM0LDIxLjc0LTIxLjQ5NGMyLjQ4LTMuMDc5LDIuMTMtNy41NTktMC44MDMtMTAuMjEzXG4gICAgICAgICAgYy05LjM1My04LjQ3LTEyLjM4OC0yMS45NDYtNy41MjktMzMuNTI0YzQuNTY4LTEwLjg5OSwxNS42MTItMTguMjE3LDI3LjQ5MS0xOC4yMTdsMS42NjIsMC4wNDNcbiAgICAgICAgICBjMy44NTMsMC4zMTMsNy4zOTgtMi42NTUsNy44NjUtNi41ODhDMjY5LjA0NCwxMzkuOTE3LDI2OS4wNTgsMTI5LjYzOSwyNjcuOTIsMTE5LjQ2MXogTTEzNC41OTUsMTc5LjQ5MVxuICAgICAgICAgIGMtMjQuNzE4LDAtNDQuODI0LTIwLjEwNi00NC44MjQtNDQuODI0YzAtMjQuNzE3LDIwLjEwNi00NC44MjQsNDQuODI0LTQ0LjgyNGMyNC43MTcsMCw0NC44MjMsMjAuMTA3LDQ0LjgyMyw0NC44MjRcbiAgICAgICAgICBDMTc5LjQxOCwxNTkuMzg1LDE1OS4zMTIsMTc5LjQ5MSwxMzQuNTk1LDE3OS40OTF6XCIvPlxuICAgICAgPC9nPlxuICAgIDwvZz5cbiAgPGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+XG4gIDwvc3ZnPlxuYDtcblxuc3ZnLmFycm93UmlnaHRTVkcgPSBgXG4gIDxzdmcgY2xhc3M9XCJzdmdcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiIHZpZXdCb3g9XCIwIDAgNTAgODBcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxuICAgIDxwb2x5bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjEwXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgcG9pbnRzPVwiMC4zNzUsMC4zNzUgNDUuNjMsMzguMDg3IDAuMzc1LDc1LjggXCIvPlxuICA8L3N2Zz5cbmA7XG5cbnN2Zy5hcnJvd0xlZnRTVkcgPSBgXG4gIDxzdmcgY2xhc3M9XCJzdmdcIiBjbGFzcz1cInN2Z1wiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiB2aWV3Qm94PVwiMCAwIDUwIDgwXCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbiAgICA8cG9seWxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCIxMFwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHBvaW50cz1cIjQ1LjYzLDc1LjggMC4zNzUsMzguMDg3IDQ1LjYzLDAuMzc1IFwiLz5cbiAgPC9zdmc+IFxuYDtcblxuc3ZnLmZ1bGxTY3JlZW5TVkcgPSBgXG4gIDxzdmcgY2xhc3M9XCJzdmdcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgdmVyc2lvbj1cIjEuMVwiIGlkPVwiQ2FwYV8xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCIgdmlld0JveD1cIjAgMCAyOTguNjY3IDI5OC42NjdcIiBzdHlsZT1cImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjk4LjY2NyAyOTguNjY3O1wiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+XG4gICAgPGc+XG4gICAgICA8Zz5cbiAgICAgICAgPGc+XG4gICAgICAgICAgPHBvbHlnb24gcG9pbnRzPVwiNDIuNjY3LDE5MiAwLDE5MiAwLDI5OC42NjcgMTA2LjY2NywyOTguNjY3IDEwNi42NjcsMjU2IDQyLjY2NywyNTZcIi8+XG4gICAgICAgICAgPHBvbHlnb24gcG9pbnRzPVwiMCwxMDYuNjY3IDQyLjY2NywxMDYuNjY3IDQyLjY2Nyw0Mi42NjcgMTA2LjY2Nyw0Mi42NjcgMTA2LjY2NywwIDAsMFwiLz5cbiAgICAgICAgICA8cG9seWdvbiBwb2ludHM9XCIxOTIsMCAxOTIsNDIuNjY3IDI1Niw0Mi42NjcgMjU2LDEwNi42NjcgMjk4LjY2NywxMDYuNjY3IDI5OC42NjcsMFwiLz5cbiAgICAgICAgICA8cG9seWdvbiBwb2ludHM9XCIyNTYsMjU2IDE5MiwyNTYgMTkyLDI5OC42NjcgMjk4LjY2NywyOTguNjY3IDI5OC42NjcsMTkyIDI1NiwxOTJcIi8+XG4gICAgICAgIDwvZz5cbiAgICAgIDwvZz5cbiAgICA8L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+XG4gIDwvc3ZnPlxuYDtcblxuc3ZnLmxvb3BTVkcgPSBgXG48c3ZnIGNsYXNzPVwic3ZnXCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiIHZlcnNpb249XCIxLjFcIiBpZD1cIkNhcGFfMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHZpZXdCb3g9XCIwIDAgMzIgMzJcIiBzdHlsZT1cImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzIgMzI7XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbiAgPGc+XG4gICAgPGcgaWQ9XCJsb29wX3g1Rl9hbHQzXCI+XG4gICAgICA8Zz5cbiAgICAgICAgPHBhdGggZD1cIk0yOCwxNnYyYzAsMS4xMDItMC44OTgsMi0yLDJIMTEuOTk2TDEyLDE2bC04LDZsOCw2bC0wLjAwNC00SDI2YzMuMzA5LDAsNi0yLjY5NSw2LTZ2LTJIMjh6XCIvPlxuICAgICAgICA8cGF0aCBkPVwiTTQsMTRjMC0xLjEwNSwwLjg5OC0yLDItMmgxNHY0bDcuOTkyLTZMMjAsNHY0SDZjLTMuMzA5LDAtNiwyLjY4OC02LDZ2Mmg0VjE0elwiLz5cbiAgICAgIDwvZz5cbiAgICA8L2c+XG4gIDwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz5cbjwvc3ZnPmA7XG5cbnN2Zy5sb2FkaW5nU1ZHID0gYDxzdmcgY2xhc3M9XCJsZHMtc3Bpbm5lclwiIHdpZHRoPVwiODBweFwiICBoZWlnaHQ9XCI4MHB4XCIgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB2aWV3Qm94PVwiMCAwIDEwMCAxMDBcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWRcIiBzdHlsZT1cImJhY2tncm91bmQ6IG5vbmU7XCI+PGcgdHJhbnNmb3JtPVwicm90YXRlKDAgNTAgNTApXCI+XG4gIDxyZWN0IHg9XCI0N1wiIHk9XCIyNFwiIHJ4PVwiOS40XCIgcnk9XCI0LjhcIiB3aWR0aD1cIjZcIiBoZWlnaHQ9XCIxMlwiIGZpbGw9XCIjZmZmXCI+XG4gICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cIm9wYWNpdHlcIiB2YWx1ZXM9XCIxOzBcIiBrZXlUaW1lcz1cIjA7MVwiIGR1cj1cIjFzXCIgYmVnaW49XCItMC45MTY2NjY2NjY2NjY2NjY2c1wiIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiPjwvYW5pbWF0ZT5cbiAgPC9yZWN0PlxuPC9nPjxnIHRyYW5zZm9ybT1cInJvdGF0ZSgzMCA1MCA1MClcIj5cbiAgPHJlY3QgeD1cIjQ3XCIgeT1cIjI0XCIgcng9XCI5LjRcIiByeT1cIjQuOFwiIHdpZHRoPVwiNlwiIGhlaWdodD1cIjEyXCIgZmlsbD1cIiNmZmZcIj5cbiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwib3BhY2l0eVwiIHZhbHVlcz1cIjE7MFwiIGtleVRpbWVzPVwiMDsxXCIgZHVyPVwiMXNcIiBiZWdpbj1cIi0wLjgzMzMzMzMzMzMzMzMzMzRzXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCI+PC9hbmltYXRlPlxuICA8L3JlY3Q+XG48L2c+PGcgdHJhbnNmb3JtPVwicm90YXRlKDYwIDUwIDUwKVwiPlxuICA8cmVjdCB4PVwiNDdcIiB5PVwiMjRcIiByeD1cIjkuNFwiIHJ5PVwiNC44XCIgd2lkdGg9XCI2XCIgaGVpZ2h0PVwiMTJcIiBmaWxsPVwiI2ZmZlwiPlxuICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCIgdmFsdWVzPVwiMTswXCIga2V5VGltZXM9XCIwOzFcIiBkdXI9XCIxc1wiIGJlZ2luPVwiLTAuNzVzXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCI+PC9hbmltYXRlPlxuICA8L3JlY3Q+XG48L2c+PGcgdHJhbnNmb3JtPVwicm90YXRlKDkwIDUwIDUwKVwiPlxuICA8cmVjdCB4PVwiNDdcIiB5PVwiMjRcIiByeD1cIjkuNFwiIHJ5PVwiNC44XCIgd2lkdGg9XCI2XCIgaGVpZ2h0PVwiMTJcIiBmaWxsPVwiI2ZmZlwiPlxuICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCIgdmFsdWVzPVwiMTswXCIga2V5VGltZXM9XCIwOzFcIiBkdXI9XCIxc1wiIGJlZ2luPVwiLTAuNjY2NjY2NjY2NjY2NjY2NnNcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIj48L2FuaW1hdGU+XG4gIDwvcmVjdD5cbjwvZz48ZyB0cmFuc2Zvcm09XCJyb3RhdGUoMTIwIDUwIDUwKVwiPlxuICA8cmVjdCB4PVwiNDdcIiB5PVwiMjRcIiByeD1cIjkuNFwiIHJ5PVwiNC44XCIgd2lkdGg9XCI2XCIgaGVpZ2h0PVwiMTJcIiBmaWxsPVwiI2ZmZlwiPlxuICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCIgdmFsdWVzPVwiMTswXCIga2V5VGltZXM9XCIwOzFcIiBkdXI9XCIxc1wiIGJlZ2luPVwiLTAuNTgzMzMzMzMzMzMzMzMzNHNcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIj48L2FuaW1hdGU+XG4gIDwvcmVjdD5cbjwvZz48ZyB0cmFuc2Zvcm09XCJyb3RhdGUoMTUwIDUwIDUwKVwiPlxuICA8cmVjdCB4PVwiNDdcIiB5PVwiMjRcIiByeD1cIjkuNFwiIHJ5PVwiNC44XCIgd2lkdGg9XCI2XCIgaGVpZ2h0PVwiMTJcIiBmaWxsPVwiI2ZmZlwiPlxuICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCIgdmFsdWVzPVwiMTswXCIga2V5VGltZXM9XCIwOzFcIiBkdXI9XCIxc1wiIGJlZ2luPVwiLTAuNXNcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIj48L2FuaW1hdGU+XG4gIDwvcmVjdD5cbjwvZz48ZyB0cmFuc2Zvcm09XCJyb3RhdGUoMTgwIDUwIDUwKVwiPlxuICA8cmVjdCB4PVwiNDdcIiB5PVwiMjRcIiByeD1cIjkuNFwiIHJ5PVwiNC44XCIgd2lkdGg9XCI2XCIgaGVpZ2h0PVwiMTJcIiBmaWxsPVwiI2ZmZlwiPlxuICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCIgdmFsdWVzPVwiMTswXCIga2V5VGltZXM9XCIwOzFcIiBkdXI9XCIxc1wiIGJlZ2luPVwiLTAuNDE2NjY2NjY2NjY2NjY2N3NcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIj48L2FuaW1hdGU+XG4gIDwvcmVjdD5cbjwvZz48ZyB0cmFuc2Zvcm09XCJyb3RhdGUoMjEwIDUwIDUwKVwiPlxuICA8cmVjdCB4PVwiNDdcIiB5PVwiMjRcIiByeD1cIjkuNFwiIHJ5PVwiNC44XCIgd2lkdGg9XCI2XCIgaGVpZ2h0PVwiMTJcIiBmaWxsPVwiI2ZmZlwiPlxuICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCIgdmFsdWVzPVwiMTswXCIga2V5VGltZXM9XCIwOzFcIiBkdXI9XCIxc1wiIGJlZ2luPVwiLTAuMzMzMzMzMzMzMzMzMzMzM3NcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIj48L2FuaW1hdGU+XG4gIDwvcmVjdD5cbjwvZz48ZyB0cmFuc2Zvcm09XCJyb3RhdGUoMjQwIDUwIDUwKVwiPlxuICA8cmVjdCB4PVwiNDdcIiB5PVwiMjRcIiByeD1cIjkuNFwiIHJ5PVwiNC44XCIgd2lkdGg9XCI2XCIgaGVpZ2h0PVwiMTJcIiBmaWxsPVwiI2ZmZlwiPlxuICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCIgdmFsdWVzPVwiMTswXCIga2V5VGltZXM9XCIwOzFcIiBkdXI9XCIxc1wiIGJlZ2luPVwiLTAuMjVzXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCI+PC9hbmltYXRlPlxuICA8L3JlY3Q+XG48L2c+PGcgdHJhbnNmb3JtPVwicm90YXRlKDI3MCA1MCA1MClcIj5cbiAgPHJlY3QgeD1cIjQ3XCIgeT1cIjI0XCIgcng9XCI5LjRcIiByeT1cIjQuOFwiIHdpZHRoPVwiNlwiIGhlaWdodD1cIjEyXCIgZmlsbD1cIiNmZmZcIj5cbiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwib3BhY2l0eVwiIHZhbHVlcz1cIjE7MFwiIGtleVRpbWVzPVwiMDsxXCIgZHVyPVwiMXNcIiBiZWdpbj1cIi0wLjE2NjY2NjY2NjY2NjY2NjY2c1wiIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiPjwvYW5pbWF0ZT5cbiAgPC9yZWN0PlxuPC9nPjxnIHRyYW5zZm9ybT1cInJvdGF0ZSgzMDAgNTAgNTApXCI+XG4gIDxyZWN0IHg9XCI0N1wiIHk9XCIyNFwiIHJ4PVwiOS40XCIgcnk9XCI0LjhcIiB3aWR0aD1cIjZcIiBoZWlnaHQ9XCIxMlwiIGZpbGw9XCIjZmZmXCI+XG4gICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cIm9wYWNpdHlcIiB2YWx1ZXM9XCIxOzBcIiBrZXlUaW1lcz1cIjA7MVwiIGR1cj1cIjFzXCIgYmVnaW49XCItMC4wODMzMzMzMzMzMzMzMzMzM3NcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIj48L2FuaW1hdGU+XG4gIDwvcmVjdD5cbjwvZz48ZyB0cmFuc2Zvcm09XCJyb3RhdGUoMzMwIDUwIDUwKVwiPlxuICA8cmVjdCB4PVwiNDdcIiB5PVwiMjRcIiByeD1cIjkuNFwiIHJ5PVwiNC44XCIgd2lkdGg9XCI2XCIgaGVpZ2h0PVwiMTJcIiBmaWxsPVwiI2ZmZlwiPlxuICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCIgdmFsdWVzPVwiMTswXCIga2V5VGltZXM9XCIwOzFcIiBkdXI9XCIxc1wiIGJlZ2luPVwiMHNcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIj48L2FuaW1hdGU+XG4gIDwvcmVjdD5cbjwvZz48L3N2Zz5gO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBS0E7QUFLQTtBQU1BO0FBVUE7QUFjQTtBQWVBO0FBMkJBO0FBTUE7QUFNQTtBQWVBO0FBWUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../src/html/svg.js\n");

/***/ }),

/***/ "../src/html/themes.js":
/*!*****************************!*\
  !*** ../src/html/themes.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var themes = {\n  default: {\n    \"settings-background-color\": \"whitesmoke\",\n    \"hms-background-color\": \"whitesmoke\",\n    \"background-color\": \"whitesmoke\",\n    \"grad-height\": \"0px\",\n    color: \"black\",\n    \"svg-color\": \"black\",\n    \"loopbar-color\": \"#808086\",\n    \"speedbar-color\": \"#666\",\n    \"runningbar-color\": \"red\",\n    \"cursor-color\": \"red\",\n    \"speedbar-cursor-color\": \"red\",\n    \"button-opacity\": \"0.8\",\n    \"hover-color\": \"rgba(200, 200, 200, 0.5)\",\n    \"slider-off-color\": \"#ccc\",\n    \"slider-on-color\": \"red\",\n    \"preview-border\": \"1px solid rgba(0,0,0,1)\",\n    border: \"1px solid rgba(255,255,255,0.2)\",\n    \"controls-border\": \"none\",\n    \"svg-selected-color\": \"red\"\n  },\n  dark: {\n    \"settings-background-color\": \"black\",\n    \"hms-background-color\": \"black\",\n    \"background-color\": \"black\",\n    \"grad-height\": \"0px\",\n    color: \"white\",\n    \"svg-color\": \"white\",\n    \"loopbar-color\": \"#808086\",\n    \"speedbar-color\": \"#666\",\n    \"runningbar-color\": \"red\",\n    \"cursor-color\": \"red\",\n    \"speedbar-cursor-color\": \"red\",\n    \"button-opacity\": \"0.8\",\n    \"hover-color\": \"rgba(90, 90, 90, 0.5)\",\n    \"slider-off-color\": \"#ccc\",\n    \"slider-on-color\": \"red\",\n    \"preview-border\": \"1px solid rgba(0,0,0,1)\",\n    border: \"1px solid rgba(255,255,255,0.2)\",\n    \"controls-border\": \"none\",\n    \"svg-selected-color\": \"red\"\n  },\n  whiteGold: {\n    \"settings-background-color\": \"white\",\n    \"hms-background-color\": \"white\",\n    \"background-color\": \"white\",\n    \"grad-height\": \"0px\",\n    color: \"#a17f1a\",\n    \"svg-color\": \"#a17f1a\",\n    \"loopbar-color\": \"#808086\",\n    \"speedbar-color\": \"#666\",\n    \"runningbar-color\": \"#a17f1a\",\n    \"cursor-color\": \"#a17f1a\",\n    \"speedbar-cursor-color\": \"#a17f1a\",\n    \"button-opacity\": \"0.8\",\n    \"hover-color\": \"rgba(200, 200, 200, 0.5)\",\n    \"slider-off-color\": \"#ccc\",\n    \"slider-on-color\": \"#a17f1a\",\n    \"preview-border\": \"1px solid rgba(0,0,0,1)\",\n    border: \"1px solid rgba(255,255,255,0.2)\",\n    \"controls-border\": \"none\",\n    \"svg-selected-color\": \"red\"\n  },\n  darkGold: {\n    \"settings-background-color\": \"black\",\n    \"hms-background-color\": \"black\",\n    \"background-color\": \"black\",\n    \"grad-height\": \"0px\",\n    color: \"#a17f1a\",\n    \"svg-color\": \"#a17f1a\",\n    \"loopbar-color\": \"#808086\",\n    \"speedbar-color\": \"#666\",\n    \"runningbar-color\": \"#a17f1a\",\n    \"cursor-color\": \"#a17f1a\",\n    \"speedbar-cursor-color\": \"#a17f1a\",\n    \"button-opacity\": \"0.8\",\n    \"hover-color\": \"rgba(90, 90, 90, 0.5)\",\n    \"slider-off-color\": \"#ccc\",\n    \"slider-on-color\": \"#a17f1a\",\n    \"preview-border\": \"1px solid rgba(0,0,0,1)\",\n    border: \"1px solid rgba(255,255,255,0.2)\",\n    \"controls-border\": \"none\",\n    \"svg-selected-color\": \"red\"\n  },\n  transparent: {\n    \"background-color\": \"transparent\",\n    \"settings-background-color\": \"rgba(0,0,0,0.5)\",\n    \"hms-background-color\": \"rgba(0,0,0,0.5)\",\n    \"preview-border\": \"1px solid rgba(0,0,0,1)\",\n    color: \"white\",\n    \"grad-height\": \"60px\",\n    \"svg-color\": \"white\",\n    \"loopbar-color\": \"#808086\",\n    \"speedbar-color\": \"#666\",\n    \"runningbar-color\": \"red\",\n    \"cursor-color\": \"red\",\n    \"speedbar-cursor-color\": \"red\",\n    \"button-opacity\": \"0.8\",\n    \"hover-color\": \"rgba(200, 200, 200, 0.5)\",\n    \"slider-off-color\": \"#ccc\",\n    \"slider-on-color\": \"red\",\n    border: \"1px solid rgba(255,255,255,0.1)\",\n    \"controls-border\": \"1px solid rgba(255,255,255,0.1)\",\n    \"svg-selected-color\": \"red\"\n  },\n  \"on-top\": {\n    \"background-height\": \"100%\",\n    \"pointer-event-panel-height\": \"calc(100% - 45px)\",\n    \"controls-bottom\": \"0px\",\n    \"settings-panel-bottom\": \"45px\",\n    \"controls-position\": \"0px\"\n  },\n  \"position-default\": {\n    \"background-height\": \"calc(100% - 40px)\",\n    \"pointer-event-panel-height\": \"calc(100% - 40px)\",\n    \"controls-bottom\": \"-0px\",\n    \"settings-panel-bottom\": \"45px\",\n    \"controls-position\": \"40px\"\n  }\n};\n\nmodule.exports = function (theme) {\n  return themes[theme];\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2h0bWwvdGhlbWVzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9odG1sL3RoZW1lcy5qcz84YmExIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRoZW1lcyA9IHtcbiAgZGVmYXVsdDoge1xuICAgIFwic2V0dGluZ3MtYmFja2dyb3VuZC1jb2xvclwiOiBcIndoaXRlc21va2VcIixcbiAgICBcImhtcy1iYWNrZ3JvdW5kLWNvbG9yXCI6IFwid2hpdGVzbW9rZVwiLFxuICAgIFwiYmFja2dyb3VuZC1jb2xvclwiOiBcIndoaXRlc21va2VcIixcbiAgICBcImdyYWQtaGVpZ2h0XCI6IFwiMHB4XCIsXG4gICAgY29sb3I6IFwiYmxhY2tcIixcbiAgICBcInN2Zy1jb2xvclwiOiBcImJsYWNrXCIsXG4gICAgXCJsb29wYmFyLWNvbG9yXCI6IFwiIzgwODA4NlwiLFxuICAgIFwic3BlZWRiYXItY29sb3JcIjogXCIjNjY2XCIsXG4gICAgXCJydW5uaW5nYmFyLWNvbG9yXCI6IFwicmVkXCIsXG4gICAgXCJjdXJzb3ItY29sb3JcIjogXCJyZWRcIixcbiAgICBcInNwZWVkYmFyLWN1cnNvci1jb2xvclwiOiBcInJlZFwiLFxuICAgIFwiYnV0dG9uLW9wYWNpdHlcIjogXCIwLjhcIixcbiAgICBcImhvdmVyLWNvbG9yXCI6IFwicmdiYSgyMDAsIDIwMCwgMjAwLCAwLjUpXCIsXG4gICAgXCJzbGlkZXItb2ZmLWNvbG9yXCI6IFwiI2NjY1wiLFxuICAgIFwic2xpZGVyLW9uLWNvbG9yXCI6IFwicmVkXCIsXG4gICAgXCJwcmV2aWV3LWJvcmRlclwiOiBcIjFweCBzb2xpZCByZ2JhKDAsMCwwLDEpXCIsXG4gICAgYm9yZGVyOiBcIjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMilcIixcbiAgICBcImNvbnRyb2xzLWJvcmRlclwiOiBcIm5vbmVcIixcbiAgICBcInN2Zy1zZWxlY3RlZC1jb2xvclwiOiBcInJlZFwiXG4gIH0sXG4gIGRhcms6IHtcbiAgICBcInNldHRpbmdzLWJhY2tncm91bmQtY29sb3JcIjogXCJibGFja1wiLFxuICAgIFwiaG1zLWJhY2tncm91bmQtY29sb3JcIjogXCJibGFja1wiLFxuICAgIFwiYmFja2dyb3VuZC1jb2xvclwiOiBcImJsYWNrXCIsXG4gICAgXCJncmFkLWhlaWdodFwiOiBcIjBweFwiLFxuICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgXCJzdmctY29sb3JcIjogXCJ3aGl0ZVwiLFxuICAgIFwibG9vcGJhci1jb2xvclwiOiBcIiM4MDgwODZcIixcbiAgICBcInNwZWVkYmFyLWNvbG9yXCI6IFwiIzY2NlwiLFxuICAgIFwicnVubmluZ2Jhci1jb2xvclwiOiBcInJlZFwiLFxuICAgIFwiY3Vyc29yLWNvbG9yXCI6IFwicmVkXCIsXG4gICAgXCJzcGVlZGJhci1jdXJzb3ItY29sb3JcIjogXCJyZWRcIixcbiAgICBcImJ1dHRvbi1vcGFjaXR5XCI6IFwiMC44XCIsXG4gICAgXCJob3Zlci1jb2xvclwiOiBcInJnYmEoOTAsIDkwLCA5MCwgMC41KVwiLFxuICAgIFwic2xpZGVyLW9mZi1jb2xvclwiOiBcIiNjY2NcIixcbiAgICBcInNsaWRlci1vbi1jb2xvclwiOiBcInJlZFwiLFxuICAgIFwicHJldmlldy1ib3JkZXJcIjogXCIxcHggc29saWQgcmdiYSgwLDAsMCwxKVwiLFxuICAgIGJvcmRlcjogXCIxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjIpXCIsXG4gICAgXCJjb250cm9scy1ib3JkZXJcIjogXCJub25lXCIsXG4gICAgXCJzdmctc2VsZWN0ZWQtY29sb3JcIjogXCJyZWRcIlxuICB9LFxuICB3aGl0ZUdvbGQ6IHtcbiAgICBcInNldHRpbmdzLWJhY2tncm91bmQtY29sb3JcIjogXCJ3aGl0ZVwiLFxuICAgIFwiaG1zLWJhY2tncm91bmQtY29sb3JcIjogXCJ3aGl0ZVwiLFxuICAgIFwiYmFja2dyb3VuZC1jb2xvclwiOiBcIndoaXRlXCIsXG4gICAgXCJncmFkLWhlaWdodFwiOiBcIjBweFwiLFxuICAgIGNvbG9yOiBcIiNhMTdmMWFcIixcbiAgICBcInN2Zy1jb2xvclwiOiBcIiNhMTdmMWFcIixcbiAgICBcImxvb3BiYXItY29sb3JcIjogXCIjODA4MDg2XCIsXG4gICAgXCJzcGVlZGJhci1jb2xvclwiOiBcIiM2NjZcIixcbiAgICBcInJ1bm5pbmdiYXItY29sb3JcIjogXCIjYTE3ZjFhXCIsXG4gICAgXCJjdXJzb3ItY29sb3JcIjogXCIjYTE3ZjFhXCIsXG4gICAgXCJzcGVlZGJhci1jdXJzb3ItY29sb3JcIjogXCIjYTE3ZjFhXCIsXG4gICAgXCJidXR0b24tb3BhY2l0eVwiOiBcIjAuOFwiLFxuICAgIFwiaG92ZXItY29sb3JcIjogXCJyZ2JhKDIwMCwgMjAwLCAyMDAsIDAuNSlcIixcbiAgICBcInNsaWRlci1vZmYtY29sb3JcIjogXCIjY2NjXCIsXG4gICAgXCJzbGlkZXItb24tY29sb3JcIjogXCIjYTE3ZjFhXCIsXG4gICAgXCJwcmV2aWV3LWJvcmRlclwiOiBcIjFweCBzb2xpZCByZ2JhKDAsMCwwLDEpXCIsXG4gICAgYm9yZGVyOiBcIjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMilcIixcbiAgICBcImNvbnRyb2xzLWJvcmRlclwiOiBcIm5vbmVcIixcbiAgICBcInN2Zy1zZWxlY3RlZC1jb2xvclwiOiBcInJlZFwiXG4gIH0sXG4gIGRhcmtHb2xkOiB7XG4gICAgXCJzZXR0aW5ncy1iYWNrZ3JvdW5kLWNvbG9yXCI6IFwiYmxhY2tcIixcbiAgICBcImhtcy1iYWNrZ3JvdW5kLWNvbG9yXCI6IFwiYmxhY2tcIixcbiAgICBcImJhY2tncm91bmQtY29sb3JcIjogXCJibGFja1wiLFxuICAgIFwiZ3JhZC1oZWlnaHRcIjogXCIwcHhcIixcbiAgICBjb2xvcjogXCIjYTE3ZjFhXCIsXG4gICAgXCJzdmctY29sb3JcIjogXCIjYTE3ZjFhXCIsXG4gICAgXCJsb29wYmFyLWNvbG9yXCI6IFwiIzgwODA4NlwiLFxuICAgIFwic3BlZWRiYXItY29sb3JcIjogXCIjNjY2XCIsXG4gICAgXCJydW5uaW5nYmFyLWNvbG9yXCI6IFwiI2ExN2YxYVwiLFxuICAgIFwiY3Vyc29yLWNvbG9yXCI6IFwiI2ExN2YxYVwiLFxuICAgIFwic3BlZWRiYXItY3Vyc29yLWNvbG9yXCI6IFwiI2ExN2YxYVwiLFxuICAgIFwiYnV0dG9uLW9wYWNpdHlcIjogXCIwLjhcIixcbiAgICBcImhvdmVyLWNvbG9yXCI6IFwicmdiYSg5MCwgOTAsIDkwLCAwLjUpXCIsXG4gICAgXCJzbGlkZXItb2ZmLWNvbG9yXCI6IFwiI2NjY1wiLFxuICAgIFwic2xpZGVyLW9uLWNvbG9yXCI6IFwiI2ExN2YxYVwiLFxuICAgIFwicHJldmlldy1ib3JkZXJcIjogXCIxcHggc29saWQgcmdiYSgwLDAsMCwxKVwiLFxuICAgIGJvcmRlcjogXCIxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjIpXCIsXG4gICAgXCJjb250cm9scy1ib3JkZXJcIjogXCJub25lXCIsXG4gICAgXCJzdmctc2VsZWN0ZWQtY29sb3JcIjogXCJyZWRcIlxuICB9LFxuICB0cmFuc3BhcmVudDoge1xuICAgIFwiYmFja2dyb3VuZC1jb2xvclwiOiBcInRyYW5zcGFyZW50XCIsXG4gICAgXCJzZXR0aW5ncy1iYWNrZ3JvdW5kLWNvbG9yXCI6IFwicmdiYSgwLDAsMCwwLjUpXCIsXG4gICAgXCJobXMtYmFja2dyb3VuZC1jb2xvclwiOiBcInJnYmEoMCwwLDAsMC41KVwiLFxuICAgIFwicHJldmlldy1ib3JkZXJcIjogXCIxcHggc29saWQgcmdiYSgwLDAsMCwxKVwiLFxuICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgXCJncmFkLWhlaWdodFwiOiBcIjYwcHhcIixcbiAgICBcInN2Zy1jb2xvclwiOiBcIndoaXRlXCIsXG4gICAgXCJsb29wYmFyLWNvbG9yXCI6IFwiIzgwODA4NlwiLFxuICAgIFwic3BlZWRiYXItY29sb3JcIjogXCIjNjY2XCIsXG4gICAgXCJydW5uaW5nYmFyLWNvbG9yXCI6IFwicmVkXCIsXG4gICAgXCJjdXJzb3ItY29sb3JcIjogXCJyZWRcIixcbiAgICBcInNwZWVkYmFyLWN1cnNvci1jb2xvclwiOiBcInJlZFwiLFxuICAgIFwiYnV0dG9uLW9wYWNpdHlcIjogXCIwLjhcIixcbiAgICBcImhvdmVyLWNvbG9yXCI6IFwicmdiYSgyMDAsIDIwMCwgMjAwLCAwLjUpXCIsXG4gICAgXCJzbGlkZXItb2ZmLWNvbG9yXCI6IFwiI2NjY1wiLFxuICAgIFwic2xpZGVyLW9uLWNvbG9yXCI6IFwicmVkXCIsXG4gICAgYm9yZGVyOiBcIjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMSlcIixcbiAgICBcImNvbnRyb2xzLWJvcmRlclwiOiBcIjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMSlcIixcbiAgICBcInN2Zy1zZWxlY3RlZC1jb2xvclwiOiBcInJlZFwiXG4gIH0sXG4gIFwib24tdG9wXCI6IHtcbiAgICBcImJhY2tncm91bmQtaGVpZ2h0XCI6IFwiMTAwJVwiLFxuICAgIFwicG9pbnRlci1ldmVudC1wYW5lbC1oZWlnaHRcIjogXCJjYWxjKDEwMCUgLSA0NXB4KVwiLFxuICAgIFwiY29udHJvbHMtYm90dG9tXCI6IFwiMHB4XCIsXG4gICAgXCJzZXR0aW5ncy1wYW5lbC1ib3R0b21cIjogXCI0NXB4XCIsXG4gICAgXCJjb250cm9scy1wb3NpdGlvblwiOiBcIjBweFwiXG4gIH0sXG4gIFwicG9zaXRpb24tZGVmYXVsdFwiOiB7XG4gICAgXCJiYWNrZ3JvdW5kLWhlaWdodFwiOiBcImNhbGMoMTAwJSAtIDQwcHgpXCIsXG4gICAgXCJwb2ludGVyLWV2ZW50LXBhbmVsLWhlaWdodFwiOiBcImNhbGMoMTAwJSAtIDQwcHgpXCIsXG4gICAgXCJjb250cm9scy1ib3R0b21cIjogXCItMHB4XCIsXG4gICAgXCJzZXR0aW5ncy1wYW5lbC1ib3R0b21cIjogXCI0NXB4XCIsXG4gICAgXCJjb250cm9scy1wb3NpdGlvblwiOiBcIjQwcHhcIlxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHRoZW1lID0+IHRoZW1lc1t0aGVtZV07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5CQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUFxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5CQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFqSEE7QUFDQTtBQXlIQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../src/html/themes.js\n");

/***/ }),

/***/ "../src/listeners/body.js":
/*!********************************!*\
  !*** ../src/listeners/body.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ../helpers */ \"../src/helpers.js\"),\n    el = _require.el,\n    elid = _require.elid;\n\nmodule.exports = function (_this) {\n  el(\"body\")[0].addEventListener(\"click\", function (e) {\n    if (e.target.className === \"\".concat(_this.name, \"-speed-value\")) {\n      var speedDisplay = e.target.dataset.speedValue - 0;\n      _this.clip.executionSpeed = e.target.dataset.speedValue;\n      _this.clip.speed == 1 ? speedDisplay = \"Normal\" : speedDisplay = _this.clip.speed;\n      _this.elements.speedCurrent.innerHTML = speedDisplay;\n      var step = 1 / (_this.options.speedValues.length - 1);\n      var positionY = (e.target.dataset.zone * step - 1) * -1 * ((_this.options.speedValues.length - 1) * 16);\n      elid(\"\".concat(_this.name, \"-speed-cursor\")).style.top = positionY + \"px\";\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2xpc3RlbmVycy9ib2R5LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9saXN0ZW5lcnMvYm9keS5qcz9kZGJkIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgZWwsIGVsaWQgfSA9IHJlcXVpcmUoYC4uL2hlbHBlcnNgKTtcblxubW9kdWxlLmV4cG9ydHMgPSBfdGhpcyA9PiB7XG4gIGVsKGBib2R5YClbMF0uYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBlID0+IHtcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NOYW1lID09PSBgJHtfdGhpcy5uYW1lfS1zcGVlZC12YWx1ZWApIHtcbiAgICAgIGxldCBzcGVlZERpc3BsYXkgPSBlLnRhcmdldC5kYXRhc2V0LnNwZWVkVmFsdWUgLSAwO1xuICAgICAgX3RoaXMuY2xpcC5leGVjdXRpb25TcGVlZCA9IGUudGFyZ2V0LmRhdGFzZXQuc3BlZWRWYWx1ZTtcbiAgICAgIF90aGlzLmNsaXAuc3BlZWQgPT0gMVxuICAgICAgICA/IChzcGVlZERpc3BsYXkgPSBgTm9ybWFsYClcbiAgICAgICAgOiAoc3BlZWREaXNwbGF5ID0gX3RoaXMuY2xpcC5zcGVlZCk7XG4gICAgICBfdGhpcy5lbGVtZW50cy5zcGVlZEN1cnJlbnQuaW5uZXJIVE1MID0gc3BlZWREaXNwbGF5O1xuXG4gICAgICBjb25zdCBzdGVwID0gMSAvIChfdGhpcy5vcHRpb25zLnNwZWVkVmFsdWVzLmxlbmd0aCAtIDEpO1xuXG4gICAgICBjb25zdCBwb3NpdGlvblkgPVxuICAgICAgICAoZS50YXJnZXQuZGF0YXNldC56b25lICogc3RlcCAtIDEpICpcbiAgICAgICAgLTEgKlxuICAgICAgICAoKF90aGlzLm9wdGlvbnMuc3BlZWRWYWx1ZXMubGVuZ3RoIC0gMSkgKiAxNik7XG5cbiAgICAgIGVsaWQoYCR7X3RoaXMubmFtZX0tc3BlZWQtY3Vyc29yYCkuc3R5bGUudG9wID0gcG9zaXRpb25ZICsgYHB4YDtcbiAgICB9XG4gIH0pO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../src/listeners/body.js\n");

/***/ }),

/***/ "../src/listeners/controls.js":
/*!************************************!*\
  !*** ../src/listeners/controls.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ../helpers */ \"../src/helpers.js\"),\n    elid = _require.elid;\n\nmodule.exports = function (_this) {\n  elid(\"\".concat(_this.name, \"-controls\")).onmouseover = function () {\n    if (!_this.settings.loopActivated) {\n      return;\n    }\n\n    _this.elements.loopBarStart.classList.remove(\"m-fadeOut\");\n\n    _this.elements.loopBarEnd.classList.remove(\"m-fadeOut\");\n\n    _this.elements.loopBarStart.classList.add(\"m-fadeIn\");\n\n    _this.elements.loopBarEnd.classList.add(\"m-fadeIn\");\n  };\n\n  elid(\"\".concat(_this.name, \"-controls\")).onmouseout = function (event) {\n    var e = event.toElement || event.relatedTarget || event.target;\n\n    if (isDescendant(this, e) || e === this) {\n      return;\n    }\n\n    if (!_this.settings.loopActivated) {\n      return;\n    }\n\n    _this.elements.loopBarStart.classList.add(\"m-fadeOut\");\n\n    _this.elements.loopBarEnd.classList.add(\"m-fadeOut\");\n\n    _this.elements.loopBarStart.classList.remove(\"m-fadeIn\");\n\n    _this.elements.loopBarEnd.classList.remove(\"m-fadeIn\");\n  };\n\n  var twt = false;\n\n  elid(\"\".concat(_this.name, \"-controls\")).ontouchstart = function (event) {\n    var e = event.toElement || event.relatedTarget || event.target;\n\n    if (isDescendant(_this.elements.statusButton, e) || e === _this.elements.statusButton || isDescendant(_this.elements.settingsButton, e) || e === _this.elements.settingsButton || isDescendant(_this.elements.fullScreenButton, e) || e === _this.elements.fullScreenButton || isDescendant(_this.elements.loopButton, e) || e === _this.elements.loopButton || isDescendant(_this.elements.totalBar, e) || e === _this.elements.totalBar) {\n      return;\n    }\n\n    _this.elements.volumeControl.className = \"\".concat(_this.name, \"-volume-width-transition\");\n    _this.elements.volumeBar.className = \"\".concat(_this.name, \"-volume-width-transition\");\n    _this.elements.volumeBarHelper.className = \"\".concat(_this.name, \"-volume-width-transition\");\n    _this.elements.timeDisplay.className = \"\".concat(_this.name, \"-time-width-transition\");\n    _this.elements.volumeCursor.className = \"\".concat(_this.name, \"-volume-cursor-transition\");\n    twt = true;\n  };\n\n  window.addEventListener(\"touchstart\", function (event) {\n    var e = event.toElement || event.relatedTarget || event.target;\n\n    if (isDescendant(elid(\"\".concat(_this.name, \"-controls\")), e) || e === elid(\"\".concat(_this.name, \"-controls\"))) {\n      return;\n    }\n\n    if (twt) {\n      _this.elements.volumeControl.className = \"\";\n      _this.elements.volumeBar.className = \"\";\n      _this.elements.volumeBarHelper.className = \"\";\n      _this.elements.timeDisplay.className = \"\";\n      _this.elements.volumeCursor.className = \"\";\n    }\n  }); // elid(`${_this.name}-left-controls`).ontouchstart = function (event) {\n  //   const e = event.toElement || event.relatedTarget || event.target;\n  //     if (isDescendant(_this.elements.statusBtn, e) || e === _this.elements.statusBtn) {\n  //       return false;\n  //     }\n  //     return \"\";\n  // };\n};\n\nfunction isDescendant(parent, child) {\n  var node = child.parentNode;\n\n  while (node != null) {\n    if (node == parent) {\n      return true;\n    }\n\n    node = node.parentNode;\n  }\n\n  return false;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2xpc3RlbmVycy9jb250cm9scy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9zcmMvbGlzdGVuZXJzL2NvbnRyb2xzLmpzPzI0OGYiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBlbGlkIH0gPSByZXF1aXJlKGAuLi9oZWxwZXJzYCk7XG5cbm1vZHVsZS5leHBvcnRzID0gX3RoaXMgPT4ge1xuICBlbGlkKGAke190aGlzLm5hbWV9LWNvbnRyb2xzYCkub25tb3VzZW92ZXIgPSAoKSA9PiB7XG4gICAgaWYgKCFfdGhpcy5zZXR0aW5ncy5sb29wQWN0aXZhdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXJTdGFydC5jbGFzc0xpc3QucmVtb3ZlKGBtLWZhZGVPdXRgKTtcbiAgICBfdGhpcy5lbGVtZW50cy5sb29wQmFyRW5kLmNsYXNzTGlzdC5yZW1vdmUoYG0tZmFkZU91dGApO1xuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXJTdGFydC5jbGFzc0xpc3QuYWRkKGBtLWZhZGVJbmApO1xuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXJFbmQuY2xhc3NMaXN0LmFkZChgbS1mYWRlSW5gKTtcbiAgfTtcblxuICBlbGlkKGAke190aGlzLm5hbWV9LWNvbnRyb2xzYCkub25tb3VzZW91dCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY29uc3QgZSA9IGV2ZW50LnRvRWxlbWVudCB8fCBldmVudC5yZWxhdGVkVGFyZ2V0IHx8IGV2ZW50LnRhcmdldDtcbiAgICBpZiAoaXNEZXNjZW5kYW50KHRoaXMsIGUpIHx8IGUgPT09IHRoaXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIV90aGlzLnNldHRpbmdzLmxvb3BBY3RpdmF0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgX3RoaXMuZWxlbWVudHMubG9vcEJhclN0YXJ0LmNsYXNzTGlzdC5hZGQoYG0tZmFkZU91dGApO1xuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXJFbmQuY2xhc3NMaXN0LmFkZChgbS1mYWRlT3V0YCk7XG4gICAgX3RoaXMuZWxlbWVudHMubG9vcEJhclN0YXJ0LmNsYXNzTGlzdC5yZW1vdmUoYG0tZmFkZUluYCk7XG4gICAgX3RoaXMuZWxlbWVudHMubG9vcEJhckVuZC5jbGFzc0xpc3QucmVtb3ZlKGBtLWZhZGVJbmApO1xuICB9O1xuXG4gIGxldCB0d3QgPSBmYWxzZTtcbiAgZWxpZChgJHtfdGhpcy5uYW1lfS1jb250cm9sc2ApLm9udG91Y2hzdGFydCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY29uc3QgZSA9IGV2ZW50LnRvRWxlbWVudCB8fCBldmVudC5yZWxhdGVkVGFyZ2V0IHx8IGV2ZW50LnRhcmdldDtcbiAgICBpZiAoXG4gICAgICBpc0Rlc2NlbmRhbnQoX3RoaXMuZWxlbWVudHMuc3RhdHVzQnV0dG9uLCBlKSB8fFxuICAgICAgZSA9PT0gX3RoaXMuZWxlbWVudHMuc3RhdHVzQnV0dG9uIHx8XG4gICAgICBpc0Rlc2NlbmRhbnQoX3RoaXMuZWxlbWVudHMuc2V0dGluZ3NCdXR0b24sIGUpIHx8XG4gICAgICBlID09PSBfdGhpcy5lbGVtZW50cy5zZXR0aW5nc0J1dHRvbiB8fFxuICAgICAgaXNEZXNjZW5kYW50KF90aGlzLmVsZW1lbnRzLmZ1bGxTY3JlZW5CdXR0b24sIGUpIHx8XG4gICAgICBlID09PSBfdGhpcy5lbGVtZW50cy5mdWxsU2NyZWVuQnV0dG9uIHx8XG4gICAgICBpc0Rlc2NlbmRhbnQoX3RoaXMuZWxlbWVudHMubG9vcEJ1dHRvbiwgZSkgfHxcbiAgICAgIGUgPT09IF90aGlzLmVsZW1lbnRzLmxvb3BCdXR0b24gfHxcbiAgICAgIGlzRGVzY2VuZGFudChfdGhpcy5lbGVtZW50cy50b3RhbEJhciwgZSkgfHxcbiAgICAgIGUgPT09IF90aGlzLmVsZW1lbnRzLnRvdGFsQmFyXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgX3RoaXMuZWxlbWVudHMudm9sdW1lQ29udHJvbC5jbGFzc05hbWUgPSBgJHtcbiAgICAgIF90aGlzLm5hbWVcbiAgICB9LXZvbHVtZS13aWR0aC10cmFuc2l0aW9uYDtcbiAgICBfdGhpcy5lbGVtZW50cy52b2x1bWVCYXIuY2xhc3NOYW1lID0gYCR7XG4gICAgICBfdGhpcy5uYW1lXG4gICAgfS12b2x1bWUtd2lkdGgtdHJhbnNpdGlvbmA7XG4gICAgX3RoaXMuZWxlbWVudHMudm9sdW1lQmFySGVscGVyLmNsYXNzTmFtZSA9IGAke1xuICAgICAgX3RoaXMubmFtZVxuICAgIH0tdm9sdW1lLXdpZHRoLXRyYW5zaXRpb25gO1xuICAgIF90aGlzLmVsZW1lbnRzLnRpbWVEaXNwbGF5LmNsYXNzTmFtZSA9IGAke1xuICAgICAgX3RoaXMubmFtZVxuICAgIH0tdGltZS13aWR0aC10cmFuc2l0aW9uYDtcbiAgICBfdGhpcy5lbGVtZW50cy52b2x1bWVDdXJzb3IuY2xhc3NOYW1lID0gYCR7XG4gICAgICBfdGhpcy5uYW1lXG4gICAgfS12b2x1bWUtY3Vyc29yLXRyYW5zaXRpb25gO1xuICAgIHR3dCA9IHRydWU7XG4gIH07XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY29uc3QgZSA9IGV2ZW50LnRvRWxlbWVudCB8fCBldmVudC5yZWxhdGVkVGFyZ2V0IHx8IGV2ZW50LnRhcmdldDtcbiAgICBpZiAoXG4gICAgICBpc0Rlc2NlbmRhbnQoZWxpZChgJHtfdGhpcy5uYW1lfS1jb250cm9sc2ApLCBlKSB8fFxuICAgICAgZSA9PT0gZWxpZChgJHtfdGhpcy5uYW1lfS1jb250cm9sc2ApXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0d3QpIHtcbiAgICAgIF90aGlzLmVsZW1lbnRzLnZvbHVtZUNvbnRyb2wuY2xhc3NOYW1lID0gYGA7XG4gICAgICBfdGhpcy5lbGVtZW50cy52b2x1bWVCYXIuY2xhc3NOYW1lID0gYGA7XG4gICAgICBfdGhpcy5lbGVtZW50cy52b2x1bWVCYXJIZWxwZXIuY2xhc3NOYW1lID0gYGA7XG4gICAgICBfdGhpcy5lbGVtZW50cy50aW1lRGlzcGxheS5jbGFzc05hbWUgPSBgYDtcbiAgICAgIF90aGlzLmVsZW1lbnRzLnZvbHVtZUN1cnNvci5jbGFzc05hbWUgPSBgYDtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGVsaWQoYCR7X3RoaXMubmFtZX0tbGVmdC1jb250cm9sc2ApLm9udG91Y2hzdGFydCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAvLyAgIGNvbnN0IGUgPSBldmVudC50b0VsZW1lbnQgfHwgZXZlbnQucmVsYXRlZFRhcmdldCB8fCBldmVudC50YXJnZXQ7XG4gIC8vICAgICBpZiAoaXNEZXNjZW5kYW50KF90aGlzLmVsZW1lbnRzLnN0YXR1c0J0biwgZSkgfHwgZSA9PT0gX3RoaXMuZWxlbWVudHMuc3RhdHVzQnRuKSB7XG4gIC8vICAgICAgIHJldHVybiBmYWxzZTtcbiAgLy8gICAgIH1cbiAgLy8gICAgIHJldHVybiBcIlwiO1xuICAvLyB9O1xufTtcblxuZnVuY3Rpb24gaXNEZXNjZW5kYW50KHBhcmVudCwgY2hpbGQpIHtcbiAgbGV0IG5vZGUgPSBjaGlsZC5wYXJlbnROb2RlO1xuICB3aGlsZSAobm9kZSAhPSBudWxsKSB7XG4gICAgaWYgKG5vZGUgPT0gcGFyZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../src/listeners/controls.js\n");

/***/ }),

/***/ "../src/listeners/donkeyclip.js":
/*!**************************************!*\
  !*** ../src/listeners/donkeyclip.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function (_this) {\n  _this.elements.donkeyclipButton.addEventListener(\"click\", function () {\n    var u = create_UUID();\n    var popupDC = window.open(\"https://donkeyclip.com?u=\".concat(u));\n\n    var definition = _this.clip.exportState({\n      unprocessed: true\n    });\n\n    var clipClass = _this.clipClass;\n    window.addEventListener(\"message\", receiveMessage, false);\n\n    function receiveMessage(event) {\n      if (event.data === u) {\n        popupDC.postMessage(JSON.stringify({\n          definition: definition,\n          clipClass: clipClass,\n          u: u\n        }), \"*\");\n      }\n    }\n  });\n};\n\nfunction create_UUID() {\n  var dt = new Date().getTime();\n  var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n    var r = (dt + Math.random() * 16) % 16 | 0;\n    dt = Math.floor(dt / 16);\n    return (c == \"x\" ? r : r & 0x3 | 0x8).toString(16);\n  });\n  return uuid;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2xpc3RlbmVycy9kb25rZXljbGlwLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9saXN0ZW5lcnMvZG9ua2V5Y2xpcC5qcz8xM2RkIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX3RoaXMgPT4ge1xuICBfdGhpcy5lbGVtZW50cy5kb25rZXljbGlwQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgKCkgPT4ge1xuICAgIGNvbnN0IHUgPSBjcmVhdGVfVVVJRCgpO1xuICAgIGNvbnN0IHBvcHVwREMgPSB3aW5kb3cub3BlbihgaHR0cHM6Ly9kb25rZXljbGlwLmNvbT91PSR7dX1gKTtcbiAgICBjb25zdCBkZWZpbml0aW9uID0gX3RoaXMuY2xpcC5leHBvcnRTdGF0ZSh7IHVucHJvY2Vzc2VkOiB0cnVlIH0pO1xuICAgIGNvbnN0IGNsaXBDbGFzcyA9IF90aGlzLmNsaXBDbGFzcztcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgcmVjZWl2ZU1lc3NhZ2UsIGZhbHNlKTtcbiAgICBmdW5jdGlvbiByZWNlaXZlTWVzc2FnZShldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmRhdGEgPT09IHUpIHtcbiAgICAgICAgcG9wdXBEQy5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7IGRlZmluaXRpb24sIGNsaXBDbGFzcywgdSB9KSwgXCIqXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVfVVVJRCgpIHtcbiAgbGV0IGR0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIGNvbnN0IHV1aWQgPSBcInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oXG4gICAgY1xuICApIHtcbiAgICBjb25zdCByID0gKGR0ICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDtcbiAgICBkdCA9IE1hdGguZmxvb3IoZHQgLyAxNik7XG4gICAgcmV0dXJuIChjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4OCkudG9TdHJpbmcoMTYpO1xuICB9KTtcbiAgcmV0dXJuIHV1aWQ7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../src/listeners/donkeyclip.js\n");

/***/ }),

/***/ "../src/listeners/fullscreen.js":
/*!**************************************!*\
  !*** ../src/listeners/fullscreen.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function (_this) {\n  _this.elements.fullScreenButton.addEventListener(\"click\", function () {\n    var elFullScreen = _this.clip.props.host.className.includes(\"full-screen\");\n\n    _this.clip.props.host !== _this.options.host && !elFullScreen ? _this.clip.props.host.appendChild(_this.elements.mcPlayer) : null;\n    _this.clip.props.host !== _this.options.host && elFullScreen ? _this.options.host.appendChild(_this.elements.mcPlayer) : null;\n    elFullScreen ? _this.exitFullscreen() : _this.launchIntoFullscreen(_this.clip.props.host);\n\n    _this.clip.props.host.classList.toggle(\"full-screen\");\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2xpc3RlbmVycy9mdWxsc2NyZWVuLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9saXN0ZW5lcnMvZnVsbHNjcmVlbi5qcz9iNjZhIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX3RoaXMgPT4ge1xuICBfdGhpcy5lbGVtZW50cy5mdWxsU2NyZWVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgKCkgPT4ge1xuICAgIGNvbnN0IGVsRnVsbFNjcmVlbiA9IF90aGlzLmNsaXAucHJvcHMuaG9zdC5jbGFzc05hbWUuaW5jbHVkZXMoXG4gICAgICBgZnVsbC1zY3JlZW5gXG4gICAgKTtcbiAgICBfdGhpcy5jbGlwLnByb3BzLmhvc3QgIT09IF90aGlzLm9wdGlvbnMuaG9zdCAmJiAhZWxGdWxsU2NyZWVuXG4gICAgICA/IF90aGlzLmNsaXAucHJvcHMuaG9zdC5hcHBlbmRDaGlsZChfdGhpcy5lbGVtZW50cy5tY1BsYXllcilcbiAgICAgIDogbnVsbDtcbiAgICBfdGhpcy5jbGlwLnByb3BzLmhvc3QgIT09IF90aGlzLm9wdGlvbnMuaG9zdCAmJiBlbEZ1bGxTY3JlZW5cbiAgICAgID8gX3RoaXMub3B0aW9ucy5ob3N0LmFwcGVuZENoaWxkKF90aGlzLmVsZW1lbnRzLm1jUGxheWVyKVxuICAgICAgOiBudWxsO1xuXG4gICAgZWxGdWxsU2NyZWVuXG4gICAgICA/IF90aGlzLmV4aXRGdWxsc2NyZWVuKClcbiAgICAgIDogX3RoaXMubGF1bmNoSW50b0Z1bGxzY3JlZW4oX3RoaXMuY2xpcC5wcm9wcy5ob3N0KTtcbiAgICBfdGhpcy5jbGlwLnByb3BzLmhvc3QuY2xhc3NMaXN0LnRvZ2dsZShgZnVsbC1zY3JlZW5gKTtcbiAgfSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../src/listeners/fullscreen.js\n");

/***/ }),

/***/ "../src/listeners/loopBarEnd.js":
/*!**************************************!*\
  !*** ../src/listeners/loopBarEnd.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ../helpers */ \"../src/helpers.js\"),\n    addListener = _require.addListener,\n    removeListener = _require.removeListener;\n\nmodule.exports = function (_this) {\n  // let pe = false;\n  _this.listeners.onCursorMoveLoopEnd = function (e) {\n    e.preventDefault();\n    var clientX = e.clientX || ((e.touches || [])[0] || {}).clientX;\n\n    var viewportOffset = _this.elements.totalBar.getBoundingClientRect();\n\n    var positionX = clientX - viewportOffset.left;\n\n    if (positionX < 0) {\n      positionX = 0;\n    } else if (positionX > _this.elements.totalBar.offsetWidth) {\n      positionX = _this.elements.totalBar.offsetWidth;\n    }\n\n    if (_this.elements.runningBar.offsetWidth >= _this.elements.loopBar.offsetWidth) {\n      _this.elements.runningBar.style.width = _this.elements.loopBar.offsetWidth + \"px\";\n    }\n\n    if (_this.settings.loopLastPositionXPxls - positionX < 0) {\n      _this.elements.loopBar.style.width = Math.abs(_this.settings.loopLastPositionXPxls - positionX) + \"px\";\n    } else {\n      _this.elements.loopBar.style.left = positionX + \"px\";\n      _this.settings.loopLastPositionXPxls = positionX;\n    }\n\n    _this.settings.loopEndMillisecond = Math.round(_this.clip.duration * ((parseFloat(_this.elements.loopBar.style.left) || 0) + parseFloat(_this.elements.loopBar.style.width)) / _this.elements.totalBar.offsetWidth);\n\n    if (_this.settings.loopEndMillisecond < _this.clip.runTimeInfo.currentMillisecond) {\n      _this.settings.loopJourney = true;\n    }\n\n    if (_this.settings.loopStartMillisecond > _this.settings.loopEndMillisecond) {\n      _this.settings.loopStartMillisecond = _this.settings.loopEndMillisecond;\n      _this.settings.loopJourney = true;\n    }\n\n    _this.elements.loopEndTime.innerHTML = _this.settings.loopEndMillisecond;\n    _this.elements.loopStartTime.innerHTML = _this.settings.loopStartMillisecond;\n  };\n\n  _this.listeners.onMouseUpLoopEnd = function (e) {\n    _this.elements.listenerHelper.style.pointerEvents = \"none\"; // if (pe) {\n    //   _this.elements.settingsPointerEvents.click();\n    // }\n\n    _this.settings.resizeLoop = false;\n    e.preventDefault();\n    _this.elements.runningBar.style.width = _this.elements.runningBar.offsetWidth / _this.elements.loopBar.offsetWidth * 100 + \"%\";\n    _this.elements.loopBar.style.left = _this.elements.loopBar.offsetLeft / _this.elements.totalBar.offsetWidth * 100 + \"%\";\n    _this.elements.loopBar.style.width = _this.elements.loopBar.offsetWidth / _this.elements.totalBar.offsetWidth * 100 + \"%\";\n\n    if (_this.settings.loopJourney) {\n      _this.createProgressDrag(_this.elements.runningBar.offsetWidth);\n\n      _this.settings.loopJourney = false;\n    }\n\n    removeListener(\"mouseup\", _this.listeners.onMouseUpLoopEnd, false);\n    removeListener(\"touchend\", _this.listeners.onMouseUpLoopEnd, false);\n    removeListener(\"mousemove\", _this.listeners.onCursorMoveLoopEnd, false);\n    removeListener(\"touchmove\", _this.listeners.onCursorMoveLoopEnd, false);\n\n    _this.elements.loopBar.addEventListener(\"mousedown\", _this.listeners.onMouseDown, false);\n\n    _this.elements.loopBar.addEventListener(\"touchstart\", _this.listeners.onMouseDown, {\n      passive: true\n    }, false);\n\n    if (_this.settings.playAfterResize) {\n      if (_this.clip.runTimeInfo.state === \"idle\") {\n        var loopms;\n\n        if (_this.clip.speed >= 0) {\n          loopms = _this.settings.loopStartMillisecond + 1;\n        } else {\n          loopms = _this.settings.loopEndMillisecond - 1;\n        }\n\n        _this.settings.needsUpdate = true;\n\n        _this.createJourney(_this.clip, loopms, {\n          before: \"pause\",\n          after: \"play\"\n        });\n      } else if (_this.clip.runTimeInfo.state === \"completed\") {\n        var _loopms;\n\n        if (_this.clip.speed >= 0) {\n          _loopms = _this.settings.loopStartMillisecond + 1;\n        } else {\n          _loopms = _this.settings.loopEndMillisecond - 1;\n        }\n\n        _this.settings.needsUpdate = true;\n\n        _this.createJourney(_this.clip, _loopms, {\n          before: \"pause\",\n          after: \"play\"\n        });\n      } else {\n        _this.clip.play();\n      }\n\n      _this.settings.playAfterResize = false;\n    }\n  };\n\n  _this.listeners.onMouseDownLoopEnd = function (e) {\n    _this.elements.listenerHelper.style.pointerEvents = \"auto\"; // if (!_this.options.pointerEvents) {\n    //   pe = true;\n    //   _this.elements.settingsPointerEvents.click();\n    // }\n\n    _this.settings.resizeLoop = true;\n    _this.settings.needsUpdate = true;\n\n    if (_this.clip.runTimeInfo.state === \"playing\") {\n      _this.clip.pause();\n\n      _this.settings.playAfterResize = true;\n    }\n\n    e.preventDefault();\n    _this.elements.runningBar.style.width = _this.elements.runningBar.offsetWidth + \"px\";\n    _this.elements.loopBar.style.left = _this.elements.loopBar.offsetLeft + \"px\";\n    _this.elements.loopBar.style.width = _this.elements.loopBar.offsetWidth + \"px\";\n\n    _this.elements.loopBar.removeEventListener(\"mousedown\", _this.listeners.onMouseDown, false);\n\n    _this.elements.loopBar.removeEventListener(\"touchstart\", _this.listeners.onMouseDown, false);\n\n    _this.listeners.onCursorMoveLoopEnd(e);\n\n    addListener(\"mouseup\", _this.listeners.onMouseUpLoopEnd, false);\n    addListener(\"touchend\", _this.listeners.onMouseUpLoopEnd, false);\n    addListener(\"mousemove\", _this.listeners.onCursorMoveLoopEnd, false);\n    addListener(\"touchmove\", _this.listeners.onCursorMoveLoopEnd, false);\n  };\n\n  _this.elements.loopBarEnd.addEventListener(\"mousedown\", _this.listeners.onMouseDownLoopEnd, false);\n\n  _this.elements.loopBarEnd.addEventListener(\"touchstart\", _this.listeners.onMouseDownLoopEnd, {\n    passive: false\n  }, false);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2xpc3RlbmVycy9sb29wQmFyRW5kLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9saXN0ZW5lcnMvbG9vcEJhckVuZC5qcz9lMjBkIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgYWRkTGlzdGVuZXIsIHJlbW92ZUxpc3RlbmVyIH0gPSByZXF1aXJlKGAuLi9oZWxwZXJzYCk7XG5cbm1vZHVsZS5leHBvcnRzID0gX3RoaXMgPT4ge1xuICAvLyBsZXQgcGUgPSBmYWxzZTtcbiAgX3RoaXMubGlzdGVuZXJzLm9uQ3Vyc29yTW92ZUxvb3BFbmQgPSBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgY2xpZW50WCA9IGUuY2xpZW50WCB8fCAoKGUudG91Y2hlcyB8fCBbXSlbMF0gfHwge30pLmNsaWVudFg7XG4gICAgY29uc3Qgdmlld3BvcnRPZmZzZXQgPSBfdGhpcy5lbGVtZW50cy50b3RhbEJhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgcG9zaXRpb25YID0gY2xpZW50WCAtIHZpZXdwb3J0T2Zmc2V0LmxlZnQ7XG5cbiAgICBpZiAocG9zaXRpb25YIDwgMCkge1xuICAgICAgcG9zaXRpb25YID0gMDtcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uWCA+IF90aGlzLmVsZW1lbnRzLnRvdGFsQmFyLm9mZnNldFdpZHRoKSB7XG4gICAgICBwb3NpdGlvblggPSBfdGhpcy5lbGVtZW50cy50b3RhbEJhci5vZmZzZXRXaWR0aDtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBfdGhpcy5lbGVtZW50cy5ydW5uaW5nQmFyLm9mZnNldFdpZHRoID49XG4gICAgICBfdGhpcy5lbGVtZW50cy5sb29wQmFyLm9mZnNldFdpZHRoXG4gICAgKSB7XG4gICAgICBfdGhpcy5lbGVtZW50cy5ydW5uaW5nQmFyLnN0eWxlLndpZHRoID1cbiAgICAgICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5vZmZzZXRXaWR0aCArIGBweGA7XG4gICAgfVxuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmxvb3BMYXN0UG9zaXRpb25YUHhscyAtIHBvc2l0aW9uWCA8IDApIHtcbiAgICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXIuc3R5bGUud2lkdGggPVxuICAgICAgICBNYXRoLmFicyhfdGhpcy5zZXR0aW5ncy5sb29wTGFzdFBvc2l0aW9uWFB4bHMgLSBwb3NpdGlvblgpICsgYHB4YDtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5zdHlsZS5sZWZ0ID0gcG9zaXRpb25YICsgYHB4YDtcbiAgICAgIF90aGlzLnNldHRpbmdzLmxvb3BMYXN0UG9zaXRpb25YUHhscyA9IHBvc2l0aW9uWDtcbiAgICB9XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5sb29wRW5kTWlsbGlzZWNvbmQgPSBNYXRoLnJvdW5kKFxuICAgICAgKF90aGlzLmNsaXAuZHVyYXRpb24gKlxuICAgICAgICAoKHBhcnNlRmxvYXQoX3RoaXMuZWxlbWVudHMubG9vcEJhci5zdHlsZS5sZWZ0KSB8fCAwKSArXG4gICAgICAgICAgcGFyc2VGbG9hdChfdGhpcy5lbGVtZW50cy5sb29wQmFyLnN0eWxlLndpZHRoKSkpIC9cbiAgICAgICAgX3RoaXMuZWxlbWVudHMudG90YWxCYXIub2Zmc2V0V2lkdGhcbiAgICApO1xuXG4gICAgaWYgKFxuICAgICAgX3RoaXMuc2V0dGluZ3MubG9vcEVuZE1pbGxpc2Vjb25kIDxcbiAgICAgIF90aGlzLmNsaXAucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kXG4gICAgKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5sb29wSm91cm5leSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgX3RoaXMuc2V0dGluZ3MubG9vcFN0YXJ0TWlsbGlzZWNvbmQgPiBfdGhpcy5zZXR0aW5ncy5sb29wRW5kTWlsbGlzZWNvbmRcbiAgICApIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLmxvb3BTdGFydE1pbGxpc2Vjb25kID0gX3RoaXMuc2V0dGluZ3MubG9vcEVuZE1pbGxpc2Vjb25kO1xuICAgICAgX3RoaXMuc2V0dGluZ3MubG9vcEpvdXJuZXkgPSB0cnVlO1xuICAgIH1cblxuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BFbmRUaW1lLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxvb3BFbmRNaWxsaXNlY29uZDtcbiAgICBfdGhpcy5lbGVtZW50cy5sb29wU3RhcnRUaW1lLmlubmVySFRNTCA9XG4gICAgICBfdGhpcy5zZXR0aW5ncy5sb29wU3RhcnRNaWxsaXNlY29uZDtcbiAgfTtcblxuICBfdGhpcy5saXN0ZW5lcnMub25Nb3VzZVVwTG9vcEVuZCA9IGUgPT4ge1xuICAgIF90aGlzLmVsZW1lbnRzLmxpc3RlbmVySGVscGVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcblxuICAgIC8vIGlmIChwZSkge1xuICAgIC8vICAgX3RoaXMuZWxlbWVudHMuc2V0dGluZ3NQb2ludGVyRXZlbnRzLmNsaWNrKCk7XG4gICAgLy8gfVxuICAgIF90aGlzLnNldHRpbmdzLnJlc2l6ZUxvb3AgPSBmYWxzZTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgX3RoaXMuZWxlbWVudHMucnVubmluZ0Jhci5zdHlsZS53aWR0aCA9XG4gICAgICAoX3RoaXMuZWxlbWVudHMucnVubmluZ0Jhci5vZmZzZXRXaWR0aCAvXG4gICAgICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXIub2Zmc2V0V2lkdGgpICpcbiAgICAgICAgMTAwICtcbiAgICAgIGAlYDtcblxuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXIuc3R5bGUubGVmdCA9XG4gICAgICAoX3RoaXMuZWxlbWVudHMubG9vcEJhci5vZmZzZXRMZWZ0IC9cbiAgICAgICAgX3RoaXMuZWxlbWVudHMudG90YWxCYXIub2Zmc2V0V2lkdGgpICpcbiAgICAgICAgMTAwICtcbiAgICAgIGAlYDtcblxuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXIuc3R5bGUud2lkdGggPVxuICAgICAgKF90aGlzLmVsZW1lbnRzLmxvb3BCYXIub2Zmc2V0V2lkdGggL1xuICAgICAgICBfdGhpcy5lbGVtZW50cy50b3RhbEJhci5vZmZzZXRXaWR0aCkgKlxuICAgICAgICAxMDAgK1xuICAgICAgYCVgO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmxvb3BKb3VybmV5KSB7XG4gICAgICBfdGhpcy5jcmVhdGVQcm9ncmVzc0RyYWcoX3RoaXMuZWxlbWVudHMucnVubmluZ0Jhci5vZmZzZXRXaWR0aCk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5sb29wSm91cm5leSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJlbW92ZUxpc3RlbmVyKGBtb3VzZXVwYCwgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VVcExvb3BFbmQsIGZhbHNlKTtcbiAgICByZW1vdmVMaXN0ZW5lcihgdG91Y2hlbmRgLCBfdGhpcy5saXN0ZW5lcnMub25Nb3VzZVVwTG9vcEVuZCwgZmFsc2UpO1xuICAgIHJlbW92ZUxpc3RlbmVyKGBtb3VzZW1vdmVgLCBfdGhpcy5saXN0ZW5lcnMub25DdXJzb3JNb3ZlTG9vcEVuZCwgZmFsc2UpO1xuICAgIHJlbW92ZUxpc3RlbmVyKGB0b3VjaG1vdmVgLCBfdGhpcy5saXN0ZW5lcnMub25DdXJzb3JNb3ZlTG9vcEVuZCwgZmFsc2UpO1xuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIGBtb3VzZWRvd25gLFxuICAgICAgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VEb3duLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIGB0b3VjaHN0YXJ0YCxcbiAgICAgIF90aGlzLmxpc3RlbmVycy5vbk1vdXNlRG93bixcbiAgICAgIHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGZhbHNlXG4gICAgKTtcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5wbGF5QWZ0ZXJSZXNpemUpIHtcbiAgICAgIGlmIChfdGhpcy5jbGlwLnJ1blRpbWVJbmZvLnN0YXRlID09PSBgaWRsZWApIHtcbiAgICAgICAgbGV0IGxvb3BtcztcbiAgICAgICAgaWYgKF90aGlzLmNsaXAuc3BlZWQgPj0gMCkge1xuICAgICAgICAgIGxvb3BtcyA9IF90aGlzLnNldHRpbmdzLmxvb3BTdGFydE1pbGxpc2Vjb25kICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb29wbXMgPSBfdGhpcy5zZXR0aW5ncy5sb29wRW5kTWlsbGlzZWNvbmQgLSAxO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnNldHRpbmdzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuY3JlYXRlSm91cm5leShfdGhpcy5jbGlwLCBsb29wbXMsIHtcbiAgICAgICAgICBiZWZvcmU6IFwicGF1c2VcIixcbiAgICAgICAgICBhZnRlcjogXCJwbGF5XCJcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKF90aGlzLmNsaXAucnVuVGltZUluZm8uc3RhdGUgPT09IGBjb21wbGV0ZWRgKSB7XG4gICAgICAgIGxldCBsb29wbXM7XG4gICAgICAgIGlmIChfdGhpcy5jbGlwLnNwZWVkID49IDApIHtcbiAgICAgICAgICBsb29wbXMgPSBfdGhpcy5zZXR0aW5ncy5sb29wU3RhcnRNaWxsaXNlY29uZCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9vcG1zID0gX3RoaXMuc2V0dGluZ3MubG9vcEVuZE1pbGxpc2Vjb25kIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIF90aGlzLmNyZWF0ZUpvdXJuZXkoX3RoaXMuY2xpcCwgbG9vcG1zLCB7XG4gICAgICAgICAgYmVmb3JlOiBcInBhdXNlXCIsXG4gICAgICAgICAgYWZ0ZXI6IFwicGxheVwiXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuY2xpcC5wbGF5KCk7XG4gICAgICB9XG4gICAgICBfdGhpcy5zZXR0aW5ncy5wbGF5QWZ0ZXJSZXNpemUgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VEb3duTG9vcEVuZCA9IGUgPT4ge1xuICAgIF90aGlzLmVsZW1lbnRzLmxpc3RlbmVySGVscGVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcImF1dG9cIjtcblxuICAgIC8vIGlmICghX3RoaXMub3B0aW9ucy5wb2ludGVyRXZlbnRzKSB7XG4gICAgLy8gICBwZSA9IHRydWU7XG4gICAgLy8gICBfdGhpcy5lbGVtZW50cy5zZXR0aW5nc1BvaW50ZXJFdmVudHMuY2xpY2soKTtcbiAgICAvLyB9XG4gICAgX3RoaXMuc2V0dGluZ3MucmVzaXplTG9vcCA9IHRydWU7XG4gICAgX3RoaXMuc2V0dGluZ3MubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG4gICAgaWYgKF90aGlzLmNsaXAucnVuVGltZUluZm8uc3RhdGUgPT09IGBwbGF5aW5nYCkge1xuICAgICAgX3RoaXMuY2xpcC5wYXVzZSgpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MucGxheUFmdGVyUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIF90aGlzLmVsZW1lbnRzLnJ1bm5pbmdCYXIuc3R5bGUud2lkdGggPVxuICAgICAgX3RoaXMuZWxlbWVudHMucnVubmluZ0Jhci5vZmZzZXRXaWR0aCArIGBweGA7XG5cbiAgICBfdGhpcy5lbGVtZW50cy5sb29wQmFyLnN0eWxlLmxlZnQgPVxuICAgICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5vZmZzZXRMZWZ0ICsgYHB4YDtcblxuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXIuc3R5bGUud2lkdGggPVxuICAgICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5vZmZzZXRXaWR0aCArIGBweGA7XG4gICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgYG1vdXNlZG93bmAsXG4gICAgICBfdGhpcy5saXN0ZW5lcnMub25Nb3VzZURvd24sXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgYHRvdWNoc3RhcnRgLFxuICAgICAgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VEb3duLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIF90aGlzLmxpc3RlbmVycy5vbkN1cnNvck1vdmVMb29wRW5kKGUpO1xuICAgIGFkZExpc3RlbmVyKGBtb3VzZXVwYCwgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VVcExvb3BFbmQsIGZhbHNlKTtcbiAgICBhZGRMaXN0ZW5lcihgdG91Y2hlbmRgLCBfdGhpcy5saXN0ZW5lcnMub25Nb3VzZVVwTG9vcEVuZCwgZmFsc2UpO1xuICAgIGFkZExpc3RlbmVyKGBtb3VzZW1vdmVgLCBfdGhpcy5saXN0ZW5lcnMub25DdXJzb3JNb3ZlTG9vcEVuZCwgZmFsc2UpO1xuICAgIGFkZExpc3RlbmVyKGB0b3VjaG1vdmVgLCBfdGhpcy5saXN0ZW5lcnMub25DdXJzb3JNb3ZlTG9vcEVuZCwgZmFsc2UpO1xuICB9O1xuXG4gIF90aGlzLmVsZW1lbnRzLmxvb3BCYXJFbmQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBgbW91c2Vkb3duYCxcbiAgICBfdGhpcy5saXN0ZW5lcnMub25Nb3VzZURvd25Mb29wRW5kLFxuICAgIGZhbHNlXG4gICk7XG4gIF90aGlzLmVsZW1lbnRzLmxvb3BCYXJFbmQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBgdG91Y2hzdGFydGAsXG4gICAgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VEb3duTG9vcEVuZCxcbiAgICB7XG4gICAgICBwYXNzaXZlOiBmYWxzZVxuICAgIH0sXG4gICAgZmFsc2VcbiAgKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQU1BO0FBTUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFJQTtBQURBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFEQTtBQUtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../src/listeners/loopBarEnd.js\n");

/***/ }),

/***/ "../src/listeners/loopBarStart.js":
/*!****************************************!*\
  !*** ../src/listeners/loopBarStart.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ../helpers */ \"../src/helpers.js\"),\n    addListener = _require.addListener,\n    removeListener = _require.removeListener;\n\nmodule.exports = function (_this) {\n  // let pe = false;\n  _this.listeners.onCursorMoveLoopStart = function (e) {\n    e.preventDefault();\n    var clientX = e.clientX || ((e.touches || [])[0] || {}).clientX;\n\n    var viewportOffset = _this.elements.totalBar.getBoundingClientRect();\n\n    var positionX = Math.round(clientX - viewportOffset.left);\n    var endPositionsInPxls = Math.round(_this.settings.loopEndMillisecond / _this.clip.duration * _this.elements.totalBar.offsetWidth);\n\n    if (positionX < 0) {\n      positionX = 0;\n    } else if (positionX > _this.elements.totalBar.offsetWidth) {\n      positionX = _this.elements.totalBar.offsetWidth;\n    }\n\n    var runningBarWidthInPxls = _this.clip.runTimeInfo.currentMillisecond / _this.clip.duration * _this.elements.totalBar.offsetWidth - positionX;\n    _this.elements.loopBar.style.left = positionX + \"px\";\n    _this.elements.loopBar.style.width = endPositionsInPxls - positionX + \"px\";\n    _this.elements.runningBar.style.width = runningBarWidthInPxls + \"px\";\n    _this.settings.loopLastPositionXPxls = positionX;\n    _this.settings.loopStartMillisecond = Math.round(_this.clip.duration * _this.elements.loopBar.offsetLeft / _this.elements.totalBar.offsetWidth);\n\n    if (_this.settings.loopEndMillisecond < _this.settings.loopStartMillisecond) {\n      _this.settings.loopEndMillisecond = _this.settings.loopStartMillisecond;\n      _this.elements.loopBar.style.width = \"0px\";\n      _this.elements.runningBar.style.width = \"0px\";\n    }\n\n    _this.elements.loopEndTime.innerHTML = _this.settings.loopEndMillisecond;\n    _this.elements.loopStartTime.innerHTML = _this.settings.loopStartMillisecond;\n\n    if (_this.settings.loopStartMillisecond > _this.clip.runTimeInfo.currentMillisecond) {\n      _this.settings.loopJourney = true;\n    }\n  };\n\n  _this.listeners.onMouseUpLoopStart = function (e) {\n    _this.elements.listenerHelper.style.pointerEvents = \"none\"; // if (pe) {\n    //   _this.elements.settingsPointerEvents.click();\n    // }\n\n    _this.settings.resizeLoop = false;\n    e.preventDefault();\n\n    if (_this.settings.loopJourney) {\n      _this.createProgressDrag(_this.elements.runningBar.offsetWidth);\n\n      _this.settings.loopJourney = false;\n    }\n\n    _this.elements.loopBar.style.left = _this.elements.loopBar.offsetLeft / _this.elements.totalBar.offsetWidth * 100 + \"%\";\n    _this.elements.loopBar.style.width = _this.elements.loopBar.offsetWidth / _this.elements.totalBar.offsetWidth * 100 + \"%\";\n    _this.settings.loopStartMillisecond = Math.round(_this.clip.duration * _this.elements.loopBar.offsetLeft / _this.elements.totalBar.offsetWidth);\n    _this.elements.runningBar.style.width = _this.elements.runningBar.offsetWidth / _this.elements.loopBar.offsetWidth * 100 + \"%\";\n    removeListener(\"mouseup\", _this.listeners.onMouseUpLoopStart, false);\n    removeListener(\"touchend\", _this.listeners.onMouseUpLoopStart, false);\n    removeListener(\"mousemove\", _this.listeners.onCursorMoveLoopStart, false);\n    removeListener(\"touchmove\", _this.listeners.onCursorMoveLoopStart, false);\n\n    _this.elements.loopBar.addEventListener(\"mousedown\", _this.listeners.onMouseDown, false);\n\n    _this.elements.loopBar.addEventListener(\"touchstart\", _this.listeners.onMouseDown, {\n      passive: true\n    }, false);\n\n    if (_this.settings.playAfterResize) {\n      if (_this.clip.runTimeInfo.state === \"idle\") {\n        var loopms;\n\n        if (_this.clip.speed >= 0) {\n          loopms = _this.settings.loopStartMillisecond + 1;\n        } else {\n          loopms = _this.settings.loopEndMillisecond - 1;\n        }\n\n        _this.settings.needsUpdate = true;\n\n        _this.createJourney(_this.clip, loopms, {\n          before: \"pause\",\n          after: \"play\"\n        });\n      } else {\n        _this.clip.play();\n      }\n\n      _this.settings.playAfterResize = false;\n    }\n  };\n\n  _this.listeners.onMouseDownLoopStart = function (e) {\n    _this.elements.listenerHelper.style.pointerEvents = \"auto\"; // if (!_this.options.pointerEvents) {\n    //   pe = true;\n    //   _this.elements.settingsPointerEvents.click();\n    // }\n\n    _this.settings.resizeLoop = true;\n    e.preventDefault();\n    _this.settings.needsUpdate = true;\n\n    if (_this.clip.runTimeInfo.state === \"playing\") {\n      _this.clip.pause();\n\n      _this.settings.playAfterResize = true;\n    }\n\n    _this.elements.loopBar.removeEventListener(\"mousedown\", _this.listeners.onMouseDown, false);\n\n    _this.elements.loopBar.removeEventListener(\"touchstart\", _this.listeners.onMouseDown, false);\n\n    _this.listeners.onCursorMoveLoopStart(e);\n\n    addListener(\"mouseup\", _this.listeners.onMouseUpLoopStart, false);\n    addListener(\"touchend\", _this.listeners.onMouseUpLoopStart, false);\n    addListener(\"mousemove\", _this.listeners.onCursorMoveLoopStart, false);\n    addListener(\"touchmove\", _this.listeners.onCursorMoveLoopStart, false);\n  };\n\n  _this.elements.loopBarStart.addEventListener(\"mousedown\", _this.listeners.onMouseDownLoopStart, false);\n\n  _this.elements.loopBarStart.addEventListener(\"touchstart\", _this.listeners.onMouseDownLoopStart, {\n    passive: false\n  }, false);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2xpc3RlbmVycy9sb29wQmFyU3RhcnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL2xpc3RlbmVycy9sb29wQmFyU3RhcnQuanM/ZGIwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGFkZExpc3RlbmVyLCByZW1vdmVMaXN0ZW5lciB9ID0gcmVxdWlyZShgLi4vaGVscGVyc2ApO1xuXG5tb2R1bGUuZXhwb3J0cyA9IF90aGlzID0+IHtcbiAgLy8gbGV0IHBlID0gZmFsc2U7XG4gIF90aGlzLmxpc3RlbmVycy5vbkN1cnNvck1vdmVMb29wU3RhcnQgPSBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgY2xpZW50WCA9IGUuY2xpZW50WCB8fCAoKGUudG91Y2hlcyB8fCBbXSlbMF0gfHwge30pLmNsaWVudFg7XG4gICAgY29uc3Qgdmlld3BvcnRPZmZzZXQgPSBfdGhpcy5lbGVtZW50cy50b3RhbEJhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgcG9zaXRpb25YID0gTWF0aC5yb3VuZChjbGllbnRYIC0gdmlld3BvcnRPZmZzZXQubGVmdCk7XG5cbiAgICBjb25zdCBlbmRQb3NpdGlvbnNJblB4bHMgPSBNYXRoLnJvdW5kKFxuICAgICAgKF90aGlzLnNldHRpbmdzLmxvb3BFbmRNaWxsaXNlY29uZCAvIF90aGlzLmNsaXAuZHVyYXRpb24pICpcbiAgICAgICAgX3RoaXMuZWxlbWVudHMudG90YWxCYXIub2Zmc2V0V2lkdGhcbiAgICApO1xuXG4gICAgaWYgKHBvc2l0aW9uWCA8IDApIHtcbiAgICAgIHBvc2l0aW9uWCA9IDA7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvblggPiBfdGhpcy5lbGVtZW50cy50b3RhbEJhci5vZmZzZXRXaWR0aCkge1xuICAgICAgcG9zaXRpb25YID0gX3RoaXMuZWxlbWVudHMudG90YWxCYXIub2Zmc2V0V2lkdGg7XG4gICAgfVxuXG4gICAgY29uc3QgcnVubmluZ0JhcldpZHRoSW5QeGxzID1cbiAgICAgIChfdGhpcy5jbGlwLnJ1blRpbWVJbmZvLmN1cnJlbnRNaWxsaXNlY29uZCAvIF90aGlzLmNsaXAuZHVyYXRpb24pICpcbiAgICAgICAgX3RoaXMuZWxlbWVudHMudG90YWxCYXIub2Zmc2V0V2lkdGggLVxuICAgICAgcG9zaXRpb25YO1xuXG4gICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5zdHlsZS5sZWZ0ID0gcG9zaXRpb25YICsgYHB4YDtcblxuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXIuc3R5bGUud2lkdGggPSBlbmRQb3NpdGlvbnNJblB4bHMgLSBwb3NpdGlvblggKyBgcHhgO1xuXG4gICAgX3RoaXMuZWxlbWVudHMucnVubmluZ0Jhci5zdHlsZS53aWR0aCA9IHJ1bm5pbmdCYXJXaWR0aEluUHhscyArIGBweGA7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5sb29wTGFzdFBvc2l0aW9uWFB4bHMgPSBwb3NpdGlvblg7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5sb29wU3RhcnRNaWxsaXNlY29uZCA9IE1hdGgucm91bmQoXG4gICAgICAoX3RoaXMuY2xpcC5kdXJhdGlvbiAqIF90aGlzLmVsZW1lbnRzLmxvb3BCYXIub2Zmc2V0TGVmdCkgL1xuICAgICAgICBfdGhpcy5lbGVtZW50cy50b3RhbEJhci5vZmZzZXRXaWR0aFxuICAgICk7XG5cbiAgICBpZiAoXG4gICAgICBfdGhpcy5zZXR0aW5ncy5sb29wRW5kTWlsbGlzZWNvbmQgPCBfdGhpcy5zZXR0aW5ncy5sb29wU3RhcnRNaWxsaXNlY29uZFxuICAgICkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubG9vcEVuZE1pbGxpc2Vjb25kID0gX3RoaXMuc2V0dGluZ3MubG9vcFN0YXJ0TWlsbGlzZWNvbmQ7XG4gICAgICBfdGhpcy5lbGVtZW50cy5sb29wQmFyLnN0eWxlLndpZHRoID0gYDBweGA7XG4gICAgICBfdGhpcy5lbGVtZW50cy5ydW5uaW5nQmFyLnN0eWxlLndpZHRoID0gYDBweGA7XG4gICAgfVxuXG4gICAgX3RoaXMuZWxlbWVudHMubG9vcEVuZFRpbWUuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubG9vcEVuZE1pbGxpc2Vjb25kO1xuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BTdGFydFRpbWUuaW5uZXJIVE1MID1cbiAgICAgIF90aGlzLnNldHRpbmdzLmxvb3BTdGFydE1pbGxpc2Vjb25kO1xuXG4gICAgaWYgKFxuICAgICAgX3RoaXMuc2V0dGluZ3MubG9vcFN0YXJ0TWlsbGlzZWNvbmQgPlxuICAgICAgX3RoaXMuY2xpcC5ydW5UaW1lSW5mby5jdXJyZW50TWlsbGlzZWNvbmRcbiAgICApIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLmxvb3BKb3VybmV5ID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VVcExvb3BTdGFydCA9IGUgPT4ge1xuICAgIF90aGlzLmVsZW1lbnRzLmxpc3RlbmVySGVscGVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcblxuICAgIC8vIGlmIChwZSkge1xuICAgIC8vICAgX3RoaXMuZWxlbWVudHMuc2V0dGluZ3NQb2ludGVyRXZlbnRzLmNsaWNrKCk7XG4gICAgLy8gfVxuICAgIF90aGlzLnNldHRpbmdzLnJlc2l6ZUxvb3AgPSBmYWxzZTtcblxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubG9vcEpvdXJuZXkpIHtcbiAgICAgIF90aGlzLmNyZWF0ZVByb2dyZXNzRHJhZyhfdGhpcy5lbGVtZW50cy5ydW5uaW5nQmFyLm9mZnNldFdpZHRoKTtcbiAgICAgIF90aGlzLnNldHRpbmdzLmxvb3BKb3VybmV5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5zdHlsZS5sZWZ0ID1cbiAgICAgIChfdGhpcy5lbGVtZW50cy5sb29wQmFyLm9mZnNldExlZnQgL1xuICAgICAgICBfdGhpcy5lbGVtZW50cy50b3RhbEJhci5vZmZzZXRXaWR0aCkgKlxuICAgICAgICAxMDAgK1xuICAgICAgYCVgO1xuXG4gICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5zdHlsZS53aWR0aCA9XG4gICAgICAoX3RoaXMuZWxlbWVudHMubG9vcEJhci5vZmZzZXRXaWR0aCAvXG4gICAgICAgIF90aGlzLmVsZW1lbnRzLnRvdGFsQmFyLm9mZnNldFdpZHRoKSAqXG4gICAgICAgIDEwMCArXG4gICAgICBgJWA7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5sb29wU3RhcnRNaWxsaXNlY29uZCA9IE1hdGgucm91bmQoXG4gICAgICAoX3RoaXMuY2xpcC5kdXJhdGlvbiAqIF90aGlzLmVsZW1lbnRzLmxvb3BCYXIub2Zmc2V0TGVmdCkgL1xuICAgICAgICBfdGhpcy5lbGVtZW50cy50b3RhbEJhci5vZmZzZXRXaWR0aFxuICAgICk7XG5cbiAgICBfdGhpcy5lbGVtZW50cy5ydW5uaW5nQmFyLnN0eWxlLndpZHRoID1cbiAgICAgIChfdGhpcy5lbGVtZW50cy5ydW5uaW5nQmFyLm9mZnNldFdpZHRoIC9cbiAgICAgICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5vZmZzZXRXaWR0aCkgKlxuICAgICAgICAxMDAgK1xuICAgICAgYCVgO1xuXG4gICAgcmVtb3ZlTGlzdGVuZXIoYG1vdXNldXBgLCBfdGhpcy5saXN0ZW5lcnMub25Nb3VzZVVwTG9vcFN0YXJ0LCBmYWxzZSk7XG4gICAgcmVtb3ZlTGlzdGVuZXIoYHRvdWNoZW5kYCwgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VVcExvb3BTdGFydCwgZmFsc2UpO1xuICAgIHJlbW92ZUxpc3RlbmVyKGBtb3VzZW1vdmVgLCBfdGhpcy5saXN0ZW5lcnMub25DdXJzb3JNb3ZlTG9vcFN0YXJ0LCBmYWxzZSk7XG4gICAgcmVtb3ZlTGlzdGVuZXIoYHRvdWNobW92ZWAsIF90aGlzLmxpc3RlbmVycy5vbkN1cnNvck1vdmVMb29wU3RhcnQsIGZhbHNlKTtcbiAgICBfdGhpcy5lbGVtZW50cy5sb29wQmFyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBgbW91c2Vkb3duYCxcbiAgICAgIF90aGlzLmxpc3RlbmVycy5vbk1vdXNlRG93bixcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICBfdGhpcy5lbGVtZW50cy5sb29wQmFyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBgdG91Y2hzdGFydGAsXG4gICAgICBfdGhpcy5saXN0ZW5lcnMub25Nb3VzZURvd24sXG4gICAgICB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH0sXG4gICAgICBmYWxzZVxuICAgICk7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MucGxheUFmdGVyUmVzaXplKSB7XG4gICAgICBpZiAoX3RoaXMuY2xpcC5ydW5UaW1lSW5mby5zdGF0ZSA9PT0gYGlkbGVgKSB7XG4gICAgICAgIGxldCBsb29wbXM7XG4gICAgICAgIGlmIChfdGhpcy5jbGlwLnNwZWVkID49IDApIHtcbiAgICAgICAgICBsb29wbXMgPSBfdGhpcy5zZXR0aW5ncy5sb29wU3RhcnRNaWxsaXNlY29uZCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9vcG1zID0gX3RoaXMuc2V0dGluZ3MubG9vcEVuZE1pbGxpc2Vjb25kIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIF90aGlzLmNyZWF0ZUpvdXJuZXkoX3RoaXMuY2xpcCwgbG9vcG1zLCB7XG4gICAgICAgICAgYmVmb3JlOiBcInBhdXNlXCIsXG4gICAgICAgICAgYWZ0ZXI6IFwicGxheVwiXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuY2xpcC5wbGF5KCk7XG4gICAgICB9XG4gICAgICBfdGhpcy5zZXR0aW5ncy5wbGF5QWZ0ZXJSZXNpemUgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VEb3duTG9vcFN0YXJ0ID0gZSA9PiB7XG4gICAgX3RoaXMuZWxlbWVudHMubGlzdGVuZXJIZWxwZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiO1xuXG4gICAgLy8gaWYgKCFfdGhpcy5vcHRpb25zLnBvaW50ZXJFdmVudHMpIHtcbiAgICAvLyAgIHBlID0gdHJ1ZTtcbiAgICAvLyAgIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzUG9pbnRlckV2ZW50cy5jbGljaygpO1xuICAgIC8vIH1cblxuICAgIF90aGlzLnNldHRpbmdzLnJlc2l6ZUxvb3AgPSB0cnVlO1xuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIF90aGlzLnNldHRpbmdzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuICAgIGlmIChfdGhpcy5jbGlwLnJ1blRpbWVJbmZvLnN0YXRlID09PSBgcGxheWluZ2ApIHtcbiAgICAgIF90aGlzLmNsaXAucGF1c2UoKTtcbiAgICAgIF90aGlzLnNldHRpbmdzLnBsYXlBZnRlclJlc2l6ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgYG1vdXNlZG93bmAsXG4gICAgICBfdGhpcy5saXN0ZW5lcnMub25Nb3VzZURvd24sXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgYHRvdWNoc3RhcnRgLFxuICAgICAgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VEb3duLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIF90aGlzLmxpc3RlbmVycy5vbkN1cnNvck1vdmVMb29wU3RhcnQoZSk7XG4gICAgYWRkTGlzdGVuZXIoYG1vdXNldXBgLCBfdGhpcy5saXN0ZW5lcnMub25Nb3VzZVVwTG9vcFN0YXJ0LCBmYWxzZSk7XG4gICAgYWRkTGlzdGVuZXIoYHRvdWNoZW5kYCwgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VVcExvb3BTdGFydCwgZmFsc2UpO1xuICAgIGFkZExpc3RlbmVyKGBtb3VzZW1vdmVgLCBfdGhpcy5saXN0ZW5lcnMub25DdXJzb3JNb3ZlTG9vcFN0YXJ0LCBmYWxzZSk7XG4gICAgYWRkTGlzdGVuZXIoYHRvdWNobW92ZWAsIF90aGlzLmxpc3RlbmVycy5vbkN1cnNvck1vdmVMb29wU3RhcnQsIGZhbHNlKTtcbiAgfTtcblxuICBfdGhpcy5lbGVtZW50cy5sb29wQmFyU3RhcnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBgbW91c2Vkb3duYCxcbiAgICBfdGhpcy5saXN0ZW5lcnMub25Nb3VzZURvd25Mb29wU3RhcnQsXG4gICAgZmFsc2VcbiAgKTtcbiAgX3RoaXMuZWxlbWVudHMubG9vcEJhclN0YXJ0LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgYHRvdWNoc3RhcnRgLFxuICAgIF90aGlzLmxpc3RlbmVycy5vbk1vdXNlRG93bkxvb3BTdGFydCxcbiAgICB7XG4gICAgICBwYXNzaXZlOiBmYWxzZVxuICAgIH0sXG4gICAgZmFsc2VcbiAgKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBSUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBTUE7QUFLQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFJQTtBQURBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUlBO0FBREE7QUFLQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../src/listeners/loopBarStart.js\n");

/***/ }),

/***/ "../src/listeners/loopBtn.js":
/*!***********************************!*\
  !*** ../src/listeners/loopBtn.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ../helpers */ \"../src/helpers.js\"),\n    elid = _require.elid;\n\nmodule.exports = function (_this) {\n  _this.elements.loopButton.onclick = function () {\n    _this.settings.loopActivated = !_this.settings.loopActivated;\n\n    _this.elements.loopButton.classList.toggle(\"svg-selected\");\n\n    _this.elements.loopBarStart.classList.toggle(\"m-fadeOut\");\n\n    _this.elements.loopBarEnd.classList.toggle(\"m-fadeOut\");\n\n    _this.elements.loopBarStart.classList.toggle(\"m-fadeIn\");\n\n    _this.elements.loopBarStart.classList.toggle(\"\".concat(_this.name, \"-hide\"));\n\n    _this.elements.loopBarEnd.classList.toggle(\"m-fadeIn\");\n\n    _this.elements.loopBarEnd.classList.toggle(\"\".concat(_this.name, \"-hide\"));\n\n    elid(\"\".concat(_this.name, \"-loop-time\")).classList.toggle(\"m-fadeOut\");\n    elid(\"\".concat(_this.name, \"-loop-time\")).classList.toggle(\"m-fadeIn\");\n    elid(\"\".concat(_this.name, \"-loop-time\")).classList.toggle(\"\".concat(_this.name, \"-hide\"));\n    _this.elements.loopEndTime.innerHTML = _this.settings.loopEndMillisecond;\n    _this.elements.loopStartTime.innerHTML = _this.settings.loopStartMillisecond;\n    _this.settings.needsUpdate = true;\n\n    if (!_this.settings.loopActivated) {\n      _this.elements.loopBar.style.left = \"0%\";\n      _this.elements.loopBar.style.width = \"100%\";\n      _this.settings.loopStartMillisecond = 0;\n      _this.settings.loopEndMillisecond = _this.clip.duration;\n      _this.settings.loopLastPositionXPxls = 0;\n      _this.settings.loopLastPositionXPercentage = 0;\n      _this.elements.runningBar.style.width = _this.clip.runTimeInfo.currentMillisecond / _this.clip.duration * 100 + \"%\";\n    }\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2xpc3RlbmVycy9sb29wQnRuLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9saXN0ZW5lcnMvbG9vcEJ0bi5qcz83OTgwIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgZWxpZCB9ID0gcmVxdWlyZShgLi4vaGVscGVyc2ApO1xuXG5tb2R1bGUuZXhwb3J0cyA9IF90aGlzID0+IHtcbiAgX3RoaXMuZWxlbWVudHMubG9vcEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgIF90aGlzLnNldHRpbmdzLmxvb3BBY3RpdmF0ZWQgPSAhX3RoaXMuc2V0dGluZ3MubG9vcEFjdGl2YXRlZDtcbiAgICBfdGhpcy5lbGVtZW50cy5sb29wQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoYHN2Zy1zZWxlY3RlZGApO1xuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXJTdGFydC5jbGFzc0xpc3QudG9nZ2xlKGBtLWZhZGVPdXRgKTtcbiAgICBfdGhpcy5lbGVtZW50cy5sb29wQmFyRW5kLmNsYXNzTGlzdC50b2dnbGUoYG0tZmFkZU91dGApO1xuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXJTdGFydC5jbGFzc0xpc3QudG9nZ2xlKGBtLWZhZGVJbmApO1xuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXJTdGFydC5jbGFzc0xpc3QudG9nZ2xlKGAke190aGlzLm5hbWV9LWhpZGVgKTtcbiAgICBfdGhpcy5lbGVtZW50cy5sb29wQmFyRW5kLmNsYXNzTGlzdC50b2dnbGUoYG0tZmFkZUluYCk7XG4gICAgX3RoaXMuZWxlbWVudHMubG9vcEJhckVuZC5jbGFzc0xpc3QudG9nZ2xlKGAke190aGlzLm5hbWV9LWhpZGVgKTtcbiAgICBlbGlkKGAke190aGlzLm5hbWV9LWxvb3AtdGltZWApLmNsYXNzTGlzdC50b2dnbGUoYG0tZmFkZU91dGApO1xuICAgIGVsaWQoYCR7X3RoaXMubmFtZX0tbG9vcC10aW1lYCkuY2xhc3NMaXN0LnRvZ2dsZShgbS1mYWRlSW5gKTtcbiAgICBlbGlkKGAke190aGlzLm5hbWV9LWxvb3AtdGltZWApLmNsYXNzTGlzdC50b2dnbGUoYCR7X3RoaXMubmFtZX0taGlkZWApO1xuXG4gICAgX3RoaXMuZWxlbWVudHMubG9vcEVuZFRpbWUuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubG9vcEVuZE1pbGxpc2Vjb25kO1xuICAgIF90aGlzLmVsZW1lbnRzLmxvb3BTdGFydFRpbWUuaW5uZXJIVE1MID1cbiAgICAgIF90aGlzLnNldHRpbmdzLmxvb3BTdGFydE1pbGxpc2Vjb25kO1xuICAgIF90aGlzLnNldHRpbmdzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuICAgIGlmICghX3RoaXMuc2V0dGluZ3MubG9vcEFjdGl2YXRlZCkge1xuICAgICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5zdHlsZS5sZWZ0ID0gYDAlYDtcbiAgICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXIuc3R5bGUud2lkdGggPSBgMTAwJWA7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5sb29wU3RhcnRNaWxsaXNlY29uZCA9IDA7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5sb29wRW5kTWlsbGlzZWNvbmQgPSBfdGhpcy5jbGlwLmR1cmF0aW9uO1xuICAgICAgX3RoaXMuc2V0dGluZ3MubG9vcExhc3RQb3NpdGlvblhQeGxzID0gMDtcbiAgICAgIF90aGlzLnNldHRpbmdzLmxvb3BMYXN0UG9zaXRpb25YUGVyY2VudGFnZSA9IDA7XG4gICAgICBfdGhpcy5lbGVtZW50cy5ydW5uaW5nQmFyLnN0eWxlLndpZHRoID1cbiAgICAgICAgKF90aGlzLmNsaXAucnVuVGltZUluZm8uY3VycmVudE1pbGxpc2Vjb25kIC8gX3RoaXMuY2xpcC5kdXJhdGlvbikgKlxuICAgICAgICAgIDEwMCArXG4gICAgICAgIGAlYDtcbiAgICB9XG4gIH07XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../src/listeners/loopBtn.js\n");

/***/ }),

/***/ "../src/listeners/loopStartEnd.js":
/*!****************************************!*\
  !*** ../src/listeners/loopStartEnd.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function (_this) {\n  _this.listeners.editableLoopStartTime = function () {\n    _this.elements.editableLoopStartTime.value = _this.elements.loopStartTime.innerHTML;\n\n    _this.elements.loopStartTime.replaceWith(_this.elements.editableLoopStartTime);\n\n    _this.elements.editableLoopStartTime.focus();\n  };\n\n  _this.listeners.editableLoopEndTime = function () {\n    _this.elements.editableLoopEndTime.value = _this.elements.loopEndTime.innerHTML;\n\n    _this.elements.loopEndTime.replaceWith(_this.elements.editableLoopEndTime);\n\n    _this.elements.editableLoopEndTime.focus();\n  };\n\n  _this.elements.editableLoopEndTime.onkeydown = _this.elements.editableLoopStartTime.onkeydown = function (e) {\n    e.preventDefault();\n\n    if (e.keyCode === 13) {\n      _this.elements.editableLoopStartTime.onfocusout();\n\n      _this.elements.editableLoopEndTime.onfocusout();\n    }\n\n    if (e.keyCode === 8) {\n      e.target.value = e.target.value.toString().substring(0, e.target.value.toString().length - 1);\n    }\n\n    if (e.keyCode === 13) {\n      e.target.blur();\n    }\n\n    var newValue = parseFloat((e.target.value || 0).toString() + e.key);\n\n    if (newValue > _this.clip.duration) {\n      return;\n    }\n\n    e.target.value = newValue;\n\n    if (e.target === _this.elements.editableLoopStartTime) {\n      var viewportOffset = _this.elements.totalBar.getBoundingClientRect();\n\n      var event = {\n        preventDefault: function preventDefault() {},\n        clientX: _this.elements.totalBar.offsetWidth / _this.clip.duration * e.target.value + viewportOffset.left\n      };\n\n      _this.listeners.onMouseDownLoopStart(event);\n\n      _this.listeners.onCursorMoveLoopStart(event);\n\n      _this.listeners.onMouseUpLoopStart(event);\n    } else if (e.target === _this.elements.editableLoopEndTime) {\n      var _viewportOffset = _this.elements.totalBar.getBoundingClientRect();\n\n      var _event = {\n        preventDefault: function preventDefault() {},\n        clientX: _this.elements.totalBar.offsetWidth / _this.clip.duration * e.target.value + _viewportOffset.left\n      };\n\n      _this.listeners.onMouseDownLoopEnd(_event);\n\n      _this.listeners.onCursorMoveLoopEnd(_event);\n\n      _this.listeners.onMouseUpLoopEnd(_event);\n    }\n  };\n\n  _this.elements.loopStartTime.onclick = _this.listeners.editableLoopStartTime;\n  _this.elements.loopEndTime.onclick = _this.listeners.editableLoopEndTime;\n\n  _this.elements.editableLoopStartTime.onfocusout = function () {\n    _this.elements.editableLoopStartTime.replaceWith(_this.elements.loopStartTime);\n  };\n\n  _this.elements.editableLoopEndTime.onfocusout = function () {\n    _this.elements.editableLoopEndTime.replaceWith(_this.elements.loopEndTime);\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2xpc3RlbmVycy9sb29wU3RhcnRFbmQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL2xpc3RlbmVycy9sb29wU3RhcnRFbmQuanM/YmY1MCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF90aGlzID0+IHtcbiAgX3RoaXMubGlzdGVuZXJzLmVkaXRhYmxlTG9vcFN0YXJ0VGltZSA9ICgpID0+IHtcbiAgICBfdGhpcy5lbGVtZW50cy5lZGl0YWJsZUxvb3BTdGFydFRpbWUudmFsdWUgPVxuICAgICAgX3RoaXMuZWxlbWVudHMubG9vcFN0YXJ0VGltZS5pbm5lckhUTUw7XG4gICAgX3RoaXMuZWxlbWVudHMubG9vcFN0YXJ0VGltZS5yZXBsYWNlV2l0aChcbiAgICAgIF90aGlzLmVsZW1lbnRzLmVkaXRhYmxlTG9vcFN0YXJ0VGltZVxuICAgICk7XG4gICAgX3RoaXMuZWxlbWVudHMuZWRpdGFibGVMb29wU3RhcnRUaW1lLmZvY3VzKCk7XG4gIH07XG5cbiAgX3RoaXMubGlzdGVuZXJzLmVkaXRhYmxlTG9vcEVuZFRpbWUgPSAoKSA9PiB7XG4gICAgX3RoaXMuZWxlbWVudHMuZWRpdGFibGVMb29wRW5kVGltZS52YWx1ZSA9XG4gICAgICBfdGhpcy5lbGVtZW50cy5sb29wRW5kVGltZS5pbm5lckhUTUw7XG4gICAgX3RoaXMuZWxlbWVudHMubG9vcEVuZFRpbWUucmVwbGFjZVdpdGgoX3RoaXMuZWxlbWVudHMuZWRpdGFibGVMb29wRW5kVGltZSk7XG4gICAgX3RoaXMuZWxlbWVudHMuZWRpdGFibGVMb29wRW5kVGltZS5mb2N1cygpO1xuICB9O1xuXG4gIF90aGlzLmVsZW1lbnRzLmVkaXRhYmxlTG9vcEVuZFRpbWUub25rZXlkb3duID0gX3RoaXMuZWxlbWVudHMuZWRpdGFibGVMb29wU3RhcnRUaW1lLm9ua2V5ZG93biA9IGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgX3RoaXMuZWxlbWVudHMuZWRpdGFibGVMb29wU3RhcnRUaW1lLm9uZm9jdXNvdXQoKTtcbiAgICAgIF90aGlzLmVsZW1lbnRzLmVkaXRhYmxlTG9vcEVuZFRpbWUub25mb2N1c291dCgpO1xuICAgIH1cbiAgICBpZiAoZS5rZXlDb2RlID09PSA4KSB7XG4gICAgICBlLnRhcmdldC52YWx1ZSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgIC50b1N0cmluZygpXG4gICAgICAgIC5zdWJzdHJpbmcoMCwgZS50YXJnZXQudmFsdWUudG9TdHJpbmcoKS5sZW5ndGggLSAxKTtcbiAgICB9XG5cbiAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgZS50YXJnZXQuYmx1cigpO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld1ZhbHVlID0gcGFyc2VGbG9hdCgoZS50YXJnZXQudmFsdWUgfHwgMCkudG9TdHJpbmcoKSArIGUua2V5KTtcblxuICAgIGlmIChuZXdWYWx1ZSA+IF90aGlzLmNsaXAuZHVyYXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZS50YXJnZXQudmFsdWUgPSBuZXdWYWx1ZTtcblxuICAgIGlmIChlLnRhcmdldCA9PT0gX3RoaXMuZWxlbWVudHMuZWRpdGFibGVMb29wU3RhcnRUaW1lKSB7XG4gICAgICBjb25zdCB2aWV3cG9ydE9mZnNldCA9IF90aGlzLmVsZW1lbnRzLnRvdGFsQmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgZXZlbnQgPSB7XG4gICAgICAgIHByZXZlbnREZWZhdWx0OiAoKSA9PiB7fSxcbiAgICAgICAgY2xpZW50WDpcbiAgICAgICAgICAoX3RoaXMuZWxlbWVudHMudG90YWxCYXIub2Zmc2V0V2lkdGggLyBfdGhpcy5jbGlwLmR1cmF0aW9uKSAqXG4gICAgICAgICAgICBlLnRhcmdldC52YWx1ZSArXG4gICAgICAgICAgdmlld3BvcnRPZmZzZXQubGVmdFxuICAgICAgfTtcbiAgICAgIF90aGlzLmxpc3RlbmVycy5vbk1vdXNlRG93bkxvb3BTdGFydChldmVudCk7XG4gICAgICBfdGhpcy5saXN0ZW5lcnMub25DdXJzb3JNb3ZlTG9vcFN0YXJ0KGV2ZW50KTtcbiAgICAgIF90aGlzLmxpc3RlbmVycy5vbk1vdXNlVXBMb29wU3RhcnQoZXZlbnQpO1xuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQgPT09IF90aGlzLmVsZW1lbnRzLmVkaXRhYmxlTG9vcEVuZFRpbWUpIHtcbiAgICAgIGNvbnN0IHZpZXdwb3J0T2Zmc2V0ID0gX3RoaXMuZWxlbWVudHMudG90YWxCYXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBldmVudCA9IHtcbiAgICAgICAgcHJldmVudERlZmF1bHQ6ICgpID0+IHt9LFxuICAgICAgICBjbGllbnRYOlxuICAgICAgICAgIChfdGhpcy5lbGVtZW50cy50b3RhbEJhci5vZmZzZXRXaWR0aCAvIF90aGlzLmNsaXAuZHVyYXRpb24pICpcbiAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICtcbiAgICAgICAgICB2aWV3cG9ydE9mZnNldC5sZWZ0XG4gICAgICB9O1xuICAgICAgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VEb3duTG9vcEVuZChldmVudCk7XG4gICAgICBfdGhpcy5saXN0ZW5lcnMub25DdXJzb3JNb3ZlTG9vcEVuZChldmVudCk7XG4gICAgICBfdGhpcy5saXN0ZW5lcnMub25Nb3VzZVVwTG9vcEVuZChldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIF90aGlzLmVsZW1lbnRzLmxvb3BTdGFydFRpbWUub25jbGljayA9IF90aGlzLmxpc3RlbmVycy5lZGl0YWJsZUxvb3BTdGFydFRpbWU7XG4gIF90aGlzLmVsZW1lbnRzLmxvb3BFbmRUaW1lLm9uY2xpY2sgPSBfdGhpcy5saXN0ZW5lcnMuZWRpdGFibGVMb29wRW5kVGltZTtcblxuICBfdGhpcy5lbGVtZW50cy5lZGl0YWJsZUxvb3BTdGFydFRpbWUub25mb2N1c291dCA9ICgpID0+IHtcbiAgICBfdGhpcy5lbGVtZW50cy5lZGl0YWJsZUxvb3BTdGFydFRpbWUucmVwbGFjZVdpdGgoXG4gICAgICBfdGhpcy5lbGVtZW50cy5sb29wU3RhcnRUaW1lXG4gICAgKTtcbiAgfTtcblxuICBfdGhpcy5lbGVtZW50cy5lZGl0YWJsZUxvb3BFbmRUaW1lLm9uZm9jdXNvdXQgPSAoKSA9PiB7XG4gICAgX3RoaXMuZWxlbWVudHMuZWRpdGFibGVMb29wRW5kVGltZS5yZXBsYWNlV2l0aChfdGhpcy5lbGVtZW50cy5sb29wRW5kVGltZSk7XG4gIH07XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFNQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../src/listeners/loopStartEnd.js\n");

/***/ }),

/***/ "../src/listeners/preview.js":
/*!***********************************!*\
  !*** ../src/listeners/preview.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ../helpers */ \"../src/helpers.js\"),\n    elid = _require.elid,\n    addListener = _require.addListener,\n    removeListener = _require.removeListener;\n\nmodule.exports = function (_this) {\n  // only on desctop devices\n  if (!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n    var loopBarMouseInOut = function loopBarMouseInOut() {\n      if (!_this.options.preview) {\n        return;\n      }\n\n      elid(\"\".concat(_this.name, \"-hover-display\")).classList.toggle(\"m-fadeOut\");\n      elid(\"\".concat(_this.name, \"-hover-display\")).classList.toggle(\"m-fadeIn\");\n      elid(\"\".concat(_this.name, \"-hover-display\")).classList.toggle(\"\".concat(_this.name, \"-hide\")); // if (elid(`${_this.name}-hover-display`).className.includes(`m-fadeIn`)) {\n      //   _this.previewJourney = hoverTimeCapsule.startJourney(_this.previewClip);\n      // } else {\n      //   _this.previewJourney.destination();\n      // }\n\n      _this.elements.loopBar.onmousemove = loopBarMouseMove;\n    };\n\n    var loopBarAddListeners = function loopBarAddListeners() {\n      if (!_this.options.preview) {\n        return;\n      }\n\n      loopBarMouseInOut();\n      _this.elements.loopBar.onmouseover = _this.elements.loopBar.onmouseout = loopBarMouseInOut;\n      _this.elements.loopBar.onmousemove = loopBarMouseMove;\n      removeListener(\"mouseup\", loopBarAddListeners, false);\n      removeListener(\"touchend\", loopBarAddListeners, false);\n      removeListener(\"mousemove\", loopBarMouseMove, false);\n      removeListener(\"touchmove\", loopBarMouseMove, false);\n    };\n\n    _this.elements.loopBar.onmouseover = _this.elements.loopBar.onmouseout = loopBarMouseInOut;\n\n    _this.elements.loopBar.onmousedown = function () {\n      if (!_this.options.preview) {\n        return;\n      }\n\n      _this.elements.loopBar.onmouseover = _this.elements.loopBar.onmouseout = null;\n      _this.elements.loopBar.onmousemove = null;\n      addListener(\"mouseup\", loopBarAddListeners, false);\n      addListener(\"touchend\", loopBarAddListeners, false);\n      addListener(\"mousemove\", loopBarMouseMove, false);\n      addListener(\"touchmove\", loopBarMouseMove, false);\n    };\n\n    _this.elements.loopBar.onmouseup = function () {\n      if (!_this.options.preview) {\n        return;\n      }\n\n      removeListener(\"mouseup\", loopBarAddListeners, false);\n      removeListener(\"touchend\", loopBarAddListeners, false);\n      removeListener(\"mousemove\", loopBarMouseMove, false);\n      removeListener(\"touchmove\", loopBarMouseMove, false);\n      _this.elements.loopBar.onmouseover = _this.elements.loopBar.onmouseout = loopBarMouseInOut;\n      _this.elements.loopBar.onmousemove = loopBarMouseMove;\n    };\n\n    var loopBarMouseMove = function loopBarMouseMove(e) {\n      var clientX = e.clientX;\n\n      var viewportOffset = _this.elements.loopBar.getBoundingClientRect();\n\n      if (clientX - viewportOffset.left + _this.settings.loopLastPositionXPxls > _this.settings.loopLastPositionXPxls + _this.elements.loopBar.offsetWidth && !_this.settings.resizeLoop) {\n        elid(\"\".concat(_this.name, \"-hover-millisecond\")).innerHTML = _this.settings.loopEndMillisecond;\n        return;\n      } else if (clientX - viewportOffset.left < 0 && !_this.settings.resizeLoop) {\n        elid(\"\".concat(_this.name, \"-hover-millisecond\")).innerHTML = _this.settings.loopStartMillisecond;\n        return;\n      }\n\n      var positionX = clientX - viewportOffset.left + _this.settings.loopLastPositionXPxls;\n\n      if (positionX < 0) {\n        positionX = 0;\n      }\n\n      var previewWidth = elid(\"\".concat(_this.name, \"-hover-display\")).offsetWidth * _this.previewScale;\n\n      var halfPreviewWidth = previewWidth / 2;\n      var clipWidth = elid(\"\".concat(_this.name, \"-hover-display\")).offsetWidth;\n      var halfClipWidth = clipWidth / 2; // console.log(\n      //   elid(`${_this.name}-hover-display`).offsetWidth,\n      //   _this.previewScale,\n      //   positionX,\n      //   clipWidth,\n      //   halfClipWidth,\n      //   previewWidth,\n      //   halfPreviewWidth\n      // );\n\n      var left = positionX - halfClipWidth; // console.log(left, halfClipWidth);\n\n      if (positionX - halfPreviewWidth < 0) {\n        left = 0 - (previewWidth + halfPreviewWidth);\n      } else if (positionX + halfPreviewWidth > _this.elements.totalBar.offsetWidth) {\n        left = _this.elements.totalBar.offsetWidth - halfClipWidth - halfPreviewWidth;\n      }\n\n      var ms = Math.round(positionX / _this.elements.totalBar.offsetWidth * _this.clip.duration);\n\n      if (_this.options.preview) {\n        var fraction = ms / _this.clip.duration;\n\n        _this.previewClip.onProgress(fraction, ms);\n      }\n\n      elid(\"\".concat(_this.name, \"-hover-millisecond\")).innerHTML = ms;\n      elid(\"\".concat(_this.name, \"-hover-display\")).style.left = left + \"px\";\n    };\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2xpc3RlbmVycy9wcmV2aWV3LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9saXN0ZW5lcnMvcHJldmlldy5qcz84ZWM5Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgZWxpZCwgYWRkTGlzdGVuZXIsIHJlbW92ZUxpc3RlbmVyIH0gPSByZXF1aXJlKGAuLi9oZWxwZXJzYCk7XG5cbm1vZHVsZS5leHBvcnRzID0gX3RoaXMgPT4ge1xuICAvLyBvbmx5IG9uIGRlc2N0b3AgZGV2aWNlc1xuICBpZiAoXG4gICAgIS9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChcbiAgICAgIG5hdmlnYXRvci51c2VyQWdlbnRcbiAgICApXG4gICkge1xuICAgIGNvbnN0IGxvb3BCYXJNb3VzZUluT3V0ID0gKCkgPT4ge1xuICAgICAgaWYgKCFfdGhpcy5vcHRpb25zLnByZXZpZXcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZWxpZChgJHtfdGhpcy5uYW1lfS1ob3Zlci1kaXNwbGF5YCkuY2xhc3NMaXN0LnRvZ2dsZShgbS1mYWRlT3V0YCk7XG4gICAgICBlbGlkKGAke190aGlzLm5hbWV9LWhvdmVyLWRpc3BsYXlgKS5jbGFzc0xpc3QudG9nZ2xlKGBtLWZhZGVJbmApO1xuICAgICAgZWxpZChgJHtfdGhpcy5uYW1lfS1ob3Zlci1kaXNwbGF5YCkuY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAgICAgYCR7X3RoaXMubmFtZX0taGlkZWBcbiAgICAgICk7XG5cbiAgICAgIC8vIGlmIChlbGlkKGAke190aGlzLm5hbWV9LWhvdmVyLWRpc3BsYXlgKS5jbGFzc05hbWUuaW5jbHVkZXMoYG0tZmFkZUluYCkpIHtcbiAgICAgIC8vICAgX3RoaXMucHJldmlld0pvdXJuZXkgPSBob3ZlclRpbWVDYXBzdWxlLnN0YXJ0Sm91cm5leShfdGhpcy5wcmV2aWV3Q2xpcCk7XG4gICAgICAvLyB9IGVsc2Uge1xuICAgICAgLy8gICBfdGhpcy5wcmV2aWV3Sm91cm5leS5kZXN0aW5hdGlvbigpO1xuICAgICAgLy8gfVxuICAgICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5vbm1vdXNlbW92ZSA9IGxvb3BCYXJNb3VzZU1vdmU7XG4gICAgfTtcblxuICAgIGNvbnN0IGxvb3BCYXJBZGRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgICBpZiAoIV90aGlzLm9wdGlvbnMucHJldmlldykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb29wQmFyTW91c2VJbk91dCgpO1xuICAgICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5vbm1vdXNlb3ZlciA9IF90aGlzLmVsZW1lbnRzLmxvb3BCYXIub25tb3VzZW91dCA9IGxvb3BCYXJNb3VzZUluT3V0O1xuICAgICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5vbm1vdXNlbW92ZSA9IGxvb3BCYXJNb3VzZU1vdmU7XG4gICAgICByZW1vdmVMaXN0ZW5lcihgbW91c2V1cGAsIGxvb3BCYXJBZGRMaXN0ZW5lcnMsIGZhbHNlKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGB0b3VjaGVuZGAsIGxvb3BCYXJBZGRMaXN0ZW5lcnMsIGZhbHNlKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGBtb3VzZW1vdmVgLCBsb29wQmFyTW91c2VNb3ZlLCBmYWxzZSk7XG4gICAgICByZW1vdmVMaXN0ZW5lcihgdG91Y2htb3ZlYCwgbG9vcEJhck1vdXNlTW92ZSwgZmFsc2UpO1xuICAgIH07XG5cbiAgICBfdGhpcy5lbGVtZW50cy5sb29wQmFyLm9ubW91c2VvdmVyID0gX3RoaXMuZWxlbWVudHMubG9vcEJhci5vbm1vdXNlb3V0ID0gbG9vcEJhck1vdXNlSW5PdXQ7XG5cbiAgICBfdGhpcy5lbGVtZW50cy5sb29wQmFyLm9ubW91c2Vkb3duID0gKCkgPT4ge1xuICAgICAgaWYgKCFfdGhpcy5vcHRpb25zLnByZXZpZXcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgX3RoaXMuZWxlbWVudHMubG9vcEJhci5vbm1vdXNlb3ZlciA9IF90aGlzLmVsZW1lbnRzLmxvb3BCYXIub25tb3VzZW91dCA9IG51bGw7XG4gICAgICBfdGhpcy5lbGVtZW50cy5sb29wQmFyLm9ubW91c2Vtb3ZlID0gbnVsbDtcbiAgICAgIGFkZExpc3RlbmVyKGBtb3VzZXVwYCwgbG9vcEJhckFkZExpc3RlbmVycywgZmFsc2UpO1xuICAgICAgYWRkTGlzdGVuZXIoYHRvdWNoZW5kYCwgbG9vcEJhckFkZExpc3RlbmVycywgZmFsc2UpO1xuICAgICAgYWRkTGlzdGVuZXIoYG1vdXNlbW92ZWAsIGxvb3BCYXJNb3VzZU1vdmUsIGZhbHNlKTtcbiAgICAgIGFkZExpc3RlbmVyKGB0b3VjaG1vdmVgLCBsb29wQmFyTW91c2VNb3ZlLCBmYWxzZSk7XG4gICAgfTtcbiAgICBfdGhpcy5lbGVtZW50cy5sb29wQmFyLm9ubW91c2V1cCA9ICgpID0+IHtcbiAgICAgIGlmICghX3RoaXMub3B0aW9ucy5wcmV2aWV3KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlbW92ZUxpc3RlbmVyKGBtb3VzZXVwYCwgbG9vcEJhckFkZExpc3RlbmVycywgZmFsc2UpO1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoYHRvdWNoZW5kYCwgbG9vcEJhckFkZExpc3RlbmVycywgZmFsc2UpO1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoYG1vdXNlbW92ZWAsIGxvb3BCYXJNb3VzZU1vdmUsIGZhbHNlKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGB0b3VjaG1vdmVgLCBsb29wQmFyTW91c2VNb3ZlLCBmYWxzZSk7XG4gICAgICBfdGhpcy5lbGVtZW50cy5sb29wQmFyLm9ubW91c2VvdmVyID0gX3RoaXMuZWxlbWVudHMubG9vcEJhci5vbm1vdXNlb3V0ID0gbG9vcEJhck1vdXNlSW5PdXQ7XG4gICAgICBfdGhpcy5lbGVtZW50cy5sb29wQmFyLm9ubW91c2Vtb3ZlID0gbG9vcEJhck1vdXNlTW92ZTtcbiAgICB9O1xuXG4gICAgY29uc3QgbG9vcEJhck1vdXNlTW92ZSA9IGUgPT4ge1xuICAgICAgY29uc3QgY2xpZW50WCA9IGUuY2xpZW50WDtcbiAgICAgIGNvbnN0IHZpZXdwb3J0T2Zmc2V0ID0gX3RoaXMuZWxlbWVudHMubG9vcEJhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgaWYgKFxuICAgICAgICBjbGllbnRYIC0gdmlld3BvcnRPZmZzZXQubGVmdCArIF90aGlzLnNldHRpbmdzLmxvb3BMYXN0UG9zaXRpb25YUHhscyA+XG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MubG9vcExhc3RQb3NpdGlvblhQeGxzICtcbiAgICAgICAgICAgIF90aGlzLmVsZW1lbnRzLmxvb3BCYXIub2Zmc2V0V2lkdGggJiZcbiAgICAgICAgIV90aGlzLnNldHRpbmdzLnJlc2l6ZUxvb3BcbiAgICAgICkge1xuICAgICAgICBlbGlkKGAke190aGlzLm5hbWV9LWhvdmVyLW1pbGxpc2Vjb25kYCkuaW5uZXJIVE1MID1cbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5sb29wRW5kTWlsbGlzZWNvbmQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIGNsaWVudFggLSB2aWV3cG9ydE9mZnNldC5sZWZ0IDwgMCAmJlxuICAgICAgICAhX3RoaXMuc2V0dGluZ3MucmVzaXplTG9vcFxuICAgICAgKSB7XG4gICAgICAgIGVsaWQoYCR7X3RoaXMubmFtZX0taG92ZXItbWlsbGlzZWNvbmRgKS5pbm5lckhUTUwgPVxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLmxvb3BTdGFydE1pbGxpc2Vjb25kO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBwb3NpdGlvblggPVxuICAgICAgICBjbGllbnRYIC0gdmlld3BvcnRPZmZzZXQubGVmdCArIF90aGlzLnNldHRpbmdzLmxvb3BMYXN0UG9zaXRpb25YUHhscztcblxuICAgICAgaWYgKHBvc2l0aW9uWCA8IDApIHtcbiAgICAgICAgcG9zaXRpb25YID0gMDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpZXdXaWR0aCA9XG4gICAgICAgIGVsaWQoYCR7X3RoaXMubmFtZX0taG92ZXItZGlzcGxheWApLm9mZnNldFdpZHRoICogX3RoaXMucHJldmlld1NjYWxlO1xuXG4gICAgICBjb25zdCBoYWxmUHJldmlld1dpZHRoID0gcHJldmlld1dpZHRoIC8gMjtcblxuICAgICAgY29uc3QgY2xpcFdpZHRoID0gZWxpZChgJHtfdGhpcy5uYW1lfS1ob3Zlci1kaXNwbGF5YCkub2Zmc2V0V2lkdGg7XG4gICAgICBjb25zdCBoYWxmQ2xpcFdpZHRoID0gY2xpcFdpZHRoIC8gMjtcblxuICAgICAgLy8gY29uc29sZS5sb2coXG4gICAgICAvLyAgIGVsaWQoYCR7X3RoaXMubmFtZX0taG92ZXItZGlzcGxheWApLm9mZnNldFdpZHRoLFxuICAgICAgLy8gICBfdGhpcy5wcmV2aWV3U2NhbGUsXG4gICAgICAvLyAgIHBvc2l0aW9uWCxcbiAgICAgIC8vICAgY2xpcFdpZHRoLFxuICAgICAgLy8gICBoYWxmQ2xpcFdpZHRoLFxuICAgICAgLy8gICBwcmV2aWV3V2lkdGgsXG4gICAgICAvLyAgIGhhbGZQcmV2aWV3V2lkdGhcbiAgICAgIC8vICk7XG5cbiAgICAgIGxldCBsZWZ0ID0gcG9zaXRpb25YIC0gaGFsZkNsaXBXaWR0aDtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGxlZnQsIGhhbGZDbGlwV2lkdGgpO1xuICAgICAgaWYgKHBvc2l0aW9uWCAtIGhhbGZQcmV2aWV3V2lkdGggPCAwKSB7XG4gICAgICAgIGxlZnQgPSAwIC0gKHByZXZpZXdXaWR0aCArIGhhbGZQcmV2aWV3V2lkdGgpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgcG9zaXRpb25YICsgaGFsZlByZXZpZXdXaWR0aCA+XG4gICAgICAgIF90aGlzLmVsZW1lbnRzLnRvdGFsQmFyLm9mZnNldFdpZHRoXG4gICAgICApIHtcbiAgICAgICAgbGVmdCA9XG4gICAgICAgICAgX3RoaXMuZWxlbWVudHMudG90YWxCYXIub2Zmc2V0V2lkdGggLVxuICAgICAgICAgIGhhbGZDbGlwV2lkdGggLVxuICAgICAgICAgIGhhbGZQcmV2aWV3V2lkdGg7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1zID0gTWF0aC5yb3VuZChcbiAgICAgICAgKHBvc2l0aW9uWCAvIF90aGlzLmVsZW1lbnRzLnRvdGFsQmFyLm9mZnNldFdpZHRoKSAqIF90aGlzLmNsaXAuZHVyYXRpb25cbiAgICAgICk7XG4gICAgICBpZiAoX3RoaXMub3B0aW9ucy5wcmV2aWV3KSB7XG4gICAgICAgIGNvbnN0IGZyYWN0aW9uID0gbXMgLyBfdGhpcy5jbGlwLmR1cmF0aW9uO1xuICAgICAgICBfdGhpcy5wcmV2aWV3Q2xpcC5vblByb2dyZXNzKGZyYWN0aW9uLCBtcyk7XG4gICAgICB9XG5cbiAgICAgIGVsaWQoYCR7X3RoaXMubmFtZX0taG92ZXItbWlsbGlzZWNvbmRgKS5pbm5lckhUTUwgPSBtcztcbiAgICAgIGVsaWQoYCR7X3RoaXMubmFtZX0taG92ZXItZGlzcGxheWApLnN0eWxlLmxlZnQgPSBsZWZ0ICsgYHB4YDtcbiAgICB9O1xuICB9XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../src/listeners/preview.js\n");

/***/ }),

/***/ "../src/listeners/progressBar.js":
/*!***************************************!*\
  !*** ../src/listeners/progressBar.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ../helpers */ \"../src/helpers.js\"),\n    addListener = _require.addListener,\n    removeListener = _require.removeListener;\n\nmodule.exports = function (_this) {\n  // let pe = false;\n  _this.listeners.onCursorMove = function (e) {\n    e.preventDefault();\n    var clientX = e.clientX || ((e.touches || [])[0] || {}).clientX;\n\n    var viewportOffset = _this.elements.loopBar.getBoundingClientRect();\n\n    var positionX = clientX - viewportOffset.left;\n\n    if (positionX < 0) {\n      positionX = 0;\n    } else if (positionX > _this.elements.loopBar.offsetWidth) {\n      positionX = _this.elements.loopBar.offsetWidth;\n    }\n\n    _this.handleDrag(positionX);\n  };\n\n  _this.listeners.onMouseUp = function () {\n    _this.elements.listenerHelper.style.pointerEvents = \"none\";\n    removeListener(\"mouseup\", _this.listeners.onMouseUp, false);\n    removeListener(\"touchend\", _this.listeners.onMouseUp, false);\n    removeListener(\"mousemove\", _this.listeners.onCursorMove, false);\n    removeListener(\"touchmove\", _this.listeners.onCursorMove, false);\n\n    _this.handleDragEnd(_this.settings);\n  };\n\n  _this.listeners.onMouseDown = function (e) {\n    _this.elements.listenerHelper.style.pointerEvents = \"auto\";\n\n    if (_this.clip.runTimeInfo.state === \"playing\") {\n      _this.settings.playAfterResize = true;\n    }\n\n    _this.handleDragStart(_this.clip);\n\n    _this.listeners.onCursorMove(e);\n\n    addListener(\"mouseup\", _this.listeners.onMouseUp, false);\n    addListener(\"touchend\", _this.listeners.onMouseUp, false);\n    addListener(\"mousemove\", _this.listeners.onCursorMove, false);\n    addListener(\"touchmove\", _this.listeners.onCursorMove, false);\n  };\n\n  _this.elements.loopBar.addEventListener(\"mousedown\", _this.listeners.onMouseDown, false);\n\n  _this.elements.loopBar.addEventListener(\"touchstart\", _this.listeners.onMouseDown, {\n    passive: false\n  }, false);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2xpc3RlbmVycy9wcm9ncmVzc0Jhci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9zcmMvbGlzdGVuZXJzL3Byb2dyZXNzQmFyLmpzPzU3YjIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBhZGRMaXN0ZW5lciwgcmVtb3ZlTGlzdGVuZXIgfSA9IHJlcXVpcmUoYC4uL2hlbHBlcnNgKTtcblxubW9kdWxlLmV4cG9ydHMgPSBfdGhpcyA9PiB7XG4gIC8vIGxldCBwZSA9IGZhbHNlO1xuXG4gIF90aGlzLmxpc3RlbmVycy5vbkN1cnNvck1vdmUgPSBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgY2xpZW50WCA9IGUuY2xpZW50WCB8fCAoKGUudG91Y2hlcyB8fCBbXSlbMF0gfHwge30pLmNsaWVudFg7XG4gICAgY29uc3Qgdmlld3BvcnRPZmZzZXQgPSBfdGhpcy5lbGVtZW50cy5sb29wQmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBwb3NpdGlvblggPSBjbGllbnRYIC0gdmlld3BvcnRPZmZzZXQubGVmdDtcblxuICAgIGlmIChwb3NpdGlvblggPCAwKSB7XG4gICAgICBwb3NpdGlvblggPSAwO1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb25YID4gX3RoaXMuZWxlbWVudHMubG9vcEJhci5vZmZzZXRXaWR0aCkge1xuICAgICAgcG9zaXRpb25YID0gX3RoaXMuZWxlbWVudHMubG9vcEJhci5vZmZzZXRXaWR0aDtcbiAgICB9XG4gICAgX3RoaXMuaGFuZGxlRHJhZyhwb3NpdGlvblgpO1xuICB9O1xuXG4gIF90aGlzLmxpc3RlbmVycy5vbk1vdXNlVXAgPSAoKSA9PiB7XG4gICAgX3RoaXMuZWxlbWVudHMubGlzdGVuZXJIZWxwZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuICAgIHJlbW92ZUxpc3RlbmVyKGBtb3VzZXVwYCwgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VVcCwgZmFsc2UpO1xuICAgIHJlbW92ZUxpc3RlbmVyKGB0b3VjaGVuZGAsIF90aGlzLmxpc3RlbmVycy5vbk1vdXNlVXAsIGZhbHNlKTtcbiAgICByZW1vdmVMaXN0ZW5lcihgbW91c2Vtb3ZlYCwgX3RoaXMubGlzdGVuZXJzLm9uQ3Vyc29yTW92ZSwgZmFsc2UpO1xuICAgIHJlbW92ZUxpc3RlbmVyKGB0b3VjaG1vdmVgLCBfdGhpcy5saXN0ZW5lcnMub25DdXJzb3JNb3ZlLCBmYWxzZSk7XG4gICAgX3RoaXMuaGFuZGxlRHJhZ0VuZChfdGhpcy5zZXR0aW5ncyk7XG4gIH07XG5cbiAgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VEb3duID0gZSA9PiB7XG4gICAgX3RoaXMuZWxlbWVudHMubGlzdGVuZXJIZWxwZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiO1xuXG4gICAgaWYgKF90aGlzLmNsaXAucnVuVGltZUluZm8uc3RhdGUgPT09IGBwbGF5aW5nYCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MucGxheUFmdGVyUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgX3RoaXMuaGFuZGxlRHJhZ1N0YXJ0KF90aGlzLmNsaXApO1xuICAgIF90aGlzLmxpc3RlbmVycy5vbkN1cnNvck1vdmUoZSk7XG4gICAgYWRkTGlzdGVuZXIoYG1vdXNldXBgLCBfdGhpcy5saXN0ZW5lcnMub25Nb3VzZVVwLCBmYWxzZSk7XG4gICAgYWRkTGlzdGVuZXIoYHRvdWNoZW5kYCwgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VVcCwgZmFsc2UpO1xuICAgIGFkZExpc3RlbmVyKGBtb3VzZW1vdmVgLCBfdGhpcy5saXN0ZW5lcnMub25DdXJzb3JNb3ZlLCBmYWxzZSk7XG4gICAgYWRkTGlzdGVuZXIoYHRvdWNobW92ZWAsIF90aGlzLmxpc3RlbmVycy5vbkN1cnNvck1vdmUsIGZhbHNlKTtcbiAgfTtcblxuICBfdGhpcy5lbGVtZW50cy5sb29wQmFyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgYG1vdXNlZG93bmAsXG4gICAgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VEb3duLFxuICAgIGZhbHNlXG4gICk7XG4gIF90aGlzLmVsZW1lbnRzLmxvb3BCYXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBgdG91Y2hzdGFydGAsXG4gICAgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VEb3duLFxuICAgIHtcbiAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgfSxcbiAgICBmYWxzZVxuICApO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUlBO0FBREE7QUFLQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../src/listeners/progressBar.js\n");

/***/ }),

/***/ "../src/listeners/settings.js":
/*!************************************!*\
  !*** ../src/listeners/settings.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ../helpers */ \"../src/helpers.js\"),\n    elid = _require.elid,\n    addListener = _require.addListener,\n    removeListener = _require.removeListener;\n\nmodule.exports = function (_this) {\n  _this.elements.settingsShowIndicator.onclick = function (e) {\n    e.preventDefault();\n    var checkbox = elid(\"\".concat(_this.name, \"-show-indicator-checkbox\"));\n\n    if (checkbox.checked) {\n      checkbox.checked = false;\n      _this.elements.indicator.style.visibility = \"hidden\";\n      _this.elements.statusButton.style.width = \"40px\";\n      _this.elements.statusButton.style.height = \"25px\";\n      _this.elements.statusButton.style.bottom = \"0px\";\n    } else {\n      checkbox.checked = true;\n      _this.elements.indicator.style.visibility = \"visible\";\n      _this.elements.statusButton.style.width = \"35px\";\n      _this.elements.statusButton.style.height = \"20px\";\n      _this.elements.statusButton.style.bottom = \"5px\";\n    }\n  };\n\n  _this.elements.settingsPointerEvents.onclick = function (e) {\n    e.preventDefault();\n    var checkbox = elid(\"\".concat(_this.name, \"-pointer-events-checkbox\"));\n\n    if (checkbox.checked) {\n      checkbox.checked = false;\n      _this.options.pointerEvents = false;\n      _this.elements.mcPlayer.style.pointerEvents = \"none\";\n      _this.elements.pointerEventPanel.style.pointerEvents = \"none\";\n      elid(\"\".concat(_this.name, \"-controls\")).style.pointerEvents = \"auto\";\n      _this.elements.settingsPanel.style.pointerEvents = \"auto\";\n    } else {\n      checkbox.checked = true;\n      _this.elements.mcPlayer.style.pointerEvents = \"none\";\n      _this.elements.pointerEventPanel.style.pointerEvents = \"auto\";\n      elid(\"\".concat(_this.name, \"-controls\")).style.pointerEvents = \"auto\";\n      _this.elements.settingsPanel.style.pointerEvents = \"auto\";\n    }\n  };\n\n  _this.elements.settingsShowVolume.onclick = function (e) {\n    e.preventDefault();\n\n    _this.elements.volumeControl.classList.toggle(\"\".concat(_this.name, \"-volume-width-transition\"));\n\n    _this.elements.volumeBar.classList.toggle(\"\".concat(_this.name, \"-volume-width-transition\"));\n\n    _this.elements.volumeBar.classList.toggle(\"\".concat(_this.name, \"-hide\"));\n\n    _this.elements.volumeBarHelper.classList.toggle(\"\".concat(_this.name, \"-volume-width-transition\")); // _this.elements.timeDisplay.classList.toggle(\n    //   `${_this.name}-time-width-transition`\n    // );\n\n\n    var checkbox = elid(\"\".concat(_this.name, \"-show-volume-checkbox\"));\n\n    if (checkbox.checked) {\n      checkbox.checked = false;\n      _this.elements.volumeControl.style.visibility = \"hidden\";\n      _this.elements.timeDisplay.style.left = \"45px\";\n    } else {\n      checkbox.checked = true;\n      _this.elements.volumeControl.style.visibility = \"visible\";\n      _this.elements.timeDisplay.style.left = \"\";\n    }\n  };\n\n  _this.elements.settingsShowPreview.onclick = function (e) {\n    e.preventDefault();\n    var checkbox = elid(\"\".concat(_this.name, \"-show-preview-checkbox\"));\n\n    if (checkbox.checked) {\n      checkbox.checked = false;\n      elid(\"\".concat(_this.name, \"-hover-display\")).style.visibility = \"hidden\";\n      elid(\"\".concat(_this.name, \"-hover-display\")).style.display = \"none\";\n      _this.options.preview = false;\n    } else {\n      if (!_this.previewClip) {\n        _this.createPreviewDisplay();\n      }\n\n      checkbox.checked = true;\n      elid(\"\".concat(_this.name, \"-hover-display\")).style.visibility = \"visible\";\n      elid(\"\".concat(_this.name, \"-hover-display\")).style.display = \"flex\";\n      _this.options.preview = true;\n    }\n  };\n\n  _this.elements.settingsButton.onclick = function (e) {\n    e.preventDefault();\n\n    var showHideSettings = function showHideSettings(e) {\n      if (_this.elements.settingsPanel.contains(e.target)) {\n        return true;\n      }\n\n      _this.elements.settingsPanel.classList.toggle(\"\".concat(_this.name, \"-hide\"));\n\n      _this.elements.settingsPanel.classList.toggle(\"m-fadeOut\");\n\n      _this.elements.settingsPanel.classList.toggle(\"m-fadeIn\");\n\n      if (_this.elements.settingsPanel.className.includes(\"m-fadeOut\")) {\n        removeListener(\"click\", showHideSettings, false);\n      }\n    };\n\n    if (_this.elements.settingsPanel.className.includes(\"m-fadeOut\")) {\n      addListener(\"click\", showHideSettings, false);\n    } else {\n      removeListener(\"click\", showHideSettings, false);\n    }\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2xpc3RlbmVycy9zZXR0aW5ncy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9zcmMvbGlzdGVuZXJzL3NldHRpbmdzLmpzP2NmMGIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBlbGlkLCBhZGRMaXN0ZW5lciwgcmVtb3ZlTGlzdGVuZXIgfSA9IHJlcXVpcmUoYC4uL2hlbHBlcnNgKTtcblxubW9kdWxlLmV4cG9ydHMgPSBfdGhpcyA9PiB7XG4gIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzU2hvd0luZGljYXRvci5vbmNsaWNrID0gZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGNoZWNrYm94ID0gZWxpZChgJHtfdGhpcy5uYW1lfS1zaG93LWluZGljYXRvci1jaGVja2JveGApO1xuICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICBjaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG4gICAgICBfdGhpcy5lbGVtZW50cy5pbmRpY2F0b3Iuc3R5bGUudmlzaWJpbGl0eSA9IGBoaWRkZW5gO1xuICAgICAgX3RoaXMuZWxlbWVudHMuc3RhdHVzQnV0dG9uLnN0eWxlLndpZHRoID0gYDQwcHhgO1xuICAgICAgX3RoaXMuZWxlbWVudHMuc3RhdHVzQnV0dG9uLnN0eWxlLmhlaWdodCA9IGAyNXB4YDtcbiAgICAgIF90aGlzLmVsZW1lbnRzLnN0YXR1c0J1dHRvbi5zdHlsZS5ib3R0b20gPSBgMHB4YDtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRydWU7XG4gICAgICBfdGhpcy5lbGVtZW50cy5pbmRpY2F0b3Iuc3R5bGUudmlzaWJpbGl0eSA9IGB2aXNpYmxlYDtcbiAgICAgIF90aGlzLmVsZW1lbnRzLnN0YXR1c0J1dHRvbi5zdHlsZS53aWR0aCA9IGAzNXB4YDtcbiAgICAgIF90aGlzLmVsZW1lbnRzLnN0YXR1c0J1dHRvbi5zdHlsZS5oZWlnaHQgPSBgMjBweGA7XG4gICAgICBfdGhpcy5lbGVtZW50cy5zdGF0dXNCdXR0b24uc3R5bGUuYm90dG9tID0gYDVweGA7XG4gICAgfVxuICB9O1xuXG4gIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzUG9pbnRlckV2ZW50cy5vbmNsaWNrID0gZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGNoZWNrYm94ID0gZWxpZChgJHtfdGhpcy5uYW1lfS1wb2ludGVyLWV2ZW50cy1jaGVja2JveGApO1xuICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICBjaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG4gICAgICBfdGhpcy5vcHRpb25zLnBvaW50ZXJFdmVudHMgPSBmYWxzZTtcbiAgICAgIF90aGlzLmVsZW1lbnRzLm1jUGxheWVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICAgIF90aGlzLmVsZW1lbnRzLnBvaW50ZXJFdmVudFBhbmVsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICAgIGVsaWQoYCR7X3RoaXMubmFtZX0tY29udHJvbHNgKS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCI7XG4gICAgICBfdGhpcy5lbGVtZW50cy5zZXR0aW5nc1BhbmVsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcImF1dG9cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRydWU7XG4gICAgICBfdGhpcy5lbGVtZW50cy5tY1BsYXllci5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gICAgICBfdGhpcy5lbGVtZW50cy5wb2ludGVyRXZlbnRQYW5lbC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCI7XG4gICAgICBlbGlkKGAke190aGlzLm5hbWV9LWNvbnRyb2xzYCkuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiO1xuICAgICAgX3RoaXMuZWxlbWVudHMuc2V0dGluZ3NQYW5lbC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCI7XG4gICAgfVxuICB9O1xuXG4gIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzU2hvd1ZvbHVtZS5vbmNsaWNrID0gZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIF90aGlzLmVsZW1lbnRzLnZvbHVtZUNvbnRyb2wuY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAgIGAke190aGlzLm5hbWV9LXZvbHVtZS13aWR0aC10cmFuc2l0aW9uYFxuICAgICk7XG4gICAgX3RoaXMuZWxlbWVudHMudm9sdW1lQmFyLmNsYXNzTGlzdC50b2dnbGUoXG4gICAgICBgJHtfdGhpcy5uYW1lfS12b2x1bWUtd2lkdGgtdHJhbnNpdGlvbmBcbiAgICApO1xuICAgIF90aGlzLmVsZW1lbnRzLnZvbHVtZUJhci5jbGFzc0xpc3QudG9nZ2xlKGAke190aGlzLm5hbWV9LWhpZGVgKTtcbiAgICBfdGhpcy5lbGVtZW50cy52b2x1bWVCYXJIZWxwZXIuY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAgIGAke190aGlzLm5hbWV9LXZvbHVtZS13aWR0aC10cmFuc2l0aW9uYFxuICAgICk7XG4gICAgLy8gX3RoaXMuZWxlbWVudHMudGltZURpc3BsYXkuY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAvLyAgIGAke190aGlzLm5hbWV9LXRpbWUtd2lkdGgtdHJhbnNpdGlvbmBcbiAgICAvLyApO1xuXG4gICAgY29uc3QgY2hlY2tib3ggPSBlbGlkKGAke190aGlzLm5hbWV9LXNob3ctdm9sdW1lLWNoZWNrYm94YCk7XG4gICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgIF90aGlzLmVsZW1lbnRzLnZvbHVtZUNvbnRyb2wuc3R5bGUudmlzaWJpbGl0eSA9IGBoaWRkZW5gO1xuICAgICAgX3RoaXMuZWxlbWVudHMudGltZURpc3BsYXkuc3R5bGUubGVmdCA9IGA0NXB4YDtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRydWU7XG4gICAgICBfdGhpcy5lbGVtZW50cy52b2x1bWVDb250cm9sLnN0eWxlLnZpc2liaWxpdHkgPSBgdmlzaWJsZWA7XG4gICAgICBfdGhpcy5lbGVtZW50cy50aW1lRGlzcGxheS5zdHlsZS5sZWZ0ID0gYGA7XG4gICAgfVxuICB9O1xuXG4gIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzU2hvd1ByZXZpZXcub25jbGljayA9IGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBjaGVja2JveCA9IGVsaWQoYCR7X3RoaXMubmFtZX0tc2hvdy1wcmV2aWV3LWNoZWNrYm94YCk7XG4gICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgIGVsaWQoYCR7X3RoaXMubmFtZX0taG92ZXItZGlzcGxheWApLnN0eWxlLnZpc2liaWxpdHkgPSBgaGlkZGVuYDtcbiAgICAgIGVsaWQoYCR7X3RoaXMubmFtZX0taG92ZXItZGlzcGxheWApLnN0eWxlLmRpc3BsYXkgPSBgbm9uZWA7XG4gICAgICBfdGhpcy5vcHRpb25zLnByZXZpZXcgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFfdGhpcy5wcmV2aWV3Q2xpcCkge1xuICAgICAgICBfdGhpcy5jcmVhdGVQcmV2aWV3RGlzcGxheSgpO1xuICAgICAgfVxuICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRydWU7XG4gICAgICBlbGlkKGAke190aGlzLm5hbWV9LWhvdmVyLWRpc3BsYXlgKS5zdHlsZS52aXNpYmlsaXR5ID0gYHZpc2libGVgO1xuICAgICAgZWxpZChgJHtfdGhpcy5uYW1lfS1ob3Zlci1kaXNwbGF5YCkuc3R5bGUuZGlzcGxheSA9IGBmbGV4YDtcbiAgICAgIF90aGlzLm9wdGlvbnMucHJldmlldyA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzQnV0dG9uLm9uY2xpY2sgPSBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBzaG93SGlkZVNldHRpbmdzID0gZSA9PiB7XG4gICAgICBpZiAoX3RoaXMuZWxlbWVudHMuc2V0dGluZ3NQYW5lbC5jb250YWlucyhlLnRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBfdGhpcy5lbGVtZW50cy5zZXR0aW5nc1BhbmVsLmNsYXNzTGlzdC50b2dnbGUoYCR7X3RoaXMubmFtZX0taGlkZWApO1xuXG4gICAgICBfdGhpcy5lbGVtZW50cy5zZXR0aW5nc1BhbmVsLmNsYXNzTGlzdC50b2dnbGUoYG0tZmFkZU91dGApO1xuICAgICAgX3RoaXMuZWxlbWVudHMuc2V0dGluZ3NQYW5lbC5jbGFzc0xpc3QudG9nZ2xlKGBtLWZhZGVJbmApO1xuICAgICAgaWYgKF90aGlzLmVsZW1lbnRzLnNldHRpbmdzUGFuZWwuY2xhc3NOYW1lLmluY2x1ZGVzKGBtLWZhZGVPdXRgKSkge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcihgY2xpY2tgLCBzaG93SGlkZVNldHRpbmdzLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChfdGhpcy5lbGVtZW50cy5zZXR0aW5nc1BhbmVsLmNsYXNzTmFtZS5pbmNsdWRlcyhgbS1mYWRlT3V0YCkpIHtcbiAgICAgIGFkZExpc3RlbmVyKGBjbGlja2AsIHNob3dIaWRlU2V0dGluZ3MsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoYGNsaWNrYCwgc2hvd0hpZGVTZXR0aW5ncywgZmFsc2UpO1xuICAgIH1cbiAgfTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../src/listeners/settings.js\n");

/***/ }),

/***/ "../src/listeners/speed.js":
/*!*********************************!*\
  !*** ../src/listeners/speed.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ../helpers */ \"../src/helpers.js\"),\n    elid = _require.elid,\n    addListener = _require.addListener,\n    removeListener = _require.removeListener;\n\nmodule.exports = function (_this) {\n  // const pe = false;\n  _this.elements.settingsSpeedButtonShow.onclick = _this.elements.settingsSpeedButtonHide.onclick = function (e) {\n    e.preventDefault();\n\n    _this.elements.settingsPanel.classList.toggle(\"\".concat(_this.name, \"-settings-speed-panel\"));\n\n    var includesClass = _this.elements.settingsPanel.className.includes(\"\".concat(_this.name, \"-settings-speed-panel\"));\n\n    if (includesClass) {\n      _this.elements.settingsMainPanel.style.display = \"none\";\n      _this.elements.settingsSpeedPanel.style.display = \"block\";\n    } else {\n      _this.elements.settingsSpeedPanel.style.display = \"none\";\n      _this.elements.settingsMainPanel.style.display = \"block\";\n    }\n  };\n\n  var onCursorMoveSpeedBar = function onCursorMoveSpeedBar(e) {\n    e.preventDefault();\n\n    var viewportOffset = _this.elements.speedBar.getBoundingClientRect();\n\n    var clientY = e.clientY || ((e.touches || [])[0] || {}).clientY;\n    var positionY = clientY - viewportOffset.top;\n    positionY -= 8;\n\n    if (positionY < 0) {\n      positionY = 0;\n    } else if (positionY > _this.elements.speedBar.offsetHeight - 16) {\n      positionY = _this.elements.speedBar.offsetHeight - 16;\n    }\n\n    positionY = Math.floor(positionY); // show speed\n\n    var percentage = (positionY / ((_this.options.speedValues.length - 1) * 16) - 1) * -1;\n    var step = 1 / (_this.options.speedValues.length - 1);\n\n    var speed = _this.calculateSpeed(step, _this.options.speedValues, percentage);\n\n    elid(\"\".concat(_this.name, \"-speed-runtime\")).innerHTML = speed + \"0\";\n    elid(\"\".concat(_this.name, \"-speed-cursor\")).style.top = positionY + \"px\";\n    _this.clip.executionSpeed = speed;\n  };\n\n  var onMouseUpSpeedBar = function onMouseUpSpeedBar(e) {\n    // if (pe) {\n    //   _this.elements.settingsPointerEvents.click();\n    // }\n    _this.elements.listenerHelper.style.pointerEvents = \"none\";\n    e.preventDefault();\n    removeListener(\"mouseup\", onMouseUpSpeedBar, false);\n    removeListener(\"touchend\", onMouseUpSpeedBar, false);\n    removeListener(\"mousemove\", onCursorMoveSpeedBar, false);\n    removeListener(\"touchmove\", onCursorMoveSpeedBar, false);\n    elid(\"\".concat(_this.name, \"-speed-runtime\")).innerHTML = \"Speed\";\n    var speedDisplay;\n    _this.clip.speed == 1 ? speedDisplay = \"Normal\" : speedDisplay = _this.clip.speed;\n    _this.elements.speedCurrent.innerHTML = speedDisplay;\n  };\n\n  var onMouseDownSpeedBar = function onMouseDownSpeedBar(e) {\n    // if (!_this.options.pointerEvents) {\n    //   pe = true;\n    //   _this.elements.settingsPointerEvents.click();\n    // }\n    _this.elements.listenerHelper.style.pointerEvents = \"auto\";\n    e.preventDefault();\n    onCursorMoveSpeedBar(e);\n    addListener(\"mouseup\", onMouseUpSpeedBar, false);\n    addListener(\"touchend\", onMouseUpSpeedBar, false);\n    addListener(\"mousemove\", onCursorMoveSpeedBar, false);\n    addListener(\"touchmove\", onCursorMoveSpeedBar, false);\n  };\n\n  _this.elements.speedBarHelper.addEventListener(\"mousedown\", onMouseDownSpeedBar, false);\n\n  _this.elements.speedBarHelper.addEventListener(\"touchstart\", onMouseDownSpeedBar, {\n    passive: false\n  }, false);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2xpc3RlbmVycy9zcGVlZC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9zcmMvbGlzdGVuZXJzL3NwZWVkLmpzP2ZjODIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBlbGlkLCBhZGRMaXN0ZW5lciwgcmVtb3ZlTGlzdGVuZXIgfSA9IHJlcXVpcmUoYC4uL2hlbHBlcnNgKTtcblxubW9kdWxlLmV4cG9ydHMgPSBfdGhpcyA9PiB7XG4gIC8vIGNvbnN0IHBlID0gZmFsc2U7XG4gIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzU3BlZWRCdXR0b25TaG93Lm9uY2xpY2sgPSBfdGhpcy5lbGVtZW50cy5zZXR0aW5nc1NwZWVkQnV0dG9uSGlkZS5vbmNsaWNrID0gZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzUGFuZWwuY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAgIGAke190aGlzLm5hbWV9LXNldHRpbmdzLXNwZWVkLXBhbmVsYFxuICAgICk7XG4gICAgY29uc3QgaW5jbHVkZXNDbGFzcyA9IF90aGlzLmVsZW1lbnRzLnNldHRpbmdzUGFuZWwuY2xhc3NOYW1lLmluY2x1ZGVzKFxuICAgICAgYCR7X3RoaXMubmFtZX0tc2V0dGluZ3Mtc3BlZWQtcGFuZWxgXG4gICAgKTtcbiAgICBpZiAoaW5jbHVkZXNDbGFzcykge1xuICAgICAgX3RoaXMuZWxlbWVudHMuc2V0dGluZ3NNYWluUGFuZWwuc3R5bGUuZGlzcGxheSA9IGBub25lYDtcbiAgICAgIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzU3BlZWRQYW5lbC5zdHlsZS5kaXNwbGF5ID0gYGJsb2NrYDtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMuZWxlbWVudHMuc2V0dGluZ3NTcGVlZFBhbmVsLnN0eWxlLmRpc3BsYXkgPSBgbm9uZWA7XG4gICAgICBfdGhpcy5lbGVtZW50cy5zZXR0aW5nc01haW5QYW5lbC5zdHlsZS5kaXNwbGF5ID0gYGJsb2NrYDtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgb25DdXJzb3JNb3ZlU3BlZWRCYXIgPSBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3Qgdmlld3BvcnRPZmZzZXQgPSBfdGhpcy5lbGVtZW50cy5zcGVlZEJhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBjbGllbnRZID0gZS5jbGllbnRZIHx8ICgoZS50b3VjaGVzIHx8IFtdKVswXSB8fCB7fSkuY2xpZW50WTtcbiAgICBsZXQgcG9zaXRpb25ZID0gY2xpZW50WSAtIHZpZXdwb3J0T2Zmc2V0LnRvcDtcblxuICAgIHBvc2l0aW9uWSAtPSA4O1xuICAgIGlmIChwb3NpdGlvblkgPCAwKSB7XG4gICAgICBwb3NpdGlvblkgPSAwO1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb25ZID4gX3RoaXMuZWxlbWVudHMuc3BlZWRCYXIub2Zmc2V0SGVpZ2h0IC0gMTYpIHtcbiAgICAgIHBvc2l0aW9uWSA9IF90aGlzLmVsZW1lbnRzLnNwZWVkQmFyLm9mZnNldEhlaWdodCAtIDE2O1xuICAgIH1cbiAgICBwb3NpdGlvblkgPSBNYXRoLmZsb29yKHBvc2l0aW9uWSk7XG4gICAgLy8gc2hvdyBzcGVlZFxuICAgIGNvbnN0IHBlcmNlbnRhZ2UgPVxuICAgICAgKHBvc2l0aW9uWSAvICgoX3RoaXMub3B0aW9ucy5zcGVlZFZhbHVlcy5sZW5ndGggLSAxKSAqIDE2KSAtIDEpICogLTE7XG4gICAgY29uc3Qgc3RlcCA9IDEgLyAoX3RoaXMub3B0aW9ucy5zcGVlZFZhbHVlcy5sZW5ndGggLSAxKTtcbiAgICBjb25zdCBzcGVlZCA9IF90aGlzLmNhbGN1bGF0ZVNwZWVkKFxuICAgICAgc3RlcCxcbiAgICAgIF90aGlzLm9wdGlvbnMuc3BlZWRWYWx1ZXMsXG4gICAgICBwZXJjZW50YWdlXG4gICAgKTtcbiAgICBlbGlkKGAke190aGlzLm5hbWV9LXNwZWVkLXJ1bnRpbWVgKS5pbm5lckhUTUwgPSBzcGVlZCArIGAwYDtcbiAgICBlbGlkKGAke190aGlzLm5hbWV9LXNwZWVkLWN1cnNvcmApLnN0eWxlLnRvcCA9IHBvc2l0aW9uWSArIGBweGA7XG4gICAgX3RoaXMuY2xpcC5leGVjdXRpb25TcGVlZCA9IHNwZWVkO1xuICB9O1xuXG4gIGNvbnN0IG9uTW91c2VVcFNwZWVkQmFyID0gZSA9PiB7XG4gICAgLy8gaWYgKHBlKSB7XG4gICAgLy8gICBfdGhpcy5lbGVtZW50cy5zZXR0aW5nc1BvaW50ZXJFdmVudHMuY2xpY2soKTtcbiAgICAvLyB9XG4gICAgX3RoaXMuZWxlbWVudHMubGlzdGVuZXJIZWxwZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJlbW92ZUxpc3RlbmVyKGBtb3VzZXVwYCwgb25Nb3VzZVVwU3BlZWRCYXIsIGZhbHNlKTtcbiAgICByZW1vdmVMaXN0ZW5lcihgdG91Y2hlbmRgLCBvbk1vdXNlVXBTcGVlZEJhciwgZmFsc2UpO1xuICAgIHJlbW92ZUxpc3RlbmVyKGBtb3VzZW1vdmVgLCBvbkN1cnNvck1vdmVTcGVlZEJhciwgZmFsc2UpO1xuICAgIHJlbW92ZUxpc3RlbmVyKGB0b3VjaG1vdmVgLCBvbkN1cnNvck1vdmVTcGVlZEJhciwgZmFsc2UpO1xuICAgIGVsaWQoYCR7X3RoaXMubmFtZX0tc3BlZWQtcnVudGltZWApLmlubmVySFRNTCA9IGBTcGVlZGA7XG4gICAgbGV0IHNwZWVkRGlzcGxheTtcbiAgICBfdGhpcy5jbGlwLnNwZWVkID09IDFcbiAgICAgID8gKHNwZWVkRGlzcGxheSA9IGBOb3JtYWxgKVxuICAgICAgOiAoc3BlZWREaXNwbGF5ID0gX3RoaXMuY2xpcC5zcGVlZCk7XG5cbiAgICBfdGhpcy5lbGVtZW50cy5zcGVlZEN1cnJlbnQuaW5uZXJIVE1MID0gc3BlZWREaXNwbGF5O1xuICB9O1xuICBjb25zdCBvbk1vdXNlRG93blNwZWVkQmFyID0gZSA9PiB7XG4gICAgLy8gaWYgKCFfdGhpcy5vcHRpb25zLnBvaW50ZXJFdmVudHMpIHtcbiAgICAvLyAgIHBlID0gdHJ1ZTtcbiAgICAvLyAgIF90aGlzLmVsZW1lbnRzLnNldHRpbmdzUG9pbnRlckV2ZW50cy5jbGljaygpO1xuICAgIC8vIH1cbiAgICBfdGhpcy5lbGVtZW50cy5saXN0ZW5lckhlbHBlci5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCI7XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgb25DdXJzb3JNb3ZlU3BlZWRCYXIoZSk7XG4gICAgYWRkTGlzdGVuZXIoYG1vdXNldXBgLCBvbk1vdXNlVXBTcGVlZEJhciwgZmFsc2UpO1xuICAgIGFkZExpc3RlbmVyKGB0b3VjaGVuZGAsIG9uTW91c2VVcFNwZWVkQmFyLCBmYWxzZSk7XG4gICAgYWRkTGlzdGVuZXIoYG1vdXNlbW92ZWAsIG9uQ3Vyc29yTW92ZVNwZWVkQmFyLCBmYWxzZSk7XG4gICAgYWRkTGlzdGVuZXIoYHRvdWNobW92ZWAsIG9uQ3Vyc29yTW92ZVNwZWVkQmFyLCBmYWxzZSk7XG4gIH07XG5cbiAgX3RoaXMuZWxlbWVudHMuc3BlZWRCYXJIZWxwZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBgbW91c2Vkb3duYCxcbiAgICBvbk1vdXNlRG93blNwZWVkQmFyLFxuICAgIGZhbHNlXG4gICk7XG4gIF90aGlzLmVsZW1lbnRzLnNwZWVkQmFySGVscGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgYHRvdWNoc3RhcnRgLFxuICAgIG9uTW91c2VEb3duU3BlZWRCYXIsXG4gICAge1xuICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICB9LFxuICAgIGZhbHNlXG4gICk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFEQTtBQUtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../src/listeners/speed.js\n");

/***/ }),

/***/ "../src/listeners/statusBtn.js":
/*!*************************************!*\
  !*** ../src/listeners/statusBtn.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function (_this) {\n  _this.elements.statusButton.onclick = function (e) {\n    e.preventDefault(); // console.log(_this.clip);\n\n    if (_this.clip.runTimeInfo.state === \"playing\") {\n      _this.clip.pause();\n    } else if (_this.clip.runTimeInfo.state === \"paused\" || _this.clip.runTimeInfo.state === \"idle\" || _this.clip.runTimeInfo.state === \"transitional\" || _this.clip.runTimeInfo.state === \"armed\") {\n      _this.clip.play();\n    } //not working below this\n    else if (_this.clip.runTimeInfo.state === \"idle\") {\n        if (_this.clip.speed >= 0) {\n          _this.clip.play();\n\n          _this.settings.needsUpdate = true;\n        } else {\n          _this.createJourney(_this.clip, _this.settings.loopEndMillisecond - 1, {\n            before: \"pause\",\n            after: \"play\"\n          });\n\n          _this.settings.needsUpdate = true;\n        }\n      } else if (_this.clip.runTimeInfo.state === \"completed\") {\n        if (_this.clip.speed >= 0) {\n          _this.createJourney(_this.clip, 0, {\n            before: \"pause\",\n            after: \"play\"\n          });\n\n          _this.settings.needsUpdate = true;\n        } else {\n          _this.createJourney(_this.clip, _this.settings.loopEndMillisecond - 1, {\n            before: \"pause\",\n            after: \"play\"\n          });\n\n          _this.settings.needsUpdate = true;\n        }\n      }\n\n    return false;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2xpc3RlbmVycy9zdGF0dXNCdG4uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL2xpc3RlbmVycy9zdGF0dXNCdG4uanM/ZGE1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF90aGlzID0+IHtcbiAgX3RoaXMuZWxlbWVudHMuc3RhdHVzQnV0dG9uLm9uY2xpY2sgPSBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gY29uc29sZS5sb2coX3RoaXMuY2xpcCk7XG4gICAgaWYgKF90aGlzLmNsaXAucnVuVGltZUluZm8uc3RhdGUgPT09IGBwbGF5aW5nYCkge1xuICAgICAgX3RoaXMuY2xpcC5wYXVzZSgpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBfdGhpcy5jbGlwLnJ1blRpbWVJbmZvLnN0YXRlID09PSBgcGF1c2VkYCB8fFxuICAgICAgX3RoaXMuY2xpcC5ydW5UaW1lSW5mby5zdGF0ZSA9PT0gYGlkbGVgIHx8XG4gICAgICBfdGhpcy5jbGlwLnJ1blRpbWVJbmZvLnN0YXRlID09PSBgdHJhbnNpdGlvbmFsYCB8fFxuICAgICAgX3RoaXMuY2xpcC5ydW5UaW1lSW5mby5zdGF0ZSA9PT0gYGFybWVkYFxuICAgICkge1xuICAgICAgX3RoaXMuY2xpcC5wbGF5KCk7XG4gICAgfVxuICAgIC8vbm90IHdvcmtpbmcgYmVsb3cgdGhpc1xuICAgIGVsc2UgaWYgKF90aGlzLmNsaXAucnVuVGltZUluZm8uc3RhdGUgPT09IGBpZGxlYCkge1xuICAgICAgaWYgKF90aGlzLmNsaXAuc3BlZWQgPj0gMCkge1xuICAgICAgICBfdGhpcy5jbGlwLnBsYXkoKTtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuY3JlYXRlSm91cm5leShfdGhpcy5jbGlwLCBfdGhpcy5zZXR0aW5ncy5sb29wRW5kTWlsbGlzZWNvbmQgLSAxLCB7XG4gICAgICAgICAgYmVmb3JlOiBcInBhdXNlXCIsXG4gICAgICAgICAgYWZ0ZXI6IFwicGxheVwiXG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChfdGhpcy5jbGlwLnJ1blRpbWVJbmZvLnN0YXRlID09PSBgY29tcGxldGVkYCkge1xuICAgICAgaWYgKF90aGlzLmNsaXAuc3BlZWQgPj0gMCkge1xuICAgICAgICBfdGhpcy5jcmVhdGVKb3VybmV5KF90aGlzLmNsaXAsIDAsIHtcbiAgICAgICAgICBiZWZvcmU6IFwicGF1c2VcIixcbiAgICAgICAgICBhZnRlcjogXCJwbGF5XCJcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLmNyZWF0ZUpvdXJuZXkoX3RoaXMuY2xpcCwgX3RoaXMuc2V0dGluZ3MubG9vcEVuZE1pbGxpc2Vjb25kIC0gMSwge1xuICAgICAgICAgIGJlZm9yZTogXCJwYXVzZVwiLFxuICAgICAgICAgIGFmdGVyOiBcInBsYXlcIlxuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFQQTtBQVVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../src/listeners/statusBtn.js\n");

/***/ }),

/***/ "../src/listeners/volume.js":
/*!**********************************!*\
  !*** ../src/listeners/volume.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ../helpers */ \"../src/helpers.js\"),\n    addListener = _require.addListener,\n    removeListener = _require.removeListener,\n    elid = _require.elid;\n\nvar svg = __webpack_require__(/*! ../html/svg */ \"../src/html/svg.js\");\n\nmodule.exports = function (_this) {\n  // let pe = false;\n  var volumeDrag = false;\n\n  _this.elements.volumeBtn.onclick = function () {\n    if (_this.settings.volumeMute) {\n      _this.elements.volumeBarActive.style.width = _this.settings.previousVolume * 100 + \"%\";\n\n      _this.clip.setVolume(_this.settings.previousVolume);\n\n      _this.settings.volumeMute = false;\n      var SVG = document.createElement(\"span\");\n      SVG.innerHTML = svg.volumeSVG;\n\n      _this.elements.volumeBtn.getElementsByTagName(\"svg\")[0].replaceWith(SVG);\n    } else {\n      _this.settings.volumeMute = true;\n      _this.elements.volumeBarActive.style.width = \"0%\";\n\n      _this.clip.setVolume(0);\n\n      var _SVG = document.createElement(\"span\");\n\n      _SVG.innerHTML = svg.volumeMuteSVG;\n\n      _this.elements.volumeBtn.getElementsByTagName(\"svg\")[0].replaceWith(_SVG);\n    }\n  };\n\n  var volumeOpen = false;\n\n  _this.elements.volumeBtn.onmouseover = function () {\n    volumeOpen = true;\n\n    _this.elements.volumeCursor.classList.add(\"\".concat(_this.name, \"-volume-cursor-transition\"));\n\n    _this.elements.volumeBar.classList.add(\"\".concat(_this.name, \"-volume-width-transition\"));\n\n    _this.elements.volumeBarHelper.classList.add(\"\".concat(_this.name, \"-volume-width-transition\"));\n\n    _this.elements.timeDisplay.classList.add(\"\".concat(_this.name, \"-time-width-transition\"));\n  };\n\n  elid(\"\".concat(_this.name, \"-left-controls\")).onmouseout = function () {\n    if (!volumeOpen || volumeDrag) {\n      return;\n    }\n\n    var e = event.toElement || event.relatedTarget || event.target;\n\n    if (isDescendant(elid(\"\".concat(_this.name, \"-left-controls\")), e) || e === elid(\"\".concat(_this.name, \"-left-controls\"))) {\n      return;\n    }\n\n    volumeOpen = false;\n\n    _this.elements.volumeCursor.classList.remove(\"\".concat(_this.name, \"-volume-cursor-transition\"));\n\n    _this.elements.volumeBar.classList.remove(\"\".concat(_this.name, \"-volume-width-transition\"));\n\n    _this.elements.volumeBarHelper.classList.remove(\"\".concat(_this.name, \"-volume-width-transition\"));\n\n    _this.elements.timeDisplay.classList.remove(\"\".concat(_this.name, \"-time-width-transition\"));\n  };\n\n  _this.listeners.onCursorMoveVolumeBar = function (e) {\n    e.preventDefault();\n    var clientX = e.clientX || ((e.touches || [])[0] || {}).clientX;\n\n    var viewportOffset = _this.elements.volumeBarHelper.getBoundingClientRect();\n\n    var positionX = clientX - viewportOffset.left;\n\n    if (positionX < 0) {\n      positionX = 0;\n    } else if (positionX > _this.elements.volumeBarHelper.offsetWidth) {\n      positionX = _this.elements.volumeBarHelper.offsetWidth;\n    }\n\n    _this.settings.volume = Number((positionX / _this.elements.volumeBarHelper.offsetWidth).toFixed(2));\n    _this.elements.volumeBarActive.style.width = _this.settings.volume * 100 + \"%\";\n\n    _this.clip.setVolume(_this.settings.volume);\n\n    if (_this.settings.volume > 0) {\n      _this.settings.volumeMute = false;\n      var SVG = document.createElement(\"span\");\n      SVG.innerHTML = svg.volumeSVG;\n\n      _this.elements.volumeBtn.getElementsByTagName(\"svg\")[0].replaceWith(SVG);\n    } else if (_this.settings.volume === 0) {\n      _this.settings.volumeMute = true;\n\n      var _SVG2 = document.createElement(\"span\");\n\n      _SVG2.innerHTML = svg.volumeMuteSVG;\n\n      _this.elements.volumeBtn.getElementsByTagName(\"svg\")[0].replaceWith(_SVG2);\n    }\n  };\n\n  _this.listeners.onMouseUpVolumeBar = function (e) {\n    volumeDrag = false; // if (pe) {\n    //   _this.elements.settingsPointerEvents.click();\n    // }\n\n    _this.elements.listenerHelper.style.pointerEvents = \"none\";\n    e.preventDefault();\n\n    if (_this.settings.volume > 0) {\n      _this.settings.previousVolume = _this.settings.volume;\n    }\n\n    removeListener(\"mouseup\", _this.listeners.onMouseUpVolumeBar, false);\n    removeListener(\"touchend\", _this.listeners.onMouseUpVolumeBar, false);\n    removeListener(\"mousemove\", _this.listeners.onCursorMoveVolumeBar, false);\n    removeListener(\"touchmove\", _this.listeners.onCursorMoveVolumeBar, false);\n  };\n\n  _this.listeners.onMouseDownVolumeBar = function (e) {\n    volumeDrag = true; // if (!_this.options.pointerEvents) {\n    //   pe = true;\n    //   _this.elements.settingsPointerEvents.click();\n    // }\n\n    _this.elements.listenerHelper.style.pointerEvents = \"auto\";\n    e.preventDefault();\n\n    _this.listeners.onCursorMoveVolumeBar(e);\n\n    addListener(\"mouseup\", _this.listeners.onMouseUpVolumeBar, false);\n    addListener(\"touchend\", _this.listeners.onMouseUpVolumeBar, false);\n    addListener(\"mousemove\", _this.listeners.onCursorMoveVolumeBar, false);\n    addListener(\"touchmove\", _this.listeners.onCursorMoveVolumeBar, false);\n  };\n\n  _this.elements.volumeBarHelper.addEventListener(\"mousedown\", _this.listeners.onMouseDownVolumeBar, false);\n\n  _this.elements.volumeCursor.addEventListener(\"mousedown\", _this.listeners.onMouseDownVolumeBar, false);\n\n  _this.elements.volumeBarHelper.addEventListener(\"touchstart\", _this.listeners.onMouseDownVolumeBar, {\n    passive: false\n  }, false);\n\n  _this.elements.volumeCursor.addEventListener(\"touchstart\", _this.listeners.onMouseDownVolumeBar, {\n    passive: false\n  }, false);\n};\n\nfunction isDescendant(parent, child) {\n  var node = child.parentNode;\n\n  while (node != null) {\n    if (node == parent) {\n      return true;\n    }\n\n    node = node.parentNode;\n  }\n\n  return false;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL2xpc3RlbmVycy92b2x1bWUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL2xpc3RlbmVycy92b2x1bWUuanM/YzJlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGFkZExpc3RlbmVyLCByZW1vdmVMaXN0ZW5lciwgZWxpZCB9ID0gcmVxdWlyZShgLi4vaGVscGVyc2ApO1xuXG5jb25zdCBzdmcgPSByZXF1aXJlKFwiLi4vaHRtbC9zdmdcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gX3RoaXMgPT4ge1xuICAvLyBsZXQgcGUgPSBmYWxzZTtcbiAgbGV0IHZvbHVtZURyYWcgPSBmYWxzZTtcbiAgX3RoaXMuZWxlbWVudHMudm9sdW1lQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKF90aGlzLnNldHRpbmdzLnZvbHVtZU11dGUpIHtcbiAgICAgIF90aGlzLmVsZW1lbnRzLnZvbHVtZUJhckFjdGl2ZS5zdHlsZS53aWR0aCA9XG4gICAgICAgIF90aGlzLnNldHRpbmdzLnByZXZpb3VzVm9sdW1lICogMTAwICsgYCVgO1xuICAgICAgX3RoaXMuY2xpcC5zZXRWb2x1bWUoX3RoaXMuc2V0dGluZ3MucHJldmlvdXNWb2x1bWUpO1xuICAgICAgX3RoaXMuc2V0dGluZ3Mudm9sdW1lTXV0ZSA9IGZhbHNlO1xuICAgICAgY29uc3QgU1ZHID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgc3BhbmApO1xuICAgICAgU1ZHLmlubmVySFRNTCA9IHN2Zy52b2x1bWVTVkc7XG4gICAgICBfdGhpcy5lbGVtZW50cy52b2x1bWVCdG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoYHN2Z2ApWzBdLnJlcGxhY2VXaXRoKFNWRyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLnZvbHVtZU11dGUgPSB0cnVlO1xuICAgICAgX3RoaXMuZWxlbWVudHMudm9sdW1lQmFyQWN0aXZlLnN0eWxlLndpZHRoID0gYDAlYDtcbiAgICAgIF90aGlzLmNsaXAuc2V0Vm9sdW1lKDApO1xuICAgICAgY29uc3QgU1ZHID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgc3BhbmApO1xuICAgICAgU1ZHLmlubmVySFRNTCA9IHN2Zy52b2x1bWVNdXRlU1ZHO1xuICAgICAgX3RoaXMuZWxlbWVudHMudm9sdW1lQnRuLmdldEVsZW1lbnRzQnlUYWdOYW1lKGBzdmdgKVswXS5yZXBsYWNlV2l0aChTVkcpO1xuICAgIH1cbiAgfTtcbiAgbGV0IHZvbHVtZU9wZW4gPSBmYWxzZTtcbiAgX3RoaXMuZWxlbWVudHMudm9sdW1lQnRuLm9ubW91c2VvdmVyID0gKCkgPT4ge1xuICAgIHZvbHVtZU9wZW4gPSB0cnVlO1xuICAgIF90aGlzLmVsZW1lbnRzLnZvbHVtZUN1cnNvci5jbGFzc0xpc3QuYWRkKFxuICAgICAgYCR7X3RoaXMubmFtZX0tdm9sdW1lLWN1cnNvci10cmFuc2l0aW9uYFxuICAgICk7XG4gICAgX3RoaXMuZWxlbWVudHMudm9sdW1lQmFyLmNsYXNzTGlzdC5hZGQoXG4gICAgICBgJHtfdGhpcy5uYW1lfS12b2x1bWUtd2lkdGgtdHJhbnNpdGlvbmBcbiAgICApO1xuICAgIF90aGlzLmVsZW1lbnRzLnZvbHVtZUJhckhlbHBlci5jbGFzc0xpc3QuYWRkKFxuICAgICAgYCR7X3RoaXMubmFtZX0tdm9sdW1lLXdpZHRoLXRyYW5zaXRpb25gXG4gICAgKTtcbiAgICBfdGhpcy5lbGVtZW50cy50aW1lRGlzcGxheS5jbGFzc0xpc3QuYWRkKFxuICAgICAgYCR7X3RoaXMubmFtZX0tdGltZS13aWR0aC10cmFuc2l0aW9uYFxuICAgICk7XG4gIH07XG5cbiAgZWxpZChgJHtfdGhpcy5uYW1lfS1sZWZ0LWNvbnRyb2xzYCkub25tb3VzZW91dCA9ICgpID0+IHtcbiAgICBpZiAoIXZvbHVtZU9wZW4gfHwgdm9sdW1lRHJhZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGUgPSBldmVudC50b0VsZW1lbnQgfHwgZXZlbnQucmVsYXRlZFRhcmdldCB8fCBldmVudC50YXJnZXQ7XG4gICAgaWYgKFxuICAgICAgaXNEZXNjZW5kYW50KGVsaWQoYCR7X3RoaXMubmFtZX0tbGVmdC1jb250cm9sc2ApLCBlKSB8fFxuICAgICAgZSA9PT0gZWxpZChgJHtfdGhpcy5uYW1lfS1sZWZ0LWNvbnRyb2xzYClcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdm9sdW1lT3BlbiA9IGZhbHNlO1xuICAgIF90aGlzLmVsZW1lbnRzLnZvbHVtZUN1cnNvci5jbGFzc0xpc3QucmVtb3ZlKFxuICAgICAgYCR7X3RoaXMubmFtZX0tdm9sdW1lLWN1cnNvci10cmFuc2l0aW9uYFxuICAgICk7XG4gICAgX3RoaXMuZWxlbWVudHMudm9sdW1lQmFyLmNsYXNzTGlzdC5yZW1vdmUoXG4gICAgICBgJHtfdGhpcy5uYW1lfS12b2x1bWUtd2lkdGgtdHJhbnNpdGlvbmBcbiAgICApO1xuICAgIF90aGlzLmVsZW1lbnRzLnZvbHVtZUJhckhlbHBlci5jbGFzc0xpc3QucmVtb3ZlKFxuICAgICAgYCR7X3RoaXMubmFtZX0tdm9sdW1lLXdpZHRoLXRyYW5zaXRpb25gXG4gICAgKTtcbiAgICBfdGhpcy5lbGVtZW50cy50aW1lRGlzcGxheS5jbGFzc0xpc3QucmVtb3ZlKFxuICAgICAgYCR7X3RoaXMubmFtZX0tdGltZS13aWR0aC10cmFuc2l0aW9uYFxuICAgICk7XG4gIH07XG5cbiAgX3RoaXMubGlzdGVuZXJzLm9uQ3Vyc29yTW92ZVZvbHVtZUJhciA9IGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBjbGllbnRYID0gZS5jbGllbnRYIHx8ICgoZS50b3VjaGVzIHx8IFtdKVswXSB8fCB7fSkuY2xpZW50WDtcbiAgICBjb25zdCB2aWV3cG9ydE9mZnNldCA9IF90aGlzLmVsZW1lbnRzLnZvbHVtZUJhckhlbHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgcG9zaXRpb25YID0gY2xpZW50WCAtIHZpZXdwb3J0T2Zmc2V0LmxlZnQ7XG5cbiAgICBpZiAocG9zaXRpb25YIDwgMCkge1xuICAgICAgcG9zaXRpb25YID0gMDtcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uWCA+IF90aGlzLmVsZW1lbnRzLnZvbHVtZUJhckhlbHBlci5vZmZzZXRXaWR0aCkge1xuICAgICAgcG9zaXRpb25YID0gX3RoaXMuZWxlbWVudHMudm9sdW1lQmFySGVscGVyLm9mZnNldFdpZHRoO1xuICAgIH1cblxuICAgIF90aGlzLnNldHRpbmdzLnZvbHVtZSA9IE51bWJlcihcbiAgICAgIChwb3NpdGlvblggLyBfdGhpcy5lbGVtZW50cy52b2x1bWVCYXJIZWxwZXIub2Zmc2V0V2lkdGgpLnRvRml4ZWQoMilcbiAgICApO1xuICAgIF90aGlzLmVsZW1lbnRzLnZvbHVtZUJhckFjdGl2ZS5zdHlsZS53aWR0aCA9XG4gICAgICBfdGhpcy5zZXR0aW5ncy52b2x1bWUgKiAxMDAgKyBgJWA7XG4gICAgX3RoaXMuY2xpcC5zZXRWb2x1bWUoX3RoaXMuc2V0dGluZ3Mudm9sdW1lKTtcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy52b2x1bWUgPiAwKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy52b2x1bWVNdXRlID0gZmFsc2U7XG4gICAgICBjb25zdCBTVkcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBzcGFuYCk7XG4gICAgICBTVkcuaW5uZXJIVE1MID0gc3ZnLnZvbHVtZVNWRztcbiAgICAgIF90aGlzLmVsZW1lbnRzLnZvbHVtZUJ0bi5nZXRFbGVtZW50c0J5VGFnTmFtZShgc3ZnYClbMF0ucmVwbGFjZVdpdGgoU1ZHKTtcbiAgICB9IGVsc2UgaWYgKF90aGlzLnNldHRpbmdzLnZvbHVtZSA9PT0gMCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3Mudm9sdW1lTXV0ZSA9IHRydWU7XG4gICAgICBjb25zdCBTVkcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBzcGFuYCk7XG4gICAgICBTVkcuaW5uZXJIVE1MID0gc3ZnLnZvbHVtZU11dGVTVkc7XG4gICAgICBfdGhpcy5lbGVtZW50cy52b2x1bWVCdG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoYHN2Z2ApWzBdLnJlcGxhY2VXaXRoKFNWRyk7XG4gICAgfVxuICB9O1xuXG4gIF90aGlzLmxpc3RlbmVycy5vbk1vdXNlVXBWb2x1bWVCYXIgPSBlID0+IHtcbiAgICB2b2x1bWVEcmFnID0gZmFsc2U7XG4gICAgLy8gaWYgKHBlKSB7XG4gICAgLy8gICBfdGhpcy5lbGVtZW50cy5zZXR0aW5nc1BvaW50ZXJFdmVudHMuY2xpY2soKTtcbiAgICAvLyB9XG4gICAgX3RoaXMuZWxlbWVudHMubGlzdGVuZXJIZWxwZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChfdGhpcy5zZXR0aW5ncy52b2x1bWUgPiAwKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5wcmV2aW91c1ZvbHVtZSA9IF90aGlzLnNldHRpbmdzLnZvbHVtZTtcbiAgICB9XG4gICAgcmVtb3ZlTGlzdGVuZXIoYG1vdXNldXBgLCBfdGhpcy5saXN0ZW5lcnMub25Nb3VzZVVwVm9sdW1lQmFyLCBmYWxzZSk7XG4gICAgcmVtb3ZlTGlzdGVuZXIoYHRvdWNoZW5kYCwgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VVcFZvbHVtZUJhciwgZmFsc2UpO1xuICAgIHJlbW92ZUxpc3RlbmVyKGBtb3VzZW1vdmVgLCBfdGhpcy5saXN0ZW5lcnMub25DdXJzb3JNb3ZlVm9sdW1lQmFyLCBmYWxzZSk7XG4gICAgcmVtb3ZlTGlzdGVuZXIoYHRvdWNobW92ZWAsIF90aGlzLmxpc3RlbmVycy5vbkN1cnNvck1vdmVWb2x1bWVCYXIsIGZhbHNlKTtcbiAgfTtcblxuICBfdGhpcy5saXN0ZW5lcnMub25Nb3VzZURvd25Wb2x1bWVCYXIgPSBlID0+IHtcbiAgICB2b2x1bWVEcmFnID0gdHJ1ZTtcbiAgICAvLyBpZiAoIV90aGlzLm9wdGlvbnMucG9pbnRlckV2ZW50cykge1xuICAgIC8vICAgcGUgPSB0cnVlO1xuICAgIC8vICAgX3RoaXMuZWxlbWVudHMuc2V0dGluZ3NQb2ludGVyRXZlbnRzLmNsaWNrKCk7XG4gICAgLy8gfVxuICAgIF90aGlzLmVsZW1lbnRzLmxpc3RlbmVySGVscGVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcImF1dG9cIjtcblxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBfdGhpcy5saXN0ZW5lcnMub25DdXJzb3JNb3ZlVm9sdW1lQmFyKGUpO1xuICAgIGFkZExpc3RlbmVyKGBtb3VzZXVwYCwgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VVcFZvbHVtZUJhciwgZmFsc2UpO1xuICAgIGFkZExpc3RlbmVyKGB0b3VjaGVuZGAsIF90aGlzLmxpc3RlbmVycy5vbk1vdXNlVXBWb2x1bWVCYXIsIGZhbHNlKTtcbiAgICBhZGRMaXN0ZW5lcihgbW91c2Vtb3ZlYCwgX3RoaXMubGlzdGVuZXJzLm9uQ3Vyc29yTW92ZVZvbHVtZUJhciwgZmFsc2UpO1xuICAgIGFkZExpc3RlbmVyKGB0b3VjaG1vdmVgLCBfdGhpcy5saXN0ZW5lcnMub25DdXJzb3JNb3ZlVm9sdW1lQmFyLCBmYWxzZSk7XG4gIH07XG5cbiAgX3RoaXMuZWxlbWVudHMudm9sdW1lQmFySGVscGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgYG1vdXNlZG93bmAsXG4gICAgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VEb3duVm9sdW1lQmFyLFxuICAgIGZhbHNlXG4gICk7XG4gIF90aGlzLmVsZW1lbnRzLnZvbHVtZUN1cnNvci5hZGRFdmVudExpc3RlbmVyKFxuICAgIGBtb3VzZWRvd25gLFxuICAgIF90aGlzLmxpc3RlbmVycy5vbk1vdXNlRG93blZvbHVtZUJhcixcbiAgICBmYWxzZVxuICApO1xuICBfdGhpcy5lbGVtZW50cy52b2x1bWVCYXJIZWxwZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBgdG91Y2hzdGFydGAsXG4gICAgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VEb3duVm9sdW1lQmFyLFxuICAgIHtcbiAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgfSxcbiAgICBmYWxzZVxuICApO1xuICBfdGhpcy5lbGVtZW50cy52b2x1bWVDdXJzb3IuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBgdG91Y2hzdGFydGAsXG4gICAgX3RoaXMubGlzdGVuZXJzLm9uTW91c2VEb3duVm9sdW1lQmFyLFxuICAgIHtcbiAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgfSxcbiAgICBmYWxzZVxuICApO1xufTtcblxuZnVuY3Rpb24gaXNEZXNjZW5kYW50KHBhcmVudCwgY2hpbGQpIHtcbiAgbGV0IG5vZGUgPSBjaGlsZC5wYXJlbnROb2RlO1xuICB3aGlsZSAobm9kZSAhPSBudWxsKSB7XG4gICAgaWYgKG5vZGUgPT0gcGFyZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUlBO0FBSUE7QUFEQTtBQUNBO0FBSUE7QUFJQTtBQURBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../src/listeners/volume.js\n");

/***/ }),

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var MotorCortex = __webpack_require__(/*! @kissmybutton/motorcortex */ \"../node_modules/@kissmybutton/motorcortex/dist/main.js\");\n\nvar TestPluginDefinition = __webpack_require__(/*! ./testPlugin/main */ \"./testPlugin/main.js\");\n\nvar Player = __webpack_require__(/*! ../src/Player */ \"../src/Player.js\");\n\nvar TestPlugin = MotorCortex.loadPlugin(TestPluginDefinition); // Configure clip\n\nvar config = {\n  css: \"\\n    #one {\\n      font-size:40px;\\n      text-align:center;\\n      font-family: \\\"Century Gothic\\\", CenturyGothic, AppleGothic, sans-serif;\\n      color:#4b475f;\\n      \\n    }\\n    .container {\\n      background-color:black;\\n      display:flex;\\n      justify-content:center;\\n      align-items:center;\\n      height: 100%;\\n      background-color:#292929;\\n      border:2px solid black;\\n    }\\n  \",\n  html: \"<div class=\\\"container\\\">\\n    <div id=\\\"one\\\" class=\\\"element\\\">Motorcortex Player-Test Plugin</div>\\n  </div>\",\n  host: document.getElementById(\"clip\"),\n  containerParams: {\n    width: \"70%\",\n    height: \"100%\"\n  },\n  audio: \"off\"\n}; // Create clip\n\nvar clip = new MotorCortex.Clip(config);\nvar animation_1 = new TestPlugin.TestIncident({\n  animatedAttrs: {\n    left: 800,\n    opacity: 0\n  }\n}, {\n  id: \"animation_1\",\n  selector: \"#one\",\n  duration: 60000\n});\nvar animation_2 = new TestPlugin.TestIncident({\n  animatedAttrs: {\n    left: 800,\n    opacity: 0\n  }\n}, {\n  id: \"animation_2\",\n  selector: \"#one\",\n  duration: 60000\n});\nvar animation_3 = new TestPlugin.TestIncident({\n  animatedAttrs: {\n    left: 800,\n    opacity: 0\n  }\n}, {\n  id: \"animation_3\",\n  selector: \"#one\",\n  duration: 60000\n});\nclip.addIncident(animation_1, 0);\nclip.addIncident(animation_2, 60000);\nclip.addIncident(animation_3, 120000);\nwindow.clip = clip; // Add clip to timer\n\nnew Player({\n  clip: clip,\n  theme: \"transparent\",\n  preview: true,\n  showVolume: true,\n  speedValues: [8, 3, \"d\", -4, -2, -1, \"dd\", -0.5, 0, 0.5, 1, 2, 4, 32, -32, 1.2],\n  buttons: {\n    donkeyclip: false\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2luZGV4LmpzPzQxZjUiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTW90b3JDb3J0ZXggPSByZXF1aXJlKFwiQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleFwiKTtcbmNvbnN0IFRlc3RQbHVnaW5EZWZpbml0aW9uID0gcmVxdWlyZShcIi4vdGVzdFBsdWdpbi9tYWluXCIpO1xuY29uc3QgUGxheWVyID0gcmVxdWlyZShcIi4uL3NyYy9QbGF5ZXJcIik7XG5cbmNvbnN0IFRlc3RQbHVnaW4gPSBNb3RvckNvcnRleC5sb2FkUGx1Z2luKFRlc3RQbHVnaW5EZWZpbml0aW9uKTtcblxuLy8gQ29uZmlndXJlIGNsaXBcbmNvbnN0IGNvbmZpZyA9IHtcbiAgY3NzOiBgXG4gICAgI29uZSB7XG4gICAgICBmb250LXNpemU6NDBweDtcbiAgICAgIHRleHQtYWxpZ246Y2VudGVyO1xuICAgICAgZm9udC1mYW1pbHk6IFwiQ2VudHVyeSBHb3RoaWNcIiwgQ2VudHVyeUdvdGhpYywgQXBwbGVHb3RoaWMsIHNhbnMtc2VyaWY7XG4gICAgICBjb2xvcjojNGI0NzVmO1xuICAgICAgXG4gICAgfVxuICAgIC5jb250YWluZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjpibGFjaztcbiAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgIGp1c3RpZnktY29udGVudDpjZW50ZXI7XG4gICAgICBhbGlnbi1pdGVtczpjZW50ZXI7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiMyOTI5Mjk7XG4gICAgICBib3JkZXI6MnB4IHNvbGlkIGJsYWNrO1xuICAgIH1cbiAgYCxcbiAgaHRtbDogYDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICA8ZGl2IGlkPVwib25lXCIgY2xhc3M9XCJlbGVtZW50XCI+TW90b3Jjb3J0ZXggUGxheWVyLVRlc3QgUGx1Z2luPC9kaXY+XG4gIDwvZGl2PmAsXG4gIGhvc3Q6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xpcFwiKSxcbiAgY29udGFpbmVyUGFyYW1zOiB7XG4gICAgd2lkdGg6IFwiNzAlXCIsXG4gICAgaGVpZ2h0OiBcIjEwMCVcIlxuICB9LFxuICBhdWRpbzogXCJvZmZcIlxufTtcblxuLy8gQ3JlYXRlIGNsaXBcbmNvbnN0IGNsaXAgPSBuZXcgTW90b3JDb3J0ZXguQ2xpcChjb25maWcpO1xuY29uc3QgYW5pbWF0aW9uXzEgPSBuZXcgVGVzdFBsdWdpbi5UZXN0SW5jaWRlbnQoXG4gIHtcbiAgICBhbmltYXRlZEF0dHJzOiB7XG4gICAgICBsZWZ0OiA4MDAsXG4gICAgICBvcGFjaXR5OiAwXG4gICAgfVxuICB9LFxuICB7XG4gICAgaWQ6IFwiYW5pbWF0aW9uXzFcIixcbiAgICBzZWxlY3RvcjogXCIjb25lXCIsXG4gICAgZHVyYXRpb246IDYwMDAwXG4gIH1cbik7XG5jb25zdCBhbmltYXRpb25fMiA9IG5ldyBUZXN0UGx1Z2luLlRlc3RJbmNpZGVudChcbiAge1xuICAgIGFuaW1hdGVkQXR0cnM6IHtcbiAgICAgIGxlZnQ6IDgwMCxcbiAgICAgIG9wYWNpdHk6IDBcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBpZDogXCJhbmltYXRpb25fMlwiLFxuICAgIHNlbGVjdG9yOiBcIiNvbmVcIixcbiAgICBkdXJhdGlvbjogNjAwMDBcbiAgfVxuKTtcbmNvbnN0IGFuaW1hdGlvbl8zID0gbmV3IFRlc3RQbHVnaW4uVGVzdEluY2lkZW50KFxuICB7XG4gICAgYW5pbWF0ZWRBdHRyczoge1xuICAgICAgbGVmdDogODAwLFxuICAgICAgb3BhY2l0eTogMFxuICAgIH1cbiAgfSxcbiAge1xuICAgIGlkOiBcImFuaW1hdGlvbl8zXCIsXG4gICAgc2VsZWN0b3I6IFwiI29uZVwiLFxuICAgIGR1cmF0aW9uOiA2MDAwMFxuICB9XG4pO1xuXG5jbGlwLmFkZEluY2lkZW50KGFuaW1hdGlvbl8xLCAwKTtcbmNsaXAuYWRkSW5jaWRlbnQoYW5pbWF0aW9uXzIsIDYwMDAwKTtcbmNsaXAuYWRkSW5jaWRlbnQoYW5pbWF0aW9uXzMsIDEyMDAwMCk7XG53aW5kb3cuY2xpcCA9IGNsaXA7XG4vLyBBZGQgY2xpcCB0byB0aW1lclxubmV3IFBsYXllcih7XG4gIGNsaXAsXG4gIHRoZW1lOiBcInRyYW5zcGFyZW50XCIsXG4gIHByZXZpZXc6IHRydWUsXG4gIHNob3dWb2x1bWU6IHRydWUsXG4gIHNwZWVkVmFsdWVzOiBbXG4gICAgOCxcbiAgICAzLFxuICAgIFwiZFwiLFxuICAgIC00LFxuICAgIC0yLFxuICAgIC0xLFxuICAgIFwiZGRcIixcbiAgICAtMC41LFxuICAgIDAsXG4gICAgMC41LFxuICAgIDEsXG4gICAgMixcbiAgICA0LFxuICAgIDMyLFxuICAgIC0zMixcbiAgICAxLjJcbiAgXSxcbiAgYnV0dG9uczoge1xuICAgIGRvbmtleWNsaXA6IGZhbHNlXG4gIH1cbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWtCQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQTNCQTtBQUNBO0FBOEJBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtCQTtBQUNBO0FBREE7QUF2QkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./index.js\n");

/***/ }),

/***/ "./testPlugin/TestIncident.js":
/*!************************************!*\
  !*** ./testPlugin/TestIncident.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar MC = __webpack_require__(/*! @kissmybutton/motorcortex */ \"../node_modules/@kissmybutton/motorcortex/dist/main.js\");\n\nvar MonoIncident = MC.API.MonoIncident;\n\nvar TestIncident =\n/*#__PURE__*/\nfunction (_MonoIncident) {\n  _inherits(TestIncident, _MonoIncident);\n\n  function TestIncident() {\n    _classCallCheck(this, TestIncident);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TestIncident).apply(this, arguments));\n  }\n\n  _createClass(TestIncident, [{\n    key: \"onProgress\",\n    value: function onProgress(progress\n    /*, millisecond*/\n    ) {\n      var delta = this.targetValue - this.initialValues[this.attributeKey];\n      var value = this.initialValues[this.attributeKey] + delta * progress;\n      this.element.setAttribute(this.attributeKey, value);\n    }\n  }, {\n    key: \"getScratchValue\",\n    value: function getScratchValue() {\n      var attribute = this.attributeKey;\n\n      if (this.mcid) {\n        return this.targetValue;\n      }\n\n      var element = this.element;\n\n      if (element === null) {\n        return null;\n      }\n\n      var val = element.getAttribute(attribute);\n\n      if (val === null || val === \"\") {\n        return 0;\n      } else {\n        return parseInt(val);\n      }\n    }\n  }]);\n\n  return TestIncident;\n}(MonoIncident);\n\nmodule.exports = TestIncident;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90ZXN0UGx1Z2luL1Rlc3RJbmNpZGVudC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Rlc3RQbHVnaW4vVGVzdEluY2lkZW50LmpzP2Q5YzIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTUMgPSByZXF1aXJlKFwiQGtpc3NteWJ1dHRvbi9tb3RvcmNvcnRleFwiKTtcbmNvbnN0IHsgTW9ub0luY2lkZW50IH0gPSBNQy5BUEk7XG5cbmNsYXNzIFRlc3RJbmNpZGVudCBleHRlbmRzIE1vbm9JbmNpZGVudCB7XG4gIG9uUHJvZ3Jlc3MocHJvZ3Jlc3MgLyosIG1pbGxpc2Vjb25kKi8pIHtcbiAgICBjb25zdCBkZWx0YSA9IHRoaXMudGFyZ2V0VmFsdWUgLSB0aGlzLmluaXRpYWxWYWx1ZXNbdGhpcy5hdHRyaWJ1dGVLZXldO1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5pbml0aWFsVmFsdWVzW3RoaXMuYXR0cmlidXRlS2V5XSArIGRlbHRhICogcHJvZ3Jlc3M7XG4gICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZUtleSwgdmFsdWUpO1xuICB9XG5cbiAgZ2V0U2NyYXRjaFZhbHVlKCkge1xuICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlS2V5O1xuICAgIGlmICh0aGlzLm1jaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRhcmdldFZhbHVlO1xuICAgIH1cbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgIGlmIChlbGVtZW50ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgdmFsID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICBpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gXCJcIikge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwYXJzZUludCh2YWwpO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFRlc3RJbmNpZGVudDtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUF0QkE7QUFDQTtBQXdCQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./testPlugin/TestIncident.js\n");

/***/ }),

/***/ "./testPlugin/main.js":
/*!****************************!*\
  !*** ./testPlugin/main.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var TestIncident = __webpack_require__(/*! ./TestIncident */ \"./testPlugin/TestIncident.js\");\n\nmodule.exports = {\n  name: \"@kissmybutton/test-plugin\",\n  incidents: [{\n    exportable: TestIncident,\n    name: \"TestIncident\"\n  }]\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90ZXN0UGx1Z2luL21haW4uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZXN0UGx1Z2luL21haW4uanM/ZDA0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBUZXN0SW5jaWRlbnQgPSByZXF1aXJlKFwiLi9UZXN0SW5jaWRlbnRcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBuYW1lOiBcIkBraXNzbXlidXR0b24vdGVzdC1wbHVnaW5cIixcbiAgaW5jaWRlbnRzOiBbXG4gICAge1xuICAgICAgZXhwb3J0YWJsZTogVGVzdEluY2lkZW50LFxuICAgICAgbmFtZTogXCJUZXN0SW5jaWRlbnRcIlxuICAgIH1cbiAgXVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFGQTtBQUhBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./testPlugin/main.js\n");

/***/ })

/******/ });
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("@kissmybutton/motorcortex")):"function"==typeof define&&define.amd?define(["@kissmybutton/motorcortex"],n):(e="undefined"!=typeof globalThis?globalThis:e||self)["@kissmybutton/motorcortex-player"]=n(e.MotorCortex)}(this,(function(e){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=n(e);function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(e){return document.querySelectorAll(e)},i=function(e){return document.getElementById(e)},l=function(e){return document.getElementsByTagName(e)},a=function(e){return document.createElement(e)},r=function(){var e;return(e=document).addEventListener.apply(e,arguments)},c=function(){var e;return(e=document).removeEventListener.apply(e,arguments)},p=function(e,n){function t(e){return"number"==typeof e&&isFinite(e)}var o=new RegExp("^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)","gi"),s=null,i=null;if(Object.prototype.hasOwnProperty.call(e,"width")){var l=e.width.match(o)[0],a=e.width.substring(l.length);s=!t(Number(l))||"%"!==a&&"px"!==a?null:{number:Number(l),unit:a}}if(Object.prototype.hasOwnProperty.call(e,"height")){var r=e.height.match(o)[0],c=e.height.substring(r.length);i=!t(Number(r))||"%"!==c&&"px"!==c?null:{number:Number(r),unit:c}}var p=1,d=1;null!==s&&"px"===s.unit&&s.number>n.width&&(p=n.width/s.number),null!==i&&"px"===i.unit&&i.number>n.height&&(d=n.height/i.number);var u=1;u=d<=p?d:p;var m={};if(null!==s){var h;h="px"===s.unit?s.number*u:s.number/100*n.width*u;var g=n.width-h;m.left=g/2}if(null!==s){var v;v="px"===i.unit?i.number*u:i.number/100*n.height*u;var b=n.height-v;m.top=b/2}return{scale:u,position:m}},d=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx".replace(/[xy]/g,(function(n){var t=(e+16*Math.random())%16|0;e=Math.floor(e/16);var o=Math.random()>.5,s=("x"==n?t:3&t|8).toString(16);return o?s.toUpperCase():s}))};var u=function(e,n){return e(n={exports:{}},n.exports),n.exports}((function(e){var n=e.exports={};n.playSVG='\n  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">\n    <path fill="#999" fill-rule="nonzero" d="M16.224 8.515L2.582.245A1.7 1.7 0 0 0 0 1.702V18.24a1.7 1.7 0 0 0 2.582 1.455l13.642-8.27a1.7 1.7 0 0 0 0-2.91z"/>\n</svg>\n\n',n.dcSVG='\n  <svg class="svg" style="transform:scale(0.55)" version="1.0" xmlns="http://www.w3.org/2000/svg"\n width="1705.000000pt" height="1903.000000pt" viewBox="0 0 1705.000000 1903.000000"\n preserveAspectRatio="xMidYMid meet">\n<metadata>\nCreated by potrace 1.15, written by Peter Selinger 2001-2017\n</metadata>\n<g transform="translate(0.000000,1903.000000) scale(0.100000,-0.100000)"\nfill="#000000" stroke="none">\n<path d="M0 9515 l0 -9515 1583 0 1582 0 4430 4655 c2437 2561 4457 4687 4490\n4726 33 38 1164 1227 2513 2642 l2452 2572 0 2192 c0 1206 -2 2193 -4 2193 -3\n0 -1597 -1652 -3542 -3671 l-3538 -3671 -31 35 c-16 20 -1497 1683 -3290 3696\nl-3260 3661 -1692 0 -1693 0 0 -9515z m5504 2412 c1253 -1413 2279 -2574 2282\n-2580 3 -9 -3274 -3438 -4597 -4811 -5 -6 -9 1968 -9 4999 l0 5010 24 -25 c13\n-14 1048 -1181 2300 -2593z"/>\n<path d="M13924 7584 c-34 -17 -2029 -2158 -2029 -2178 0 -15 5121 -5400 5141\n-5404 12 -3 14 295 14 2241 l0 2245 -1478 1543 c-813 849 -1490 1550 -1505\n1557 -38 16 -105 15 -143 -4z"/>\n</g>\n</svg>\n',n.pauseSVG='\n  <svg class="svg" style="transform:scale(1.5)" width="100%" height="100%" viewBox="0 0 36 36" >\n    <path id="pause-icon" data-state="playing" d="M11,10 L17,10 17,26 11,26 M20,10 L26,10 26,26 20,26" />\n  </svg>\n',n.replaySVG='\n  <svg class="svg" width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">\n    <metadata> Svg Vector Icons : http://www.onlinewebfonts.com/icon </metadata>\n    <g><g transform="translate(0.000000,511.000000) scale(0.100000,-0.100000)">\n      <path d="M5356.3,4203.8c-1247.8-153.1-2324.2-811.3-3000.7-1839.7c-379.4-578.2-596.5-1209-660.5-1933.4l-27.4-294.8H883.9c-431.9,0-783.9-6.9-783.9-18.3c0-9.2,477.6-493.7,1062.7-1078.7l1062.7-1062.7L3288.1-961.1C3873.1-376,4350.8,108.5,4350.8,117.6c0,11.4-356.5,18.3-790.7,18.3h-793l18.3,189.7C2831,876.3,2991,1338,3288.1,1779.1C4122.3,3026.9,5706,3472.5,7065.8,2841.8C7639.4,2578.9,8197,2035,8487.3,1461.4C8581,1274,8709,896.9,8754.7,666.1c48-246.8,54.8-811.3,9.1-1055.8C8567.3-1491.3,7788-2394,6720.7-2750.5c-315.4-107.4-541.6-139.4-941.6-139.4c-287.9,0-415.9,11.4-598.8,50.3c-523.3,112-973.6,335.9-1371.2,681c-75.4,68.6-148.5,123.4-160,123.4c-9.1,0-187.4-169.1-393.1-374.8c-434.2-434.2-420.5-363.4-105.1-628.5c852.4-710.7,1972.3-1055.8,3046.4-937c1627.2,176,2977.8,1257,3489.8,2790.4c457.1,1368.9,169.1,2843-777,3969.7C8322.7,3484,7417.8,4000.4,6503.6,4160.4C6197.4,4213,5619.2,4235.8,5356.3,4203.8z"/>\n      <path d="M4990.7,124.5c0-1503.8,4.6-1794,32-1778c16,9.1,505.1,413.6,1085.6,895.8C7113.8,78.8,7161.8,122.2,7122.9,161c-80,75.4-2109.4,1757.5-2120.8,1757.5C4995.3,1918.5,4990.7,1111.8,4990.7,124.5z"/>\n    </g></g>\n  </svg>\n',n.volumeSVG='\n  <svg class="svg" width="100%" height="100%" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n   viewBox="0 0 286.374 286.374" enable-background="new 0 0 286.374 286.374" xml:space="preserve">\n    <g id="Volume_2">\n      <path style="fill-rule:evenodd;clip-rule:evenodd;" d="M233.636,26.767l-33.372,28.5c25.659,21.07,42.006,52.616,42.006,87.92\n        c0,35.305-16.347,66.851-42.006,87.921l33.372,28.499c32.324-28.869,52.738-70.268,52.738-116.421\n        C286.374,97.034,265.96,55.635,233.636,26.767z M177.737,74.513l-34.69,29.64c15.14,6.818,27.19,21.681,27.19,39.034\n        s-12.05,32.216-27.19,39.034l34.69,29.64c21.294-15.717,36.051-40.586,36.051-68.674C213.788,115.099,199.03,90.23,177.737,74.513z\n         M108.672,48.317L44.746,98.441H17.898C4.671,98.441,0,103.268,0,116.34v53.695c0,13.072,4.951,17.898,17.898,17.898h26.848\n        l63.926,50.068c7.668,4.948,16.558,6.505,16.558-7.365V55.683C125.23,41.813,116.34,43.37,108.672,48.317z"/>\n    </g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>\n  </svg>\n',n.volumeMuteSVG='\n  <svg class="svg" width="100%" height="100%" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n   viewBox="0 0 286.277 286.277" enable-background="new 0 0 286.277 286.277" xml:space="preserve">\n    <g id="Volume_none">\n      <path style="fill-rule:evenodd;clip-rule:evenodd;" d="M245.102,143.151l36.98-37.071c5.593-5.605,5.593-14.681,0-20.284\n        l-10.124-10.142c-5.593-5.604-14.655-5.604-20.247,0l-36.98,37.071l-36.977-37.043c-5.594-5.603-14.654-5.603-20.247,0\n        l-10.124,10.143c-5.594,5.603-5.594,14.679,0,20.282l36.987,37.053l-36.961,37.051c-5.591,5.604-5.591,14.681,0,20.284\n        l10.126,10.141c5.593,5.604,14.654,5.604,20.247,0l36.96-37.05l36.97,37.035c5.592,5.605,14.654,5.605,20.247,0l10.124-10.141\n        c5.593-5.603,5.593-14.68,0-20.282L245.102,143.151z M108.674,48.296L44.747,98.42H17.9c-13.228,0-17.899,4.826-17.899,17.898\n        L0,142.719l0.001,27.295c0,13.072,4.951,17.898,17.899,17.898h26.847l63.927,50.068c7.667,4.948,16.557,6.505,16.557-7.365V55.662\n        C125.23,41.792,116.341,43.349,108.674,48.296z"/>\n    </g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>\n  </svg>\n',n.settingsSVG='\n  <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 19 19">\n    <path fill="#999" fill-rule="nonzero" d="M17.812 7.52h-1.474a7.09 7.09 0 0 0-.604-1.456l1.043-1.042a1.187 1.187 0 0 0 0-1.68l-1.12-1.118a1.188 1.188 0 0 0-1.68 0l-1.043 1.042a7.05 7.05 0 0 0-1.455-.604V1.188C11.48.531 10.948 0 10.292 0H8.708c-.656 0-1.187.532-1.187 1.188v1.474a7.1 7.1 0 0 0-1.456.604L5.022 2.224a1.187 1.187 0 0 0-1.68 0l-1.12 1.12a1.188 1.188 0 0 0 0 1.68l1.044 1.042c-.256.46-.458.949-.604 1.455H1.188C.531 7.52 0 8.052 0 8.708v1.584c0 .656.532 1.187 1.188 1.187h1.474c.146.507.348.995.604 1.456L2.22 13.979a1.188 1.188 0 0 0 0 1.68l1.12 1.119a1.223 1.223 0 0 0 1.68 0l1.043-1.043c.462.255.95.458 1.457.605v1.472c0 .656.531 1.188 1.187 1.188h1.584c.656 0 1.187-.532 1.187-1.188V16.34c.506-.147.995-.35 1.456-.604l1.043 1.043a1.188 1.188 0 0 0 1.68 0l1.119-1.12a1.187 1.187 0 0 0 0-1.679l-1.043-1.043c.256-.461.458-.95.604-1.456h1.474A1.188 1.188 0 0 0 19 10.29V8.709c0-.656-.532-1.187-1.188-1.187zM9.5 13.459a3.958 3.958 0 1 1 0-7.916 3.958 3.958 0 0 1 0 7.916z"/>\n</svg>\n\n',n.arrowRightSVG='\n  <svg class="svg arrow" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="0 0 50 80" xml:space="preserve">\n    <polyline fill="none" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" points="0.375,0.375 45.63,38.087 0.375,75.8 "/>\n  </svg>\n',n.arrowLeftSVG='\n  <svg class="svg arrow" class="svg" width="100%" height="100%" viewBox="0 0 50 80" xml:space="preserve">\n    <polyline fill="none" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" points="45.63,75.8 0.375,38.087 45.63,0.375 "/>\n  </svg> \n',n.fullScreenSVG='\n <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 19 19">\n    <g fill="#999" fill-rule="nonzero">\n        <path d="M18.802 1.942A1.746 1.746 0 0 0 17.06.2h-4.537a.99.99 0 1 0 0 1.98h4.102c.11 0 .198.088.198.197v2.588a.99.99 0 1 0 1.98 0V1.942zM.198 4.965a.99.99 0 0 0 1.98 0v-2.59a.198.198 0 0 1 .197-.199h4.102a.99.99 0 0 0 0-1.979H1.944C.983.2.204.978.202 1.94L.198 4.965zM18.802 17.056v-3.023a.99.99 0 1 0-1.98 0v2.592c0 .11-.088.198-.197.198h-4.102a.99.99 0 1 0 0 1.98h4.533c.964-.001 1.746-.783 1.746-1.747zM.198 17.056a1.746 1.746 0 0 0 1.746 1.742h4.533a.99.99 0 1 0 0-1.979H2.375a.198.198 0 0 1-.198-.194v-2.592a.99.99 0 1 0-1.98 0v3.023z"/>\n        <rect width="10.651" height="6.117" x="4.174" y="6.441" rx="1.954"/>\n    </g>\n</svg>\n\n',n.loopSVG='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="22" viewBox="0 0 24 22">\n    <g fill="#999" fill-rule="nonzero">\n        <path d="M16.773 15.476H16.3a1.25 1.25 0 0 0 0 2.5h.478a6.944 6.944 0 0 0 .98-13.823.251.251 0 0 1-.208-.246V1.93A1.25 1.25 0 0 0 15.584.906l-4.778 3.341a1.25 1.25 0 0 0 .717 2.274h4.764c2.829 0 4.963 1.925 4.963 4.478a4.482 4.482 0 0 1-4.477 4.477zM6.247 17.845c.12.02.208.124.208.246v1.976a1.249 1.249 0 0 0 1.966 1.024l4.773-3.34a1.251 1.251 0 0 0-.717-2.275H7.713c-2.829 0-4.963-1.925-4.963-4.476a4.482 4.482 0 0 1 4.477-4.479h.478a1.25 1.25 0 1 0 0-2.5h-.478a6.945 6.945 0 0 0-.98 13.824z"/>\n    </g>\n</svg>\n',n.loadingSVG='<svg class="lds-spinner" width="200px"  height="200px"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="background: none;"><g transform="rotate(0 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(30 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(60 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.75s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(90 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(120 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(150 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(180 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(210 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(240 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.25s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(270 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(300 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(330 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animate>\n  </rect>\n</g></svg>'})),m={name:"mc-player",set playerName(e){this.name+="-"+e}},h=function(e,n){var t={default:{"settings-background-color":"whitesmoke","hms-background-color":"whitesmoke","background-color":"whitesmoke","grad-height":"0px",color:"black","svg-color":"black","loopbar-color":"#808086","speedbar-color":"#999","runningbar-color":"red","cursor-color":"red","speedbar-cursor-color":"red","button-opacity":"1","hover-color":"rgba(200, 200, 200, 0.5)","slider-off-color":"#ccc","slider-on-color":"red","preview-border":"1px solid rgba(0,0,0,1)",border:"1px solid rgba(255,255,255,0.2)","controls-border":"none","svg-selected-color":"red","loopbar-boundaries-style::before":"","loopbar-boundaries-style::after":"","theme-style":"","loopbar-boundaries-color":"#808086"},dark:{"settings-background-color":"black","hms-background-color":"black","background-color":"black","grad-height":"0px",color:"white","svg-color":"white","loopbar-color":"#808086","speedbar-color":"#999","runningbar-color":"red","cursor-color":"red","speedbar-cursor-color":"red","button-opacity":"1","hover-color":"rgba(90, 90, 90, 0.5)","slider-off-color":"#ccc","slider-on-color":"red","preview-border":"1px solid rgba(0,0,0,1)",border:"1px solid rgba(255,255,255,0.2)","controls-border":"none","svg-selected-color":"red","loopbar-boundaries-style::before":"","loopbar-boundaries-style::after":"","theme-style":"","loopbar-boundaries-color":"#808086"},whiteGold:{"settings-background-color":"white","hms-background-color":"white","background-color":"white","grad-height":"0px",color:"#a17f1a","svg-color":"#a17f1a","loopbar-color":"#808086","speedbar-color":"#999","runningbar-color":"#a17f1a","cursor-color":"#a17f1a","speedbar-cursor-color":"#a17f1a","button-opacity":"1","hover-color":"rgba(200, 200, 200, 0.5)","slider-off-color":"#ccc","slider-on-color":"#a17f1a","preview-border":"1px solid rgba(0,0,0,1)",border:"1px solid rgba(255,255,255,0.2)","controls-border":"none","svg-selected-color":"red","loopbar-boundaries-style::before":"","loopbar-boundaries-style::after":"","theme-style":"","loopbar-boundaries-color":"#808086"},darkGold:{"settings-background-color":"black","hms-background-color":"black","background-color":"black","grad-height":"0px",color:"#a17f1a","svg-color":"#a17f1a","loopbar-color":"#808086","speedbar-color":"#999","runningbar-color":"#a17f1a","cursor-color":"#a17f1a","speedbar-cursor-color":"#a17f1a","button-opacity":"1","hover-color":"rgba(90, 90, 90, 0.5)","slider-off-color":"#ccc","slider-on-color":"#a17f1a","preview-border":"1px solid rgba(0,0,0,1)",border:"1px solid rgba(255,255,255,0.2)","controls-border":"none","svg-selected-color":"red","loopbar-boundaries-style::before":"","loopbar-boundaries-style::after":"","theme-style":"","loopbar-boundaries-color":"#808086"},transparent:{"background-color":"transparent","settings-background-color":"rgba(0,0,0,0.5)","hms-background-color":"rgba(0,0,0,0.5)","preview-border":"1px solid rgba(0,0,0,1)",color:"#999","grad-height":"60px","svg-color":"#999","loopbar-color":"#808086","speedbar-color":"#999","runningbar-color":"red","cursor-color":"#9e2d11","cursor-style::before":'\n        box-shadow: 0px 0px 6px 6px red;\n        width: 6px;\n        height: 6px;\n        border-radius: 100%;\n        display: block;\n        content: "";\n        background-color: red;\n        position: relative;\n        left: -2px;\n        top: -2px;\n    ',"cursor-style::after":'\n        width: 6px;\n        height: 6px;\n        border-radius: 100%;\n        box-shadow: 0px 0px 6px 6px red;\n        content: "";\n        display: block;\n        position: absolute;\n        background-color: red;\n        right: -2px;\n        bottom: -2px;\n    ',"speedbar-cursor-color":"red","button-opacity":"1","hover-color":"rgba(200, 200, 200, 0.5)","slider-off-color":"#ccc","slider-on-color":"red",border:"1px solid rgba(255,255,255,0.1)","controls-border":"1px solid rgba(255,255,255,0.1)","svg-selected-color":"red","loopbar-boundaries-style":"\n        transform: translate(-50%,-37%);\n        position: absolute;\n        width: 18px;\n        background-color: #ff0000;\n        height: 18px;\n        border-radius: 10px;\n        z-index: 40;\n        position: absolute;\n        width: 18px;\n        background-color: #ff0000;\n        height: 18px;\n        border-radius: 10px;\n        z-index: 40;\n        width: 18px;\n        height: 9px;\n        border-radius: 100%;\n        top: 1.5px;\n    ","loopbar-boundaries-style::before":'\n            width: 16px;\n        height: 5px;\n        background: #ff0000;\n        border-radius: 100%;\n        display: block;\n        content: "";\n        position: relative;\n        left: -2px;\n        top: 2px;\n    ',"loopbar-boundaries-style::after":'\n        width: 14px;\n        height: 11px;\n        border-radius: 100%;\n        background: #ff0000;\n        content: "";\n        display: block;\n        position: relative;\n        top: -6px;\n        left: 5px;\n    ',"theme-style":"\n        #".concat(n,"-loopbar-start {\n            left: -9px !important;\n            transform: rotate(180deg);\n            top: -2px;\n        }\n    ")},"mc-green":{"background-color":"#141416","settings-background-color":"rgba(0,0,0,0.5)","hms-background-color":"rgba(0,0,0,0.5)","preview-border":"1px solid rgba(0,0,0,1)",color:"#999","grad-height":"0px","svg-color":"#999","loopbar-color":"rgba(0,184,139,0.2)","loopbar-boundaries-color":"#00b88b","totalbar-color":"rgba(255, 255, 255, 0.11)","speedbar-color":"#999","runningbar-color":"#00b88b","cursor-color":"#00b88b","speedbar-cursor-color":"#00b88b","button-opacity":"1","hover-color":"rgba(0,184,139,0.2)","slider-off-color":"#ccc","slider-on-color":"#00b88b",border:"1px solid rgba(255,255,255,0.1)","controls-border":"1px solid #151515","svg-selected-color":"#00b88b","loopbar-boundaries-style":"\n        transform: translate(-50%,-37%);\n        position: absolute;\n        width: 18px;\n        background-color: #00b88b;\n        height: 18px;\n        border-radius: 10px;\n        z-index: 40;\n        position: absolute;\n        width: 18px;\n        background-color: #00b88b;\n        height: 18px;\n        border-radius: 10px;\n        z-index: 40;\n        width: 18px;\n        height: 9px;\n        border-radius: 100%;\n        top: 1.5px;\n    ","loopbar-boundaries-style::before":'\n            width: 16px;\n        height: 5px;\n        background: #00b88b;\n        border-radius: 100%;\n        display: block;\n        content: "";\n        position: relative;\n        left: -2px;\n        top: 2px;\n    ',"loopbar-boundaries-style::after":'\n        width: 14px;\n        height: 11px;\n        border-radius: 100%;\n        background: #00b88b;\n        content: "";\n        display: block;\n        position: relative;\n        top: -6px;\n        left: 5px;\n    ',"theme-style":"\n        #".concat(n,"-loopbar-start {\n            left: -9px !important;\n            transform: rotate(180deg);\n            top: -2px;\n        }\n    ")},"mc-blue":{"background-color":"#141416","settings-background-color":"rgba(0,0,0,0.5)","hms-background-color":"rgba(0,0,0,0.5)","preview-border":"1px solid rgba(0,0,0,1)",color:"#999","grad-height":"0px","svg-color":"#999","loopbar-color":"rgba(0,153,225,0.2)","loopbar-boundaries-color":"#0099e1","totalbar-color":"rgba(255, 255, 255, 0.11)","speedbar-color":"#999","runningbar-color":"#0099e1","cursor-color":"#0099e1","speedbar-cursor-color":"#0099e1","button-opacity":"1","hover-color":"rgba(0,153,225,0.2)","slider-off-color":"#ccc","slider-on-color":"#0099e1",border:"1px solid rgba(255,255,255,0.1)","controls-border":"1px solid #151515","svg-selected-color":"#0099e1","loopbar-boundaries-style":"\n        transform: translate(-50%,-37%);\n        position: absolute;\n        width: 18px;\n        background-color: #0099e1;\n        height: 18px;\n        border-radius: 10px;\n        z-index: 40;\n        position: absolute;\n        width: 18px;\n        background-color: #0099e1;\n        height: 18px;\n        border-radius: 10px;\n        z-index: 40;\n        width: 18px;\n        height: 9px;\n        border-radius: 100%;\n        top: 1.5px;\n    ","loopbar-boundaries-style::before":'\n            width: 16px;\n        height: 5px;\n        background: #0099e1;\n        border-radius: 100%;\n        display: block;\n        content: "";\n        position: relative;\n        left: -2px;\n        top: 2px;\n    ',"loopbar-boundaries-style::after":'\n        width: 14px;\n        height: 11px;\n        border-radius: 100%;\n        background: #0099e1;\n        content: "";\n        display: block;\n        position: relative;\n        top: -6px;\n        left: 5px;\n    ',"theme-style":"\n        #".concat(n,"-loopbar-start {\n            left: -9px !important;\n            transform: rotate(180deg);\n            top: -2px;\n        }\n    ")},"on-top":{"background-height":"100%","pointer-event-panel-height":"calc(100% - 44px)","controls-bottom":"0px","settings-panel-bottom":"48px","controls-position":"0px"},"position-bottom":{"background-height":"calc(100% - 44px)","pointer-event-panel-height":"calc(100% - 44px)","controls-bottom":"-0px","settings-panel-bottom":"48px","controls-position":"40px"}};return t[e]},g=i,v=a,b=r,f=c,y=i;var x=r,w=c,k=r,B=c,L=r,M=c,E=i,T=r,S=c,C=i,z=r,V=c,P=i,H=i;function D(e,n){for(var t=n.parentNode;null!=t;){if(t==e)return!0;t=t.parentNode}return!1}var N=d,I=i,W=r,F=c,A=s,U=i,R=new t.default.TimeCapsule,G=i,J=l,O=a,X=p;return function(){function e(n){var t=this;for(var o in function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),n.id=n.id||Date.now(),n.preview=n.preview||!1,n.showVolume=n.showVolume||!1,n.showIndicator=n.showIndicator||!1,n.theme=n.theme||"transparent on-top",n.host=n.host||n.clip.props.host,n.buttons=n.buttons||{},n.timeFormat=n.timeFormat||"ss",n.scaleToFit=n.scaleToFit||!1,void 0===n.pointerEvents||null===n.pointerEvents?n.pointerEvents=!0:n.pointerEvents=Boolean(n.pointerEvents),n.onMillisecondChange=n.onMillisecondChange||null,n.speedValues=n.speedValues||[-4,-2,-1,-.5,0,.5,1,2,4],n.speedValues)isFinite(n.speedValues[o])||n.speedValues.splice(o,1);n.speedValues.sort((function(e,n){return e-n})),this.className=m.name,m.playerName=n.id,this.options=n,this.id=this.options.id,this.name=m.name,this.previewClip=null,this.clip=n.clip,this.clipClass=n.clipClass,this.state=this.clip.runTimeInfo.state,this.listeners={},this.previewScale=.25,this.settings={volume:1,journey:null,previousVolume:1,volumeMute:!1,needsUpdate:!0,resizeLoop:!1,loopJourney:!1,previewJourney:null,loopActivated:!1,requestingLoop:!1,playAfterResize:!1,loopStartMillisecond:0,loopLastPositionXPxls:0,loopLastPositionXPercentage:0,loopEndMillisecond:this.clip.duration},this.functions={millisecondChange:this.millisecondChange,createJourney:this.createJourney,createLoop:this.createLoop},function(e){e.elements={};var n=e.clip.props.host;if(n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center",e.clip.props.host.style.position="relative",e.clip.props.host.style.zIndex="0",e.elements.mcPlayer=v("div"),e.elements.mcPlayer.id="".concat(e.name),e.elements.mcPlayer.className="".concat(e.className),e.elements.mcPlayer.innerHTML=function(e){return'\n  <div\n    class="pointer-event-panel"\n    id="'.concat(e.name,'-pointer-event-panel"\n  ></div>\n  <div\n    class="pointer-event-panel"\n    id="').concat(e.name,'-listener-helper"\n  ></div>\n  <div class="grad"></div>\n  <div class="background"></div>\n  <div id="').concat(e.name,'-controls">\n    <div id="').concat(e.name,'-totalbar">\n      <div id="').concat(e.name,'-hover-display">\n        <div id="').concat(e.name,'-hover-millisecond"></div>\n      </div>\n      <div id="').concat(e.name,'-loopbar">\n        <div\n          class="').concat(e.name,'-loop-boundaries"\n          id="').concat(e.name,'-loopbar-start"\n        ></div>\n        <div\n          class="').concat(e.name,'-loop-boundaries"\n          id="').concat(e.name,'-loopbar-end"\n        ></div>\n        <div id="').concat(e.name,'-helperbar"></div>\n        <div id="').concat(e.name,'-runningbar">\n          <div id="').concat(e.name,'-cursor"></div>\n        </div>\n      </div>\n    </div>\n    <div id="').concat(e.name,'-left-controls">\n      <div id="').concat(e.name,'-status-btn">\n        ').concat(e.svg.playSVG,'\n        <span id="').concat(e.name,'-indicator"></span>\n      </div>\n      <div id="').concat(e.name,'-volume">\n        <div id="').concat(e.name,'-volume-btn">\n          ').concat(e.svg.volumeSVG,'\n        </div>\n        <div id="').concat(e.name,'-volumebar-helper"></div>\n        <div id="').concat(e.name,'-volumebar">\n            <div id="').concat(e.name,'-volumebar-active">\n              <div id="').concat(e.name,'-volume-cursor"></div>\n            </div>\n        </div>\n      </div>\n      <div id="').concat(e.name,'-time-display">\n        <span id="').concat(e.name,'-time-current"></span>\n        <span id="').concat(e.name,'-time-separator"></span>\n        <span id="').concat(e.name,'-time-total"></span>\n      </div>\n    </div>\n    <div id="').concat(e.name,'-right-controls">\n      <div\n        id="').concat(e.name,'-loop-btn-container"\n      >\n        <div\n          id="').concat(e.name,'-loop-btn"\n        >').concat(e.svg.loopSVG,'</div>\n        <div\n          id="').concat(e.name,'-loop-time"\n        >\n          <span\n            id="').concat(e.name,'-loopbar-start-time"\n            class="').concat(e.name,'-loopbar-time"\n          ></span>\n          <span>:</span>\n          <span\n            id="').concat(e.name,'-loopbar-end-time"\n            class="').concat(e.name,'-loopbar-time"\n          ></span>\n        </div>\n      </div>\n      <div\n        id="').concat(e.name,'-settings-btn"\n      >').concat(e.svg.settingsSVG,'</div>\n      <div\n        id="').concat(e.name,'-dc-btn"\n      >\n        ').concat(e.svg.dcSVG,'\n      </div>\n      \n      <div\n        id="').concat(e.name,'-full-screen-btn"\n      >').concat(e.svg.fullScreenSVG,'</div>\n    </div>\n    \n\n  </div>\n  <div id="').concat(e.name,'-settings-panel">\n    <ul id="').concat(e.name,'-main-settings">\n      <li id="').concat(e.name,'-settings-pointer-events">\n        <label>Pointer Events</label>\n        <label class="switch settings-switch">\n          <input id="').concat(e.name,'-pointer-events-checkbox" type="checkbox">\n          <span class="slider round"></span>\n        </label>\n      </li>\n      <li id="').concat(e.name,'-settings-preview">\n        <label>Show Preview</label>\n        <label class="switch settings-switch">\n          <input id="').concat(e.name,'-show-preview-checkbox" type="checkbox">\n          <span class="slider round"></span>\n        </label>\n      </li>\n      <li id="').concat(e.name,'-settings-indicator">\n        <label>Show Indicator</label>\n        <label class="switch settings-switch">\n          <input id="').concat(e.name,'-show-indicator-checkbox" type="checkbox">\n          <span class="slider round"></span>\n        </label>\n      </li>\n      <li id="').concat(e.name,'-settings-volume">\n        <label>Show Volume</label>\n        <label class="switch settings-switch">\n          <input id="').concat(e.name,'-show-volume-checkbox" type="checkbox">\n          <span class="slider round"></span>\n        </label>\n      </li>\n      <li id="').concat(e.name,'-settings-speed-show">\n        <label>Speed</label>\n        <div class="').concat(e.name,'-speed-btn">').concat(e.svg.arrowRightSVG,'</div>\n        <span id="').concat(e.name,'-speed-current"></span>\n      </li>\n    </ul>\n    <ul id="').concat(e.name,'-speed-settings">\n      <li id="').concat(e.name,'-settings-speed-hide">\n        <div class="').concat(e.name,'-speed-btn">').concat(e.svg.arrowLeftSVG,"</div>\n        <label id=").concat(e.name,'-speed-runtime>Speed</label>\n      </li>\n      <li>\n        <div id="').concat(e.name,'-speed-value-helperbar"></div>\n        <div id="').concat(e.name,'-speed-value-bar">\n          <div\n            class="').concat(e.name,'-speed-value-step"\n            id="').concat(e.name,'-speed-cursor"\n          >\n            <div></div>\n          </div>\n        </div>\n        <div id="').concat(e.name,'-speed-value">\n        </div>\n      </li>\n    </ul>\n  </div>\n')}({svg:u,name:e.name}),"string"==typeof e.options.host){var t=document.querySelectorAll(e.options.host);for(var o in t)isNaN(o)||t[o].appendChild(e.elements.mcPlayer)}else e.options.host.appendChild(e.elements.mcPlayer);for(var s in e.elements.pointerEventPanel=g("".concat(e.name,"-pointer-event-panel")),e.elements.listenerHelper=g("".concat(e.name,"-listener-helper")),e.elements.loopBar=g("".concat(e.name,"-loopbar")),e.elements.totalBar=g("".concat(e.name,"-totalbar")),e.elements.indicator=g("".concat(e.name,"-indicator")),e.elements.loopButton=g("".concat(e.name,"-loop-btn")),e.elements.volumeBar=g("".concat(e.name,"-volumebar")),e.elements.totalTime=g("".concat(e.name,"-time-total")),e.elements.volumeControl=g("".concat(e.name,"-volume")),e.elements.volumeBtn=g("".concat(e.name,"-volume-btn")),e.elements.runningBar=g("".concat(e.name,"-runningbar")),e.elements.loopBarEnd=g("".concat(e.name,"-loopbar-end")),e.elements.statusButton=g("".concat(e.name,"-status-btn")),e.elements.speedBar=g("".concat(e.name,"-speed-value-bar")),e.elements.currentTime=g("".concat(e.name,"-time-current")),e.elements.timeDisplay=g("".concat(e.name,"-time-display")),e.elements.speedCurrent=g("".concat(e.name,"-speed-current")),e.elements.loopBarStart=g("".concat(e.name,"-loopbar-start")),e.elements.volumeCursor=g("".concat(e.name,"-volume-cursor")),e.elements.settingsButton=g("".concat(e.name,"-settings-btn")),e.elements.donkeyclipButton=g("".concat(e.name,"-dc-btn")),e.elements.timeSeparator=g("".concat(e.name,"-time-separator")),e.elements.settingsPanel=g("".concat(e.name,"-settings-panel")),e.elements.settingsMainPanel=g("".concat(e.name,"-main-settings")),e.elements.fullScreenButton=g("".concat(e.name,"-full-screen-btn")),e.elements.volumeBarHelper=g("".concat(e.name,"-volumebar-helper")),e.elements.volumeBarActive=g("".concat(e.name,"-volumebar-active")),e.elements.settingsSpeedPanel=g("".concat(e.name,"-speed-settings")),e.elements.settingsShowVolume=g("".concat(e.name,"-settings-volume")),e.elements.settingsShowPreview=g("".concat(e.name,"-settings-preview")),e.elements.settingsPointerEvents=g("".concat(e.name,"-settings-pointer-events")),e.elements.speedBarHelper=g("".concat(e.name,"-speed-value-helperbar")),e.elements.settingsShowIndicator=g("".concat(e.name,"-settings-indicator")),e.elements.settingsSpeedButtonShow=g("".concat(e.name,"-settings-speed-show")),e.elements.settingsSpeedButtonHide=g("".concat(e.name,"-settings-speed-hide")),e.elements.volumeBarActive.style.width=100*e.settings.volume+"%",e.elements.currentTime.innerHTML=e.timeFormat(0),e.elements.totalTime.innerHTML=e.timeFormat(e.clip.duration),e.elements.timeSeparator.innerHTML="/",e.elements.settingsPanel.classList.add("m-fadeOut","".concat(e.name,"-hide")),e.options.showIndicator?(e.elements.indicator.style.visibility="visible",e.elements.statusButton.style.width="35px",e.elements.statusButton.style.height="20px",e.elements.statusButton.style.bottom="5px"):e.elements.indicator.style.visibility="hidden",e.elements.indicator.innerHTML=e.clip.runTimeInfo.state,e.elements.settingsSpeedPanel.style.display="none",e.elements.settingsSpeedPanel.getElementsByTagName("li")[1].classList.add("no-hover"),e.elements.loopBarStart.style.left="0%",e.elements.loopBarStart.classList.add("m-fadeOut","".concat(e.name,"-hide")),e.elements.loopBarEnd.style.left="100%",e.elements.loopBarEnd.classList.add("m-fadeOut","".concat(e.name,"-hide")),e.elements.loopStartTime=g("".concat(e.name,"-loopbar-start-time")),e.elements.loopEndTime=g("".concat(e.name,"-loopbar-end-time")),e.elements.editableLoopStartTime=document.createElement("input"),e.elements.editableLoopStartTime.type="text",e.elements.editableLoopStartTime.size=g("".concat(e.name,"-time-total")).innerHTML.length+1,e.elements.editableLoopStartTime.maxLength=g("".concat(e.name,"-time-total")).innerHTML.length,e.elements.editableLoopStartTime.style.height=g("".concat(e.name,"-time-total")).offsetHeight,e.elements.editableLoopStartTime.value=g("".concat(e.name,"-loopbar-start-time")).innerHTML,e.elements.editableLoopStartTime.style.fontSize="8px",e.elements.editableLoopEndTime=document.createElement("input"),e.elements.editableLoopEndTime.type="text",e.elements.editableLoopEndTime.size=g("".concat(e.name,"-time-total")).innerHTML.length+1,e.elements.editableLoopEndTime.maxLength=g("".concat(e.name,"-time-total")).innerHTML.length,e.elements.editableLoopEndTime.style.height=g("".concat(e.name,"-time-total")).offsetHeight,e.elements.editableLoopEndTime.value=g("".concat(e.name,"-loopbar-start-time")).innerHTML,e.elements.editableLoopEndTime.pattern="d*",e.elements.editableLoopEndTime.style.fontSize="8px",g("".concat(e.name,"-loop-time")).classList.add("m-fadeOut","".concat(e.name,"-hide")),g("".concat(e.name,"-hover-display")).classList.add("m-fadeOut"),g("".concat(e.name,"-show-volume-checkbox")).checked=e.options.showVolume,g("".concat(e.name,"-show-indicator-checkbox")).checked=e.options.showIndicator,g("".concat(e.name,"-show-preview-checkbox")).checked=e.options.preview,g("".concat(e.name,"-pointer-events-checkbox")).checked=e.options.pointerEvents,e.options.pointerEvents?(e.elements.mcPlayer.style.pointerEvents="none",e.elements.pointerEventPanel.style.pointerEvents="auto",g("".concat(e.name,"-controls")).style.pointerEvents="auto",e.elements.settingsPanel.style.pointerEvents="auto"):(e.elements.mcPlayer.style.pointerEvents="none",e.elements.pointerEventPanel.style.pointerEvents="none",g("".concat(e.name,"-controls")).style.pointerEvents="auto",e.elements.settingsPanel.style.pointerEvents="auto"),e.elements.listenerHelper.style.pointerEvents="none",e.options.showVolume?(e.elements.timeDisplay.style.left="",e.elements.volumeControl.style.visibility="visible"):(e.elements.timeDisplay.style.left="45px",e.elements.volumeControl.style.visibility="hidden",e.elements.volumeControl.classList.toggle("".concat(e.name,"-hide")),e.elements.volumeControl.classList.toggle("".concat(e.name,"-volume-width-transition"))),e.options.speedValues){var i=v("div");i.className="".concat(e.name,"-speed-value-step");var l=v("div");l.className="".concat(e.name,"-speed-value"),l.dataset.speedValue=e.options.speedValues[s],l.innerHTML=e.options.speedValues[s],l.dataset.zone=s,g("".concat(e.name,"-speed-value")).prepend(l),e.elements.speedBar.prepend(i)}!1===e.options.buttons.fullScreen&&e.elements.fullScreenButton.remove(),!1===e.options.buttons.settings&&e.elements.settingsButton.remove(),!1===e.options.buttons.donkeyclip&&e.elements.donkeyclipButton.remove(),!1===e.options.buttons.loop&&e.elements.loopButton.remove()}(this),this.setTheme(),this.setSpeed(),this.subscribeToTimer(),this.subscribeToDurationChange(),this.addEventListeners(),this.scaleClipHost(),this.eventBroadcast("state-change",this.state),this.options.preview&&this.createPreviewDisplay(),this.resizeTimeout=setTimeout((function(){}),20),window.addEventListener("resize",(function(){clearTimeout(t.resizeTimeout),t.resizeTimeout=setTimeout((function(){t.options.preview&&t.setPreviewDimentions(),t.options.scaleToFit&&t.scaleClipHost()}),20)}))}var n,t,s;return n=e,(t=[{key:"scaleClipHost",value:function(){if(this.options.scaleToFit){var e=X(this.clip.props.containerParams,{width:this.clip.props.host.offsetWidth,height:this.clip.props.host.offsetHeight});this.clip.realClip.rootElement.style.transform="scale(".concat(e.scale),this.clip.realClip.rootElement.style.left=e.position.left+"px",this.clip.realClip.rootElement.style.top=e.position.top+"px"}}},{key:"createLoop",value:function(e,n){this.settings.loopStartMillisecond=e,this.settings.loopEndMillisecond=n,this.elements.loopBar.style.left=e/this.clip.duration*100+"%",this.elements.loopBar.style.width=(n-e)/this.clip.duration*100+"%",this.createJourney(this.clip,e),this.elements.runningBar.style.width="0%",!this.settings.loopActivated&&this.activateLoop(!1)}},{key:"createJourney",value:function(e,n){var t=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};setTimeout((function(){var s=o.before,i=void 0===s?null:s,l=o.after,a=void 0===l?null:l;i&&e[i](),t.settings.journey=R.startJourney(e),t.settings.journey.station(n),t.settings.journey.destination(),a&&e[a]()}),0)}},{key:"millisecondChange",value:function(e,n,t,o){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.state!==n&&(this.state=n,this.eventBroadcast("state-change",n)),!this.settings.needsUpdate)return this.clip.pause(),1;var i=this.clip,l=this.settings,a=l.loopActivated,r=l.loopEndMillisecond,c=l.loopStartMillisecond,p=this.clip.duration,d=this.elements,u=d.totalBar,m=d.loopBar,h=m.offsetWidth,g=m.offsetLeft/u.offsetWidth,v=e-p*g,b=p/u.offsetWidth*h;return e>=r&&a&&this.clip.speed>=0?(this.createJourney(i,c+1,{after:this.settings.playAfterResize||"playing"==this.clip.runTimeInfo.state?"play":null}),1):e>=r&&a&&this.clip.speed<0?(this.createJourney(i,r-1,{after:this.settings.playAfterResize||"playing"==this.clip.runTimeInfo.state?"play":null}),1):e<=c&&a&&this.clip.speed>=0?(this.createJourney(i,c+1,{after:this.settings.playAfterResize||"playing"==this.clip.runTimeInfo.state?"play":null}),1):e<=c&&a&&this.clip.speed<0?(this.createJourney(i,r-1,{after:this.settings.playAfterResize||"playing"==this.clip.runTimeInfo.state?"play":null}),1):(o&&this.createJourney(i,e,{after:this.settings.playAfterResize?"play":null}),this.elements.runningBar.style.width=v/b*100+"%",this.elements.currentTime.innerHTML=this.timeFormat(e),void(this.options.onMillisecondChange&&s&&this.options.onMillisecondChange(e)))}},{key:"eventBroadcast",value:function(e,n){var t=G("".concat(this.name,"-controls"));"state-change"===e?"paused"===n||"idle"===n||"transitional"===n||"armed"===n||"blocked"===n?(t.classList.value.includes("force-show-controls")||t.classList.toggle("force-show-controls"),this.elements.statusButton.innerHTML=u.playSVG,this.elements.statusButton.appendChild(this.elements.indicator),this.elements.indicator.innerHTML="".concat(n.charAt(0).toUpperCase()+n.slice(1)),"blocked"===n&&(this.elements.pointerEventPanel.innerHTML='\n            <div style="width:100%;height:100%;background:rgba(0,0,0,0.5);display:flex;justify-content:center;align-items:center;">'.concat(u.loadingSVG,"</div>"))):(t.classList.value.includes("force-show-controls")&&t.classList.toggle("force-show-controls"),this.elements.statusButton.innerHTML=u.pauseSVG,this.elements.statusButton.appendChild(this.elements.indicator),this.elements.indicator.innerHTML="Playing",this.elements.pointerEventPanel.innerHTML="","playing"===n&&this.clip.runTimeInfo.currentMillisecond===this.clip.duration&&this.clip.speed>=0?this.createJourney(this.clip,1,{after:"play"}):("playing"===n&&0===this.clip.runTimeInfo.currentMillisecond&&this.clip.speed<0||"playing"===n&&this.clip.runTimeInfo.currentMillisecond===this.clip.duration&&this.clip.speed<0)&&this.createJourney(this.clip,this.clip.duration-1,{after:"play"})):"duration-change"===e&&(this.elements.totalTime.innerHTML=this.timeFormat(this.clip.duration),this.settings.loopEndMillisecond=this.clip.duration,this.elements.pointerEventPanel.innerHTML="",this.millisecondChange(this.clip.runTimeInfo.currentMillisecond))}},{key:"subscribeToDurationChange",value:function(){this.clip.subscribeToDurationChange(this.subscribeToDurationChangeCallback.bind(this))}},{key:"subscribeToDurationChangeCallback",value:function(){this.eventBroadcast("duration-change")}},{key:"subscribeToTimer",value:function(){this.clip.subscribe(this.id,this.millisecondChange.bind(this))}},{key:"handleDragStart",value:function(){this.settings.needsUpdate=!0,this.settings.journey=R.startJourney(this.clip)}},{key:"timeFormat",value:function(e){if("ss"===this.options.timeFormat){var n=e/1e3/60/60,t=n%1*60,o=t%1*60,s=("0"+parseInt(n)).slice(-2),i=("0"+parseInt(t)).slice(-2),l=("0"+parseInt(o)).slice(-2);return"".concat("00"===s?"":s+":").concat(i,":").concat(l)}return e}},{key:"handleDrag",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];isFinite(e)||(e=0);var t=this.clip.duration,o=this.settings.journey,s=this.elements,i=s.loopBar,l=s.totalBar,a=s.runningBar,r=s.currentTime,c=e+i.offsetLeft,p=Math.round(t*c/l.offsetWidth);r.innerHTML=this.timeFormat(p),a.style.width=e/i.offsetWidth*100+"%",o.station(p),this.options.onMillisecondChange&&n&&this.options.onMillisecondChange(p)}},{key:"handleDragEnd",value:function(){this.settings.journey.destination()}},{key:"createProgressDrag",value:function(e){this.handleDragStart(),this.handleDrag(e),this.handleDragEnd()}},{key:"addEventListeners",value:function(){var e;(e=this).listeners.onCursorMoveLoopEnd=function(n){n.preventDefault();var t=(n.clientX||((n.touches||[])[0]||{}).clientX)-e.elements.totalBar.getBoundingClientRect().left;t<0?t=0:t>e.elements.totalBar.offsetWidth&&(t=e.elements.totalBar.offsetWidth),e.elements.runningBar.offsetWidth>=e.elements.loopBar.offsetWidth&&(e.elements.runningBar.style.width=e.elements.loopBar.offsetWidth+"px"),e.settings.loopLastPositionXPxls-t<0?e.elements.loopBar.style.width=Math.abs(e.settings.loopLastPositionXPxls-t)+"px":(e.elements.loopBar.style.left=t+"px",e.settings.loopLastPositionXPxls=t),e.settings.loopEndMillisecond=Math.round(e.clip.duration*((parseFloat(e.elements.loopBar.style.left)||0)+parseFloat(e.elements.loopBar.style.width))/e.elements.totalBar.offsetWidth),e.settings.loopEndMillisecond<e.clip.runTimeInfo.currentMillisecond&&(e.settings.loopJourney=!0),e.settings.loopStartMillisecond>e.settings.loopEndMillisecond&&(e.settings.loopStartMillisecond=e.settings.loopEndMillisecond,e.settings.loopJourney=!0),e.elements.loopEndTime.innerHTML=e.settings.loopEndMillisecond,e.elements.loopStartTime.innerHTML=e.settings.loopStartMillisecond},e.listeners.onMouseUpLoopEnd=function(n){if(e.elements.listenerHelper.style.pointerEvents="none",e.settings.resizeLoop=!1,n.preventDefault(),e.elements.runningBar.style.width=e.elements.runningBar.offsetWidth/e.elements.loopBar.offsetWidth*100+"%",e.elements.loopBar.style.left=e.elements.loopBar.offsetLeft/e.elements.totalBar.offsetWidth*100+"%",e.elements.loopBar.style.width=e.elements.loopBar.offsetWidth/e.elements.totalBar.offsetWidth*100+"%",e.settings.loopJourney&&(e.createProgressDrag(e.elements.runningBar.offsetWidth),e.settings.loopJourney=!1),B("mouseup",e.listeners.onMouseUpLoopEnd,!1),B("touchend",e.listeners.onMouseUpLoopEnd,!1),B("mousemove",e.listeners.onCursorMoveLoopEnd,!1),B("touchmove",e.listeners.onCursorMoveLoopEnd,!1),e.elements.loopBar.addEventListener("mousedown",e.listeners.onMouseDown,!1),e.elements.loopBar.addEventListener("touchstart",e.listeners.onMouseDown,{passive:!0},!1),e.settings.playAfterResize){var t;if("idle"===e.clip.runTimeInfo.state)t=e.clip.speed>=0?e.settings.loopStartMillisecond+1:e.settings.loopEndMillisecond-1,e.settings.needsUpdate=!0,e.createJourney(e.clip,t,{before:"pause",after:"play"});else if("completed"===e.clip.runTimeInfo.state){var o;o=e.clip.speed>=0?e.settings.loopStartMillisecond+1:e.settings.loopEndMillisecond-1,e.settings.needsUpdate=!0,e.createJourney(e.clip,o,{before:"pause",after:"play"})}else e.clip.play();e.settings.playAfterResize=!1}},e.listeners.onMouseDownLoopEnd=function(n){e.elements.listenerHelper.style.pointerEvents="auto",e.settings.resizeLoop=!0,e.settings.needsUpdate=!0,"playing"===e.clip.runTimeInfo.state&&(e.clip.pause(),e.settings.playAfterResize=!0),n.preventDefault(),e.elements.runningBar.style.width=e.elements.runningBar.offsetWidth+"px",e.elements.loopBar.style.left=e.elements.loopBar.offsetLeft+"px",e.elements.loopBar.style.width=e.elements.loopBar.offsetWidth+"px",e.elements.loopBar.removeEventListener("mousedown",e.listeners.onMouseDown,!1),e.elements.loopBar.removeEventListener("touchstart",e.listeners.onMouseDown,!1),e.listeners.onCursorMoveLoopEnd(n),k("mouseup",e.listeners.onMouseUpLoopEnd,!1),k("touchend",e.listeners.onMouseUpLoopEnd,!1),k("mousemove",e.listeners.onCursorMoveLoopEnd,!1),k("touchmove",e.listeners.onCursorMoveLoopEnd,!1)},e.elements.loopBarEnd.addEventListener("mousedown",e.listeners.onMouseDownLoopEnd,!1),e.elements.loopBarEnd.addEventListener("touchstart",e.listeners.onMouseDownLoopEnd,{passive:!1},!1),function(e){e.listeners.onCursorMove=function(n){n.preventDefault();var t=(n.clientX||((n.touches||[])[0]||{}).clientX)-e.elements.loopBar.getBoundingClientRect().left;t<0?t=0:t>e.elements.loopBar.offsetWidth&&(t=e.elements.loopBar.offsetWidth),e.handleDrag(t)},e.listeners.onMouseUp=function(){e.elements.listenerHelper.style.pointerEvents="none",M("mouseup",e.listeners.onMouseUp,!1),M("touchend",e.listeners.onMouseUp,!1),M("mousemove",e.listeners.onCursorMove,!1),M("touchmove",e.listeners.onCursorMove,!1),e.handleDragEnd(e.settings)},e.listeners.onMouseDown=function(n){e.elements.listenerHelper.style.pointerEvents="auto","playing"===e.clip.runTimeInfo.state&&(e.settings.playAfterResize=!0),e.handleDragStart(e.clip),e.listeners.onCursorMove(n),L("mouseup",e.listeners.onMouseUp,!1),L("touchend",e.listeners.onMouseUp,!1),L("mousemove",e.listeners.onCursorMove,!1),L("touchmove",e.listeners.onCursorMove,!1)},e.elements.loopBar.addEventListener("mousedown",e.listeners.onMouseDown,!1),e.elements.loopBar.addEventListener("touchstart",e.listeners.onMouseDown,{passive:!1},!1)}(this),function(e){e.listeners.onCursorMoveLoopStart=function(n){n.preventDefault();var t=n.clientX||((n.touches||[])[0]||{}).clientX,o=e.elements.totalBar.getBoundingClientRect(),s=Math.round(t-o.left),i=Math.round(e.settings.loopEndMillisecond/e.clip.duration*e.elements.totalBar.offsetWidth);s<0?s=0:s>e.elements.totalBar.offsetWidth&&(s=e.elements.totalBar.offsetWidth);var l=e.clip.runTimeInfo.currentMillisecond/e.clip.duration*e.elements.totalBar.offsetWidth-s;e.elements.loopBar.style.left=s+"px",e.elements.loopBar.style.width=i-s+"px",e.elements.runningBar.style.width=l+"px",e.settings.loopLastPositionXPxls=s,e.settings.loopStartMillisecond=Math.round(e.clip.duration*e.elements.loopBar.offsetLeft/e.elements.totalBar.offsetWidth),e.settings.loopEndMillisecond<e.settings.loopStartMillisecond&&(e.settings.loopEndMillisecond=e.settings.loopStartMillisecond,e.elements.loopBar.style.width="0px",e.elements.runningBar.style.width="0px"),e.elements.loopEndTime.innerHTML=e.settings.loopEndMillisecond,e.elements.loopStartTime.innerHTML=e.settings.loopStartMillisecond,e.settings.loopStartMillisecond>e.clip.runTimeInfo.currentMillisecond&&(e.settings.loopJourney=!0)},e.listeners.onMouseUpLoopStart=function(n){var t;(e.elements.listenerHelper.style.pointerEvents="none",e.settings.resizeLoop=!1,n.preventDefault(),e.settings.loopJourney&&(e.createProgressDrag(e.elements.runningBar.offsetWidth),e.settings.loopJourney=!1),e.elements.loopBar.style.left=e.elements.loopBar.offsetLeft/e.elements.totalBar.offsetWidth*100+"%",e.elements.loopBar.style.width=e.elements.loopBar.offsetWidth/e.elements.totalBar.offsetWidth*100+"%",e.settings.loopStartMillisecond=Math.round(e.clip.duration*e.elements.loopBar.offsetLeft/e.elements.totalBar.offsetWidth),e.elements.runningBar.style.width=e.elements.runningBar.offsetWidth/e.elements.loopBar.offsetWidth*100+"%",w("mouseup",e.listeners.onMouseUpLoopStart,!1),w("touchend",e.listeners.onMouseUpLoopStart,!1),w("mousemove",e.listeners.onCursorMoveLoopStart,!1),w("touchmove",e.listeners.onCursorMoveLoopStart,!1),e.elements.loopBar.addEventListener("mousedown",e.listeners.onMouseDown,!1),e.elements.loopBar.addEventListener("touchstart",e.listeners.onMouseDown,{passive:!0},!1),e.settings.playAfterResize)&&("idle"===e.clip.runTimeInfo.state?(t=e.clip.speed>=0?e.settings.loopStartMillisecond+1:e.settings.loopEndMillisecond-1,e.settings.needsUpdate=!0,e.createJourney(e.clip,t,{before:"pause",after:"play"})):e.clip.play(),e.settings.playAfterResize=!1)},e.listeners.onMouseDownLoopStart=function(n){e.elements.listenerHelper.style.pointerEvents="auto",e.settings.resizeLoop=!0,n.preventDefault(),e.settings.needsUpdate=!0,"playing"===e.clip.runTimeInfo.state&&(e.clip.pause(),e.settings.playAfterResize=!0),e.elements.loopBar.removeEventListener("mousedown",e.listeners.onMouseDown,!1),e.elements.loopBar.removeEventListener("touchstart",e.listeners.onMouseDown,!1),e.listeners.onCursorMoveLoopStart(n),x("mouseup",e.listeners.onMouseUpLoopStart,!1),x("touchend",e.listeners.onMouseUpLoopStart,!1),x("mousemove",e.listeners.onCursorMoveLoopStart,!1),x("touchmove",e.listeners.onCursorMoveLoopStart,!1)},e.elements.loopBarStart.addEventListener("mousedown",e.listeners.onMouseDownLoopStart,!1),e.elements.loopBarStart.addEventListener("touchstart",e.listeners.onMouseDownLoopStart,{passive:!1},!1)}(this),function(e){e.listeners.editableLoopStartTime=function(){e.elements.editableLoopStartTime.value=e.elements.loopStartTime.innerHTML,e.elements.loopStartTime.replaceWith(e.elements.editableLoopStartTime),e.elements.editableLoopStartTime.focus()},e.listeners.editableLoopEndTime=function(){e.elements.editableLoopEndTime.value=e.elements.loopEndTime.innerHTML,e.elements.loopEndTime.replaceWith(e.elements.editableLoopEndTime),e.elements.editableLoopEndTime.focus()},e.elements.editableLoopEndTime.onkeydown=e.elements.editableLoopStartTime.onkeydown=function(n){n.preventDefault(),13===n.keyCode&&(e.elements.editableLoopStartTime.onfocusout(),e.elements.editableLoopEndTime.onfocusout()),8===n.keyCode&&(n.target.value=n.target.value.toString().substring(0,n.target.value.toString().length-1)),13===n.keyCode&&n.target.blur();var t=parseFloat((n.target.value||0).toString()+n.key);if(!(t>e.clip.duration))if(n.target.value=t,n.target===e.elements.editableLoopStartTime){var o=e.elements.totalBar.getBoundingClientRect(),s={preventDefault:function(){},clientX:e.elements.totalBar.offsetWidth/e.clip.duration*n.target.value+o.left};e.listeners.onMouseDownLoopStart(s),e.listeners.onCursorMoveLoopStart(s),e.listeners.onMouseUpLoopStart(s)}else if(n.target===e.elements.editableLoopEndTime){var i=e.elements.totalBar.getBoundingClientRect(),l={preventDefault:function(){},clientX:e.elements.totalBar.offsetWidth/e.clip.duration*n.target.value+i.left};e.listeners.onMouseDownLoopEnd(l),e.listeners.onCursorMoveLoopEnd(l),e.listeners.onMouseUpLoopEnd(l)}},e.elements.loopStartTime.onclick=e.listeners.editableLoopStartTime,e.elements.loopEndTime.onclick=e.listeners.editableLoopEndTime,e.elements.editableLoopStartTime.onfocusout=function(){e.elements.editableLoopStartTime.replaceWith(e.elements.loopStartTime)},e.elements.editableLoopEndTime.onfocusout=function(){e.elements.editableLoopEndTime.replaceWith(e.elements.loopEndTime)}}(this),function(e){var n=!1;e.elements.volumeBtn.onclick=function(){if(e.settings.volumeMute){e.elements.volumeBarActive.style.width=100*e.settings.previousVolume+"%",e.clip.setVolume(e.settings.previousVolume),e.settings.volumeMute=!1;var n=document.createElement("span");n.innerHTML=u.volumeSVG,e.elements.volumeBtn.getElementsByTagName("svg")[0].replaceWith(n)}else{e.settings.volumeMute=!0,e.elements.volumeBarActive.style.width="0%",e.clip.setVolume(0);var t=document.createElement("span");t.innerHTML=u.volumeMuteSVG,e.elements.volumeBtn.getElementsByTagName("svg")[0].replaceWith(t)}};var t=!1;e.elements.volumeBtn.onmouseover=function(){t=!0,e.elements.volumeCursor.classList.add("".concat(e.name,"-volume-cursor-transition")),e.elements.volumeBar.classList.add("".concat(e.name,"-volume-width-transition")),e.elements.volumeBarHelper.classList.add("".concat(e.name,"-volume-width-transition")),e.elements.timeDisplay.classList.add("".concat(e.name,"-time-width-transition"))},y("".concat(e.name,"-left-controls")).onmouseout=function(){if(t&&!n){var o=event.toElement||event.relatedTarget||event.target;(function(e,n){for(var t=n.parentNode;null!=t;){if(t==e)return!0;t=t.parentNode}return!1})(y("".concat(e.name,"-left-controls")),o)||o===y("".concat(e.name,"-left-controls"))||(t=!1,e.elements.volumeCursor.classList.remove("".concat(e.name,"-volume-cursor-transition")),e.elements.volumeBar.classList.remove("".concat(e.name,"-volume-width-transition")),e.elements.volumeBarHelper.classList.remove("".concat(e.name,"-volume-width-transition")),e.elements.timeDisplay.classList.remove("".concat(e.name,"-time-width-transition")))}},e.listeners.onCursorMoveVolumeBar=function(n){n.preventDefault();var t=(n.clientX||((n.touches||[])[0]||{}).clientX)-e.elements.volumeBarHelper.getBoundingClientRect().left;if(t<0?t=0:t>e.elements.volumeBarHelper.offsetWidth&&(t=e.elements.volumeBarHelper.offsetWidth),e.settings.volume=Number((t/e.elements.volumeBarHelper.offsetWidth).toFixed(2)),e.elements.volumeBarActive.style.width=100*e.settings.volume+"%",e.clip.setVolume(e.settings.volume),e.settings.volume>0){e.settings.volumeMute=!1;var o=document.createElement("span");o.innerHTML=u.volumeSVG,e.elements.volumeBtn.getElementsByTagName("svg")[0].replaceWith(o)}else if(0===e.settings.volume){e.settings.volumeMute=!0;var s=document.createElement("span");s.innerHTML=u.volumeMuteSVG,e.elements.volumeBtn.getElementsByTagName("svg")[0].replaceWith(s)}},e.listeners.onMouseUpVolumeBar=function(t){n=!1,e.elements.listenerHelper.style.pointerEvents="none",t.preventDefault(),e.settings.volume>0&&(e.settings.previousVolume=e.settings.volume),f("mouseup",e.listeners.onMouseUpVolumeBar,!1),f("touchend",e.listeners.onMouseUpVolumeBar,!1),f("mousemove",e.listeners.onCursorMoveVolumeBar,!1),f("touchmove",e.listeners.onCursorMoveVolumeBar,!1)},e.listeners.onMouseDownVolumeBar=function(t){n=!0,e.elements.listenerHelper.style.pointerEvents="auto",t.preventDefault(),e.listeners.onCursorMoveVolumeBar(t),b("mouseup",e.listeners.onMouseUpVolumeBar,!1),b("touchend",e.listeners.onMouseUpVolumeBar,!1),b("mousemove",e.listeners.onCursorMoveVolumeBar,!1),b("touchmove",e.listeners.onCursorMoveVolumeBar,!1)},e.elements.volumeBarHelper.addEventListener("mousedown",e.listeners.onMouseDownVolumeBar,!1),e.elements.volumeCursor.addEventListener("mousedown",e.listeners.onMouseDownVolumeBar,!1),e.elements.volumeBarHelper.addEventListener("touchstart",e.listeners.onMouseDownVolumeBar,{passive:!1},!1),e.elements.volumeCursor.addEventListener("touchstart",e.listeners.onMouseDownVolumeBar,{passive:!1},!1)}(this),function(e){e.elements.statusButton.onclick=function(n){return n.preventDefault(),"playing"===e.clip.runTimeInfo.state?e.clip.pause():"paused"===e.clip.runTimeInfo.state||"idle"===e.clip.runTimeInfo.state||"transitional"===e.clip.runTimeInfo.state||"armed"===e.clip.runTimeInfo.state?e.clip.play():"idle"===e.clip.runTimeInfo.state?e.clip.speed>=0?(e.clip.play(),e.settings.needsUpdate=!0):(e.createJourney(e.clip,e.settings.loopEndMillisecond-1,{before:"pause",after:"play"}),e.settings.needsUpdate=!0):"completed"===e.clip.runTimeInfo.state&&(e.clip.speed>=0?(e.createJourney(e.clip,0,{before:"pause",after:"play"}),e.settings.needsUpdate=!0):(e.createJourney(e.clip,e.settings.loopEndMillisecond-1,{before:"pause",after:"play"}),e.settings.needsUpdate=!0)),!1}}(this),function(e){e.elements.settingsShowIndicator.onclick=function(n){n.preventDefault();var t=E("".concat(e.name,"-show-indicator-checkbox"));t.checked?(t.checked=!1,e.elements.indicator.style.visibility="hidden"):(t.checked=!0,e.elements.indicator.style.visibility="visible")},e.elements.settingsPointerEvents.onclick=function(n){n.preventDefault();var t=E("".concat(e.name,"-pointer-events-checkbox"));t.checked?(t.checked=!1,e.options.pointerEvents=!1,e.elements.mcPlayer.style.pointerEvents="none",e.elements.pointerEventPanel.style.pointerEvents="none",E("".concat(e.name,"-controls")).style.pointerEvents="auto",e.elements.settingsPanel.style.pointerEvents="auto"):(t.checked=!0,e.elements.mcPlayer.style.pointerEvents="none",e.elements.pointerEventPanel.style.pointerEvents="auto",E("".concat(e.name,"-controls")).style.pointerEvents="auto",e.elements.settingsPanel.style.pointerEvents="auto")},e.elements.settingsShowVolume.onclick=function(n){n.preventDefault(),e.elements.volumeControl.classList.toggle("".concat(e.name,"-volume-width-transition")),e.elements.volumeControl.classList.toggle("".concat(e.name,"-hide"));var t=E("".concat(e.name,"-show-volume-checkbox"));t.checked?(t.checked=!1,e.elements.volumeControl.style.visibility="hidden",e.elements.timeDisplay.style.left="45px"):(t.checked=!0,e.elements.volumeControl.style.visibility="visible",e.elements.timeDisplay.style.left="")},e.elements.settingsShowPreview.onclick=function(n){n.preventDefault();var t=E("".concat(e.name,"-show-preview-checkbox"));t.checked?(t.checked=!1,E("".concat(e.name,"-hover-display")).style.visibility="hidden",E("".concat(e.name,"-hover-display")).style.display="none",e.options.preview=!1):(e.previewClip||e.createPreviewDisplay(),t.checked=!0,E("".concat(e.name,"-hover-display")).style.visibility="visible",E("".concat(e.name,"-hover-display")).style.display="flex",e.options.preview=!0)},e.elements.settingsButton.onclick=function(n){n.preventDefault();var t=E("".concat(e.name,"-controls")),o=function n(t){if(e.elements.settingsPanel.contains(t.target))return!0;e.elements.settingsPanel.classList.toggle("".concat(e.name,"-hide")),e.elements.settingsPanel.classList.toggle("m-fadeOut"),e.elements.settingsPanel.classList.toggle("m-fadeIn"),e.elements.settingsPanel.className.includes("m-fadeOut")&&(S("click",n,!1),e.eventBroadcast("state-change",e.state))};e.elements.settingsPanel.className.includes("m-fadeOut")?(t.classList.value.includes("force-show-controls")||t.classList.toggle("force-show-controls"),T("click",o,!1)):S("click",o,!1)}}(this),function(e){e.elements.settingsSpeedButtonShow.onclick=e.elements.settingsSpeedButtonHide.onclick=function(n){n.preventDefault(),e.elements.settingsPanel.classList.toggle("".concat(e.name,"-settings-speed-panel")),e.elements.settingsPanel.className.includes("".concat(e.name,"-settings-speed-panel"))?(e.elements.settingsMainPanel.style.display="none",e.elements.settingsSpeedPanel.style.display="block"):(e.elements.settingsSpeedPanel.style.display="none",e.elements.settingsMainPanel.style.display="block")};var n=function(n){n.preventDefault();var t=e.elements.speedBar.getBoundingClientRect(),o=(n.clientY||((n.touches||[])[0]||{}).clientY)-t.top;(o-=8)<0?o=0:o>e.elements.speedBar.offsetHeight-16&&(o=e.elements.speedBar.offsetHeight-16);var s=-1*((o=Math.floor(o))/(16*(e.options.speedValues.length-1))-1),i=1/(e.options.speedValues.length-1),l=e.calculateSpeed(i,e.options.speedValues,s);C("".concat(e.name,"-speed-runtime")).innerHTML=l+"0",C("".concat(e.name,"-speed-cursor")).style.top=o+"px",e.clip.executionSpeed=l},t=function t(o){var s;e.elements.listenerHelper.style.pointerEvents="none",o.preventDefault(),V("mouseup",t,!1),V("touchend",t,!1),V("mousemove",n,!1),V("touchmove",n,!1),C("".concat(e.name,"-speed-runtime")).innerHTML="Speed",s=1==e.clip.speed?"Normal":e.clip.speed,e.elements.speedCurrent.innerHTML=s},o=function(o){e.elements.listenerHelper.style.pointerEvents="auto",o.preventDefault(),n(o),z("mouseup",t,!1),z("touchend",t,!1),z("mousemove",n,!1),z("touchmove",n,!1)};e.elements.speedBarHelper.addEventListener("mousedown",o,!1),e.elements.speedBarHelper.addEventListener("touchstart",o,{passive:!1},!1)}(this),function(e){e.elements.loopButton.onclick=e.activateLoop=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.settings.loopActivated=!e.settings.loopActivated,e.elements.loopButton.classList.toggle("svg-selected"),e.elements.loopBarStart.classList.toggle("m-fadeOut"),e.elements.loopBarEnd.classList.toggle("m-fadeOut"),e.elements.loopBarStart.classList.toggle("m-fadeIn"),e.elements.loopBarStart.classList.toggle("".concat(e.name,"-hide")),e.elements.loopBarEnd.classList.toggle("m-fadeIn"),e.elements.loopBarEnd.classList.toggle("".concat(e.name,"-hide")),P("".concat(e.name,"-loop-time")).classList.toggle("m-fadeOut"),P("".concat(e.name,"-loop-time")).classList.toggle("m-fadeIn"),P("".concat(e.name,"-loop-time")).classList.toggle("".concat(e.name,"-hide")),e.elements.loopEndTime.innerHTML=e.settings.loopEndMillisecond,e.elements.loopStartTime.innerHTML=e.settings.loopStartMillisecond,e.settings.needsUpdate=!0,e.settings.loopActivated||(e.elements.loopBar.style.left="0%",e.elements.loopBar.style.width="100%",e.settings.loopStartMillisecond=0,e.settings.loopEndMillisecond=e.clip.duration,e.settings.loopLastPositionXPxls=0,e.settings.loopLastPositionXPercentage=0,n&&(e.elements.runningBar.style.width=e.clip.runTimeInfo.currentMillisecond/e.clip.duration*100+"%"))}}(this),function(e){H("".concat(e.name,"-controls")).onmouseover=function(){e.settings.loopActivated&&(e.elements.loopBarStart.classList.remove("m-fadeOut"),e.elements.loopBarEnd.classList.remove("m-fadeOut"),e.elements.loopBarStart.classList.add("m-fadeIn"),e.elements.loopBarEnd.classList.add("m-fadeIn"))},H("".concat(e.name,"-controls")).onmouseout=function(n){var t=n.toElement||n.relatedTarget||n.target;D(this,t)||t===this||e.settings.loopActivated&&(e.elements.loopBarStart.classList.add("m-fadeOut"),e.elements.loopBarEnd.classList.add("m-fadeOut"),e.elements.loopBarStart.classList.remove("m-fadeIn"),e.elements.loopBarEnd.classList.remove("m-fadeIn"))};var n=!1;H("".concat(e.name,"-controls")).ontouchstart=function(t){var o=t.toElement||t.relatedTarget||t.target;D(e.elements.statusButton,o)||o===e.elements.statusButton||D(e.elements.settingsButton,o)||o===e.elements.settingsButton||D(e.elements.fullScreenButton,o)||o===e.elements.fullScreenButton||D(e.elements.loopButton,o)||o===e.elements.loopButton||D(e.elements.totalBar,o)||o===e.elements.totalBar||(e.elements.volumeControl.className="".concat(e.name,"-volume-width-transition"),e.elements.volumeBar.className="".concat(e.name,"-volume-width-transition"),e.elements.volumeBarHelper.className="".concat(e.name,"-volume-width-transition"),e.elements.timeDisplay.className="".concat(e.name,"-time-width-transition"),e.elements.volumeCursor.className="".concat(e.name,"-volume-cursor-transition"),n=!0)},window.addEventListener("touchstart",(function(t){var o=t.toElement||t.relatedTarget||t.target;D(H("".concat(e.name,"-controls")),o)||o===H("".concat(e.name,"-controls"))||n&&(e.elements.volumeControl.className="",e.elements.volumeBar.className="",e.elements.volumeBarHelper.className="",e.elements.timeDisplay.className="",e.elements.volumeCursor.className="")}))}(this),function(e){e.elements.fullScreenButton.addEventListener("click",(function(){var n=e.clip.props.host.className.includes("full-screen");e.clip.props.host!==e.options.host&&!n&&e.clip.props.host.appendChild(e.elements.mcPlayer),e.clip.props.host!==e.options.host&&n&&e.options.host.appendChild(e.elements.mcPlayer),n?e.exitFullscreen():e.launchIntoFullscreen(e.clip.props.host)}))}(this),function(e){e.elements.donkeyclipButton.addEventListener("click",(function(){var n=N(),t=window.open("https://donkeyclip.com?u=".concat(n)),o=e.clip.exportDefinition(),s=e.clipClass;window.addEventListener("message",(function(e){e.data===n&&t.postMessage(JSON.stringify({definition:o,clipClass:s,u:n}),"*")}),!1)}))}(this),function(e){if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var n=function(){e.options.preview&&(I("".concat(e.name,"-hover-display")).classList.toggle("m-fadeOut"),I("".concat(e.name,"-hover-display")).classList.toggle("m-fadeIn"),e.elements.loopBar.onmousemove=o)},t=function t(){e.options.preview&&(n(),e.elements.loopBar.onmouseover=e.elements.loopBar.onmouseout=n,e.elements.loopBar.onmousemove=o,F("mouseup",t,!1),F("touchend",t,!1),F("mousemove",o,!1),F("touchmove",o,!1))};e.elements.loopBar.onmouseover=e.elements.loopBar.onmouseout=n,e.elements.loopBar.onmousedown=function(){e.options.preview&&(e.elements.loopBar.onmouseover=e.elements.loopBar.onmouseout=null,e.elements.loopBar.onmousemove=null,W("mouseup",t,!1),W("touchend",t,!1),W("mousemove",o,!1),W("touchmove",o,!1))},e.elements.loopBar.onmouseup=function(){e.options.preview&&(F("mouseup",t,!1),F("touchend",t,!1),F("mousemove",o,!1),F("touchmove",o,!1),e.elements.loopBar.onmouseover=e.elements.loopBar.onmouseout=n,e.elements.loopBar.onmousemove=o)};var o=function(n){var t=n.clientX,o=e.elements.loopBar.getBoundingClientRect();if(t-o.left+e.settings.loopLastPositionXPxls>e.settings.loopLastPositionXPxls+e.elements.loopBar.offsetWidth&&!e.settings.resizeLoop)I("".concat(e.name,"-hover-millisecond")).innerHTML=e.settings.loopEndMillisecond;else if(t-o.left<0&&!e.settings.resizeLoop)I("".concat(e.name,"-hover-millisecond")).innerHTML=e.settings.loopStartMillisecond;else{var s=t-o.left+e.settings.loopLastPositionXPxls;s<0&&(s=0);var i=I("".concat(e.name,"-hover-display")).offsetWidth*e.previewScale,l=i/2,a=I("".concat(e.name,"-hover-display")).offsetWidth/2,r=s-a;s-l<0?r=0-(i+l):s+l>e.elements.totalBar.offsetWidth&&(r=e.elements.totalBar.offsetWidth-a-l);var c=Math.round(s/e.elements.totalBar.offsetWidth*e.clip.duration);if(e.options.preview){var p=c/e.clip.duration;e.previewClip.onProgress(p,c)}I("".concat(e.name,"-hover-millisecond")).innerHTML=c,I("".concat(e.name,"-hover-display")).style.left=r+"px"}}}}(this),function(e){document.addEventListener("fullscreenchange",(function(){e.elements.mcPlayer.classList.toggle("full-screen"),e.clip.props.host.classList.toggle("full-screen"),e.options.preview&&e.setPreviewDimentions()})),document.addEventListener("webkitfullscreenchange",(function(){e.elements.mcPlayer.classList.toggle("full-screen"),e.clip.props.host.classList.toggle("full-screen"),e.options.preview&&e.setPreviewDimentions()})),document.addEventListener("mozfullscreenchange",(function(){e.elements.mcPlayer.classList.toggle("full-screen"),e.clip.props.host.classList.toggle("full-screen"),e.options.preview&&e.setPreviewDimentions()})),document.addEventListener("MSFullscreenChange",(function(){e.elements.mcPlayer.classList.toggle("full-screen"),e.clip.props.host.classList.toggle("full-screen"),e.options.preview&&e.setPreviewDimentions()})),A("body")[0].addEventListener("click",(function(n){if(n.target.className==="".concat(e.name,"-speed-value")){var t=n.target.dataset.speedValue-0;e.clip.executionSpeed=n.target.dataset.speedValue,t=1==e.clip.speed?"Normal":e.clip.speed,e.elements.speedCurrent.innerHTML=t;var o=1/(e.options.speedValues.length-1),s=-1*(n.target.dataset.zone*o-1)*(16*(e.options.speedValues.length-1));U("".concat(e.name,"-speed-cursor")).style.top=s+"px"}}))}(this)}},{key:"launchIntoFullscreen",value:function(e){this.options.preview&&this.setPreviewDimentions(),e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}},{key:"exitFullscreen",value:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},{key:"setTheme",value:function(){this.options.theme.replace(/\s\s+/g," "),this.options.theme.trim(),this.options.theme.includes("on-top")||this.options.theme.includes("position-bottom")||(this.options.theme+=" on-top");var e={};for(var n in this.options.theme.split(" ")){var t=h(this.options.theme.split(" ")[n],this.name);for(var o in t||{})e[o]=t[o]}var s=function(e,n,t){return"\n.background {\n  background-color: black;\n  width:100%;\n  height:".concat(e["background-height"],";;\n  position:absolute;\n  top:0px;\n  left:0px;\n  z-index:-2000;\n}\n\n.full-screen #").concat(n,"-controls {\n  position:fixed;\n  left:0px;\n  bottom:0px;\n}\n\n.full-screen #").concat(n,"-settings-panel {\n  position:fixed;\n  bottom: 45px;\n}\n\n.svg, .svg path {\n  fill: ").concat(e["svg-color"],";\n}\n\n.svg.arrow {\n  stroke: ").concat(e["svg-color"],";\n}\n\n.pointer-event-panel {\n  height: ").concat(e["pointer-event-panel-height"],";\n  display:flex;\n  align-items:center;\n  justify-content:center;\n}\n#").concat(n,"-pointer-event-panel{\n  width:100%;\n  position:absolute;\n  z-index:100;\n}\n#").concat(n,"-listener-helper{\n  width:100%;\n  height:calc( 100% - 45px );\n  position:absolute;\n  z-index:110;\n}\n.svg-selected svg{\n  fill: ").concat(e["svg-selected-color"],";\n  stroke: ").concat(e["svg-selected-color"],";\n}\n#").concat(n,"-hover-display{\n    border: ").concat(e["preview-border"],";\n    display: flex;\n    overflow:hidden;\n    background-color: black;\n    position: absolute;\n    bottom: 14px;\n    left: 0px;\n    align-items: flex-end;\n    justify-content: center;\n}\n\n#").concat(n,"-hover-millisecond {\n  background-color: ").concat(e["hms-background-color"],";\n  padding:3px;\n  height:18px;\n  margin:0px;\n  line-height:12px;\n  font-size:10px;\n  text-align: center;\n  min-width:20px;\n  max-width:100px;\n  z-index:2;\n}\n#").concat(n,",\n#").concat(n," ::before,\n#").concat(n," :::after,\n#").concat(n," div,\n#").concat(n," p,\n#").concat(n," span,\n#").concat(n," ul,\n#").concat(n," li {\n  font-weight: 400;\n  line-height: 1.9 !important;\n  color: ").concat(e.color,';\n  font-family: "Century Gothic", CenturyGothic, AppleGothic, sans-serif;\n  box-sizing:border-box;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n#').concat(n," {\n  line-height: 1.9;\n  font-size: 12px;\n  overflow:hidden;\n  height: calc(100% + ").concat(e["controls-position"],");\n  width:100%;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  color: ").concat(e.color,";\n  pointer-events:auto !important;\n}\n\n.force-show-controls {\n  height: 44px !important;\n  overflow:unset !important;\n}\n\n").concat(t.theme.includes("position-bottom")?"\n    #".concat(n,"-controls {\n      height: 44px !important;\n      overflow:unset !important;\n    }\n    "):"#".concat(n,":hover #").concat(n,"-controls {\n  height: 44px;\n  overflow:unset;\n}\n"),"\n\n#").concat(n,":hover {\n  pointer-events:none;\n}\n\n#").concat(n,"-settings-speed-hide {\n  text-align:right;\n}\n\n.grad {\n  background-image: linear-gradient(\n    rgba(100,100,100,00.01),\n    rgba(100,100,100,00.02),\n    rgba(100,100,100,00.03),\n    rgba(100,100,100,0.04),\n    rgba(100,100,100,0.05),\n    rgba(0,0,0,0.06),\n    rgba(0,0,0,0.07),\n    rgba(0,0,0,0.08),\n    rgba(0,0,0,0.09),\n    rgba(0,0,0,0.1),\n    rgba(0,0,0,0.2),\n    rgba(0,0,0,0.3),\n    rgba(0,0,0,0.4),\n    rgba(0,0,0,0.4),\n    rgba(0,0,0,0.5),\n    rgba(0,0,0,0.6),\n    rgba(0,0,0,0.7),\n    rgba(0,0,0,0.8),\n    rgba(0,0,0,0.9),\n    rgba(0,0,0,1)\n  );\n  position:absolute;\n  width:100%;\n  height:").concat(e["grad-height"],";\n  left:0px;\n  bottom:0px;\n  z-index:100;\n}\n\n#").concat(n,"-controls {\n  touch-action: none;\n  background-color: ").concat(e["background-color"],";\n  border: ").concat(e["controls-border"],";\n  position: absolute;\n  bottom: ").concat(e["controls-bottom"],";\n  left: 0px;\n  width: 100%;\n  z-index:100;\n  height: 0px;\n  overflow:hidden;\n  display:flex;\n  border-radius: 6px;\n  align-items:center;\n  -webkit-transition: height 0.2s ease;\n  -moz-transition: height 0.2s ease;\n  transition: height 0.2s ease;\n}\n\n#").concat(n,"-totalbar {\n  width: calc(100% - 20px);\n  height: 5px;\n  margin: 0px 10px 0px 10px;\n  background-color: ").concat(e["totalbar-color"],";\n  position: absolute;\n  top: 0px;\n  left: 0px;\n}\n\n#").concat(n,"-loopbar {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  top: 0px;\n  left: 0px;\n  background-color: ").concat(e["loopbar-color"],";\n}\n\n.").concat(n,"-loop-boundaries::before {\n  ").concat(e["loopbar-boundaries-style::before"],"\n\n}\n.").concat(n,"-loop-boundaries {\n  transform:translate(-50%,-37%);\n  position:absolute;\n  width:18px;\n  background-color:").concat(e["loopbar-boundaries-color"],";\n  height:18px;\n  border-radius:10px;\n  z-index:40;\n  ").concat(e["loopbar-boundaries-style"],"\n}\n\n.").concat(n,"-loop-boundaries::after {\n  ").concat(e["loopbar-boundaries-style::after"],"\n\n}\n\n#").concat(n,"-helperbar {\n  position: absolute;\n  height: 20px;\n  top: -10px;\n  left: 0px;\n  right: 0px;\n  z-index:2;\n}\n\n#").concat(n,"-runningbar {\n  position: relative;\n  width: 0px;\n  max-width:100%;\n  height: 100%;\n  background-color: ").concat(e["runningbar-color"],";\n}\n\n#").concat(n,"-cursor {\n  transform:translate(50%,-36%);\n  right: 0px;\n  overflow:hidden;\n  top: 0px;\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  background-color: ").concat(e["cursor-color"],";\n  border-radius: 10px;\n  z-index: 5;\n}\n\n#").concat(n,"-cursor::before {\n  ").concat(e["cursor-style::before"],"\n}\n\n#").concat(n,"-cursor::after {\n  ").concat(e["cursor-style::after"],"\n}\n\n#").concat(n,"-left-controls,#").concat(n,"-right-controls {\n    display: flex;\n    align-items:center;\n    height: 100%;\n    padding: 5px 5px 0px;\n}\n#").concat(n,"-right-controls {\n  position:absolute;\n  right:0px;\n}\n\n\n#").concat(n,"-left-controls > div,#").concat(n,"-right-controls > div {\n    display: inline-flex;\n    align-items:center;\n   margin:0 10px 0 10px;\n}\n\n\n\n/*#").concat(n,"-time-display {\n  display: table;\n  text-align: center;\n  width: auto;\n  height: 34px;\n  position: absolute;\n  left: 90px;\n  -webkit-transition: left 0.1s ease;\n  -moz-transition: left 0.1s ease;\n  transition: left 0.1s ease;\n}\n*/\n#").concat(n,"-time-display span {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n#").concat(n,"-status-btn {\n  opacity: ").concat(e["button-opacity"],";\n}\n#").concat(n,"-status-btn svg{\n  width:20px;\n  height:18px;\n}\n#").concat(n,"-volume {\n  opacity: ").concat(e["button-opacity"],";\n  position: relative;\n}\n#").concat(n,"-volume-btn {\n  width: 20px;\n  height: 15px;\n}\n\n#").concat(n,"-volumebar {\n  width: 0px;\n  height: 3px;\n  background-color: ").concat(e["loopbar-color"],";\n  -webkit-transition: left 0.1s ease;\n  -moz-transition: left 0.1s ease;\n  transition: left 0.1s ease;\n  position:relative;\n  left:5px;\n}\n\n#").concat(n,"-volumebar-helper {\n  position: absolute;\n    width: 0px;\n    height: 15px;\n    bottom: 0px;\n    z-index: 10;\n    left: 25px;\n}\n\n#").concat(n,"-volumebar-active {\n  position: relative;\n  width: 0%;\n  height: 100%;\n  background-color: ").concat(e.color,";\n  position:relative;\n  bottom:0px;\n}\n\n#").concat(n,"-volume-cursor {\n  transform:translate(50%,-36%);\n  right: 0px;\n  top: 0px;\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  background-color: ").concat(e.color,";\n  border-radius: 10px;\n  z-index: 5;\n}\n\n.").concat(n,"-loopbar-time {\n  width:auto;\n  height:12px;\n  background-color:").concat(e["background-color"],";\n  line-height:10px;\n  font-size:10px;\n}\n\n#").concat(n,"-loop-time {\n  margin: 7px;\n}\n\n#").concat(n,"-dc-btn {\n    background-repeat: no-repeat;\n    background-size: 100% 100%;\n    width: 20px;\n    height: 15px;\n    margin: 7px 10px 5px 0px;\n    transform: scale(1.5,1.5);\n}\n\n#").concat(n,"-loop-btn {\n  opacity: ").concat(e["button-opacity"],";\n  display:flex;\n  align-items:center;\n}\n\n\n#").concat(n,"-settings-btn {\n  opacity: ").concat(e["button-opacity"],";\n}\n\n#").concat(n,"-full-screen-btn {\n  opacity: ").concat(e["button-opacity"],";\n}\n\n.").concat(n,"-speed-btn {\n  opacity: ").concat(e["button-opacity"],";\n  height: 14px;\n}\n\n#").concat(n,"-settings-panel {\n  touch-action: none;\n  box-sizing: border-box;\n  position: absolute;\n  z-index:101;\n  background-color: ").concat(e["settings-background-color"],";\n  bottom: ").concat(e["settings-panel-bottom"],";\n  border: ").concat(e.border,";\n  right: 8px;\n  width: 167px;\n  padding: 5px;\n  margin: 0px;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n.").concat(n,"-hide {\n  display:none !important;\n}\n\n#").concat(n,"-speed-value-bar {\n  position: relative;\n  width: 5px;\n  background-color: ").concat(e["speedbar-color"],";\n  display: inline-block;\n  box-sizing: border-box;\n  height: ").concat(16*t.speedValues.length,"px;\n  float: left;\n  margin-right:15px;\n}\n\n#").concat(n,"-speed-value-helperbar {\n  position: absolute;\n  width: 25px;\n  height: ").concat(16*t.speedValues.length,"px;\n  float: left;\n  left: 18px;\n  z-index:10;\n}\n\n\n#").concat(n,"-speed-value-bar:hover,\n#").concat(n,"-speed-value-helperbar {\n  cursor: pointer;\n}\n\n#").concat(n,"-volumebar:hover,\n#").concat(n,"-volumebar-helper:hover,\n#").concat(n,"-volume-btn:hover,\n#").concat(n,"-volumebar:active,\n#").concat(n,"-volumebar-helper:active,\n#").concat(n,"-volume-btn:active {\n  cursor:pointer;\n}\n\n#").concat(n,"-speed-cursor {\n  position: absolute;\n  background-color: ").concat(e["speedbar-cursor-color"],";\n  top: 0px;\n  left: 0px;\n}\n\n#").concat(n,"-speed-cursor div {\n  position: absolute;\n  background-color: ").concat(e["speedbar-cursor-color"],";\n  left: -2.5px;\n  top: -4px;\n  width: 10px;\n  height: 10px;\n  border-radius: 5px;\n}\n\n#").concat(n,"-time-separator{\n  margin:0 3px;\n}\n#").concat(n,"-speed-cursor:hover {\n  cursor: pointer;\n}\n\n.").concat(n,"-speed-value-step {\n  width: 16px;\n  background-color: ").concat(e["speedbar-color"],";\n  display: inline-block;\n  box-sizing: border-box;\n  height: 2px;\n  margin-top: 7px;\n  margin-bottom: 7px;\n  float: left;\n}\n\n#").concat(n,"-speed-value {\n  display: inline-block;\n  box-sizing: border-box;\n  height: ").concat(16*t.speedValues.length,"px;\n  text-align: left;\n}\n\n.").concat(n,"-speed-value {\n  box-sizing: border-box;\n  height: 16px;\n  font-size: 12px;\n}\n\n#").concat(n,"-indicator {\n  font-size: 8px !important;\n  position: absolute;\n  bottom: -3px;\n  color: ").concat(e.color,";\n}\n\n/*#").concat(n,"-speed-settings {\n  height: ").concat(16*t.speedValues.length+32+10-2,"px;\n}*/\n\n#").concat(n,"-speed-settings li.no-hover { \n  height: ").concat(16*t.speedValues.length+10-2,"px !important; \n}\n#").concat(n,"-settings-panel.").concat(n,"-settings-speed-panel {\n  overflow: hidden;\n  width: 92px;\n  position:absolute;\n  z-index:120;\n  /*height: ").concat(16*t.speedValues.length+32+20,"px;*/\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n#").concat(n,"-settings-panel.").concat(n,"-settings-speed-panel .").concat(n,"-speed-btn {\n  float: left;\n}\n\n.").concat(n,"-settings-speed-panel ul:first-child {\n  text-align: right;\n}\n\n#").concat(n,"-speed-current {\n  float: right;\n  padding-right: 10px\n}\n\n#").concat(n,"-settings-panel .").concat(n,"-speed-btn {\n  float: right;\n}\n\n#").concat(n,"-settings-panel ul {\n  width: 100%;\n  margin: 0px;\n  padding: 0px;\n  overflow: hidden;\n}\n\n#").concat(n,"-settings-panel.").concat(n,"-settings-speed-panel ul li {\n  min-width: 70px;\n  display: flex;\n  height: 32px;\n  align-items: center;\n  justify-content:center;\n}\n\n#").concat(n,"-settings-panel ul li.no-hover:hover {\n  background-color: transparent;\n  cursor: default;\n}\n\ndiv.").concat(n,"-speed-value:hover {\n  background-color: ").concat(e["hover-color"],";\n  cursor: pointer;\n}\n\n#").concat(n,"-settings-panel ul li {\n  /*position: relative;\n  width: 100%;\n  min-width: 154px;*/\n  list-style-type: none;\n  margin: 0px;\n  padding: 5px;\n  display: flex;\n  height:32px;\n  align-items:center;\n}\n\n#").concat(n,"-settings-panel ul li label {\n  margin: 0px;\n}\n\n.switch {\n  position: relative;\n  display: inline-block;\n  width: 32px;\n  height: 18px;\n}\n\n.switch input {\n  display: none;\n}\n\n.settings-switch {\n  position: absolute;\n  right: 24px;\n}\n\n.settings-switch::after {\n  clear: both;\n}\n\n.slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: ").concat(e["slider-off-color"],';\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\n.slider:before {\n  position: absolute;\n  content: "";\n  height: 16px;\n  width: 16px;\n  left: 1px;\n  bottom: 1px;\n  background-color: white;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\ninput:checked+.slider {\n  background-color: ').concat(e["slider-on-color"],";\n}\n\ninput:focus+.slider {\n  box-shadow: 0 0 1px ").concat(e["slider-on-color"],";\n}\n\ninput:checked+.slider:before {\n  -webkit-transform: translateX(16px);\n  -ms-transform: translateX(16px);\n  transform: translateX(16px);\n}\n\n\n/* Rounded sliders */\n\n.slider.round {\n  border-radius: 34px;\n}\n\n.slider.round:before {\n  border-radius: 50%;\n}\n\n\n.m-fadeOut {\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 0s linear 300ms, opacity 300ms;\n}\n\n.m-fadeIn {\n  visibility: visible;\n  opacity: 1;\n  transition: visibility 0s linear 0s, opacity 300ms;\n}\n\n#").concat(n,"-settings-panel ul li:hover {\n  background-color: ").concat(e["hover-color"],";\n  cursor: pointer;\n}\n\n#").concat(n,"-settings-panel ul li label:hover {\n  cursor: pointer;\n}\n\n#").concat(n,"-loopbar:hover {\n  cursor: pointer;\n}\n\n#").concat(n,"-status-btn:hover {\n  cursor: pointer;\n}\n\n#").concat(n,"-controls:active #").concat(n,"-cursor,\n#").concat(n,"-controls:hover #").concat(n,"-cursor  {\n  width: 16px;\n  height: 16px;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n#").concat(n,"-volume .").concat(n,"-volume-cursor-transition {\n  width: 12px;\n  height: 12px;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n#").concat(n,"-volume .").concat(n,"-volume-width-transition\n {\n  width: 50px;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n#").concat(n,"-time-display.").concat(n,"-time-width-transition {\n  position:relative;\n  left: 10px;\n  -webkit-transition: left 0.3s ease;\n  -moz-transition: left 0.3s ease;\n  transition: left 0.3s ease;\n}\n\n#").concat(n,"-settings-speed:hover .").concat(n,"-speed-btn {\n  opacity: 1;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n#").concat(n,"-status-btn:hover {\n  opacity: 1;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n#").concat(n,"-loop-btn:hover,\n#").concat(n,"-dc-btn:hover\n {\n  cursor: pointer;\n  opacity: 1;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n#").concat(n,"-settings-btn:hover {\n  cursor: pointer;\n  opacity: 1;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n#").concat(n,"-full-screen-btn:hover {\n  cursor: pointer;\n  opacity: 1;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n").concat(e["theme-style"],"\n")}(e,this.name,this.options),i=O("style");i.styleSheet?i.styleSheet.cssText=s:i.appendChild(document.createTextNode(s)),J("head")[0].appendChild(i)}},{key:"setSpeed",value:function(){var e,n=this;e=1==this.clip.speed?"Normal":this.clip.speed,this.elements.speedCurrent.innerHTML=e;var t=-1*(function(){for(var e=0;e<n.options.speedValues.length-1;e++)if(n.options.speedValues[e]<=n.clip.speed&&n.options.speedValues[e+1]>n.clip.speed)return e+Math.abs((n.clip.speed-n.options.speedValues[e])/(n.options.speedValues[e]-n.options.speedValues[e+1]))}()*(1/(this.options.speedValues.length-1))-1)*(this.options.speedValues.length-1)*16;G("".concat(this.name,"-speed-cursor")).style.top=t+"px"}},{key:"calculateSpeed",value:function(e,n,t){var o=Math.floor(t/e);if(o===n.length-1)return n[o].toFixed(1);var s=(t/e%1*Math.abs(n[o]-n[o+1])+n[o]).toFixed(1);return 0==s?"0.0":s}},{key:"createPreviewDisplay",value:function(){this.previewClip=this.clip.paste(G("".concat(this.name,"-hover-display")));var e=G("".concat(this.name,"-hover-display"));window.previewClip=this.previewClip,e.style.position="absolute",e.style.zIndex=1,this.setPreviewDimentions()}},{key:"setPreviewDimentions",value:function(){var e=this.clip.props.host,n=this.previewClip.ownClip.props.host,t=e.offsetWidth,o=e.offsetHeight,s=t*this.previewScale;s>300&&(s=300,this.previewScale=s/t),G("".concat(this.name,"-hover-display")).style.width=t+"px",G("".concat(this.name,"-hover-display")).style.height=o+"px",n.style.transform="scale(".concat(this.previewScale,")"),n.style.transformOrigin="center bottom",n.style.boxSizing="border-box"}}])&&o(n.prototype,t),s&&o(n,s),e}()}));
